"use strict";(self.webpackChunkangular_portfolio=self.webpackChunkangular_portfolio||[]).push([[86],{4097:(C,v,o)=>{o.d(v,{B:()=>i});const l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],c=(()=>{const n=l[0],a={};for(const t of l)if((null==t?void 0:t[1])in document){for(const[f,g]of t.entries())a[n[f]]=g;return a}return!1})(),m={change:c.fullscreenchange,error:c.fullscreenerror};let r={request:(n=document.documentElement,a)=>new Promise((t,d)=>{const f=()=>{r.off("change",f),t()};r.on("change",f);const g=n[c.requestFullscreen](a);g instanceof Promise&&g.then(f).catch(d)}),exit:()=>new Promise((n,a)=>{if(!r.isFullscreen)return void n();const t=()=>{r.off("change",t),n()};r.on("change",t);const d=document[c.exitFullscreen]();d instanceof Promise&&d.then(t).catch(a)}),toggle:(n,a)=>r.isFullscreen?r.exit():r.request(n,a),onchange(n){r.on("change",n)},onerror(n){r.on("error",n)},on(n,a){const t=m[n];t&&document.addEventListener(t,a,!1)},off(n,a){const t=m[n];t&&document.removeEventListener(t,a,!1)},raw:c};Object.defineProperties(r,{isFullscreen:{get:()=>Boolean(document[c.fullscreenElement])},element:{enumerable:!0,get:()=>{var n;return null!=(n=document[c.fullscreenElement])?n:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[c.fullscreenEnabled])}}),c||(r={isEnabled:!1});const h=r;var p=o(2862),s=o(2096),u=o(9760);const e=PIXI.Application;let i=(()=>{class n{constructor(t){this.assetManager=t,this.fpsTextStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:16,fill:"#d1821c"}),this.fpsText=new PIXI.Text("FPS: ",this.fpsTextStyle)}init(t,d){this.pixiContainer=t,this.demo=d;const f=p.d.convertRgbToHex(window.getComputedStyle(t.nativeElement).getPropertyValue("background-color"));this.app=new e({antialias:!0,backgroundColor:f,resolution:window.devicePixelRatio,resizeTo:window}),this.app.renderer.plugins.interaction.autoPreventDefault=!1,this.app.renderer.view.style.touchAction="auto",this.app.view.style.width="100vw",this.app.view.style.height="100vh",this.pixiContainer.nativeElement.appendChild(this.app.view),this.fpsText.position.set(8,8)}loadResources(){this.assetManager.loadAssets(this.demo.onLoadFinished.bind(this.demo))}unloadResources(){this.assetManager.unloadAssets()}addChildToStage(t){this.app.stage.addChild(t)}removeChildFromStage(t){this.app.stage.removeChild(t)}addFpsCounterToStage(){this.addChildToStage(this.fpsText)}removeAllChildrenFromStage(){this.app.stage.removeChildren()}onFpsUpdate(t){this.fpsText.text=`FPS: ${t}`}get width(){return this.app.screen.width}get height(){return this.app.screen.height}checkFullscreenSupported(){if(!this.fullscreenSupported()){const t=document.getElementsByClassName("fullscreen-toggle");for(const d of t)d.style.display="none";document.getElementById("bottom-buttons").classList.replace("justify-between","justify-center")}}fullscreenSupported(){const t=document.getElementById("simulation");return h.isEnabled&&!p.d.isIpad()&&(null!=t.requestFullscreen||null!=t.mozRequestFullscreen||null!=t.webkitRequestFullscreen||null!=t.msRequestFullscreen)}toggleFullscreen(){h.isEnabled||(p.d.isIpad()?alert("Your browser does not support fullscreen for non-video elements. On iPadOS, this is only supported by Safari."):alert("Your browser does not support fullscreen for non-video elements. Please try a different browser or device."));const t=document.getElementById("simulation");h.isEnabled&&h.toggle(t,{navigationUI:"hide"})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(u.me))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},9086:(C,v,o)=>{o.r(v),o.d(v,{DemoComponent:()=>p});var l=o(2096),c=o(655),m=o(4097);let r=(()=>{class s{constructor(e){this.demoCanvas=e,this.timeSinceFPSUpdate=0,this.fpsCounter=0,this.avgFPS=0}update(e){const n=(e-this.previousStartTime)/1e3;this.previousStartTime=e;const a=Math.round(1/n);isNaN(n)||(this.timeSinceFPSUpdate+=n,this.fpsCounter++,this.avgFPS+=a),this.timeSinceFPSUpdate>=1&&(this.demoCanvas.onFpsUpdate(Math.round(this.avgFPS/this.fpsCounter)),this.avgFPS=0,this.fpsCounter=0,this.timeSinceFPSUpdate=0)}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(m.B))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),h=(()=>{class s{constructor(e,i,n){this.resolver=e,this.demoCanvas=i,this.fpsCounter=n,this.BOIDS_COMPONENT_NAME="boids",this.ANTS_COMPONENT_NAME="ants",this.initialFactory=this.BOIDS_COMPONENT_NAME}init(e){return(0,c.mG)(this,void 0,void 0,function*(){this.demoContainer=e,document.getElementById("demo-simulation-wrapper").classList.replace("hidden","demo-simulation-wrapper");const{BoidsComponent:i}=yield Promise.all([o.e(592),o.e(710)]).then(o.bind(o,5710)),{AntsComponent:n}=yield Promise.all([o.e(592),o.e(989)]).then(o.bind(o,7989));this.componentFactories=new Map([[this.BOIDS_COMPONENT_NAME,i],[this.ANTS_COMPONENT_NAME,n]]),this.activateDemo(this.initialFactory)})}getFactory(e){return this.resolver.resolveComponentFactory(e)}activateDemo(e){if(!this.componentFactories.has(e))throw new Error(`No ComponentFactory named ${e}!`);null!=this.activeComponent&&this.stopDemo(),this.demoContainer.clear(),this.demoCanvas.removeAllChildrenFromStage(),this.demoCanvas.addFpsCounterToStage();const i=this.componentFactories.get(e);this.activeComponent=this.demoContainer.createComponent(i),this.demoCanvas.app.view.addEventListener("click",n=>this.activeComponent.instance.onTouch(n)),this.startDemo()}startDemo(){this.activeComponent.instance.init(),this.initComponentUI(),this.startSimulation()}initComponentUI(){this.initSliderColors(),this.demoCanvas.checkFullscreenSupported()}startSimulation(){this.animationFrameRequestID=window.requestAnimationFrame(this.gameLoop.bind(this))}gameLoop(e){this.activeComponent.instance.update(e),this.fpsCounter.update(e),this.startSimulation()}stopDemo(){this.stopSimulation(),null!=this.activeComponent&&this.activeComponent.instance.unloadResources()}stopSimulation(){window.cancelAnimationFrame(this.animationFrameRequestID)}initSliderColors(){const e=document.getElementById("color-holder"),i=window.getComputedStyle(e).getPropertyValue("color"),n=window.getComputedStyle(e).getPropertyValue("background-color"),a=document.getElementsByClassName("slider");for(const t of a)t.style.background="linear-gradient(to right, "+n+" 0%, "+n+" 50%, "+i+" 50%, "+i+" 100%)",t.oninput=function(){const d=(parseInt(t.value)-parseInt(t.min))/(parseInt(t.max)-parseInt(t.min))*100;t.style.background="linear-gradient(to right, "+n+" 0%, "+n+" "+d+"%, "+i+" "+d+"%, "+i+" 100%)"}}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(l._Vd),l.LFG(m.B),l.LFG(r))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),p=(()=>{class s{constructor(e,i){this.demoService=e,this.demoCanvas=i}init(e,i){this.demoContainer=i,this.demoCanvas.init(e,this),this.demoCanvas.loadResources()}onLoadFinished(){this.demoService.init(this.demoContainer)}activateDemo(e){this.demoService.activateDemo(e)}onDestroy(){this.demoService.stopDemo(),this.demoCanvas.unloadResources()}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(h),l.Y36(m.B))},s.\u0275cmp=l.Xpm({type:s,selectors:[["app-demo"]],decls:0,vars:0,template:function(e,i){},styles:[""]}),s})()},9760:(C,v,o)=>{o.d(v,{me:()=>p});var l=o(2096);const c="./assets/emergent_demos/boids/boids.json",m="./assets/emergent_demos/ants/ants.json",r=PIXI.Loader.shared,h=PIXI.Loader.shared.resources;let p=(()=>{class s{constructor(){this.assets=[c,m]}loadAssets(e){null==r.resources[this.assets[0]]?r.add(this.assets).load(e):e()}unloadAssets(){PIXI.utils.clearTextureCache()}get boidSprites(){const e=h[c].spritesheet;return[e.animations.birdBlue,e.animations.birdRed,e.animations.birdBrown,e.animations.birdWhite]}get antSprite(){return h[m].spritesheet.animations.ant}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);