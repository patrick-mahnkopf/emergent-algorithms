(self.webpackChunkangular_portfolio=self.webpackChunkangular_portfolio||[]).push([[179],{2862:(He,ce,k)=>{"use strict";k.d(ce,{d:()=>oe});var E=k(3791);class oe{static getRandomInt(q,te){return q=Math.ceil(q),te=Math.floor(te),Math.floor(Math.random()*(te-q)+q)}static getRandomIntInclusive(q,te){return q=Math.ceil(q),te=Math.floor(te),Math.floor(Math.random()*(te-q+1)+q)}static get randomInsideUnitCircle(){const te=this.getRandomIntInclusive(-500,500)/1e3,Z=this.getRandomIntInclusive(-500,500)/1e3;return new E.W(te,Z)}static isIpad(){return/Macintosh/i.test(navigator.userAgent)&&null!=navigator.maxTouchPoints&&navigator.maxTouchPoints>1}static isMobile(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}static showSnackBar(q){const te=document.getElementById("snackbar");te.textContent=q,te.style.display="block",setTimeout(function(){te.style.display="none"},5e3)}}},2668:(He,ce,k)=>{"use strict";k.d(ce,{B:()=>$});const E=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],oe=(()=>{const V=E[0],Y={};for(const W of E)if((null==W?void 0:W[1])in document){for(const[we,ae]of W.entries())Y[V[we]]=ae;return Y}return!1})(),ve={change:oe.fullscreenchange,error:oe.fullscreenerror};let q={request:(V=document.documentElement,Y)=>new Promise((W,re)=>{const we=()=>{q.off("change",we),W()};q.on("change",we);const ae=V[oe.requestFullscreen](Y);ae instanceof Promise&&ae.then(we).catch(re)}),exit:()=>new Promise((V,Y)=>{if(!q.isFullscreen)return void V();const W=()=>{q.off("change",W),V()};q.on("change",W);const re=document[oe.exitFullscreen]();re instanceof Promise&&re.then(W).catch(Y)}),toggle:(V,Y)=>q.isFullscreen?q.exit():q.request(V,Y),onchange(V){q.on("change",V)},onerror(V){q.on("error",V)},on(V,Y){const W=ve[V];W&&document.addEventListener(W,Y,!1)},off(V,Y){const W=ve[V];W&&document.removeEventListener(W,Y,!1)},raw:oe};Object.defineProperties(q,{isFullscreen:{get:()=>Boolean(document[oe.fullscreenElement])},element:{enumerable:!0,get:()=>{var V;return null!=(V=document[oe.fullscreenElement])?V:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[oe.fullscreenEnabled])}}),oe||(q={isEnabled:!1});const te=q;var Z=k(2862),G=k(2096),J=k(4889);const ne=PIXI.Application;let $=(()=>{class V{constructor(W){this.assetManager=W,this.fpsTextStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:16,fill:"#d1821c"}),this.fpsText=new PIXI.Text("FPS: ",this.fpsTextStyle)}init(W,re){this.pixiContainer=W,this.emergentManager=re,this.app=new ne({antialias:!0,backgroundColor:2631730,resolution:window.devicePixelRatio,resizeTo:window}),this.app.renderer.plugins.interaction.autoPreventDefault=!1,this.app.renderer.view.style.touchAction="auto",this.app.view.style.width="100vw",this.app.view.style.height="100vh",this.pixiContainer.nativeElement.appendChild(this.app.view),this.fpsText.position.set(8,8)}loadResources(){this.assetManager.loadAssets(this.emergentManager.onLoadFinished.bind(this.emergentManager))}unloadResources(){this.assetManager.unloadAssets()}addChildToStage(W){this.app.stage.addChild(W)}removeChildFromStage(W){this.app.stage.removeChild(W)}addFpsCounterToStage(){this.addChildToStage(this.fpsText)}removeAllChildrenFromStage(){this.app.stage.removeChildren()}onFpsUpdate(W){this.fpsText.text=`FPS: ${W}`}get width(){return this.app.screen.width}get height(){return this.app.screen.height}checkFullscreenSupported(){if(!this.fullscreenSupported()){const W=document.getElementsByClassName("fullscreen-toggle");for(const re of W)re.style.display="none";document.getElementById("bottom-buttons").classList.replace("justify-between","justify-center")}}fullscreenSupported(){const W=document.getElementById("simulation");return te.isEnabled&&!Z.d.isIpad()&&(null!=W.requestFullscreen||null!=W.mozRequestFullscreen||null!=W.webkitRequestFullscreen||null!=W.msRequestFullscreen)}toggleFullscreen(){te.isEnabled||(Z.d.isIpad()?alert("Your browser does not support fullscreen for non-video elements. On iPadOS, this is only supported by Safari."):alert("Your browser does not support fullscreen for non-video elements. Please try a different browser or device."));const W=document.getElementById("simulation");te.isEnabled&&te.toggle(W,{navigationUI:"hide"})}}return V.\u0275fac=function(W){return new(W||V)(G.LFG(J.me))},V.\u0275prov=G.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},4889:(He,ce,k)=>{"use strict";k.d(ce,{me:()=>Z});var E=k(2096);const oe="./assets/emergent_demos/boids/boids.json",ve="./assets/emergent_demos/ants/ants.json",q=PIXI.Loader.shared,te=PIXI.Loader.shared.resources;let Z=(()=>{class G{constructor(){this.assets=[oe,ve]}loadAssets(ne){null==q.resources[this.assets[0]]?q.add(this.assets).load(ne):ne()}unloadAssets(){PIXI.utils.clearTextureCache()}get boidSprites(){const ne=te[oe].spritesheet;return[ne.animations.birdBlue,ne.animations.birdRed,ne.animations.birdBrown,ne.animations.birdWhite]}get antSprite(){return te[ve].spritesheet.animations.ant}}return G.\u0275fac=function(ne){return new(ne||G)},G.\u0275prov=E.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})()},3791:(He,ce,k)=>{"use strict";k.d(ce,{W:()=>oe});var E=k(4520);class oe{constructor(q,te){this.x=q,this.y=te}get angle(){let q=Math.atan2(this.y,this.x)*E.jl;return q<0&&(q+=360),q}addVector2D(q){return new oe(this.x+q.x,this.y+q.y)}subtractVector2D(q){return new oe(this.x-q.x,this.y-q.y)}distanceTo(q){const te=this.subtractVector2D(q);return Math.hypot(te.x,te.y)}multiplyByScalar(q){return new oe(this.x*q,this.y*q)}dotProduct(q){return this.x*q.x+this.y*q.y}angleToVector(q){return q.angle-this.angle}divideByScalar(q){if(0===q)throw new Error("Cannot divide by 0!");return new oe(this.x/q,this.y/q)}get magnitude(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}get normalized(){const q=this.magnitude;return q>0?this.divideByScalar(q):this}toString(){return"x: "+this.x+", y: "+this.y}isEqual(q){return this.x===q.x&&this.y===q.y}clampMagnitude(q){return this.magnitude>q?this.normalized.multiplyByScalar(q):this}}},1497:(He,ce,k)=>{"use strict";k.d(ce,{g:()=>te});var E=k(3791),oe=k(2096),ve=k(8362),q=k(2668);let te=(()=>{class Z{constructor(J,ne){this.bottomUiService=J,this.demoCanvas=ne}init(J){this.birds=J}update(J){if(null!=this.previousTimeStamp){const ne=J-this.previousTimeStamp;this.birds.forEach($=>{this.applyBoidRules($),this.applyCanvasBoundsRule($),$.move(ne)})}this.previousTimeStamp=J}applyBoidRules(J){const ne=this.bottomUiService.getCoherenceWeight(),$=this.bottomUiService.getSeparationWeight(),V=this.bottomUiService.getAlignmentWeight(),Y=J.getPosition();let W=new E.W(0,0),re=new E.W(0,0),we=new E.W(0,0),ae=new E.W(0,0),Pe=0;this.birds.forEach(Le=>{if(J===Le)return;const mt=Le.getPosition();if(J.birdInVisionRange(Le)&&(W=W.addVector2D(mt),we=we.addVector2D(Le.velocity),Pe++),J.birdTooClose(Le)){const zt=Y.subtractVector2D(mt);re=re.addVector2D(zt)}}),Pe>0?(W=W.divideByScalar(Pe),we=we.divideByScalar(Pe),ae=we.subtractVector2D(J.velocity),ae=ae.multiplyByScalar(V)):W=Y;const je=W.subtractVector2D(Y).multiplyByScalar(ne);re=re.multiplyByScalar($),J.addVelocity(je),J.addVelocity(re),J.addVelocity(ae)}applyCanvasBoundsRule(J){const $=J.movementSpeed,V=J.getPosition(),W=this.demoCanvas.width-0,we=this.demoCanvas.height-0;V.x<0?J.addVelocity(new E.W($,0)):V.x>W&&J.addVelocity(new E.W(-$,0)),V.y<0?J.addVelocity(new E.W(0,$)):V.y>we&&J.addVelocity(new E.W(0,-$))}}return Z.\u0275fac=function(J){return new(J||Z)(oe.LFG(ve.K),oe.LFG(q.B))},Z.\u0275prov=oe.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},8362:(He,ce,k)=>{"use strict";k.d(ce,{K:()=>oe});var E=k(2096);let oe=(()=>{class ve{constructor(){this.COHERENCE_SLIDER_NAME="coherence-slider",this.SEPARATION_SLIDER_NAME="separation-slider",this.ALIGNMENT_SLIDER_NAME="alignment-slider",this.VISUAL_RANGE_SLIDER_NAME="visualRange-slider",this.MAX_SPEED_SLIDER_NAME="maxSpeed-slider",this.DEFAULT_COHERENCE_WEIGHT=.005,this.DEFAULT_SEPARATION_WEIGHT=.05,this.DEFAULT_ALIGNMENT_WEIGHT=.05,this.DEFAULT_VISUAL_RANGE=150,this.DEFAULT_MAX_SPEED=5,this.UIVariables=new Map([[this.COHERENCE_SLIDER_NAME,this.DEFAULT_COHERENCE_WEIGHT],[this.SEPARATION_SLIDER_NAME,this.DEFAULT_SEPARATION_WEIGHT],[this.ALIGNMENT_SLIDER_NAME,this.DEFAULT_ALIGNMENT_WEIGHT],[this.VISUAL_RANGE_SLIDER_NAME,this.DEFAULT_VISUAL_RANGE],[this.MAX_SPEED_SLIDER_NAME,this.DEFAULT_MAX_SPEED]]),this.UI_VARIABLES_DEFAULTS=new Map(this.UIVariables),this.UISliders=new Map}initSliders(){const Z=document.getElementById("bottom-ui-slider-wrapper").getElementsByClassName("slider");for(const G of Z)this.UISliders.has(G.id)||this.UISliders.set(G.id,G)}onSliderClicked(te){const Z=te.target;this.setUIVariableWeightModifier(Z.id,+Z.value/100)}setUIVariableWeightModifier(te,Z){let G=2*this.UI_VARIABLES_DEFAULTS.get(te)*Z;("visualRange-slider"===te||"maxSpeed-slider"===te)&&(G=Math.max(1,G)),this.UIVariables.set(te,G)}reset(){this.resetVariables(),this.resetSliders()}resetVariables(){this.UIVariables=new Map(this.UI_VARIABLES_DEFAULTS)}resetSliders(){this.UISliders.forEach(te=>{te.value="50"})}getUIVariable(te){return this.UIVariables.get(te)}getCoherenceWeight(){return this.getUIVariable(this.COHERENCE_SLIDER_NAME)}getSeparationWeight(){return this.getUIVariable(this.SEPARATION_SLIDER_NAME)}getAlignmentWeight(){return this.getUIVariable(this.ALIGNMENT_SLIDER_NAME)}getVisualRange(){return this.getUIVariable(this.VISUAL_RANGE_SLIDER_NAME)}getMaxSpeed(){return this.getUIVariable(this.MAX_SPEED_SLIDER_NAME)}}return ve.\u0275fac=function(te){return new(te||ve)},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},2113:(He,ce,k)=>{"use strict";var E=k(2096);let oe=null;function ve(){return oe}const G=new E.OlP("DocumentToken");let J=(()=>{class h{historyGo(l){throw new Error("Not implemented")}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:function(){return(0,E.LFG)(V)},providedIn:"platform"}),h})();const $=new E.OlP("Location Initialized");let V=(()=>{class h extends J{constructor(l){super(),this._doc=l,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ve().getBaseHref(this._doc)}onPopState(l){const v=ve().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",l,!1),()=>v.removeEventListener("popstate",l)}onHashChange(l){const v=ve().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",l,!1),()=>v.removeEventListener("hashchange",l)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(l){this.location.pathname=l}pushState(l,v,y){Y()?this._history.pushState(l,v,y):this.location.hash=y}replaceState(l,v,y){Y()?this._history.replaceState(l,v,y):this.location.hash=y}forward(){this._history.forward()}back(){this._history.back()}historyGo(l=0){this._history.go(l)}getState(){return this._history.state}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(G))},h.\u0275prov=E.Yz7({token:h,factory:function(){return new V((0,E.LFG)(G))},providedIn:"platform"}),h})();function Y(){return!!window.history.pushState}function re(h,c){if(0==h.length)return c;if(0==c.length)return h;let l=0;return h.endsWith("/")&&l++,c.startsWith("/")&&l++,2==l?h+c.substring(1):1==l?h+c:h+"/"+c}function we(h){const c=h.match(/#|\?|$/),l=c&&c.index||h.length;return h.slice(0,l-("/"===h[l-1]?1:0))+h.slice(l)}function ae(h){return h&&"?"!==h[0]?"?"+h:h}let Pe=(()=>{class h{historyGo(l){throw new Error("Not implemented")}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:function(){return function(h){const c=(0,E.LFG)(G).location;return new Le((0,E.LFG)(J),c&&c.origin||"")}()},providedIn:"root"}),h})();const je=new E.OlP("appBaseHref");let Le=(()=>{class h extends Pe{constructor(l,v){if(super(),this._platformLocation=l,this._removeListenerFns=[],null==v&&(v=this._platformLocation.getBaseHrefFromDOM()),null==v)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=v}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(l){this._removeListenerFns.push(this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l))}getBaseHref(){return this._baseHref}prepareExternalUrl(l){return re(this._baseHref,l)}path(l=!1){const v=this._platformLocation.pathname+ae(this._platformLocation.search),y=this._platformLocation.hash;return y&&l?`${v}${y}`:v}pushState(l,v,y,T){const S=this.prepareExternalUrl(y+ae(T));this._platformLocation.pushState(l,v,S)}replaceState(l,v,y,T){const S=this.prepareExternalUrl(y+ae(T));this._platformLocation.replaceState(l,v,S)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(l=0){var v,y;null===(y=(v=this._platformLocation).historyGo)||void 0===y||y.call(v,l)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(J),E.LFG(je,8))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),mt=(()=>{class h extends Pe{constructor(l,v){super(),this._platformLocation=l,this._baseHref="",this._removeListenerFns=[],null!=v&&(this._baseHref=v)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(l){this._removeListenerFns.push(this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l))}getBaseHref(){return this._baseHref}path(l=!1){let v=this._platformLocation.hash;return null==v&&(v="#"),v.length>0?v.substring(1):v}prepareExternalUrl(l){const v=re(this._baseHref,l);return v.length>0?"#"+v:v}pushState(l,v,y,T){let S=this.prepareExternalUrl(y+ae(T));0==S.length&&(S=this._platformLocation.pathname),this._platformLocation.pushState(l,v,S)}replaceState(l,v,y,T){let S=this.prepareExternalUrl(y+ae(T));0==S.length&&(S=this._platformLocation.pathname),this._platformLocation.replaceState(l,v,S)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(l=0){var v,y;null===(y=(v=this._platformLocation).historyGo)||void 0===y||y.call(v,l)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(J),E.LFG(je,8))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),zt=(()=>{class h{constructor(l,v){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=l;const y=this._platformStrategy.getBaseHref();this._platformLocation=v,this._baseHref=we(ie(y)),this._platformStrategy.onPopState(T=>{this._subject.emit({url:this.path(!0),pop:!0,state:T.state,type:T.type})})}path(l=!1){return this.normalize(this._platformStrategy.path(l))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(l,v=""){return this.path()==this.normalize(l+ae(v))}normalize(l){return h.stripTrailingSlash(function(h,c){return h&&c.startsWith(h)?c.substring(h.length):c}(this._baseHref,ie(l)))}prepareExternalUrl(l){return l&&"/"!==l[0]&&(l="/"+l),this._platformStrategy.prepareExternalUrl(l)}go(l,v="",y=null){this._platformStrategy.pushState(y,"",l,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(l+ae(v)),y)}replaceState(l,v="",y=null){this._platformStrategy.replaceState(y,"",l,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(l+ae(v)),y)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(l=0){var v,y;null===(y=(v=this._platformStrategy).historyGo)||void 0===y||y.call(v,l)}onUrlChange(l){this._urlChangeListeners.push(l),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}))}_notifyUrlChangeListeners(l="",v){this._urlChangeListeners.forEach(y=>y(l,v))}subscribe(l,v,y){return this._subject.subscribe({next:l,error:v,complete:y})}}return h.normalizeQueryParams=ae,h.joinWithSlash=re,h.stripTrailingSlash=we,h.\u0275fac=function(l){return new(l||h)(E.LFG(Pe),E.LFG(J))},h.\u0275prov=E.Yz7({token:h,factory:function(){return new zt((0,E.LFG)(Pe),(0,E.LFG)(J))},providedIn:"root"}),h})();function ie(h){return h.replace(/\/index.html$/,"")}var Me=(()=>((Me=Me||{})[Me.Zero=0]="Zero",Me[Me.One=1]="One",Me[Me.Two=2]="Two",Me[Me.Few=3]="Few",Me[Me.Many=4]="Many",Me[Me.Other=5]="Other",Me))(),Ze=(()=>((Ze=Ze||{})[Ze.Format=0]="Format",Ze[Ze.Standalone=1]="Standalone",Ze))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),O=(()=>((O=O||{})[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O))(),U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Group=1]="Group",U[U.List=2]="List",U[U.PercentSign=3]="PercentSign",U[U.PlusSign=4]="PlusSign",U[U.MinusSign=5]="MinusSign",U[U.Exponential=6]="Exponential",U[U.SuperscriptingExponent=7]="SuperscriptingExponent",U[U.PerMille=8]="PerMille",U[U.Infinity=9]="Infinity",U[U.NaN=10]="NaN",U[U.TimeSeparator=11]="TimeSeparator",U[U.CurrencyDecimal=12]="CurrencyDecimal",U[U.CurrencyGroup=13]="CurrencyGroup",U))();function Ae(h,c){return yn((0,E.cg1)(h)[E.wAp.DateFormat],c)}function ze(h,c){return yn((0,E.cg1)(h)[E.wAp.TimeFormat],c)}function Qe(h,c){return yn((0,E.cg1)(h)[E.wAp.DateTimeFormat],c)}function Ie(h,c){const l=(0,E.cg1)(h),v=l[E.wAp.NumberSymbols][c];if(void 0===v){if(c===U.CurrencyDecimal)return l[E.wAp.NumberSymbols][U.Decimal];if(c===U.CurrencyGroup)return l[E.wAp.NumberSymbols][U.Group]}return v}const It=E.kL8;function tn(h){if(!h[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${h[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yn(h,c){for(let l=c;l>-1;l--)if(void 0!==h[l])return h[l];throw new Error("Locale data API: locale data undefined")}function xo(h){const[c,l]=h.split(":");return{hours:+c,minutes:+l}}const Mi=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ss={},ft=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=(()=>((sn=sn||{})[sn.Short=0]="Short",sn[sn.ShortGMT=1]="ShortGMT",sn[sn.Long=2]="Long",sn[sn.Extended=3]="Extended",sn))(),tt=(()=>((tt=tt||{})[tt.FullYear=0]="FullYear",tt[tt.Month=1]="Month",tt[tt.Date=2]="Date",tt[tt.Hours=3]="Hours",tt[tt.Minutes=4]="Minutes",tt[tt.Seconds=5]="Seconds",tt[tt.FractionalSeconds=6]="FractionalSeconds",tt[tt.Day=7]="Day",tt))(),nt=(()=>((nt=nt||{})[nt.DayPeriods=0]="DayPeriods",nt[nt.Days=1]="Days",nt[nt.Months=2]="Months",nt[nt.Eras=3]="Eras",nt))();function Co(h,c,l,v){let y=function(h){if(tl(h))return h;if("number"==typeof h&&!isNaN(h))return new Date(h);if("string"==typeof h){if(h=h.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(h)){const[y,T=1,S=1]=h.split("-").map(F=>+F);return ka(y,T-1,S)}const l=parseFloat(h);if(!isNaN(h-l))return new Date(l);let v;if(v=h.match(Mi))return function(h){const c=new Date(0);let l=0,v=0;const y=h[8]?c.setUTCFullYear:c.setFullYear,T=h[8]?c.setUTCHours:c.setHours;h[9]&&(l=Number(h[9]+h[10]),v=Number(h[9]+h[11])),y.call(c,Number(h[1]),Number(h[2])-1,Number(h[3]));const S=Number(h[4]||0)-l,F=Number(h[5]||0)-v,K=Number(h[6]||0),fe=Math.floor(1e3*parseFloat("0."+(h[7]||0)));return T.call(c,S,F,K,fe),c}(v)}const c=new Date(h);if(!tl(c))throw new Error(`Unable to convert "${h}" into a date`);return c}(h);c=_n(l,c)||c;let F,S=[];for(;c;){if(F=ft.exec(c),!F){S.push(c);break}{S=S.concat(F.slice(1));const Ue=S.pop();if(!Ue)break;c=Ue}}let K=y.getTimezoneOffset();v&&(K=Wn(v,K),y=function(h,c,l){const y=h.getTimezoneOffset();return function(h,c){return(h=new Date(h.getTime())).setMinutes(h.getMinutes()+c),h}(h,-1*(Wn(c,y)-y))}(y,v));let fe="";return S.forEach(Ue=>{const Ce=function(h){if(os[h])return os[h];let c;switch(h){case"G":case"GG":case"GGG":c=Rt(nt.Eras,ge.Abbreviated);break;case"GGGG":c=Rt(nt.Eras,ge.Wide);break;case"GGGGG":c=Rt(nt.Eras,ge.Narrow);break;case"y":c=Lt(tt.FullYear,1,0,!1,!0);break;case"yy":c=Lt(tt.FullYear,2,0,!0,!0);break;case"yyy":c=Lt(tt.FullYear,3,0,!1,!0);break;case"yyyy":c=Lt(tt.FullYear,4,0,!1,!0);break;case"Y":c=kn(1);break;case"YY":c=kn(2,!0);break;case"YYY":c=kn(3);break;case"YYYY":c=kn(4);break;case"M":case"L":c=Lt(tt.Month,1,1);break;case"MM":case"LL":c=Lt(tt.Month,2,1);break;case"MMM":c=Rt(nt.Months,ge.Abbreviated);break;case"MMMM":c=Rt(nt.Months,ge.Wide);break;case"MMMMM":c=Rt(nt.Months,ge.Narrow);break;case"LLL":c=Rt(nt.Months,ge.Abbreviated,Ze.Standalone);break;case"LLLL":c=Rt(nt.Months,ge.Wide,Ze.Standalone);break;case"LLLLL":c=Rt(nt.Months,ge.Narrow,Ze.Standalone);break;case"w":c=Mt(1);break;case"ww":c=Mt(2);break;case"W":c=Mt(1,!0);break;case"d":c=Lt(tt.Date,1);break;case"dd":c=Lt(tt.Date,2);break;case"c":case"cc":c=Lt(tt.Day,1);break;case"ccc":c=Rt(nt.Days,ge.Abbreviated,Ze.Standalone);break;case"cccc":c=Rt(nt.Days,ge.Wide,Ze.Standalone);break;case"ccccc":c=Rt(nt.Days,ge.Narrow,Ze.Standalone);break;case"cccccc":c=Rt(nt.Days,ge.Short,Ze.Standalone);break;case"E":case"EE":case"EEE":c=Rt(nt.Days,ge.Abbreviated);break;case"EEEE":c=Rt(nt.Days,ge.Wide);break;case"EEEEE":c=Rt(nt.Days,ge.Narrow);break;case"EEEEEE":c=Rt(nt.Days,ge.Short);break;case"a":case"aa":case"aaa":c=Rt(nt.DayPeriods,ge.Abbreviated);break;case"aaaa":c=Rt(nt.DayPeriods,ge.Wide);break;case"aaaaa":c=Rt(nt.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":c=Rt(nt.DayPeriods,ge.Abbreviated,Ze.Standalone,!0);break;case"bbbb":c=Rt(nt.DayPeriods,ge.Wide,Ze.Standalone,!0);break;case"bbbbb":c=Rt(nt.DayPeriods,ge.Narrow,Ze.Standalone,!0);break;case"B":case"BB":case"BBB":c=Rt(nt.DayPeriods,ge.Abbreviated,Ze.Format,!0);break;case"BBBB":c=Rt(nt.DayPeriods,ge.Wide,Ze.Format,!0);break;case"BBBBB":c=Rt(nt.DayPeriods,ge.Narrow,Ze.Format,!0);break;case"h":c=Lt(tt.Hours,1,-12);break;case"hh":c=Lt(tt.Hours,2,-12);break;case"H":c=Lt(tt.Hours,1);break;case"HH":c=Lt(tt.Hours,2);break;case"m":c=Lt(tt.Minutes,1);break;case"mm":c=Lt(tt.Minutes,2);break;case"s":c=Lt(tt.Seconds,1);break;case"ss":c=Lt(tt.Seconds,2);break;case"S":c=Lt(tt.FractionalSeconds,1);break;case"SS":c=Lt(tt.FractionalSeconds,2);break;case"SSS":c=Lt(tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":c=So(sn.Short);break;case"ZZZZZ":c=So(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":c=So(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":c=So(sn.Long);break;default:return null}return os[h]=c,c}(Ue);fe+=Ce?Ce(y,l,K):"''"===Ue?"'":Ue.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),fe}function ka(h,c,l){const v=new Date(0);return v.setFullYear(h,c,l),v.setHours(0,0,0),v}function _n(h,c){const l=function(h){return(0,E.cg1)(h)[E.wAp.LocaleId]}(h);if(ss[l]=ss[l]||{},ss[l][c])return ss[l][c];let v="";switch(c){case"shortDate":v=Ae(h,O.Short);break;case"mediumDate":v=Ae(h,O.Medium);break;case"longDate":v=Ae(h,O.Long);break;case"fullDate":v=Ae(h,O.Full);break;case"shortTime":v=ze(h,O.Short);break;case"mediumTime":v=ze(h,O.Medium);break;case"longTime":v=ze(h,O.Long);break;case"fullTime":v=ze(h,O.Full);break;case"short":const y=_n(h,"shortTime"),T=_n(h,"shortDate");v=Cn(Qe(h,O.Short),[y,T]);break;case"medium":const S=_n(h,"mediumTime"),F=_n(h,"mediumDate");v=Cn(Qe(h,O.Medium),[S,F]);break;case"long":const K=_n(h,"longTime"),fe=_n(h,"longDate");v=Cn(Qe(h,O.Long),[K,fe]);break;case"full":const Ue=_n(h,"fullTime"),Ce=_n(h,"fullDate");v=Cn(Qe(h,O.Full),[Ue,Ce])}return v&&(ss[l][c]=v),v}function Cn(h,c){return c&&(h=h.replace(/\{([^}]+)}/g,function(l,v){return null!=c&&v in c?c[v]:l})),h}function Sr(h,c,l="-",v,y){let T="";(h<0||y&&h<=0)&&(y?h=1-h:(h=-h,T=l));let S=String(h);for(;S.length<c;)S="0"+S;return v&&(S=S.substr(S.length-c)),T+S}function Lt(h,c,l=0,v=!1,y=!1){return function(T,S){let F=function(h,c){switch(h){case tt.FullYear:return c.getFullYear();case tt.Month:return c.getMonth();case tt.Date:return c.getDate();case tt.Hours:return c.getHours();case tt.Minutes:return c.getMinutes();case tt.Seconds:return c.getSeconds();case tt.FractionalSeconds:return c.getMilliseconds();case tt.Day:return c.getDay();default:throw new Error(`Unknown DateType value "${h}".`)}}(h,T);if((l>0||F>-l)&&(F+=l),h===tt.Hours)0===F&&-12===l&&(F=12);else if(h===tt.FractionalSeconds)return function(h,c){return Sr(h,3).substr(0,c)}(F,c);const K=Ie(S,U.MinusSign);return Sr(F,c,K,v,y)}}function Rt(h,c,l=Ze.Format,v=!1){return function(y,T){return function(h,c,l,v,y,T){switch(l){case nt.Months:return function(h,c,l){const v=(0,E.cg1)(h),T=yn([v[E.wAp.MonthsFormat],v[E.wAp.MonthsStandalone]],c);return yn(T,l)}(c,y,v)[h.getMonth()];case nt.Days:return function(h,c,l){const v=(0,E.cg1)(h),T=yn([v[E.wAp.DaysFormat],v[E.wAp.DaysStandalone]],c);return yn(T,l)}(c,y,v)[h.getDay()];case nt.DayPeriods:const S=h.getHours(),F=h.getMinutes();if(T){const fe=function(h){const c=(0,E.cg1)(h);return tn(c),(c[E.wAp.ExtraData][2]||[]).map(v=>"string"==typeof v?xo(v):[xo(v[0]),xo(v[1])])}(c),Ue=function(h,c,l){const v=(0,E.cg1)(h);tn(v);const T=yn([v[E.wAp.ExtraData][0],v[E.wAp.ExtraData][1]],c)||[];return yn(T,l)||[]}(c,y,v),Ce=fe.findIndex(qe=>{if(Array.isArray(qe)){const[Ke,Jt]=qe,Xn=S>=Ke.hours&&F>=Ke.minutes,en=S<Jt.hours||S===Jt.hours&&F<Jt.minutes;if(Ke.hours<Jt.hours){if(Xn&&en)return!0}else if(Xn||en)return!0}else if(qe.hours===S&&qe.minutes===F)return!0;return!1});if(-1!==Ce)return Ue[Ce]}return function(h,c,l){const v=(0,E.cg1)(h),T=yn([v[E.wAp.DayPeriodsFormat],v[E.wAp.DayPeriodsStandalone]],c);return yn(T,l)}(c,y,v)[S<12?0:1];case nt.Eras:return function(h,c){return yn((0,E.cg1)(h)[E.wAp.Eras],c)}(c,v)[h.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${l}`)}}(y,T,h,c,l,v)}}function So(h){return function(c,l,v){const y=-1*v,T=Ie(l,U.MinusSign),S=y>0?Math.floor(y/60):Math.ceil(y/60);switch(h){case sn.Short:return(y>=0?"+":"")+Sr(S,2,T)+Sr(Math.abs(y%60),2,T);case sn.ShortGMT:return"GMT"+(y>=0?"+":"")+Sr(S,1,T);case sn.Long:return"GMT"+(y>=0?"+":"")+Sr(S,2,T)+":"+Sr(Math.abs(y%60),2,T);case sn.Extended:return 0===v?"Z":(y>=0?"+":"")+Sr(S,2,T)+":"+Sr(Math.abs(y%60),2,T);default:throw new Error(`Unknown zone width "${h}"`)}}}function nr(h){return ka(h.getFullYear(),h.getMonth(),h.getDate()+(4-h.getDay()))}function Mt(h,c=!1){return function(l,v){let y;if(c){const T=new Date(l.getFullYear(),l.getMonth(),1).getDay()-1,S=l.getDate();y=1+Math.floor((S+T)/7)}else{const T=nr(l),S=function(h){const c=ka(h,0,1).getDay();return ka(h,0,1+(c<=4?4:11)-c)}(T.getFullYear()),F=T.getTime()-S.getTime();y=1+Math.round(F/6048e5)}return Sr(y,h,Ie(v,U.MinusSign))}}function kn(h,c=!1){return function(l,v){return Sr(nr(l).getFullYear(),h,Ie(v,U.MinusSign),c)}}const os={};function Wn(h,c){h=h.replace(/:/g,"");const l=Date.parse("Jan 01, 1970 00:00:00 "+h)/6e4;return isNaN(l)?c:l}function tl(h){return h instanceof Date&&!isNaN(h.valueOf())}class Mr{}let ke=(()=>{class h extends Mr{constructor(l){super(),this.locale=l}getPluralCategory(l,v){switch(It(v||this.locale)(l)){case Me.Zero:return"zero";case Me.One:return"one";case Me.Two:return"two";case Me.Few:return"few";case Me.Many:return"many";default:return"other"}}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(E.soG))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const il=new E.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let bc=(()=>{class h{constructor(l,v){this.locale=l,this.defaultTimezone=v}transform(l,v="mediumDate",y,T){var S;if(null==l||""===l||l!=l)return null;try{return Co(l,v,T||this.locale,null!==(S=null!=y?y:this.defaultTimezone)&&void 0!==S?S:void 0)}catch(F){throw function(h,c){return Error(`InvalidPipeArgument: '${c}' for pipe '${(0,E.AaK)(h)}'`)}(h,F.message)}}}return h.\u0275fac=function(l){return new(l||h)(E.Y36(E.soG,16),E.Y36(il,24))},h.\u0275pipe=E.Yjl({name:"date",type:h,pure:!0}),h})(),Ec=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({providers:[{provide:Mr,useClass:ke}]}),h})();let ll=(()=>{class h{}return h.\u0275prov=(0,E.Yz7)({token:h,providedIn:"root",factory:()=>new $a((0,E.LFG)(G),window)}),h})();class $a{constructor(c,l){this.document=c,this.window=l,this.offset=()=>[0,0]}setOffset(c){this.offset=Array.isArray(c)?()=>c:c}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(c){this.supportsScrolling()&&this.window.scrollTo(c[0],c[1])}scrollToAnchor(c){if(!this.supportsScrolling())return;const l=function(h,c){const l=h.getElementById(c)||h.getElementsByName(c)[0];if(l)return l;if("function"==typeof h.createTreeWalker&&h.body&&(h.body.createShadowRoot||h.body.attachShadow)){const v=h.createTreeWalker(h.body,NodeFilter.SHOW_ELEMENT);let y=v.currentNode;for(;y;){const T=y.shadowRoot;if(T){const S=T.getElementById(c)||T.querySelector(`[name="${c}"]`);if(S)return S}y=v.nextNode()}}return null}(this.document,c);l&&(this.scrollToElement(l),this.attemptFocus(l))}setHistoryScrollRestoration(c){if(this.supportScrollRestoration()){const l=this.window.history;l&&l.scrollRestoration&&(l.scrollRestoration=c)}}scrollToElement(c){const l=c.getBoundingClientRect(),v=l.left+this.window.pageXOffset,y=l.top+this.window.pageYOffset,T=this.offset();this.window.scrollTo(v-T[0],y-T[1])}attemptFocus(c){return c.focus(),this.document.activeElement===c}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const c=Fi(this.window.history)||Fi(Object.getPrototypeOf(this.window.history));return!(!c||!c.writable&&!c.set)}catch(c){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(c){return!1}}}function Fi(h){return Object.getOwnPropertyDescriptor(h,"scrollRestoration")}class pi extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var h;h=new pi,oe||(oe=h)}onAndCancel(c,l,v){return c.addEventListener(l,v,!1),()=>{c.removeEventListener(l,v,!1)}}dispatchEvent(c,l){c.dispatchEvent(l)}remove(c){c.parentNode&&c.parentNode.removeChild(c)}createElement(c,l){return(l=l||this.getDefaultDocument()).createElement(c)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(c){return c.nodeType===Node.ELEMENT_NODE}isShadowRoot(c){return c instanceof DocumentFragment}getGlobalEventTarget(c,l){return"window"===l?window:"document"===l?c:"body"===l?c.body:null}getBaseHref(c){const l=(Rr=Rr||document.querySelector("base"),Rr?Rr.getAttribute("href"):null);return null==l?null:function(h){Oo=Oo||document.createElement("a"),Oo.setAttribute("href",h);const c=Oo.pathname;return"/"===c.charAt(0)?c:`/${c}`}(l)}resetBaseElement(){Rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(c){return function(h,c){c=encodeURIComponent(c);for(const l of h.split(";")){const v=l.indexOf("="),[y,T]=-1==v?[l,""]:[l.slice(0,v),l.slice(v+1)];if(y.trim()===c)return decodeURIComponent(T)}return null}(document.cookie,c)}}let Oo,Rr=null;const vn=new E.OlP("TRANSITION_ID"),un=[{provide:E.ip1,useFactory:function(h,c,l){return()=>{l.get(E.CZH).donePromise.then(()=>{const v=ve(),y=c.querySelectorAll(`style[ng-transition="${h}"]`);for(let T=0;T<y.length;T++)v.remove(y[T])})}},deps:[vn,G,E.zs3],multi:!0}];class Ya{static init(){(0,E.VLi)(new Ya)}addToWindow(c){E.dqk.getAngularTestability=(v,y=!0)=>{const T=c.findTestabilityInTree(v,y);if(null==T)throw new Error("Could not find testability for element.");return T},E.dqk.getAllAngularTestabilities=()=>c.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>c.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(v=>{const y=E.dqk.getAllAngularTestabilities();let T=y.length,S=!1;const F=function(K){S=S||K,T--,0==T&&v(S)};y.forEach(function(K){K.whenStable(F)})})}findTestabilityInTree(c,l,v){if(null==l)return null;const y=c.getTestability(l);return null!=y?y:v?ve().isShadowRoot(l)?this.findTestabilityInTree(c,l.host,!0):this.findTestabilityInTree(c,l.parentElement,!0):null}}let Dc=(()=>{class h{build(){return new XMLHttpRequest}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const Ni=new E.OlP("EventManagerPlugins");let An=(()=>{class h{constructor(l,v){this._zone=v,this._eventNameToPlugin=new Map,l.forEach(y=>y.manager=this),this._plugins=l.slice().reverse()}addEventListener(l,v,y){return this._findPluginFor(v).addEventListener(l,v,y)}addGlobalEventListener(l,v,y){return this._findPluginFor(v).addGlobalEventListener(l,v,y)}getZone(){return this._zone}_findPluginFor(l){const v=this._eventNameToPlugin.get(l);if(v)return v;const y=this._plugins;for(let T=0;T<y.length;T++){const S=y[T];if(S.supports(l))return this._eventNameToPlugin.set(l,S),S}throw new Error(`No event manager plugin found for event ${l}`)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(Ni),E.LFG(E.R0b))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();class hs{constructor(c){this._doc=c}addGlobalEventListener(c,l,v){const y=ve().getGlobalEventTarget(this._doc,c);if(!y)throw new Error(`Unsupported event target ${y} for event ${l}`);return this.addEventListener(y,l,v)}}let Ro=(()=>{class h{constructor(){this._stylesSet=new Set}addStyles(l){const v=new Set;l.forEach(y=>{this._stylesSet.has(y)||(this._stylesSet.add(y),v.add(y))}),this.onStylesAdded(v)}onStylesAdded(l){}getAllStyles(){return Array.from(this._stylesSet)}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),yr=(()=>{class h extends Ro{constructor(l){super(),this._doc=l,this._hostNodes=new Map,this._hostNodes.set(l.head,[])}_addStylesToHost(l,v,y){l.forEach(T=>{const S=this._doc.createElement("style");S.textContent=T,y.push(v.appendChild(S))})}addHost(l){const v=[];this._addStylesToHost(this._stylesSet,l,v),this._hostNodes.set(l,v)}removeHost(l){const v=this._hostNodes.get(l);v&&v.forEach(Bn),this._hostNodes.delete(l)}onStylesAdded(l){this._hostNodes.forEach((v,y)=>{this._addStylesToHost(l,y,v)})}ngOnDestroy(){this._hostNodes.forEach(l=>l.forEach(Bn))}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(G))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();function Bn(h){ve().remove(h)}const Fr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ys=/%COMP%/g;function No(h,c,l){for(let v=0;v<c.length;v++){let y=c[v];Array.isArray(y)?No(h,y,l):(y=y.replace(Ys,h),l.push(y))}return l}function Ka(h){return c=>{if("__ngUnwrap__"===c)return h;!1===h(c)&&(c.preventDefault(),c.returnValue=!1)}}let fs=(()=>{class h{constructor(l,v,y){this.eventManager=l,this.sharedStylesHost=v,this.appId=y,this.rendererByCompId=new Map,this.defaultRenderer=new Lo(l)}createRenderer(l,v){if(!l||!v)return this.defaultRenderer;switch(v.encapsulation){case E.ifc.Emulated:{let y=this.rendererByCompId.get(v.id);return y||(y=new wt(this.eventManager,this.sharedStylesHost,v,this.appId),this.rendererByCompId.set(v.id,y)),y.applyToHost(l),y}case 1:case E.ifc.ShadowDom:return new ko(this.eventManager,this.sharedStylesHost,l,v);default:if(!this.rendererByCompId.has(v.id)){const y=No(v.id,v.styles,[]);this.sharedStylesHost.addStyles(y),this.rendererByCompId.set(v.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(An),E.LFG(yr),E.LFG(E.AFp))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();class Lo{constructor(c){this.eventManager=c,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(c,l){return l?document.createElementNS(Fr[l]||l,c):document.createElement(c)}createComment(c){return document.createComment(c)}createText(c){return document.createTextNode(c)}appendChild(c,l){c.appendChild(l)}insertBefore(c,l,v){c&&c.insertBefore(l,v)}removeChild(c,l){c&&c.removeChild(l)}selectRootElement(c,l){let v="string"==typeof c?document.querySelector(c):c;if(!v)throw new Error(`The selector "${c}" did not match any elements`);return l||(v.textContent=""),v}parentNode(c){return c.parentNode}nextSibling(c){return c.nextSibling}setAttribute(c,l,v,y){if(y){l=y+":"+l;const T=Fr[y];T?c.setAttributeNS(T,l,v):c.setAttribute(l,v)}else c.setAttribute(l,v)}removeAttribute(c,l,v){if(v){const y=Fr[v];y?c.removeAttributeNS(y,l):c.removeAttribute(`${v}:${l}`)}else c.removeAttribute(l)}addClass(c,l){c.classList.add(l)}removeClass(c,l){c.classList.remove(l)}setStyle(c,l,v,y){y&(E.JOm.DashCase|E.JOm.Important)?c.style.setProperty(l,v,y&E.JOm.Important?"important":""):c.style[l]=v}removeStyle(c,l,v){v&E.JOm.DashCase?c.style.removeProperty(l):c.style[l]=""}setProperty(c,l,v){c[l]=v}setValue(c,l){c.nodeValue=l}listen(c,l,v){return"string"==typeof c?this.eventManager.addGlobalEventListener(c,l,Ka(v)):this.eventManager.addEventListener(c,l,Ka(v))}}class wt extends Lo{constructor(c,l,v,y){super(c),this.component=v;const T=No(y+"-"+v.id,v.styles,[]);l.addStyles(T),this.contentAttr="_ngcontent-%COMP%".replace(Ys,y+"-"+v.id),this.hostAttr="_nghost-%COMP%".replace(Ys,y+"-"+v.id)}applyToHost(c){super.setAttribute(c,this.hostAttr,"")}createElement(c,l){const v=super.createElement(c,l);return super.setAttribute(v,this.contentAttr,""),v}}class ko extends Lo{constructor(c,l,v,y){super(c),this.sharedStylesHost=l,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=No(y.id,y.styles,[]);for(let S=0;S<T.length;S++){const F=document.createElement("style");F.textContent=T[S],this.shadowRoot.appendChild(F)}}nodeOrShadowRoot(c){return c===this.hostEl?this.shadowRoot:c}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(c,l){return super.appendChild(this.nodeOrShadowRoot(c),l)}insertBefore(c,l,v){return super.insertBefore(this.nodeOrShadowRoot(c),l,v)}removeChild(c,l){return super.removeChild(this.nodeOrShadowRoot(c),l)}parentNode(c){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(c)))}}let ln=(()=>{class h extends hs{constructor(l){super(l)}supports(l){return!0}addEventListener(l,v,y){return l.addEventListener(v,y,!1),()=>this.removeEventListener(l,v,y)}removeEventListener(l,v,y){return l.removeEventListener(v,y)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(G))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const Bo=["alt","control","meta","shift"],_r={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Li={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qa={alt:h=>h.altKey,control:h=>h.ctrlKey,meta:h=>h.metaKey,shift:h=>h.shiftKey};let xc=(()=>{class h extends hs{constructor(l){super(l)}supports(l){return null!=h.parseEventName(l)}addEventListener(l,v,y){const T=h.parseEventName(v),S=h.eventCallback(T.fullKey,y,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ve().onAndCancel(l,T.domEventName,S))}static parseEventName(l){const v=l.toLowerCase().split("."),y=v.shift();if(0===v.length||"keydown"!==y&&"keyup"!==y)return null;const T=h._normalizeKey(v.pop());let S="";if(Bo.forEach(K=>{const fe=v.indexOf(K);fe>-1&&(v.splice(fe,1),S+=K+".")}),S+=T,0!=v.length||0===T.length)return null;const F={};return F.domEventName=y,F.fullKey=S,F}static getEventFullKey(l){let v="",y=function(h){let c=h.key;if(null==c){if(c=h.keyIdentifier,null==c)return"Unidentified";c.startsWith("U+")&&(c=String.fromCharCode(parseInt(c.substring(2),16)),3===h.location&&Li.hasOwnProperty(c)&&(c=Li[c]))}return _r[c]||c}(l);return y=y.toLowerCase()," "===y?y="space":"."===y&&(y="dot"),Bo.forEach(T=>{T!=y&&Qa[T](l)&&(v+=T+".")}),v+=y,v}static eventCallback(l,v,y){return T=>{h.getEventFullKey(T)===l&&y.runGuarded(()=>v(T))}}static _normalizeKey(l){return"esc"===l?"escape":l}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(G))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const jo=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:"browser"},{provide:E.g9A,useValue:function(){pi.makeCurrent(),Ya.init()},multi:!0},{provide:G,useFactory:function(){return(0,E.RDi)(document),document},deps:[]}]),ds=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function(){return new E.qLn},deps:[]},{provide:Ni,useClass:ln,multi:!0,deps:[G,E.R0b,E.Lbi]},{provide:Ni,useClass:xc,multi:!0,deps:[G]},{provide:fs,useClass:fs,deps:[An,yr,E.AFp]},{provide:E.FYo,useExisting:fs},{provide:Ro,useExisting:yr},{provide:yr,useClass:yr,deps:[G]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:An,useClass:An,deps:[Ni,E.R0b]},{provide:class{},useClass:Dc,deps:[]}];let Wr=(()=>{class h{constructor(l){if(l)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(l){return{ngModule:h,providers:[{provide:E.AFp,useValue:l.appId},{provide:vn,useExisting:E.AFp},un]}}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(h,12))},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({providers:ds,imports:[Ec,E.hGG]}),h})();"undefined"!=typeof window&&window;var ur=k(5254),nu=k(2866),ms=k(3009),$o=k(6454);function dt(...h){let c=h[h.length-1];return(0,nu.K)(c)?(h.pop(),(0,$o.r)(h,c)):(0,ms.n)(h)}var ys=k(5529),Uh=k(5279);class Lr extends ys.xQ{constructor(c){super(),this._value=c}get value(){return this.getValue()}_subscribe(c){const l=super._subscribe(c);return l&&!l.closed&&c.next(this._value),l}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Uh.N;return this._value}next(c){super.next(this._value=c)}}var Wo=k(6688),Yo=k(826),Qs=k(9054);const _s={};class qo{constructor(c){this.resultSelector=c}call(c,l){return l.subscribe(new Hi(c,this.resultSelector))}}class Hi extends Yo.L{constructor(c,l){super(c),this.resultSelector=l,this.active=0,this.values=[],this.observables=[]}_next(c){this.values.push(_s),this.observables.push(c)}_complete(){const c=this.observables,l=c.length;if(0===l)this.destination.complete();else{this.active=l,this.toRespond=l;for(let v=0;v<l;v++){const y=c[v];this.add((0,Qs.D)(this,y,y,v))}}}notifyComplete(c){0==(this.active-=1)&&this.destination.complete()}notifyNext(c,l,v,y,T){const S=this.values,K=this.toRespond?S[v]===_s?--this.toRespond:this.toRespond:0;S[v]=l,0===K&&(this.resultSelector?this._tryResultSelector(S):this.destination.next(S.slice()))}_tryResultSelector(c){let l;try{l=this.resultSelector.apply(this,c)}catch(v){return void this.destination.error(v)}this.destination.next(l)}}var Vi=k(2916);const bs=(()=>{function h(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return h.prototype=Object.create(Error.prototype),h})();var jn=k(9146);function Zo(...h){return(0,jn.J)(1)(dt(...h))}const vi=new Vi.y(h=>h.complete());function Js(h){return h?function(h){return new Vi.y(c=>h.schedule(()=>c.complete()))}(h):vi}function Es(h){return new Vi.y(c=>{let l;try{l=h()}catch(y){return void c.error(y)}return(l?(0,ur.D)(l):Js()).subscribe(c)})}var su=k(1762),Ht=k(4850),ws=k(1869);function lr(h,c){return"function"==typeof c?l=>l.pipe(lr((v,y)=>(0,ur.D)(h(v,y)).pipe((0,Ht.U)((T,S)=>c(v,T,y,S))))):l=>l.lift(new yl(h))}class yl{constructor(c){this.project=c}call(c,l){return l.subscribe(new _l(c,this.project))}}class _l extends Yo.L{constructor(c,l){super(c),this.project=l,this.index=0}_next(c){let l;const v=this.index++;try{l=this.project(c,v)}catch(y){return void this.destination.error(y)}this._innerSub(l,c,v)}_innerSub(c,l,v){const y=this.innerSubscription;y&&y.unsubscribe();const T=new ws.d(this,l,v),S=this.destination;S.add(T),this.innerSubscription=(0,Qs.D)(this,c,void 0,void 0,T),this.innerSubscription!==T&&S.add(this.innerSubscription)}_complete(){const{innerSubscription:c}=this;(!c||c.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(c){this.destination.remove(c),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(c,l,v,y,T){this.destination.next(l)}}var Yr=k(3489);const ou=(()=>{function h(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return h.prototype=Object.create(Error.prototype),h})();function Qo(h){return c=>0===h?Js():c.lift(new bl(h))}class bl{constructor(c){if(this.total=c,this.total<0)throw new ou}call(c,l){return l.subscribe(new Jo(c,this.total))}}class Jo extends Yr.L{constructor(c,l){super(c),this.total=l,this.count=0}_next(c){const l=this.total,v=++this.count;v<=l&&(this.destination.next(c),v===l&&(this.destination.complete(),this.unsubscribe()))}}function au(h,c){let l=!1;return arguments.length>=2&&(l=!0),function(y){return y.lift(new El(h,c,l))}}class El{constructor(c,l,v=!1){this.accumulator=c,this.seed=l,this.hasSeed=v}call(c,l){return l.subscribe(new kr(c,this.accumulator,this.seed,this.hasSeed))}}class kr extends Yr.L{constructor(c,l,v,y){super(c),this.accumulator=l,this._seed=v,this.hasSeed=y,this.index=0}get seed(){return this._seed}set seed(c){this.hasSeed=!0,this._seed=c}_next(c){if(this.hasSeed)return this._tryNext(c);this.seed=c,this.destination.next(c)}_tryNext(c){const l=this.index++;let v;try{v=this.accumulator(this.seed,c,l)}catch(y){this.destination.error(y)}this.seed=v,this.destination.next(v)}}function Dn(h,c){return function(v){return v.lift(new uu(h,c))}}class uu{constructor(c,l){this.predicate=c,this.thisArg=l}call(c,l){return l.subscribe(new lu(c,this.predicate,this.thisArg))}}class lu extends Yr.L{constructor(c,l,v){super(c),this.predicate=l,this.thisArg=v,this.count=0}_next(c){let l;try{l=this.predicate.call(this.thisArg,c,this.count++)}catch(v){return void this.destination.error(v)}l&&this.destination.next(c)}}function Br(h){return function(l){const v=new to(h),y=l.lift(v);return v.caught=y}}class to{constructor(c){this.selector=c}call(c,l){return l.subscribe(new mi(c,this.selector,this.caught))}}class mi extends Yo.L{constructor(c,l,v){super(c),this.selector=l,this.caught=v}error(c){if(!this.isStopped){let l;try{l=this.selector(c,this.caught)}catch(T){return void super.error(T)}this._unsubscribeAndRecycle();const v=new ws.d(this,void 0,void 0);this.add(v);const y=(0,Qs.D)(this,l,void 0,void 0,v);y!==v&&this.add(y)}}}var cn=k(1709);function zi(h,c){return(0,cn.zg)(h,c,1)}function Ds(h){return function(l){return 0===h?Js():l.lift(new Ts(h))}}class Ts{constructor(c){if(this.total=c,this.total<0)throw new ou}call(c,l){return l.subscribe(new cu(c,this.total))}}class cu extends Yr.L{constructor(c,l){super(c),this.total=l,this.ring=new Array,this.count=0}_next(c){const l=this.ring,v=this.total,y=this.count++;l.length<v?l.push(c):l[y%v]=c}_complete(){const c=this.destination;let l=this.count;if(l>0){const v=this.count>=this.total?this.total:this.count,y=this.ring;for(let T=0;T<v;T++){const S=l++%v;c.next(y[S])}}c.complete()}}function wl(h=Hh){return c=>c.lift(new qt(h))}class qt{constructor(c){this.errorFactory=c}call(c,l){return l.subscribe(new Ac(c,this.errorFactory))}}class Ac extends Yr.L{constructor(c,l){super(c),this.errorFactory=l,this.hasValue=!1}_next(c){this.hasValue=!0,this.destination.next(c)}_complete(){if(this.hasValue)return this.destination.complete();{let c;try{c=this.errorFactory()}catch(l){c=l}this.destination.error(c)}}}function Hh(){return new bs}function Pc(h=null){return c=>c.lift(new Vh(h))}class Vh{constructor(c){this.defaultValue=c}call(c,l){return l.subscribe(new rt(c,this.defaultValue))}}class rt extends Yr.L{constructor(c,l){super(c),this.defaultValue=l,this.isEmpty=!0}_next(c){this.isEmpty=!1,this.destination.next(c)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Dl=k(5379);function Ur(h,c){const l=arguments.length>=2;return v=>v.pipe(h?Dn((y,T)=>h(y,T,v)):Dl.y,Qo(1),l?Pc(c):wl(()=>new bs))}function Xi(){}var hn=k(7043);function Mn(h,c,l){return function(y){return y.lift(new no(h,c,l))}}class no{constructor(c,l,v){this.nextOrObserver=c,this.error=l,this.complete=v}call(c,l){return l.subscribe(new xl(c,this.nextOrObserver,this.error,this.complete))}}class xl extends Yr.L{constructor(c,l,v,y){super(c),this._tapNext=Xi,this._tapError=Xi,this._tapComplete=Xi,this._tapError=v||Xi,this._tapComplete=y||Xi,(0,hn.m)(l)?(this._context=this,this._tapNext=l):l&&(this._context=l,this._tapNext=l.next||Xi,this._tapError=l.error||Xi,this._tapComplete=l.complete||Xi)}_next(c){try{this._tapNext.call(this._context,c)}catch(l){return void this.destination.error(l)}this.destination.next(c)}_error(c){try{this._tapError.call(this._context,c)}catch(l){return void this.destination.error(l)}this.destination.error(c)}_complete(){try{this._tapComplete.call(this._context)}catch(c){return void this.destination.error(c)}return this.destination.complete()}}var Mc=k(4327),fn=k(2654);class ea{constructor(c){this.callback=c}call(c,l){return l.subscribe(new ta(c,this.callback))}}class ta extends Yr.L{constructor(c,l){super(c),this.add(new fn.w(l))}}class Qn{constructor(c,l){this.id=c,this.url=l}}class qr extends Qn{constructor(c,l,v="imperative",y=null){super(c,l),this.navigationTrigger=v,this.restoredState=y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ro extends Qn{constructor(c,l,v){super(c,l),this.urlAfterRedirects=v}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class na extends Qn{constructor(c,l,v){super(c,l),this.reason=v}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oc extends Qn{constructor(c,l,v){super(c,l),this.error=v}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wf extends Qn{constructor(c,l,v,y){super(c,l),this.urlAfterRedirects=v,this.state=y}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hu extends Qn{constructor(c,l,v,y){super(c,l),this.urlAfterRedirects=v,this.state=y}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Qn{constructor(c,l,v,y,T){super(c,l),this.urlAfterRedirects=v,this.state=y,this.shouldActivate=T}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fu extends Qn{constructor(c,l,v,y){super(c,l),this.urlAfterRedirects=v,this.state=y}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs extends Qn{constructor(c,l,v,y){super(c,l),this.urlAfterRedirects=v,this.state=y}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr{constructor(c){this.route=c}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class br{constructor(c){this.route=c}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class io{constructor(c){this.snapshot=c}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cl{constructor(c){this.snapshot=c}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class du{constructor(c){this.snapshot=c}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ra{constructor(c){this.snapshot=c}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ia{constructor(c,l,v){this.routerEvent=c,this.position=l,this.anchor=v}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class sa{constructor(c){this.params=c||{}}has(c){return Object.prototype.hasOwnProperty.call(this.params,c)}get(c){if(this.has(c)){const l=this.params[c];return Array.isArray(l)?l[0]:l}return null}getAll(c){if(this.has(c)){const l=this.params[c];return Array.isArray(l)?l:[l]}return[]}get keys(){return Object.keys(this.params)}}function Hn(h){return new sa(h)}const oa="ngNavigationCancelingError";function yi(h){const c=Error("NavigationCancelingError: "+h);return c[oa]=!0,c}function Kr(h,c,l){const v=l.path.split("/");if(v.length>h.length||"full"===l.pathMatch&&(c.hasChildren()||v.length<h.length))return null;const y={};for(let T=0;T<v.length;T++){const S=v[T],F=h[T];if(S.startsWith(":"))y[S.substring(1)]=F;else if(S!==F.path)return null}return{consumed:h.slice(0,v.length),posParams:y}}function jr(h,c){const l=h?Object.keys(h):void 0,v=c?Object.keys(c):void 0;if(!l||!v||l.length!=v.length)return!1;let y;for(let T=0;T<l.length;T++)if(y=l[T],!ua(h[y],c[y]))return!1;return!0}function ua(h,c){if(Array.isArray(h)&&Array.isArray(c)){if(h.length!==c.length)return!1;const l=[...h].sort(),v=[...c].sort();return l.every((y,T)=>v[T]===y)}return h===c}function la(h){return Array.prototype.concat.apply([],h)}function ca(h){return h.length>0?h[h.length-1]:null}function mn(h,c){for(const l in h)h.hasOwnProperty(l)&&c(h[l],l)}function Er(h){return(0,E.CqO)(h)?h:(0,E.QGY)(h)?(0,ur.D)(Promise.resolve(h)):dt(h)}const oo={exact:function gu(h,c,l){if(!Qr(h.segments,c.segments)||!Hr(h.segments,c.segments,l)||h.numberOfChildren!==c.numberOfChildren)return!1;for(const v in c.children)if(!h.children[v]||!gu(h.children[v],c.children[v],l))return!1;return!0},subset:Sl},pu={exact:function(h,c){return jr(h,c)},subset:function(h,c){return Object.keys(c).length<=Object.keys(h).length&&Object.keys(c).every(l=>ua(h[l],c[l]))},ignored:()=>!0};function _i(h,c,l){return oo[l.paths](h.root,c.root,l.matrixParams)&&pu[l.queryParams](h.queryParams,c.queryParams)&&!("exact"===l.fragment&&h.fragment!==c.fragment)}function Sl(h,c,l){return Ss(h,c,c.segments,l)}function Ss(h,c,l,v){if(h.segments.length>l.length){const y=h.segments.slice(0,l.length);return!(!Qr(y,l)||c.hasChildren()||!Hr(y,l,v))}if(h.segments.length===l.length){if(!Qr(h.segments,l)||!Hr(h.segments,l,v))return!1;for(const y in c.children)if(!h.children[y]||!Sl(h.children[y],c.children[y],v))return!1;return!0}{const y=l.slice(0,h.segments.length),T=l.slice(h.segments.length);return!!(Qr(h.segments,y)&&Hr(h.segments,y,v)&&h.children[vt])&&Ss(h.children[vt],c,T,v)}}function Hr(h,c,l){return c.every((v,y)=>pu[l](h[y].parameters,v.parameters))}class bi{constructor(c,l,v){this.root=c,this.queryParams=l,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return mu.serialize(this)}}class pt{constructor(c,l){this.segments=c,this.children=l,this.parent=null,mn(l,(v,y)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jr(this)}}class $i{constructor(c,l){this.path=c,this.parameters=l}get parameterMap(){return this._parameterMap||(this._parameterMap=Hn(this.parameters)),this._parameterMap}toString(){return ga(this)}}function Qr(h,c){return h.length===c.length&&h.every((l,v)=>l.path===c[v].path)}class vu{}class Is{parse(c){const l=new Eu(c);return new bi(l.parseRootSegment(),l.parseQueryParams(),l.parseFragment())}serialize(c){const l=`/${Vn(c.root,!0)}`,v=function(h){const c=Object.keys(h).map(l=>{const v=h[l];return Array.isArray(v)?v.map(y=>`${yu(l)}=${yu(y)}`).join("&"):`${yu(l)}=${yu(v)}`}).filter(l=>!!l);return c.length?`?${c.join("&")}`:""}(c.queryParams);var h;return`${l}${v}${"string"==typeof c.fragment?`#${h=c.fragment,encodeURI(h)}`:""}`}}const mu=new Is;function Jr(h){return h.segments.map(c=>ga(c)).join("/")}function Vn(h,c){if(!h.hasChildren())return Jr(h);if(c){const l=h.children[vt]?Vn(h.children[vt],!1):"",v=[];return mn(h.children,(y,T)=>{T!==vt&&v.push(`${T}:${Vn(y,!1)}`)}),v.length>0?`${l}(${v.join("//")})`:l}{const l=function(h,c){let l=[];return mn(h.children,(v,y)=>{y===vt&&(l=l.concat(c(v,y)))}),mn(h.children,(v,y)=>{y!==vt&&(l=l.concat(c(v,y)))}),l}(h,(v,y)=>y===vt?[Vn(h.children[vt],!1)]:[`${y}:${Vn(v,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[vt]?`${Jr(h)}/${l[0]}`:`${Jr(h)}/(${l.join("//")})`}}function da(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yu(h){return da(h).replace(/%3B/gi,";")}function pa(h){return da(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ao(h){return decodeURIComponent(h)}function Il(h){return ao(h.replace(/\+/g,"%20"))}function ga(h){return`${pa(h.path)}${function(h){return Object.keys(h).map(c=>`;${pa(c)}=${pa(h[c])}`).join("")}(h.parameters)}`}const _u=/^[^\/()?;=#]+/;function Vr(h){const c=h.match(_u);return c?c[0]:""}const bu=/^[^=?&#]+/,Gh=/^[^&#]+/;class Eu{constructor(c){this.url=c,this.remaining=c}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const c={};if(this.consumeOptional("?"))do{this.parseQueryParam(c)}while(this.consumeOptional("&"));return c}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const c=[];for(this.peekStartsWith("(")||c.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),c.push(this.parseSegment());let l={};this.peekStartsWith("/(")&&(this.capture("/"),l=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(c.length>0||Object.keys(l).length>0)&&(v[vt]=new pt(c,l)),v}parseSegment(){const c=Vr(this.remaining);if(""===c&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(c),new $i(ao(c),this.parseMatrixParams())}parseMatrixParams(){const c={};for(;this.consumeOptional(";");)this.parseParam(c);return c}parseParam(c){const l=Vr(this.remaining);if(!l)return;this.capture(l);let v="";if(this.consumeOptional("=")){const y=Vr(this.remaining);y&&(v=y,this.capture(v))}c[ao(l)]=ao(v)}parseQueryParam(c){const l=function(h){const c=h.match(bu);return c?c[0]:""}(this.remaining);if(!l)return;this.capture(l);let v="";if(this.consumeOptional("=")){const S=function(h){const c=h.match(Gh);return c?c[0]:""}(this.remaining);S&&(v=S,this.capture(v))}const y=Il(l),T=Il(v);if(c.hasOwnProperty(y)){let S=c[y];Array.isArray(S)||(S=[S],c[y]=S),S.push(T)}else c[y]=T}parseParens(c){const l={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=Vr(this.remaining),y=this.remaining[v.length];if("/"!==y&&")"!==y&&";"!==y)throw new Error(`Cannot parse url '${this.url}'`);let T;v.indexOf(":")>-1?(T=v.substr(0,v.indexOf(":")),this.capture(T),this.capture(":")):c&&(T=vt);const S=this.parseChildren();l[T]=1===Object.keys(S).length?S[vt]:new pt([],S),this.consumeOptional("//")}return l}peekStartsWith(c){return this.remaining.startsWith(c)}consumeOptional(c){return!!this.peekStartsWith(c)&&(this.remaining=this.remaining.substring(c.length),!0)}capture(c){if(!this.consumeOptional(c))throw new Error(`Expected "${c}".`)}}class wu{constructor(c){this._root=c}get root(){return this._root.value}parent(c){const l=this.pathFromRoot(c);return l.length>1?l[l.length-2]:null}children(c){const l=ma(c,this._root);return l?l.children.map(v=>v.value):[]}firstChild(c){const l=ma(c,this._root);return l&&l.children.length>0?l.children[0].value:null}siblings(c){const l=ya(c,this._root);return l.length<2?[]:l[l.length-2].children.map(y=>y.value).filter(y=>y!==c)}pathFromRoot(c){return ya(c,this._root).map(l=>l.value)}}function ma(h,c){if(h===c.value)return c;for(const l of c.children){const v=ma(h,l);if(v)return v}return null}function ya(h,c){if(h===c.value)return[c];for(const l of c.children){const v=ya(h,l);if(v.length)return v.unshift(c),v}return[]}class Gr{constructor(c,l){this.value=c,this.children=l}toString(){return`TreeNode(${this.value})`}}function As(h){const c={};return h&&h.children.forEach(l=>c[l.value.outlet]=l),c}class Al extends wu{constructor(c,l){super(c),this.snapshot=l,Ea(this,c)}toString(){return this.snapshot.toString()}}function Du(h,c){const l=function(h,c){const S=new ba([],{},{},"",{},vt,c,null,h.root,-1,{});return new Lc("",new Gr(S,[]))}(h,c),v=new Lr([new $i("",{})]),y=new Lr({}),T=new Lr({}),S=new Lr({}),F=new Lr(""),K=new Ps(v,y,S,F,T,vt,c,l.root);return K.snapshot=l.root,new Al(new Gr(K,[]),l)}class Ps{constructor(c,l,v,y,T,S,F,K){this.url=c,this.params=l,this.queryParams=v,this.fragment=y,this.data=T,this.outlet=S,this.component=F,this._futureSnapshot=K}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(c=>Hn(c)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(c=>Hn(c)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ei(h,c="emptyOnly"){const l=h.pathFromRoot;let v=0;if("always"!==c)for(v=l.length-1;v>=1;){const y=l[v],T=l[v-1];if(y.routeConfig&&""===y.routeConfig.path)v--;else{if(T.component)break;v--}}return function(h){return h.reduce((c,l)=>({params:Object.assign(Object.assign({},c.params),l.params),data:Object.assign(Object.assign({},c.data),l.data),resolve:Object.assign(Object.assign({},c.resolve),l._resolvedData)}),{params:{},data:{},resolve:{}})}(l.slice(v))}class ba{constructor(c,l,v,y,T,S,F,K,fe,Ue,Ce){this.url=c,this.params=l,this.queryParams=v,this.fragment=y,this.data=T,this.outlet=S,this.component=F,this.routeConfig=K,this._urlSegment=fe,this._lastPathIndex=Ue,this._resolve=Ce}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lc extends wu{constructor(c,l){super(l),this.url=c,Ea(this,l)}toString(){return Pl(this._root)}}function Ea(h,c){c.value._routerState=h,c.children.forEach(l=>Ea(h,l))}function Pl(h){const c=h.children.length>0?` { ${h.children.map(Pl).join(", ")} } `:"";return`${h.value}${c}`}function Ms(h){if(h.snapshot){const c=h.snapshot,l=h._futureSnapshot;h.snapshot=l,jr(c.queryParams,l.queryParams)||h.queryParams.next(l.queryParams),c.fragment!==l.fragment&&h.fragment.next(l.fragment),jr(c.params,l.params)||h.params.next(l.params),function(h,c){if(h.length!==c.length)return!1;for(let l=0;l<h.length;++l)if(!jr(h[l],c[l]))return!1;return!0}(c.url,l.url)||h.url.next(l.url),jr(c.data,l.data)||h.data.next(l.data)}else h.snapshot=h._futureSnapshot,h.data.next(h._futureSnapshot.data)}function kc(h,c){const l=jr(h.params,c.params)&&function(h,c){return Qr(h,c)&&h.every((l,v)=>jr(l.parameters,c[v].parameters))}(h.url,c.url);return l&&!(!h.parent!=!c.parent)&&(!h.parent||kc(h.parent,c.parent))}function uo(h,c,l){if(l&&h.shouldReuseRoute(c.value,l.value.snapshot)){const v=l.value;v._futureSnapshot=c.value;const y=function(h,c,l){return c.children.map(v=>{for(const y of l.children)if(h.shouldReuseRoute(v.value,y.value.snapshot))return uo(h,v,y);return uo(h,v)})}(h,c,l);return new Gr(v,y)}{if(h.shouldAttach(c.value)){const T=h.retrieve(c.value);if(null!==T){const S=T.route;return S.value._futureSnapshot=c.value,S.children=c.children.map(F=>uo(h,F)),S}}const v=function(h){return new Ps(new Lr(h.url),new Lr(h.params),new Lr(h.queryParams),new Lr(h.fragment),new Lr(h.data),h.outlet,h.component,h)}(c.value),y=c.children.map(T=>uo(h,T));return new Gr(v,y)}}function lo(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function qi(h){return"object"==typeof h&&null!=h&&h.outlets}function Os(h,c,l,v,y){let T={};return v&&mn(v,(S,F)=>{T[F]=Array.isArray(S)?S.map(K=>`${K}`):`${S}`}),new bi(l.root===h?c:co(l.root,h,c),T,y)}function co(h,c,l){const v={};return mn(h.children,(y,T)=>{v[T]=y===c?l:co(y,c,l)}),new pt(h.segments,v)}class cr{constructor(c,l,v){if(this.isAbsolute=c,this.numberOfDoubleDots=l,this.commands=v,c&&v.length>0&&lo(v[0]))throw new Error("Root segment cannot have matrix parameters");const y=v.find(qi);if(y&&y!==ca(v))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Da{constructor(c,l,v){this.segmentGroup=c,this.processChildren=l,this.index=v}}function Cu(h,c,l){if(h||(h=new pt([],{})),0===h.segments.length&&h.hasChildren())return Su(h,c,l);const v=function(h,c,l){let v=0,y=c;const T={match:!1,pathIndex:0,commandIndex:0};for(;y<h.segments.length;){if(v>=l.length)return T;const S=h.segments[y],F=l[v];if(qi(F))break;const K=`${F}`,fe=v<l.length-1?l[v+1]:null;if(y>0&&void 0===K)break;if(K&&fe&&"object"==typeof fe&&void 0===fe.outlets){if(!Iu(K,fe,S))return T;v+=2}else{if(!Iu(K,{},S))return T;v++}y++}return{match:!0,pathIndex:y,commandIndex:v}}(h,c,l),y=l.slice(v.commandIndex);if(v.match&&v.pathIndex<h.segments.length){const T=new pt(h.segments.slice(0,v.pathIndex),{});return T.children[vt]=new pt(h.segments.slice(v.pathIndex),h.children),Su(T,0,y)}return v.match&&0===y.length?new pt(h.segments,{}):v.match&&!h.hasChildren()?fo(h,c,l):v.match?Su(h,0,y):fo(h,c,l)}function Su(h,c,l){if(0===l.length)return new pt(h.segments,{});{const v=function(h){return qi(h[0])?h[0].outlets:{[vt]:h}}(l),y={};return mn(v,(T,S)=>{"string"==typeof T&&(T=[T]),null!==T&&(y[S]=Cu(h.children[S],c,T))}),mn(h.children,(T,S)=>{void 0===v[S]&&(y[S]=T)}),new pt(h.segments,y)}}function fo(h,c,l){const v=h.segments.slice(0,c);let y=0;for(;y<l.length;){const T=l[y];if(qi(T)){const K=po(T.outlets);return new pt(v,K)}if(0===y&&lo(l[0])){v.push(new $i(h.segments[c].path,jc(l[0]))),y++;continue}const S=qi(T)?T.outlets[vt]:`${T}`,F=y<l.length-1?l[y+1]:null;S&&F&&lo(F)?(v.push(new $i(S,jc(F))),y+=2):(v.push(new $i(S,{})),y++)}return new pt(v,{})}function po(h){const c={};return mn(h,(l,v)=>{"string"==typeof l&&(l=[l]),null!==l&&(c[v]=fo(new pt([],{}),0,l))}),c}function jc(h){const c={};return mn(h,(l,v)=>c[v]=`${l}`),c}function Iu(h,c,l){return h==l.path&&jr(c,l.parameters)}class Ol{constructor(c,l,v,y){this.routeReuseStrategy=c,this.futureState=l,this.currState=v,this.forwardEvent=y}activate(c){const l=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(l,v,c),Ms(this.futureState.root),this.activateChildRoutes(l,v,c)}deactivateChildRoutes(c,l,v){const y=As(l);c.children.forEach(T=>{const S=T.value.outlet;this.deactivateRoutes(T,y[S],v),delete y[S]}),mn(y,(T,S)=>{this.deactivateRouteAndItsChildren(T,v)})}deactivateRoutes(c,l,v){const y=c.value,T=l?l.value:null;if(y===T)if(y.component){const S=v.getContext(y.outlet);S&&this.deactivateChildRoutes(c,l,S.children)}else this.deactivateChildRoutes(c,l,v);else T&&this.deactivateRouteAndItsChildren(l,v)}deactivateRouteAndItsChildren(c,l){c.value.component&&this.routeReuseStrategy.shouldDetach(c.value.snapshot)?this.detachAndStoreRouteSubtree(c,l):this.deactivateRouteAndOutlet(c,l)}detachAndStoreRouteSubtree(c,l){const v=l.getContext(c.value.outlet),y=v&&c.value.component?v.children:l,T=As(c);for(const S of Object.keys(T))this.deactivateRouteAndItsChildren(T[S],y);if(v&&v.outlet){const S=v.outlet.detach(),F=v.children.onOutletDeactivated();this.routeReuseStrategy.store(c.value.snapshot,{componentRef:S,route:c,contexts:F})}}deactivateRouteAndOutlet(c,l){const v=l.getContext(c.value.outlet),y=v&&c.value.component?v.children:l,T=As(c);for(const S of Object.keys(T))this.deactivateRouteAndItsChildren(T[S],y);v&&v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated(),v.attachRef=null,v.resolver=null,v.route=null)}activateChildRoutes(c,l,v){const y=As(l);c.children.forEach(T=>{this.activateRoutes(T,y[T.value.outlet],v),this.forwardEvent(new ra(T.value.snapshot))}),c.children.length&&this.forwardEvent(new Cl(c.value.snapshot))}activateRoutes(c,l,v){const y=c.value,T=l?l.value:null;if(Ms(y),y===T)if(y.component){const S=v.getOrCreateContext(y.outlet);this.activateChildRoutes(c,l,S.children)}else this.activateChildRoutes(c,l,v);else if(y.component){const S=v.getOrCreateContext(y.outlet);if(this.routeReuseStrategy.shouldAttach(y.snapshot)){const F=this.routeReuseStrategy.retrieve(y.snapshot);this.routeReuseStrategy.store(y.snapshot,null),S.children.onOutletReAttached(F.contexts),S.attachRef=F.componentRef,S.route=F.route.value,S.outlet&&S.outlet.attach(F.componentRef,F.route.value),Ms(F.route.value),this.activateChildRoutes(c,null,S.children)}else{const F=function(h){for(let c=h.parent;c;c=c.parent){const l=c.routeConfig;if(l&&l._loadedConfig)return l._loadedConfig;if(l&&l.component)return null}return null}(y.snapshot),K=F?F.module.componentFactoryResolver:null;S.attachRef=null,S.route=y,S.resolver=K,S.outlet&&S.outlet.activateWith(y,K),this.activateChildRoutes(c,null,S.children)}}else this.activateChildRoutes(c,null,v)}}class Pu{constructor(c,l){this.routes=c,this.module=l}}function Gn(h){return"function"==typeof h}function Dr(h){return h instanceof bi}const go=Symbol("INITIAL_VALUE");function vo(){return lr(h=>function(...h){let c=null,l=null;return(0,nu.K)(h[h.length-1])&&(l=h.pop()),"function"==typeof h[h.length-1]&&(c=h.pop()),1===h.length&&(0,Wo.k)(h[0])&&(h=h[0]),(0,ms.n)(h,l).lift(new qo(c))}(h.map(c=>c.pipe(Qo(1),function(...h){const c=h[h.length-1];return(0,nu.K)(c)?(h.pop(),l=>Zo(h,l,c)):l=>Zo(h,l)}(go)))).pipe(au((c,l)=>{let v=!1;return l.reduce((y,T,S)=>y!==go?y:(T===go&&(v=!0),v||!1!==T&&S!==l.length-1&&!Dr(T)?y:T),c)},go),Dn(c=>c!==go),(0,Ht.U)(c=>Dr(c)?c:!0===c),Qo(1)))}class mo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zi,this.attachRef=null}}class Zi{constructor(){this.contexts=new Map}onChildOutletCreated(c,l){const v=this.getOrCreateContext(c);v.outlet=l,this.contexts.set(c,v)}onChildOutletDestroyed(c){const l=this.getContext(c);l&&(l.outlet=null,l.attachRef=null)}onOutletDeactivated(){const c=this.contexts;return this.contexts=new Map,c}onOutletReAttached(c){this.contexts=c}getOrCreateContext(c){let l=this.getContext(c);return l||(l=new mo,this.contexts.set(c,l)),l}getContext(c){return this.contexts.get(c)||null}}let Fu=(()=>{class h{constructor(l,v,y,T,S){this.parentContexts=l,this.location=v,this.resolver=y,this.changeDetector=S,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=T||vt,l.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const l=this.parentContexts.getContext(this.name);l&&l.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,v){this.activated=l,this._activatedRoute=v,this.location.insert(l.hostView),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){const l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=l;const S=(v=v||this.resolver).resolveComponentFactory(l._futureSnapshot.routeConfig.component),F=this.parentContexts.getOrCreateContext(this.name).children,K=new Vc(l,F,this.location.injector);this.activated=this.location.createComponent(S,this.location.length,K),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(l){return new(l||h)(E.Y36(Zi),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},h.\u0275dir=E.lG2({type:h,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),h})();class Vc{constructor(c,l,v){this.route=c,this.childContexts=l,this.parent=v}get(c,l){return c===Ps?this.route:c===Zi?this.childContexts:this.parent.get(c,l)}}let Rl=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["ng-component"]],decls:1,vars:0,template:function(l,v){1&l&&E._UZ(0,"router-outlet")},directives:[Fu],encapsulation:2}),h})();function Fl(h,c=""){for(let l=0;l<h.length;l++){const v=h[l];Gc(v,Df(c,v))}}function Gc(h,c){h.children&&Fl(h.children,c)}function Df(h,c){return c?h||c.path?h&&!c.path?`${h}/`:!h&&c.path?c.path:`${h}/${c.path}`:"":h}function zc(h){const c=h.children&&h.children.map(zc),l=c?Object.assign(Object.assign({},h),{children:c}):Object.assign({},h);return!l.component&&(c||l.loadChildren)&&l.outlet&&l.outlet!==vt&&(l.component=Rl),l}function On(h){return h.outlet||vt}function Rn(h,c){const l=h.filter(v=>On(v)===c);return l.push(...h.filter(v=>On(v)!==c)),l}const Nu={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ta(h,c,l){var v;if(""===c.path)return"full"===c.pathMatch&&(h.hasChildren()||l.length>0)?Object.assign({},Nu):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const T=(c.matcher||Kr)(l,h,c);if(!T)return Object.assign({},Nu);const S={};mn(T.posParams,(K,fe)=>{S[fe]=K.path});const F=T.consumed.length>0?Object.assign(Object.assign({},S),T.consumed[T.consumed.length-1].parameters):S;return{matched:!0,consumedSegments:T.consumed,lastChild:T.consumed.length,parameters:F,positionalParamSegments:null!==(v=T.posParams)&&void 0!==v?v:{}}}function xa(h,c,l,v,y="corrected"){if(l.length>0&&function(h,c,l){return l.some(v=>Lu(h,c,v)&&On(v)!==vt)}(h,l,v)){const S=new pt(c,function(h,c,l,v){const y={};y[vt]=v,v._sourceSegment=h,v._segmentIndexShift=c.length;for(const T of l)if(""===T.path&&On(T)!==vt){const S=new pt([],{});S._sourceSegment=h,S._segmentIndexShift=c.length,y[On(T)]=S}return y}(h,c,v,new pt(l,h.children)));return S._sourceSegment=h,S._segmentIndexShift=c.length,{segmentGroup:S,slicedSegments:[]}}if(0===l.length&&function(h,c,l){return l.some(v=>Lu(h,c,v))}(h,l,v)){const S=new pt(h.segments,function(h,c,l,v,y,T){const S={};for(const F of v)if(Lu(h,l,F)&&!y[On(F)]){const K=new pt([],{});K._sourceSegment=h,K._segmentIndexShift="legacy"===T?h.segments.length:c.length,S[On(F)]=K}return Object.assign(Object.assign({},y),S)}(h,c,l,v,h.children,y));return S._sourceSegment=h,S._segmentIndexShift=c.length,{segmentGroup:S,slicedSegments:l}}const T=new pt(h.segments,h.children);return T._sourceSegment=h,T._segmentIndexShift=c.length,{segmentGroup:T,slicedSegments:l}}function Lu(h,c,l){return(!(h.hasChildren()||c.length>0)||"full"!==l.pathMatch)&&""===l.path}function wi(h,c,l,v){return!!(On(h)===v||v!==vt&&Lu(c,l,h))&&("**"===h.path||Ta(c,h,l).matched)}function Xc(h,c,l){return 0===c.length&&!h.children[l]}class yo{constructor(c){this.segmentGroup=c||null}}class $c{constructor(c){this.urlTree=c}}function Sa(h){return new Vi.y(c=>c.error(new yo(h)))}function Ia(h){return new Vi.y(c=>c.error(new $c(h)))}function Wc(h){return new Vi.y(c=>c.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${h}'`)))}class Yc{constructor(c,l,v,y,T){this.configLoader=l,this.urlSerializer=v,this.urlTree=y,this.config=T,this.allowRedirects=!0,this.ngModule=c.get(E.h0i)}apply(){const c=xa(this.urlTree.root,[],[],this.config).segmentGroup,l=new pt(c.segments,c.children);return this.expandSegmentGroup(this.ngModule,this.config,l,vt).pipe((0,Ht.U)(T=>this.createUrlTree(Aa(T),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Br(T=>{if(T instanceof $c)return this.allowRedirects=!1,this.match(T.urlTree);throw T instanceof yo?this.noMatchError(T):T}))}match(c){return this.expandSegmentGroup(this.ngModule,this.config,c.root,vt).pipe((0,Ht.U)(y=>this.createUrlTree(Aa(y),c.queryParams,c.fragment))).pipe(Br(y=>{throw y instanceof yo?this.noMatchError(y):y}))}noMatchError(c){return new Error(`Cannot match any routes. URL Segment: '${c.segmentGroup}'`)}createUrlTree(c,l,v){const y=c.segments.length>0?new pt([],{[vt]:c}):c;return new bi(y,l,v)}expandSegmentGroup(c,l,v,y){return 0===v.segments.length&&v.hasChildren()?this.expandChildren(c,l,v).pipe((0,Ht.U)(T=>new pt([],T))):this.expandSegment(c,v,l,v.segments,y,!0)}expandChildren(c,l,v){const y=[];for(const T of Object.keys(v.children))"primary"===T?y.unshift(T):y.push(T);return(0,ur.D)(y).pipe(zi(T=>{const S=v.children[T],F=Rn(l,T);return this.expandSegmentGroup(c,F,S,T).pipe((0,Ht.U)(K=>({segment:K,outlet:T})))}),au((T,S)=>(T[S.outlet]=S.segment,T),{}),function(h,c){const l=arguments.length>=2;return v=>v.pipe(h?Dn((y,T)=>h(y,T,v)):Dl.y,Ds(1),l?Pc(c):wl(()=>new bs))}())}expandSegment(c,l,v,y,T,S){return(0,ur.D)(v).pipe(zi(F=>this.expandSegmentAgainstRoute(c,l,v,F,y,T,S).pipe(Br(fe=>{if(fe instanceof yo)return dt(null);throw fe}))),Ur(F=>!!F),Br((F,K)=>{if(F instanceof bs||"EmptyError"===F.name){if(Xc(l,y,T))return dt(new pt([],{}));throw new yo(l)}throw F}))}expandSegmentAgainstRoute(c,l,v,y,T,S,F){return wi(y,l,T,S)?void 0===y.redirectTo?this.matchSegmentAgainstRoute(c,l,y,T,S):F&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(c,l,v,y,T,S):Sa(l):Sa(l)}expandSegmentAgainstRouteUsingRedirect(c,l,v,y,T,S){return"**"===y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(c,v,y,S):this.expandRegularSegmentAgainstRouteUsingRedirect(c,l,v,y,T,S)}expandWildCardWithParamsAgainstRouteUsingRedirect(c,l,v,y){const T=this.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?Ia(T):this.lineralizeSegments(v,T).pipe((0,cn.zg)(S=>{const F=new pt(S,{});return this.expandSegment(c,F,l,S,y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(c,l,v,y,T,S){const{matched:F,consumedSegments:K,lastChild:fe,positionalParamSegments:Ue}=Ta(l,y,T);if(!F)return Sa(l);const Ce=this.applyRedirectCommands(K,y.redirectTo,Ue);return y.redirectTo.startsWith("/")?Ia(Ce):this.lineralizeSegments(y,Ce).pipe((0,cn.zg)(qe=>this.expandSegment(c,l,v,qe.concat(T.slice(fe)),S,!1)))}matchSegmentAgainstRoute(c,l,v,y,T){if("**"===v.path)return v.loadChildren?(v._loadedConfig?dt(v._loadedConfig):this.configLoader.load(c.injector,v)).pipe((0,Ht.U)(qe=>(v._loadedConfig=qe,new pt(y,{})))):dt(new pt(y,{}));const{matched:S,consumedSegments:F,lastChild:K}=Ta(l,v,y);if(!S)return Sa(l);const fe=y.slice(K);return this.getChildConfig(c,v,y).pipe((0,cn.zg)(Ce=>{const qe=Ce.module,Ke=Ce.routes,{segmentGroup:Jt,slicedSegments:Xn}=xa(l,F,fe,Ke),en=new pt(Jt.segments,Jt.children);if(0===Xn.length&&en.hasChildren())return this.expandChildren(qe,Ke,en).pipe((0,Ht.U)(zr=>new pt(F,zr)));if(0===Ke.length&&0===Xn.length)return dt(new pt(F,{}));const tr=On(v)===T;return this.expandSegment(qe,en,Ke,Xn,tr?vt:T,!0).pipe((0,Ht.U)(xr=>new pt(F.concat(xr.segments),xr.children)))}))}getChildConfig(c,l,v){return l.children?dt(new Pu(l.children,c)):l.loadChildren?void 0!==l._loadedConfig?dt(l._loadedConfig):this.runCanLoadGuards(c.injector,l,v).pipe((0,cn.zg)(y=>{return y?this.configLoader.load(c.injector,l).pipe((0,Ht.U)(T=>(l._loadedConfig=T,T))):(h=l,new Vi.y(c=>c.error(yi(`Cannot load children because the guard of the route "path: '${h.path}'" returned false`))));var h})):dt(new Pu([],c))}runCanLoadGuards(c,l,v){const y=l.canLoad;return y&&0!==y.length?dt(y.map(S=>{const F=c.get(S);let K;if((h=F)&&Gn(h.canLoad))K=F.canLoad(l,v);else{if(!Gn(F))throw new Error("Invalid CanLoad guard");K=F(l,v)}var h;return Er(K)})).pipe(vo(),Mn(S=>{if(!Dr(S))return;const F=yi(`Redirecting to "${this.urlSerializer.serialize(S)}"`);throw F.url=S,F}),(0,Ht.U)(S=>!0===S)):dt(!0)}lineralizeSegments(c,l){let v=[],y=l.root;for(;;){if(v=v.concat(y.segments),0===y.numberOfChildren)return dt(v);if(y.numberOfChildren>1||!y.children[vt])return Wc(c.redirectTo);y=y.children[vt]}}applyRedirectCommands(c,l,v){return this.applyRedirectCreatreUrlTree(l,this.urlSerializer.parse(l),c,v)}applyRedirectCreatreUrlTree(c,l,v,y){const T=this.createSegmentGroup(c,l.root,v,y);return new bi(T,this.createQueryParams(l.queryParams,this.urlTree.queryParams),l.fragment)}createQueryParams(c,l){const v={};return mn(c,(y,T)=>{if("string"==typeof y&&y.startsWith(":")){const F=y.substring(1);v[T]=l[F]}else v[T]=y}),v}createSegmentGroup(c,l,v,y){const T=this.createSegments(c,l.segments,v,y);let S={};return mn(l.children,(F,K)=>{S[K]=this.createSegmentGroup(c,F,v,y)}),new pt(T,S)}createSegments(c,l,v,y){return l.map(T=>T.path.startsWith(":")?this.findPosParam(c,T,y):this.findOrReturn(T,v))}findPosParam(c,l,v){const y=v[l.path.substring(1)];if(!y)throw new Error(`Cannot redirect to '${c}'. Cannot find '${l.path}'.`);return y}findOrReturn(c,l){let v=0;for(const y of l){if(y.path===c.path)return l.splice(v),y;v++}return c}}function Aa(h){const c={};for(const v of Object.keys(h.children)){const T=Aa(h.children[v]);(T.segments.length>0||T.hasChildren())&&(c[v]=T)}return function(h){if(1===h.numberOfChildren&&h.children[vt]){const c=h.children[vt];return new pt(h.segments.concat(c.segments),c.children)}return h}(new pt(h.segments,c))}class Ll{constructor(c){this.path=c,this.route=this.path[this.path.length-1]}}class Pa{constructor(c,l){this.component=c,this.route=l}}function _o(h,c,l){const v=h._root;return bo(v,c?c._root:null,l,[v.value])}function Ma(h,c,l){const v=function(h){if(!h)return null;for(let c=h.parent;c;c=c.parent){const l=c.routeConfig;if(l&&l._loadedConfig)return l._loadedConfig}return null}(c);return(v?v.module.injector:l).get(h)}function bo(h,c,l,v,y={canDeactivateChecks:[],canActivateChecks:[]}){const T=As(c);return h.children.forEach(S=>{(function(h,c,l,v,y={canDeactivateChecks:[],canActivateChecks:[]}){const T=h.value,S=c?c.value:null,F=l?l.getContext(h.value.outlet):null;if(S&&T.routeConfig===S.routeConfig){const K=function(h,c,l){if("function"==typeof l)return l(h,c);switch(l){case"pathParamsChange":return!Qr(h.url,c.url);case"pathParamsOrQueryParamsChange":return!Qr(h.url,c.url)||!jr(h.queryParams,c.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kc(h,c)||!jr(h.queryParams,c.queryParams);default:return!kc(h,c)}}(S,T,T.routeConfig.runGuardsAndResolvers);K?y.canActivateChecks.push(new Ll(v)):(T.data=S.data,T._resolvedData=S._resolvedData),bo(h,c,T.component?F?F.children:null:l,v,y),K&&F&&F.outlet&&F.outlet.isActivated&&y.canDeactivateChecks.push(new Pa(F.outlet.component,S))}else S&&Eo(c,F,y),y.canActivateChecks.push(new Ll(v)),bo(h,null,T.component?F?F.children:null:l,v,y)})(S,T[S.value.outlet],l,v.concat([S.value]),y),delete T[S.value.outlet]}),mn(T,(S,F)=>Eo(S,l.getContext(F),y)),y}function Eo(h,c,l){const v=As(h),y=h.value;mn(v,(T,S)=>{Eo(T,y.component?c?c.children.getContext(S):null:c,l)}),l.canDeactivateChecks.push(new Pa(y.component&&c&&c.outlet&&c.outlet.isActivated?c.outlet.component:null,y))}class ni{}function eh(h){return new Vi.y(c=>c.error(h))}class wo{constructor(c,l,v,y,T,S){this.rootComponentType=c,this.config=l,this.urlTree=v,this.url=y,this.paramsInheritanceStrategy=T,this.relativeLinkResolution=S}recognize(){const c=xa(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution).segmentGroup,l=this.processSegmentGroup(this.config,c,vt);if(null===l)return null;const v=new ba([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),y=new Gr(v,l),T=new Lc(this.url,y);return this.inheritParamsAndData(T._root),T}inheritParamsAndData(c){const l=c.value,v=ei(l,this.paramsInheritanceStrategy);l.params=Object.freeze(v.params),l.data=Object.freeze(v.data),c.children.forEach(y=>this.inheritParamsAndData(y))}processSegmentGroup(c,l,v){return 0===l.segments.length&&l.hasChildren()?this.processChildren(c,l):this.processSegment(c,l,l.segments,v)}processChildren(c,l){const v=[];for(const T of Object.keys(l.children)){const S=l.children[T],F=Rn(c,T),K=this.processSegmentGroup(F,S,T);if(null===K)return null;v.push(...K)}const y=zu(v);return y.sort((c,l)=>c.value.outlet===vt?-1:l.value.outlet===vt?1:c.value.outlet.localeCompare(l.value.outlet)),y}processSegment(c,l,v,y){for(const T of c){const S=this.processSegmentAgainstRoute(T,l,v,y);if(null!==S)return S}return Xc(l,v,y)?[]:null}processSegmentAgainstRoute(c,l,v,y){if(c.redirectTo||!wi(c,l,v,y))return null;let T,S=[],F=[];if("**"===c.path){const Ke=v.length>0?ca(v).parameters:{};T=new ba(v,Ke,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jl(c),On(c),c.component,c,Ra(l),Re(l)+v.length,Hl(c))}else{const Ke=Ta(l,c,v);if(!Ke.matched)return null;S=Ke.consumedSegments,F=v.slice(Ke.lastChild),T=new ba(S,Ke.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jl(c),On(c),c.component,c,Ra(l),Re(l)+S.length,Hl(c))}const K=(h=c).children?h.children:h.loadChildren?h._loadedConfig.routes:[],{segmentGroup:fe,slicedSegments:Ue}=xa(l,S,F,K.filter(Ke=>void 0===Ke.redirectTo),this.relativeLinkResolution);var h;if(0===Ue.length&&fe.hasChildren()){const Ke=this.processChildren(K,fe);return null===Ke?null:[new Gr(T,Ke)]}if(0===K.length&&0===Ue.length)return[new Gr(T,[])];const Ce=On(c)===y,qe=this.processSegment(K,fe,Ue,Ce?vt:y);return null===qe?null:[new Gr(T,qe)]}}function Gu(h){const c=h.value.routeConfig;return c&&""===c.path&&void 0===c.redirectTo}function zu(h){const c=[],l=new Set;for(const v of h){if(!Gu(v)){c.push(v);continue}const y=c.find(T=>v.value.routeConfig===T.value.routeConfig);void 0!==y?(y.children.push(...v.children),l.add(y)):c.push(v)}for(const v of l){const y=zu(v.children);c.push(new Gr(v.value,y))}return c.filter(v=>!l.has(v))}function Ra(h){let c=h;for(;c._sourceSegment;)c=c._sourceSegment;return c}function Re(h){let c=h,l=c._segmentIndexShift?c._segmentIndexShift:0;for(;c._sourceSegment;)c=c._sourceSegment,l+=c._segmentIndexShift?c._segmentIndexShift:0;return l-1}function jl(h){return h.data||{}}function Hl(h){return h.resolve||{}}function o(h){return lr(c=>{const l=h(c);return l?(0,ur.D)(l).pipe((0,Ht.U)(()=>c)):dt(c)})}class m extends class{shouldDetach(c){return!1}store(c,l){}shouldAttach(c){return!1}retrieve(c){return null}shouldReuseRoute(c,l){return c.routeConfig===l.routeConfig}}{}const w=new E.OlP("ROUTES");class x{constructor(c,l,v,y){this.injector=c,this.compiler=l,this.onLoadStartListener=v,this.onLoadEndListener=y}load(c,l){if(l._loader$)return l._loader$;this.onLoadStartListener&&this.onLoadStartListener(l);const y=this.loadModuleFactory(l.loadChildren).pipe((0,Ht.U)(T=>{this.onLoadEndListener&&this.onLoadEndListener(l);const S=T.create(c);return new Pu(la(S.injector.get(w,void 0,E.XFs.Self|E.XFs.Optional)).map(zc),S)}),Br(T=>{throw l._loader$=void 0,T}));return l._loader$=new su.c(y,()=>new ys.xQ).pipe((0,Mc.x)()),l._loader$}loadModuleFactory(c){return Er(c()).pipe((0,cn.zg)(l=>l instanceof E.YKP?dt(l):(0,ur.D)(this.compiler.compileModuleAsync(l))))}}class A{shouldProcessUrl(c){return!0}extract(c){return c}merge(c,l){return c}}function I(h){throw h}function R(h,c,l){return c.parse("/")}function L(h,c){return dt(null)}const B={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ue=(()=>{class h{constructor(l,v,y,T,S,F,K){this.rootComponentType=l,this.urlSerializer=v,this.rootContexts=y,this.location=T,this.config=K,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ys.xQ,this.errorHandler=I,this.malformedUriErrorHandler=R,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:L,afterPreactivation:L},this.urlHandlingStrategy=new A,this.routeReuseStrategy=new m,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=S.get(E.h0i),this.console=S.get(E.c2e);const Ce=S.get(E.R0b);this.isNgZoneEnabled=Ce instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(K),this.currentUrlTree=new bi(new pt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new x(S,F,qe=>this.triggerEvent(new Zr(qe)),qe=>this.triggerEvent(new br(qe))),this.routerState=Du(this.currentUrlTree,this.rootComponentType),this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var l;return null===(l=this.location.getState())||void 0===l?void 0:l.\u0275routerPageId}setupNavigations(l){const v=this.events;return l.pipe(Dn(y=>0!==y.id),(0,Ht.U)(y=>Object.assign(Object.assign({},y),{extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl)})),lr(y=>{let T=!1,S=!1;return dt(y).pipe(Mn(F=>{this.currentNavigation={id:F.id,initialUrl:F.currentRawUrl,extractedUrl:F.extractedUrl,trigger:F.source,extras:F.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lr(F=>{const K=this.browserUrlTree.toString(),fe=!this.navigated||F.extractedUrl.toString()!==K||K!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||fe)&&this.urlHandlingStrategy.shouldProcessUrl(F.rawUrl))return ye(F.source)&&(this.browserUrlTree=F.extractedUrl),dt(F).pipe(lr(Ce=>{const qe=this.transitions.getValue();return v.next(new qr(Ce.id,this.serializeUrl(Ce.extractedUrl),Ce.source,Ce.restoredState)),qe!==this.transitions.getValue()?vi:Promise.resolve(Ce)}),function(h,c,l,v){return lr(y=>function(h,c,l,v,y){return new Yc(h,c,l,v,y).apply()}(h,c,l,y.extractedUrl,v).pipe((0,Ht.U)(T=>Object.assign(Object.assign({},y),{urlAfterRedirects:T}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Mn(Ce=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ce.urlAfterRedirects})}),function(h,c,l,v,y){return(0,cn.zg)(T=>function(h,c,l,v,y="emptyOnly",T="legacy"){try{const S=new wo(h,c,l,v,y,T).recognize();return null===S?eh(new ni):dt(S)}catch(S){return eh(S)}}(h,c,T.urlAfterRedirects,l(T.urlAfterRedirects),v,y).pipe((0,Ht.U)(S=>Object.assign(Object.assign({},T),{targetSnapshot:S}))))}(this.rootComponentType,this.config,Ce=>this.serializeUrl(Ce),this.paramsInheritanceStrategy,this.relativeLinkResolution),Mn(Ce=>{if("eager"===this.urlUpdateStrategy){if(!Ce.extras.skipLocationChange){const Ke=this.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl);this.setBrowserUrl(Ke,Ce)}this.browserUrlTree=Ce.urlAfterRedirects}const qe=new wf(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);v.next(qe)}));if(fe&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qe,extractedUrl:Ke,source:Jt,restoredState:Xn,extras:en}=F,tr=new qr(qe,this.serializeUrl(Ke),Jt,Xn);v.next(tr);const ai=Du(Ke,this.rootComponentType).snapshot;return dt(Object.assign(Object.assign({},F),{targetSnapshot:ai,urlAfterRedirects:Ke,extras:Object.assign(Object.assign({},en),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=F.rawUrl,F.resolve(null),vi}),o(F=>{const{targetSnapshot:K,id:fe,extractedUrl:Ue,rawUrl:Ce,extras:{skipLocationChange:qe,replaceUrl:Ke}}=F;return this.hooks.beforePreactivation(K,{navigationId:fe,appliedUrlTree:Ue,rawUrlTree:Ce,skipLocationChange:!!qe,replaceUrl:!!Ke})}),Mn(F=>{const K=new hu(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);this.triggerEvent(K)}),(0,Ht.U)(F=>Object.assign(Object.assign({},F),{guards:_o(F.targetSnapshot,F.currentSnapshot,this.rootContexts)})),function(h,c){return(0,cn.zg)(l=>{const{targetSnapshot:v,currentSnapshot:y,guards:{canActivateChecks:T,canDeactivateChecks:S}}=l;return 0===S.length&&0===T.length?dt(Object.assign(Object.assign({},l),{guardsResult:!0})):function(h,c,l,v){return(0,ur.D)(h).pipe((0,cn.zg)(y=>function(h,c,l,v,y){const T=c&&c.routeConfig?c.routeConfig.canDeactivate:null;return T&&0!==T.length?dt(T.map(F=>{const K=Ma(F,c,y);let fe;if(function(h){return h&&Gn(h.canDeactivate)}(K))fe=Er(K.canDeactivate(h,c,l,v));else{if(!Gn(K))throw new Error("Invalid CanDeactivate guard");fe=Er(K(h,c,l,v))}return fe.pipe(Ur())})).pipe(vo()):dt(!0)}(y.component,y.route,l,c,v)),Ur(y=>!0!==y,!0))}(S,v,y,h).pipe((0,cn.zg)(F=>F&&function(h){return"boolean"==typeof h}(F)?function(h,c,l,v){return(0,ur.D)(c).pipe(zi(y=>Zo(function(h,c){return null!==h&&c&&c(new io(h)),dt(!0)}(y.route.parent,v),function(h,c){return null!==h&&c&&c(new du(h)),dt(!0)}(y.route,v),function(h,c,l){const v=c[c.length-1],T=c.slice(0,c.length-1).reverse().map(S=>function(h){const c=h.routeConfig?h.routeConfig.canActivateChild:null;return c&&0!==c.length?{node:h,guards:c}:null}(S)).filter(S=>null!==S).map(S=>Es(()=>dt(S.guards.map(K=>{const fe=Ma(K,S.node,l);let Ue;if(function(h){return h&&Gn(h.canActivateChild)}(fe))Ue=Er(fe.canActivateChild(v,h));else{if(!Gn(fe))throw new Error("Invalid CanActivateChild guard");Ue=Er(fe(v,h))}return Ue.pipe(Ur())})).pipe(vo())));return dt(T).pipe(vo())}(h,y.path,l),function(h,c,l){const v=c.routeConfig?c.routeConfig.canActivate:null;if(!v||0===v.length)return dt(!0);const y=v.map(T=>Es(()=>{const S=Ma(T,c,l);let F;if(function(h){return h&&Gn(h.canActivate)}(S))F=Er(S.canActivate(c,h));else{if(!Gn(S))throw new Error("Invalid CanActivate guard");F=Er(S(c,h))}return F.pipe(Ur())}));return dt(y).pipe(vo())}(h,y.route,l))),Ur(y=>!0!==y,!0))}(v,T,h,c):dt(F)),(0,Ht.U)(F=>Object.assign(Object.assign({},l),{guardsResult:F})))})}(this.ngModule.injector,F=>this.triggerEvent(F)),Mn(F=>{if(Dr(F.guardsResult)){const fe=yi(`Redirecting to "${this.serializeUrl(F.guardsResult)}"`);throw fe.url=F.guardsResult,fe}const K=new Jn(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot,!!F.guardsResult);this.triggerEvent(K)}),Dn(F=>!!F.guardsResult||(this.restoreHistory(F),this.cancelNavigationTransition(F,""),!1)),o(F=>{if(F.guards.canActivateChecks.length)return dt(F).pipe(Mn(K=>{const fe=new fu(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot);this.triggerEvent(fe)}),lr(K=>{let fe=!1;return dt(K).pipe(function(h,c){return(0,cn.zg)(l=>{const{targetSnapshot:v,guards:{canActivateChecks:y}}=l;if(!y.length)return dt(l);let T=0;return(0,ur.D)(y).pipe(zi(S=>function(h,c,l,v){return function(h,c,l,v){const y=Object.keys(h);if(0===y.length)return dt({});const T={};return(0,ur.D)(y).pipe((0,cn.zg)(S=>function(h,c,l,v){const y=Ma(h,c,v);return Er(y.resolve?y.resolve(c,l):y(c,l))}(h[S],c,l,v).pipe(Mn(F=>{T[S]=F}))),Ds(1),(0,cn.zg)(()=>Object.keys(T).length===y.length?dt(T):vi))}(h._resolve,h,c,v).pipe((0,Ht.U)(T=>(h._resolvedData=T,h.data=Object.assign(Object.assign({},h.data),ei(h,l).resolve),null)))}(S.route,v,h,c)),Mn(()=>T++),Ds(1),(0,cn.zg)(S=>T===y.length?dt(l):vi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Mn({next:()=>fe=!0,complete:()=>{fe||(this.restoreHistory(K),this.cancelNavigationTransition(K,"At least one route resolver didn't emit any value."))}}))}),Mn(K=>{const fe=new xs(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot);this.triggerEvent(fe)}))}),o(F=>{const{targetSnapshot:K,id:fe,extractedUrl:Ue,rawUrl:Ce,extras:{skipLocationChange:qe,replaceUrl:Ke}}=F;return this.hooks.afterPreactivation(K,{navigationId:fe,appliedUrlTree:Ue,rawUrlTree:Ce,skipLocationChange:!!qe,replaceUrl:!!Ke})}),(0,Ht.U)(F=>{const K=function(h,c,l){const v=uo(h,c._root,l?l._root:void 0);return new Al(v,c)}(this.routeReuseStrategy,F.targetSnapshot,F.currentRouterState);return Object.assign(Object.assign({},F),{targetRouterState:K})}),Mn(F=>{this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects)}),((h,c,l)=>(0,Ht.U)(v=>(new Ol(c,v.targetRouterState,v.currentRouterState,l).activate(h),v)))(this.rootContexts,this.routeReuseStrategy,F=>this.triggerEvent(F)),Mn({next(){T=!0},complete(){T=!0}}),function(h){return c=>c.lift(new ea(h))}(()=>{var F;T||S||this.cancelNavigationTransition(y,`Navigation ID ${y.id} is not equal to the current navigation id ${this.navigationId}`),(null===(F=this.currentNavigation)||void 0===F?void 0:F.id)===y.id&&(this.currentNavigation=null)}),Br(F=>{if(S=!0,function(h){return h&&h[oa]}(F)){const K=Dr(F.url);K||(this.navigated=!0,this.restoreHistory(y,!0));const fe=new na(y.id,this.serializeUrl(y.extractedUrl),F.message);v.next(fe),K?setTimeout(()=>{const Ue=this.urlHandlingStrategy.merge(F.url,this.rawUrlTree),Ce={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ye(y.source)};this.scheduleNavigation(Ue,"imperative",null,Ce,{resolve:y.resolve,reject:y.reject,promise:y.promise})},0):y.resolve(!1)}else{this.restoreHistory(y,!0);const K=new Oc(y.id,this.serializeUrl(y.extractedUrl),F);v.next(K);try{y.resolve(this.errorHandler(F))}catch(fe){y.reject(fe)}}return vi}))}))}resetRootComponentType(l){this.rootComponentType=l,this.routerState.root.component=this.rootComponentType}setTransition(l){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),l))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(l=>{const v="popstate"===l.type?"popstate":"hashchange";"popstate"===v&&setTimeout(()=>{var y;const T={replaceUrl:!0},S=(null===(y=l.state)||void 0===y?void 0:y.navigationId)?l.state:null;if(S){const K=Object.assign({},S);delete K.navigationId,delete K.\u0275routerPageId,0!==Object.keys(K).length&&(T.state=K)}const F=this.parseUrl(l.url);this.scheduleNavigation(F,v,S,T)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(l){this.events.next(l)}resetConfig(l){Fl(l),this.config=l.map(zc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(l,v={}){const{relativeTo:y,queryParams:T,fragment:S,queryParamsHandling:F,preserveFragment:K}=v,fe=y||this.routerState.root,Ue=K?this.currentUrlTree.fragment:S;let Ce=null;switch(F){case"merge":Ce=Object.assign(Object.assign({},this.currentUrlTree.queryParams),T);break;case"preserve":Ce=this.currentUrlTree.queryParams;break;default:Ce=T||null}return null!==Ce&&(Ce=this.removeEmptyProps(Ce)),function(h,c,l,v,y){if(0===l.length)return Os(c.root,c.root,c,v,y);const T=function(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new cr(!0,0,h);let c=0,l=!1;const v=h.reduce((y,T,S)=>{if("object"==typeof T&&null!=T){if(T.outlets){const F={};return mn(T.outlets,(K,fe)=>{F[fe]="string"==typeof K?K.split("/"):K}),[...y,{outlets:F}]}if(T.segmentPath)return[...y,T.segmentPath]}return"string"!=typeof T?[...y,T]:0===S?(T.split("/").forEach((F,K)=>{0==K&&"."===F||(0==K&&""===F?l=!0:".."===F?c++:""!=F&&y.push(F))}),y):[...y,T]},[]);return new cr(l,c,v)}(l);if(T.toRoot())return Os(c.root,new pt([],{}),c,v,y);const S=function(h,c,l){if(h.isAbsolute)return new Da(c.root,!0,0);if(-1===l.snapshot._lastPathIndex){const T=l.snapshot._urlSegment;return new Da(T,T===c.root,0)}const v=lo(h.commands[0])?0:1;return function(h,c,l){let v=h,y=c,T=l;for(;T>y;){if(T-=y,v=v.parent,!v)throw new Error("Invalid number of '../'");y=v.segments.length}return new Da(v,!1,y-T)}(l.snapshot._urlSegment,l.snapshot._lastPathIndex+v,h.numberOfDoubleDots)}(T,c,h),F=S.processChildren?Su(S.segmentGroup,S.index,T.commands):Cu(S.segmentGroup,S.index,T.commands);return Os(S.segmentGroup,F,c,v,y)}(fe,this.currentUrlTree,l,Ce,null!=Ue?Ue:null)}navigateByUrl(l,v={skipLocationChange:!1}){const y=Dr(l)?l:this.parseUrl(l),T=this.urlHandlingStrategy.merge(y,this.rawUrlTree);return this.scheduleNavigation(T,"imperative",null,v)}navigate(l,v={skipLocationChange:!1}){return function(h){for(let c=0;c<h.length;c++){const l=h[c];if(null==l)throw new Error(`The requested path contains ${l} segment at index ${c}`)}}(l),this.navigateByUrl(this.createUrlTree(l,v),v)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){let v;try{v=this.urlSerializer.parse(l)}catch(y){v=this.malformedUriErrorHandler(y,this.urlSerializer,l)}return v}isActive(l,v){let y;if(y=!0===v?Object.assign({},B):!1===v?Object.assign({},X):v,Dr(l))return _i(this.currentUrlTree,l,y);const T=this.parseUrl(l);return _i(this.currentUrlTree,T,y)}removeEmptyProps(l){return Object.keys(l).reduce((v,y)=>{const T=l[y];return null!=T&&(v[y]=T),v},{})}processNavigations(){this.navigations.subscribe(l=>{this.navigated=!0,this.lastSuccessfulId=l.id,this.currentPageId=l.targetPageId,this.events.next(new ro(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,l.resolve(!0)},l=>{this.console.warn(`Unhandled Navigation Error: ${l}`)})}scheduleNavigation(l,v,y,T,S){var F,K,fe;if(this.disposed)return Promise.resolve(!1);const Ue=this.transitions.value,Ce=ye(v)&&Ue&&!ye(Ue.source),qe=Ue.rawUrl.toString()===l.toString(),Ke=Ue.id===(null===(F=this.currentNavigation)||void 0===F?void 0:F.id);if(Ce&&qe&&Ke)return Promise.resolve(!0);let Xn,en,tr;S?(Xn=S.resolve,en=S.reject,tr=S.promise):tr=new Promise((zr,Wu)=>{Xn=zr,en=Wu});const ai=++this.navigationId;let xr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(y=this.location.getState()),xr=y&&y.\u0275routerPageId?y.\u0275routerPageId:T.replaceUrl||T.skipLocationChange?null!==(K=this.browserPageId)&&void 0!==K?K:0:(null!==(fe=this.browserPageId)&&void 0!==fe?fe:0)+1):xr=0,this.setTransition({id:ai,targetPageId:xr,source:v,restoredState:y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:l,extras:T,resolve:Xn,reject:en,promise:tr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tr.catch(zr=>Promise.reject(zr))}setBrowserUrl(l,v){const y=this.urlSerializer.serialize(l),T=Object.assign(Object.assign({},v.extras.state),this.generateNgRouterState(v.id,v.targetPageId));this.location.isCurrentPathEqualTo(y)||v.extras.replaceUrl?this.location.replaceState(y,"",T):this.location.go(y,"",T)}restoreHistory(l,v=!1){var y,T;if("computed"===this.canceledNavigationResolution){const S=this.currentPageId-l.targetPageId;"popstate"!==l.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(y=this.currentNavigation)||void 0===y?void 0:y.finalUrl)||0===S?this.currentUrlTree===(null===(T=this.currentNavigation)||void 0===T?void 0:T.finalUrl)&&0===S&&(this.resetState(l),this.browserUrlTree=l.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(S)}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(l),this.resetUrlToCurrentUrlTree())}resetState(l){this.routerState=l.currentRouterState,this.currentUrlTree=l.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(l,v){const y=new na(l.id,this.serializeUrl(l.extractedUrl),v);this.triggerEvent(y),l.resolve(!1)}generateNgRouterState(l,v){return"computed"===this.canceledNavigationResolution?{navigationId:l,\u0275routerPageId:v}:{navigationId:l}}}return h.\u0275fac=function(l){E.$Z()},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();function ye(h){return"imperative"!==h}class Xe{}class xt{preload(c,l){return dt(null)}}let Ct=(()=>{class h{constructor(l,v,y,T){this.router=l,this.injector=y,this.preloadingStrategy=T,this.loader=new x(y,v,K=>l.triggerEvent(new Zr(K)),K=>l.triggerEvent(new br(K)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(l=>l instanceof ro),zi(()=>this.preload())).subscribe(()=>{})}preload(){const l=this.injector.get(E.h0i);return this.processRoutes(l,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(l,v){const y=[];for(const T of v)if(T.loadChildren&&!T.canLoad&&T._loadedConfig){const S=T._loadedConfig;y.push(this.processRoutes(S.module,S.routes))}else T.loadChildren&&!T.canLoad?y.push(this.preloadConfig(l,T)):T.children&&y.push(this.processRoutes(l,T.children));return(0,ur.D)(y).pipe((0,jn.J)(),(0,Ht.U)(T=>{}))}preloadConfig(l,v){return this.preloadingStrategy.preload(v,()=>(v._loadedConfig?dt(v._loadedConfig):this.loader.load(l.injector,v)).pipe((0,cn.zg)(T=>(v._loadedConfig=T,this.processRoutes(T.module,T.routes)))))}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(ue),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(Xe))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),rn=(()=>{class h{constructor(l,v,y={}){this.router=l,this.viewportScroller=v,this.options=y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},y.scrollPositionRestoration=y.scrollPositionRestoration||"disabled",y.anchorScrolling=y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(l=>{l instanceof qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=l.navigationTrigger,this.restoredId=l.restoredState?l.restoredState.navigationId:0):l instanceof ro&&(this.lastId=l.id,this.scheduleScrollEvent(l,this.router.parseUrl(l.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(l=>{l instanceof ia&&(l.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(l.position):l.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(l.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(l,v){this.router.triggerEvent(new ia(l,"popstate"===this.lastSource?this.store[this.restoredId]:null,v))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return h.\u0275fac=function(l){E.$Z()},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const Je=new E.OlP("ROUTER_CONFIGURATION"),it=new E.OlP("ROUTER_FORROOT_GUARD"),Ye=[zt,{provide:vu,useClass:Is},{provide:ue,useFactory:function(h,c,l,v,y,T,S={},F,K){const fe=new ue(null,h,c,l,v,y,la(T));return F&&(fe.urlHandlingStrategy=F),K&&(fe.routeReuseStrategy=K),function(h,c){h.errorHandler&&(c.errorHandler=h.errorHandler),h.malformedUriErrorHandler&&(c.malformedUriErrorHandler=h.malformedUriErrorHandler),h.onSameUrlNavigation&&(c.onSameUrlNavigation=h.onSameUrlNavigation),h.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=h.paramsInheritanceStrategy),h.relativeLinkResolution&&(c.relativeLinkResolution=h.relativeLinkResolution),h.urlUpdateStrategy&&(c.urlUpdateStrategy=h.urlUpdateStrategy),h.canceledNavigationResolution&&(c.canceledNavigationResolution=h.canceledNavigationResolution)}(S,fe),S.enableTracing&&fe.events.subscribe(Ue=>{var Ce,qe;null===(Ce=console.group)||void 0===Ce||Ce.call(console,`Router Event: ${Ue.constructor.name}`),console.log(Ue.toString()),console.log(Ue),null===(qe=console.groupEnd)||void 0===qe||qe.call(console)}),fe},deps:[vu,Zi,zt,E.zs3,E.Sil,w,Je,[class{},new E.FiY],[class{},new E.FiY]]},Zi,{provide:Ps,useFactory:function(h){return h.routerState.root},deps:[ue]},Ct,xt,class{preload(c,l){return l().pipe(Br(()=>dt(null)))}},{provide:Je,useValue:{enableTracing:!1}}];function ri(){return new E.PXZ("Router",ue)}let Ti=(()=>{class h{constructor(l,v){}static forRoot(l,v){return{ngModule:h,providers:[Ye,dr(l),{provide:it,useFactory:fr,deps:[[ue,new E.FiY,new E.tp0]]},{provide:Je,useValue:v||{}},{provide:Pe,useFactory:ii,deps:[J,[new E.tBr(je),new E.FiY],Je]},{provide:rn,useFactory:xi,deps:[ue,ll,Je]},{provide:Xe,useExisting:v&&v.preloadingStrategy?v.preloadingStrategy:xt},{provide:E.PXZ,multi:!0,useFactory:ri},[Tr,{provide:E.ip1,multi:!0,useFactory:si,deps:[Tr]},{provide:zn,useFactory:Dt,deps:[Tr]},{provide:E.tb,multi:!0,useExisting:zn}]]}}static forChild(l){return{ngModule:h,providers:[dr(l)]}}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(it,8),E.LFG(ue,8))},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({}),h})();function xi(h,c,l){return l.scrollOffset&&c.setOffset(l.scrollOffset),new rn(h,c,l)}function ii(h,c,l={}){return l.useHash?new mt(h,c):new Le(h,c)}function fr(h){return"guarded"}function dr(h){return[{provide:E.deG,multi:!0,useValue:h},{provide:w,multi:!0,useValue:h}]}let Tr=(()=>{class h{constructor(l){this.injector=l,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ys.xQ}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let v=null;const y=new Promise(F=>v=F),T=this.injector.get(ue),S=this.injector.get(Je);return"disabled"===S.initialNavigation?(T.setUpLocationChangeListener(),v(!0)):"enabled"===S.initialNavigation||"enabledBlocking"===S.initialNavigation?(T.hooks.afterPreactivation=()=>this.initNavigation?dt(null):(this.initNavigation=!0,v(!0),this.resultOfPreactivationDone),T.initialNavigation()):v(!0),y})}bootstrapListener(l){const v=this.injector.get(Je),y=this.injector.get(Ct),T=this.injector.get(rn),S=this.injector.get(ue),F=this.injector.get(E.z2F);l===F.components[0]&&(("enabledNonBlocking"===v.initialNavigation||void 0===v.initialNavigation)&&S.initialNavigation(),y.setUpPreloading(),T.init(),S.resetRootComponentType(F.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(E.zs3))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();function si(h){return h.appInitializer.bind(h)}function Dt(h){return h.bootstrapListener.bind(h)}const zn=new E.OlP("Router Initializer");var oi=k(2668);let rh=(()=>{class h{constructor(l){this.demoCanvas=l,this.timeSinceFPSUpdate=0,this.fpsCounter=0,this.avgFPS=0}update(l){const y=(l-this.previousStartTime)/1e3;this.previousStartTime=l;const T=Math.round(1/y);isNaN(y)||(this.timeSinceFPSUpdate+=y,this.fpsCounter++,this.avgFPS+=T),this.timeSinceFPSUpdate>=1&&(this.demoCanvas.onFpsUpdate(Math.round(this.avgFPS/this.fpsCounter)),this.avgFPS=0,this.fpsCounter=0,this.timeSinceFPSUpdate=0)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(oi.B))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Wh=(()=>{class h{constructor(l,v,y){this.resolver=l,this.demoCanvas=v,this.fpsCounter=y,this.BOIDS_COMPONENT_NAME="boids",this.ANTS_COMPONENT_NAME="ants",this.initialFactory=this.BOIDS_COMPONENT_NAME}init(l){return function(h,c,l,v){return new(l||(l=Promise))(function(T,S){function F(Ue){try{fe(v.next(Ue))}catch(Ce){S(Ce)}}function K(Ue){try{fe(v.throw(Ue))}catch(Ce){S(Ce)}}function fe(Ue){Ue.done?T(Ue.value):function(T){return T instanceof l?T:new l(function(S){S(T)})}(Ue.value).then(F,K)}fe((v=v.apply(h,c||[])).next())})}(this,void 0,void 0,function*(){this.demoContainer=l,document.getElementById("demo-simulation-wrapper").classList.replace("hidden","demo-simulation-wrapper");const{BoidsComponent:v}=yield Promise.all([k.e(592),k.e(811)]).then(k.bind(k,7811)),{AntsComponent:y}=yield Promise.all([k.e(592),k.e(755)]).then(k.bind(k,2755));this.componentFactories=new Map([[this.BOIDS_COMPONENT_NAME,this.getFactory(v)],[this.ANTS_COMPONENT_NAME,this.getFactory(y)]]),this.activateDemo(this.initialFactory)})}getFactory(l){return this.resolver.resolveComponentFactory(l)}activateDemo(l){if(!this.componentFactories.has(l))throw new Error(`No ComponentFactory named ${l}!`);null!=this.activeComponent&&this.stopDemo(),this.demoContainer.clear(),this.demoCanvas.removeAllChildrenFromStage(),this.demoCanvas.addFpsCounterToStage();const v=this.componentFactories.get(l);this.activeComponent=this.demoContainer.createComponent(v),this.demoCanvas.app.view.addEventListener("click",y=>this.activeComponent.instance.onTouch(y)),this.startDemo()}startDemo(){this.activeComponent.instance.init(),this.initComponentUI(),this.startSimulation()}initComponentUI(){this.initSliderColors(),this.demoCanvas.checkFullscreenSupported()}startSimulation(){this.animationFrameRequestID=window.requestAnimationFrame(this.gameLoop.bind(this))}gameLoop(l){this.activeComponent.instance.update(l),this.fpsCounter.update(l),this.startSimulation()}stopDemo(){this.stopSimulation(),null!=this.activeComponent&&this.activeComponent.instance.unloadResources()}stopSimulation(){window.cancelAnimationFrame(this.animationFrameRequestID)}initSliderColors(){const l=document.getElementById("color-holder"),v=window.getComputedStyle(l).getPropertyValue("color"),y=window.getComputedStyle(l).getPropertyValue("background-color"),T=document.getElementsByClassName("slider");for(const S of T)S.style.background="linear-gradient(to right, "+y+" 0%, "+y+" 50%, "+v+" 50%, "+v+" 100%)",S.oninput=function(){const F=(parseInt(S.value)-parseInt(S.min))/(parseInt(S.max)-parseInt(S.min))*100;S.style.background="linear-gradient(to right, "+y+" 0%, "+y+" "+F+"%, "+v+" "+F+"%, "+v+" 100%)"}}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(E._Vd),E.LFG(oi.B),E.LFG(rh))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var Fa=k(2862);let hp=(()=>{class h{ngAfterViewInit(){this.header=document.getElementById("header"),this.background=document.getElementById("hero-bg"),(Fa.d.isMobile()||Fa.d.isIpad())&&(this.background.style.marginTop=`${this.header.clientHeight}px`),this.setResizeListeners()}setResizeListeners(){this.maximizeHeroBackground(),window.addEventListener("orientationchange",()=>this.maximizeHeroBackground()),!Fa.d.isMobile()&&!Fa.d.isIpad()&&(window.onresize=()=>this.maximizeHeroBackground())}maximizeHeroBackground(){const l=parseInt(window.getComputedStyle(this.background).getPropertyValue("min-height")),v=window.innerHeight-this.header.clientHeight,y=Math.max(l,v);this.background.style.height=`${y}px`}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-hero"]],decls:16,vars:0,consts:[["id","hero-bg",1,"flex","items-center","bg-emergent-pattern","w-full","h-screen","min-h-[28rem]","bg-center","bg-cover","bg-no-repeat"],[1,"container","mx-auto","w-full"],[1,"mx-auto"],[1,"lg:m-20","md:my-48","z-10","text-center"],[1,"font-bold","text-5xl","md:text-[4rem]","lg:text-[6rem]"],[1,"text-sm","md:text-base","lg:xl","text-center","mt-2"],[1,"mx-auto","flex","justify-center","mt-16"],["href","#emergence-explainer"],[1,"button-primary"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"button-icon"],["d","M12.015 7c4.751 0 8.063 3.012 9.504 4.636-1.401 1.837-4.713 5.364-9.504 5.364-4.42 0-7.93-3.536-9.478-5.407 1.493-1.647 4.817-4.593 9.478-4.593zm0-2c-7.569 0-12.015 6.551-12.015 6.551s4.835 7.449 12.015 7.449c7.733 0 11.985-7.449 11.985-7.449s-4.291-6.551-11.985-6.551zm-.015 3c-2.21 0-4 1.791-4 4s1.79 4 4 4c2.209 0 4-1.791 4-4s-1.791-4-4-4zm-.004 3.999c-.564.564-1.479.564-2.044 0s-.565-1.48 0-2.044c.564-.564 1.479-.564 2.044 0s.565 1.479 0 2.044z"]],template:function(l,v){1&l&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"div",3),E.TgZ(4,"h1",4),E._uU(5," Emergent Behavior "),E.qZA(),E.TgZ(6,"div"),E.TgZ(7,"p",5),E._uU(8,"Learn about one of the most fundamental laws governing our reality"),E.qZA(),E.qZA(),E.TgZ(9,"div",6),E.TgZ(10,"a",7),E.TgZ(11,"button",8),E.O4$(),E.TgZ(12,"svg",9),E._UZ(13,"path",10),E.qZA(),E.kcU(),E.TgZ(14,"span"),E._uU(15,"What is emergence?"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA())},styles:[""]}),h})();const Yh=["pixi"],fp=["demo"],zl=["startButton"];function Xl(h,c){}const ih=[{path:"",component:(()=>{class h{constructor(l,v){this.demoService=l,this.demoCanvas=v}ngAfterViewInit(){this.demoCanvas.init(this.pixiContainer,this)}onLoadFinished(){this.demoService.init(this.demoContainer)}onDemoButtonClicked(l){const v=l.id;if(!v.includes("-button"))throw new Error("Malformed Emergent demo button id!");const y=v.split("-")[0];this.demoService.activateDemo(y)}onStartButtonClicked(){this.demoCanvas.loadResources(),document.getElementById("start-button-wrapper").style.display="none"}ngOnDestroy(){this.demoService.stopDemo(),this.demoCanvas.unloadResources()}}return h.\u0275fac=function(l){return new(l||h)(E.Y36(Wh),E.Y36(oi.B))},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-emergent-manager"]],viewQuery:function(l,v){if(1&l&&(E.Gf(Yh,5),E.Gf(fp,5,E.s_b),E.Gf(zl,5)),2&l){let y;E.iGM(y=E.CRH())&&(v.pixiContainer=y.first),E.iGM(y=E.CRH())&&(v.demoContainer=y.first),E.iGM(y=E.CRH())&&(v.startButton=y.first)}},features:[E._Bn([])],decls:47,vars:0,consts:[["id","emergence-explainer",1,"container","mt-56","flex","justify-between","items-center","mx-auto","px-8","md:px-14","lg:px-24","2xl:px-28","w-full","mt-40"],[1,"w-full"],[1,"secondary-title"],[1,"section-paragraph"],["id","simulation",1,"relative","overflow-hidden","mt-8"],["pixi",""],["id","start-button-wrapper",1,"absolute","inline","top-1/2","left-1/2","text-center",2,"transform","translate(-50%, -50%)"],["href","#simulation"],["id","start-button",1,"button","font-bold","p-4","bg-theme","border-theme-accent","hover:bg-theme-accent",3,"click"],["id","demo-simulation-wrapper",1,"hidden"],["id","boids-button",1,"demo-simulation-button",3,"click"],["boids",""],["id","ants-button",1,"demo-simulation-button",3,"click"],["ants",""],["demo",""]],template:function(l,v){if(1&l){const y=E.EpF();E._UZ(0,"app-hero"),E.TgZ(1,"div",0),E.TgZ(2,"section",1),E.TgZ(3,"h2",2),E._uU(4,"Emergent algorithms"),E.qZA(),E.TgZ(5,"p",3),E._uU(6," Below you can try some simulations of emergent behavior. "),E.qZA(),E.TgZ(7,"h3"),E._uU(8,"What is emergent behavior?"),E.qZA(),E.TgZ(9,"p"),E._uU(10," Emergent behavior is the result of many small entities working with a simple ruleset to create something that's larger than the sum of its parts. "),E._UZ(11,"br"),E._uU(12," Each agent in these simulations acts on a very simple ruleset and can not do much on its own. When it interacts with the other agents however, new properties and behaviors emerge which were not part of either agent before. This phenomenon is so common that it might even be what combines the building blocks of nature into the very reality we perceive. "),E.qZA(),E._UZ(13,"br"),E.TgZ(14,"h3"),E._uU(15,"Where does emergent behavior occur?"),E.qZA(),E.TgZ(16,"p"),E._uU(17,"We can observe emergence in nonliving physical systems like the ripple patterns forming in sand dunes, water crystals forming into snow flakes, and even in the very fabric of space and time that governs our existence, since the laws of physics themselves likely stem from emergent behavior. "),E._UZ(18,"br"),E._uU(19," This in turn might mean that chemistry is an emergent property of the laws of physics, and biology one of the laws of chemistry. "),E._UZ(20,"br"),E._uU(21," The simulations here will focus on biological and social effects of emergence in the form of swarming behavior as observed in schooling fish, and flocking birds among others, as well as the foraging behavior of ant colonies. "),E.qZA(),E._UZ(22,"br"),E.TgZ(23,"h3"),E._uU(24,"Usage tips"),E.qZA(),E.TgZ(25,"p"),E._uU(26,"Please press the start button below to initiate the simulation. "),E._UZ(27,"br"),E._uU(28," You can switch between the models by pressing one of the buttons that will appear on the left side. "),E._UZ(29,"br"),E._uU(30," You will find some more explanations for the active simulation further down below. "),E.qZA(),E.qZA(),E.qZA(),E.TgZ(31,"div",4,5),E.TgZ(33,"div",6),E.TgZ(34,"a",7),E.TgZ(35,"button",8),E.NdJ("click",function(){return v.onStartButtonClicked()}),E.TgZ(36,"p"),E._uU(37,"Start"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.TgZ(38,"div",9),E.TgZ(39,"button",10,11),E.NdJ("click",function(){E.CHM(y);const S=E.MAs(40);return v.onDemoButtonClicked(S)}),E._uU(41,"Boids"),E.qZA(),E.TgZ(42,"button",12,13),E.NdJ("click",function(){E.CHM(y);const S=E.MAs(43);return v.onDemoButtonClicked(S)}),E._uU(44,"Ants"),E.qZA(),E.qZA(),E.YNc(45,Xl,0,0,"ng-template",null,14,E.W1O),E.qZA()}},directives:[hp],styles:[""]}),h})()}];let sh=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({imports:[[Ti.forRoot(ih,{relativeLinkResolution:"legacy"})],Ti]}),h})(),dp=(()=>{class h{constructor(){this.hiddenClass="hidden",this.visibleClass="block"}ngAfterViewInit(){this.header=document.getElementById("header"),this.linkWrapper=document.getElementById("nav-links"),this.modal=document.getElementById("modal"),this.hamburger=document.getElementById("hamburger"),this.prevScrollPos=window.scrollY,this.prevURL=window.location.href,window.onscroll=()=>this.onScroll(),this.modal.onclick=()=>this.toggleNavLinks(!0)}onScroll(){const l=window.scrollY;if(l<=this.header.clientHeight)this.showHeader();else{if(this.hasClass(this.linkWrapper,"hidden"))return window.location.href!=this.prevURL?(this.prevURL=window.location.href,this.prevScrollPos=l,void this.hideHeader()):void(Math.abs(l-this.prevScrollPos)<10||(this.prevScrollPos>l?this.showHeader():this.hideHeader(),this.prevScrollPos=l));this.prevScrollPos=l}}showHeader(){this.header.style.top="0"}hideHeader(){this.header.style.top=`-${this.header.clientHeight}`}toggleNavLinks(l=!1){"none"!=window.getComputedStyle(this.hamburger).getPropertyValue("display")&&(this.hasClass(this.linkWrapper,this.visibleClass)?this.replaceClass(this.linkWrapper,this.visibleClass,this.hiddenClass):l||this.replaceClass(this.linkWrapper,this.hiddenClass,this.visibleClass))}hasClass(l,v){const y=new RegExp("(?:^|\\s)"+v+"(?!\\S)");return null!=l.className.match(y)}removeClass(l,v){const y=new RegExp("(?:^|\\s)"+v+"(?!\\S)");l.className=l.className.replace(y,"")}addClass(l,v){l.className+=` ${v}`}replaceClass(l,v,y){const T=new RegExp("(?:^|\\s)"+v+"(?!\\S)");l.className=l.className.replace(T,y)}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-header"]],decls:26,vars:0,consts:[["id","header",1,"fixed","bg-body","xl:static","z-50","w-full"],[1,"bg-body","relative","rounded-b","shadow-xl","py-2","px-6","md:flex","justify-between","items-center","mx-auto","w-full"],["id","logo","href","https://patrick-mahnkopf.github.io/",1,"text-lg","py-4","font-bold","link",3,"click"],["id","nav-links",1,"hidden","nav-links"],["href","https://patrick-mahnkopf.github.io/",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#projects",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#skills",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#about",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#contact",1,"md:hidden","nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#contact",1,"hidden","md:block",3,"click"],[1,"flex","button","px-2","py-1","bg-theme","border-theme-accent"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24",1,"button-icon"],["d","M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z"],["id","modal",1,"modal","md:hidden"],["id","hamburger",1,"absolute","top-0","right-0","p-5","md:hidden",3,"click"],["width","26","height","18","viewBox","0 0 26 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13 17.5H0.25V14.6667H13V17.5ZM25.75 10.4167H0.25V7.58333H25.75V10.4167ZM25.75 3.33333H13V0.5H25.75V3.33333Z","fill","white"]],template:function(l,v){1&l&&(E.TgZ(0,"header",0),E.TgZ(1,"div",1),E.TgZ(2,"a",2),E.NdJ("click",function(){return v.toggleNavLinks(!0)}),E._uU(3,"Patrick Mahnkopf"),E.qZA(),E.TgZ(4,"div",3),E.TgZ(5,"a",4),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(6,"Home"),E.qZA(),E.TgZ(7,"a",5),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(8,"Projects"),E.qZA(),E.TgZ(9,"a",6),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(10,"Skills"),E.qZA(),E.TgZ(11,"a",7),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(12,"About"),E.qZA(),E.TgZ(13,"a",8),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(14,"Contact"),E.qZA(),E.TgZ(15,"a",9),E.NdJ("click",function(){return v.toggleNavLinks()}),E.TgZ(16,"button",10),E.TgZ(17,"div"),E.O4$(),E.TgZ(18,"svg",11),E._UZ(19,"path",12),E.qZA(),E.qZA(),E.kcU(),E.TgZ(20,"span"),E._uU(21,"Contact me"),E.qZA(),E.qZA(),E.qZA(),E._UZ(22,"div",13),E.qZA(),E.TgZ(23,"div",14),E.NdJ("click",function(){return v.toggleNavLinks()}),E.O4$(),E.TgZ(24,"svg",15),E._UZ(25,"path",16),E.qZA(),E.qZA(),E.qZA(),E.qZA())},styles:[""]}),h})(),Of=(()=>{class h{constructor(){this.myDate=new Date,this.currentDate=Co(new Date,"yyyy","en")}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-footer"]],decls:16,vars:4,consts:[[1,"mt-28","py-2","px-8","md:px-14","lg:px-24","w-full","bg-body-accent"],[1,"container","flex","justify-between","items-center","md:px-14","lg:px-24","w-full"],["id","copyright",1,"text-xs","md:text-sm"],[1,"flex","justify-center"],["href","https://www.linkedin.com/in/patrick-mahnkopf/","target","_blank","rel","noopener noreferrer",1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","aria-labelledby","footer-linkedin-title",1,"icon-link"],["id","footer-linkedin-title"],["d","M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"],["href","https://github.com/patrick-mahnkopf","target","_blank","rel","noopener noreferrer",1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","aria-labelledby","footer-github-title",1,"icon-link"],["id","footer-github-title"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"]],template:function(l,v){1&l&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"span",2),E._uU(3),E.ALo(4,"date"),E.qZA(),E.TgZ(5,"span",3),E.TgZ(6,"a",4),E.O4$(),E.TgZ(7,"svg",5),E.TgZ(8,"title",6),E._uU(9,"A link to my LinkedIn profile"),E.qZA(),E._UZ(10,"path",7),E.qZA(),E.qZA(),E.kcU(),E.TgZ(11,"a",8),E.O4$(),E.TgZ(12,"svg",9),E.TgZ(13,"title",10),E._uU(14,"A link to my GitHub profile"),E.qZA(),E._UZ(15,"path",11),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&l&&(E.xp6(3),E.hij("\xa9 ",E.xi3(4,1,v.myDate,"yyyy")," Patrick Mahnkopf"))},pipes:[bc],styles:[""]}),h})(),Rf=(()=>{class h{constructor(){this.title="emergent-algorithms"}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-root"]],decls:3,vars:0,template:function(l,v){1&l&&(E._UZ(0,"app-header"),E._UZ(1,"router-outlet"),E._UZ(2,"app-footer"))},directives:[dp,Fu,Of],styles:[""]}),h})();var Ff=k(1497),Nf=k(8362);let Zh=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275mod=E.oAB({type:h,bootstrap:[Rf]}),h.\u0275inj=E.cJS({providers:[Ff.g,Nf.K],imports:[[Wr,sh]]}),h})();(0,E.G48)(),jo().bootstrapModule(Zh).catch(h=>console.error(h))},9170:He=>{"use strict";var ce=Object.prototype.hasOwnProperty,k="~";function E(){}function oe(Z,G,J){this.fn=Z,this.context=G,this.once=J||!1}function ve(Z,G,J,ne,$){if("function"!=typeof J)throw new TypeError("The listener must be a function");var V=new oe(J,ne||Z,$),Y=k?k+G:G;return Z._events[Y]?Z._events[Y].fn?Z._events[Y]=[Z._events[Y],V]:Z._events[Y].push(V):(Z._events[Y]=V,Z._eventsCount++),Z}function q(Z,G){0==--Z._eventsCount?Z._events=new E:delete Z._events[G]}function te(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),(new E).__proto__||(k=!1)),te.prototype.eventNames=function(){var J,ne,G=[];if(0===this._eventsCount)return G;for(ne in J=this._events)ce.call(J,ne)&&G.push(k?ne.slice(1):ne);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(J)):G},te.prototype.listeners=function(G){var ne=this._events[k?k+G:G];if(!ne)return[];if(ne.fn)return[ne.fn];for(var $=0,V=ne.length,Y=new Array(V);$<V;$++)Y[$]=ne[$].fn;return Y},te.prototype.listenerCount=function(G){var ne=this._events[k?k+G:G];return ne?ne.fn?1:ne.length:0},te.prototype.emit=function(G,J,ne,$,V,Y){var W=k?k+G:G;if(!this._events[W])return!1;var ae,Pe,re=this._events[W],we=arguments.length;if(re.fn){switch(re.once&&this.removeListener(G,re.fn,void 0,!0),we){case 1:return re.fn.call(re.context),!0;case 2:return re.fn.call(re.context,J),!0;case 3:return re.fn.call(re.context,J,ne),!0;case 4:return re.fn.call(re.context,J,ne,$),!0;case 5:return re.fn.call(re.context,J,ne,$,V),!0;case 6:return re.fn.call(re.context,J,ne,$,V,Y),!0}for(Pe=1,ae=new Array(we-1);Pe<we;Pe++)ae[Pe-1]=arguments[Pe];re.fn.apply(re.context,ae)}else{var je,Ve=re.length;for(Pe=0;Pe<Ve;Pe++)switch(re[Pe].once&&this.removeListener(G,re[Pe].fn,void 0,!0),we){case 1:re[Pe].fn.call(re[Pe].context);break;case 2:re[Pe].fn.call(re[Pe].context,J);break;case 3:re[Pe].fn.call(re[Pe].context,J,ne);break;case 4:re[Pe].fn.call(re[Pe].context,J,ne,$);break;default:if(!ae)for(je=1,ae=new Array(we-1);je<we;je++)ae[je-1]=arguments[je];re[Pe].fn.apply(re[Pe].context,ae)}}return!0},te.prototype.on=function(G,J,ne){return ve(this,G,J,ne,!1)},te.prototype.once=function(G,J,ne){return ve(this,G,J,ne,!0)},te.prototype.removeListener=function(G,J,ne,$){var V=k?k+G:G;if(!this._events[V])return this;if(!J)return q(this,V),this;var Y=this._events[V];if(Y.fn)Y.fn===J&&(!$||Y.once)&&(!ne||Y.context===ne)&&q(this,V);else{for(var W=0,re=[],we=Y.length;W<we;W++)(Y[W].fn!==J||$&&!Y[W].once||ne&&Y[W].context!==ne)&&re.push(Y[W]);re.length?this._events[V]=1===re.length?re[0]:re:q(this,V)}return this},te.prototype.removeAllListeners=function(G){var J;return G?this._events[J=k?k+G:G]&&q(this,J):(this._events=new E,this._eventsCount=0),this},te.prototype.off=te.prototype.removeListener,te.prototype.addListener=te.prototype.on,te.prefixed=k,te.EventEmitter=te,He.exports=te},5469:He=>{"use strict";function ce(O,U,H){H=H||2;var Te,Be,Ee,Ae,ze,Qe,Ie,de=U&&U.length,se=de?U[0]*H:O.length,z=k(O,0,se,H,!0),ee=[];if(!z||z.next===z.prev)return ee;if(de&&(z=function(O,U,H,de){var z,ee,Ee,se=[];for(z=0,ee=U.length;z<ee;z++)(Ee=k(O,U[z]*de,z<ee-1?U[z+1]*de:O.length,de,!1))===Ee.next&&(Ee.steiner=!0),se.push(we(Ee));for(se.sort(J),z=0;z<se.length;z++)H=E(H=ne(se[z],H),H.next);return H}(O,U,z,H)),O.length>80*H){Te=Ee=O[0],Be=Ae=O[1];for(var Oe=H;Oe<se;Oe+=H)(ze=O[Oe])<Te&&(Te=ze),(Qe=O[Oe+1])<Be&&(Be=Qe),ze>Ee&&(Ee=ze),Qe>Ae&&(Ae=Qe);Ie=0!==(Ie=Math.max(Ee-Te,Ae-Be))?1/Ie:0}return oe(z,ee,H,Te,Be,Ie),ee}function k(O,U,H,de,se){var z,ee;if(se===ge(O,U,H,de)>0)for(z=U;z<H;z+=de)ee=xe(z,O[z],O[z+1],ee);else for(z=H-de;z>=U;z-=de)ee=xe(z,O[z],O[z+1],ee);return ee&&je(ee,ee.next)&&(Me(ee),ee=ee.next),ee}function E(O,U){if(!O)return O;U||(U=O);var de,H=O;do{if(de=!1,H.steiner||!je(H,H.next)&&0!==Ve(H.prev,H,H.next))H=H.next;else{if(Me(H),(H=U=H.prev)===H.next)break;de=!0}}while(de||H!==U);return U}function oe(O,U,H,de,se,z,ee){if(O){!ee&&z&&function(O,U,H,de){var se=O;do{null===se.z&&(se.z=re(se.x,se.y,U,H,de)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next}while(se!==O);se.prevZ.nextZ=null,se.prevZ=null,function(O){var U,H,de,se,z,ee,Te,Be,Ee=1;do{for(H=O,O=null,z=null,ee=0;H;){for(ee++,de=H,Te=0,U=0;U<Ee&&(Te++,de=de.nextZ);U++);for(Be=Ee;Te>0||Be>0&&de;)0!==Te&&(0===Be||!de||H.z<=de.z)?(se=H,H=H.nextZ,Te--):(se=de,de=de.nextZ,Be--),z?z.nextZ=se:O=se,se.prevZ=z,z=se;H=de}z.nextZ=null,Ee*=2}while(ee>1)}(se)}(O,de,se,z);for(var Be,Ee,Te=O;O.prev!==O.next;)if(Be=O.prev,Ee=O.next,z?q(O,de,se,z):ve(O))U.push(Be.i/H),U.push(O.i/H),U.push(Ee.i/H),Me(O),O=Ee.next,Te=Ee.next;else if((O=Ee)===Te){ee?1===ee?oe(O=te(E(O),U,H),U,H,de,se,z,2):2===ee&&Z(O,U,H,de,se,z):oe(E(O),U,H,de,se,z,1);break}}}function ve(O){var U=O.prev,H=O,de=O.next;if(Ve(U,H,de)>=0)return!1;for(var se=O.next.next;se!==O.prev;){if(ae(U.x,U.y,H.x,H.y,de.x,de.y,se.x,se.y)&&Ve(se.prev,se,se.next)>=0)return!1;se=se.next}return!0}function q(O,U,H,de){var se=O.prev,z=O,ee=O.next;if(Ve(se,z,ee)>=0)return!1;for(var Ee=se.x>z.x?se.x>ee.x?se.x:ee.x:z.x>ee.x?z.x:ee.x,Ae=se.y>z.y?se.y>ee.y?se.y:ee.y:z.y>ee.y?z.y:ee.y,ze=re(se.x<z.x?se.x<ee.x?se.x:ee.x:z.x<ee.x?z.x:ee.x,se.y<z.y?se.y<ee.y?se.y:ee.y:z.y<ee.y?z.y:ee.y,U,H,de),Qe=re(Ee,Ae,U,H,de),Ie=O.prevZ,Oe=O.nextZ;Ie&&Ie.z>=ze&&Oe&&Oe.z<=Qe;){if(Ie!==O.prev&&Ie!==O.next&&ae(se.x,se.y,z.x,z.y,ee.x,ee.y,Ie.x,Ie.y)&&Ve(Ie.prev,Ie,Ie.next)>=0||(Ie=Ie.prevZ,Oe!==O.prev&&Oe!==O.next&&ae(se.x,se.y,z.x,z.y,ee.x,ee.y,Oe.x,Oe.y)&&Ve(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;Ie&&Ie.z>=ze;){if(Ie!==O.prev&&Ie!==O.next&&ae(se.x,se.y,z.x,z.y,ee.x,ee.y,Ie.x,Ie.y)&&Ve(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.prevZ}for(;Oe&&Oe.z<=Qe;){if(Oe!==O.prev&&Oe!==O.next&&ae(se.x,se.y,z.x,z.y,ee.x,ee.y,Oe.x,Oe.y)&&Ve(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function te(O,U,H){var de=O;do{var se=de.prev,z=de.next.next;!je(se,z)&&Le(se,de,de.next,z)&&at(se,z)&&at(z,se)&&(U.push(se.i/H),U.push(de.i/H),U.push(z.i/H),Me(de),Me(de.next),de=O=z),de=de.next}while(de!==O);return E(de)}function Z(O,U,H,de,se,z){var ee=O;do{for(var Te=ee.next.next;Te!==ee.prev;){if(ee.i!==Te.i&&Pe(ee,Te)){var Be=le(ee,Te);return ee=E(ee,ee.next),Be=E(Be,Be.next),oe(ee,U,H,de,se,z),void oe(Be,U,H,de,se,z)}Te=Te.next}ee=ee.next}while(ee!==O)}function J(O,U){return O.x-U.x}function ne(O,U){var H=function(O,U){var ee,H=U,de=O.x,se=O.y,z=-1/0;do{if(se<=H.y&&se>=H.next.y&&H.next.y!==H.y){var Te=H.x+(se-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(Te<=de&&Te>z){if(z=Te,Te===de){if(se===H.y)return H;if(se===H.next.y)return H.next}ee=H.x<H.next.x?H:H.next}}H=H.next}while(H!==U);if(!ee)return null;if(de===z)return ee;var Qe,Be=ee,Ee=ee.x,Ae=ee.y,ze=1/0;H=ee;do{de>=H.x&&H.x>=Ee&&de!==H.x&&ae(se<Ae?de:z,se,Ee,Ae,se<Ae?z:de,se,H.x,H.y)&&(Qe=Math.abs(se-H.y)/(de-H.x),at(H,O)&&(Qe<ze||Qe===ze&&(H.x>ee.x||H.x===ee.x&&V(ee,H)))&&(ee=H,ze=Qe)),H=H.next}while(H!==Be);return ee}(O,U);if(!H)return U;var de=le(H,O),se=E(H,H.next);return E(de,de.next),U===H?se:U}function V(O,U){return Ve(O.prev,O,U.prev)<0&&Ve(U.next,O,O.next)<0}function re(O,U,H,de,se){return(O=1431655765&((O=858993459&((O=252645135&((O=16711935&((O=32767*(O-H)*se)|O<<8))|O<<4))|O<<2))|O<<1))|(U=1431655765&((U=858993459&((U=252645135&((U=16711935&((U=32767*(U-de)*se)|U<<8))|U<<4))|U<<2))|U<<1))<<1}function we(O){var U=O,H=O;do{(U.x<H.x||U.x===H.x&&U.y<H.y)&&(H=U),U=U.next}while(U!==O);return H}function ae(O,U,H,de,se,z,ee,Te){return(se-ee)*(U-Te)-(O-ee)*(z-Te)>=0&&(O-ee)*(de-Te)-(H-ee)*(U-Te)>=0&&(H-ee)*(z-Te)-(se-ee)*(de-Te)>=0}function Pe(O,U){return O.next.i!==U.i&&O.prev.i!==U.i&&!function(O,U){var H=O;do{if(H.i!==O.i&&H.next.i!==O.i&&H.i!==U.i&&H.next.i!==U.i&&Le(H,H.next,O,U))return!0;H=H.next}while(H!==O);return!1}(O,U)&&(at(O,U)&&at(U,O)&&function(O,U){var H=O,de=!1,se=(O.x+U.x)/2,z=(O.y+U.y)/2;do{H.y>z!=H.next.y>z&&H.next.y!==H.y&&se<(H.next.x-H.x)*(z-H.y)/(H.next.y-H.y)+H.x&&(de=!de),H=H.next}while(H!==O);return de}(O,U)&&(Ve(O.prev,O,U.prev)||Ve(O,U.prev,U))||je(O,U)&&Ve(O.prev,O,O.next)>0&&Ve(U.prev,U,U.next)>0)}function Ve(O,U,H){return(U.y-O.y)*(H.x-U.x)-(U.x-O.x)*(H.y-U.y)}function je(O,U){return O.x===U.x&&O.y===U.y}function Le(O,U,H,de){var se=zt(Ve(O,U,H)),z=zt(Ve(O,U,de)),ee=zt(Ve(H,de,O)),Te=zt(Ve(H,de,U));return!!(se!==z&&ee!==Te||0===se&&mt(O,H,U)||0===z&&mt(O,de,U)||0===ee&&mt(H,O,de)||0===Te&&mt(H,U,de))}function mt(O,U,H){return U.x<=Math.max(O.x,H.x)&&U.x>=Math.min(O.x,H.x)&&U.y<=Math.max(O.y,H.y)&&U.y>=Math.min(O.y,H.y)}function zt(O){return O>0?1:O<0?-1:0}function at(O,U){return Ve(O.prev,O,O.next)<0?Ve(O,U,O.next)>=0&&Ve(O,O.prev,U)>=0:Ve(O,U,O.prev)<0||Ve(O,O.next,U)<0}function le(O,U){var H=new Ze(O.i,O.x,O.y),de=new Ze(U.i,U.x,U.y),se=O.next,z=U.prev;return O.next=U,U.prev=O,H.next=se,se.prev=H,de.next=H,H.prev=de,z.next=de,de.prev=z,de}function xe(O,U,H,de){var se=new Ze(O,U,H);return de?(se.next=de.next,se.prev=de,de.next.prev=se,de.next=se):(se.prev=se,se.next=se),se}function Me(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function Ze(O,U,H){this.i=O,this.x=U,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ge(O,U,H,de){for(var se=0,z=U,ee=H-de;z<H;z+=de)se+=(O[ee]-O[z])*(O[z+1]+O[ee+1]),ee=z;return se}He.exports=ce,He.exports.default=ce,ce.deviation=function(O,U,H,de){var se=U&&U.length,ee=Math.abs(ge(O,0,se?U[0]*H:O.length,H));if(se)for(var Te=0,Be=U.length;Te<Be;Te++)ee-=Math.abs(ge(O,U[Te]*H,Te<Be-1?U[Te+1]*H:O.length,H));var ze=0;for(Te=0;Te<de.length;Te+=3){var Qe=de[Te]*H,Ie=de[Te+1]*H,Oe=de[Te+2]*H;ze+=Math.abs((O[Qe]-O[Oe])*(O[Ie+1]-O[Qe+1])-(O[Qe]-O[Ie])*(O[Oe+1]-O[Qe+1]))}return 0===ee&&0===ze?0:Math.abs((ze-ee)/ee)},ce.flatten=function(O){for(var U=O[0][0].length,H={vertices:[],holes:[],dimensions:U},de=0,se=0;se<O.length;se++){for(var z=0;z<O[se].length;z++)for(var ee=0;ee<U;ee++)H.vertices.push(O[se][z][ee]);se>0&&H.holes.push(de+=O[se-1].length)}return H}},7793:function(He,ce,k){var E;!function(oe){var le,ve=oe.Promise,q=ve&&"resolve"in ve&&"reject"in ve&&"all"in ve&&"race"in ve&&(new ve(function(xe){le=xe}),"function"==typeof le);ce?(ce.Promise=q?ve:ie,ce.Polyfill=ie):void 0!==(E=function(){return q?ve:ie}.call(ce,k,ce,He))&&(He.exports=E);var te="pending",Z="sealed",G="fulfilled",J="rejected",ne=function(){};function $(le){return"[object Array]"===Object.prototype.toString.call(le)}var W,V="undefined"!=typeof setImmediate?setImmediate:setTimeout,Y=[];function re(){for(var le=0;le<Y.length;le++)Y[le][0](Y[le][1]);Y=[],W=!1}function we(le,xe){Y.push([le,xe]),W||(W=!0,V(re,0))}function Pe(le){var xe=le.owner,Me=xe.state_,Ze=xe.data_,ge=le[Me],O=le.then;if("function"==typeof ge){Me=G;try{Ze=ge(Ze)}catch(U){mt(O,U)}}Ve(O,Ze)||(Me===G&&je(O,Ze),Me===J&&mt(O,Ze))}function Ve(le,xe){var Me;try{if(le===xe)throw new TypeError("A promises callback cannot return that same promise.");if(xe&&("function"==typeof xe||"object"==typeof xe)){var Ze=xe.then;if("function"==typeof Ze)return Ze.call(xe,function(ge){Me||(Me=!0,xe!==ge?je(le,ge):Le(le,ge))},function(ge){Me||(Me=!0,mt(le,ge))}),!0}}catch(ge){return Me||mt(le,ge),!0}return!1}function je(le,xe){(le===xe||!Ve(le,xe))&&Le(le,xe)}function Le(le,xe){le.state_===te&&(le.state_=Z,le.data_=xe,we(he,le))}function mt(le,xe){le.state_===te&&(le.state_=Z,le.data_=xe,we(at,le))}function zt(le){var xe=le.then_;le.then_=void 0;for(var Me=0;Me<xe.length;Me++)Pe(xe[Me])}function he(le){le.state_=G,zt(le)}function at(le){le.state_=J,zt(le)}function ie(le){if("function"!=typeof le)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof ie))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(le,xe){function Ze(ge){mt(xe,ge)}try{le(function(ge){je(xe,ge)},Ze)}catch(ge){Ze(ge)}}(le,this)}ie.prototype={constructor:ie,state_:te,then_:null,data_:void 0,then:function(le,xe){var Me={owner:this,then:new this.constructor(ne),fulfilled:le,rejected:xe};return this.state_===G||this.state_===J?we(Pe,Me):this.then_.push(Me),Me.then},catch:function(le){return this.then(null,le)}},ie.all=function(le){if(!$(le))throw new TypeError("You must pass an array to Promise.all().");return new this(function(Me,Ze){var ge=[],O=0;function U(se){return O++,function(z){ge[se]=z,--O||Me(ge)}}for(var de,H=0;H<le.length;H++)(de=le[H])&&"function"==typeof de.then?de.then(U(H),Ze):ge[H]=de;O||Me(ge)})},ie.race=function(le){if(!$(le))throw new TypeError("You must pass an array to Promise.race().");return new this(function(Me,Ze){for(var O,ge=0;ge<le.length;ge++)(O=le[ge])&&"function"==typeof O.then?O.then(Me,Ze):Me(O)})},ie.resolve=function(le){return le&&"object"==typeof le&&le.constructor===this?le:new this(function(Me){Me(le)})},ie.reject=function(le){return new this(function(Me,Ze){Ze(le)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)},936:(He,ce)=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});var k=function(){function te(Z,G){for(var J=0;J<G.length;J++){var ne=G[J];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Z,ne.key,ne)}}return function(Z,G,J){return G&&te(Z.prototype,G),J&&te(Z,J),Z}}();function E(te,Z){if(!(te instanceof Z))throw new TypeError("Cannot call a class as a function")}var oe=function(){function te(Z,G,J){void 0===G&&(G=!1),E(this,te),this._fn=Z,this._once=G,this._thisArg=J,this._next=this._prev=this._owner=null}return k(te,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),te}();function ve(te,Z){return te._head?(te._tail._next=Z,Z._prev=te._tail,te._tail=Z):(te._head=Z,te._tail=Z),Z._owner=te,Z}var q=function(){function te(){E(this,te),this._head=this._tail=void 0}return k(te,[{key:"handlers",value:function(){var G=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],J=this._head;if(G)return!!J;for(var ne=[];J;)ne.push(J),J=J._next;return ne}},{key:"has",value:function(G){if(!(G instanceof oe))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return G._owner===this}},{key:"dispatch",value:function(){var G=this._head;if(!G)return!1;for(;G;)G._once&&this.detach(G),G._fn.apply(G._thisArg,arguments),G=G._next;return!0}},{key:"add",value:function(G){var J=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof G)throw new Error("MiniSignal#add(): First arg must be a Function.");return ve(this,new oe(G,!1,J))}},{key:"once",value:function(G){var J=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof G)throw new Error("MiniSignal#once(): First arg must be a Function.");return ve(this,new oe(G,!0,J))}},{key:"detach",value:function(G){if(!(G instanceof oe))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return G._owner!==this||(G._prev&&(G._prev._next=G._next),G._next&&(G._next._prev=G._prev),G===this._head?(this._head=G._next,null===G._next&&(this._tail=null)):G===this._tail&&(this._tail=G._prev,this._tail._next=null),G._owner=null),this}},{key:"detachAll",value:function(){var G=this._head;if(!G)return this;for(this._head=this._tail=null;G;)G._owner=null,G=G._next;return this}}]),te}();q.MiniSignalBinding=oe,ce.default=q,He.exports=ce.default},5943:He=>{"use strict";var ce=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function oe(q){if(null==q)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(q)}He.exports=function(){try{if(!Object.assign)return!1;var q=new String("abc");if(q[5]="de","5"===Object.getOwnPropertyNames(q)[0])return!1;for(var te={},Z=0;Z<10;Z++)te["_"+String.fromCharCode(Z)]=Z;if("0123456789"!==Object.getOwnPropertyNames(te).map(function(ne){return te[ne]}).join(""))return!1;var J={};return"abcdefghijklmnopqrst".split("").forEach(function(ne){J[ne]=ne}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},J)).join("")}catch(ne){return!1}}()?Object.assign:function(q,te){for(var Z,J,G=oe(q),ne=1;ne<arguments.length;ne++){for(var $ in Z=Object(arguments[ne]))k.call(Z,$)&&(G[$]=Z[$]);if(ce){J=ce(Z);for(var V=0;V<J.length;V++)E.call(Z,J[V])&&(G[J[V]]=Z[J[V]])}}return G}},9750:He=>{"use strict";He.exports=function(k,E){if(k){for(var oe={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},ve=oe.parser[(E=E||{}).strictMode?"strict":"loose"].exec(k),q={},te=14;te--;)q[oe.key[te]]=ve[te]||"";return q[oe.q.name]={},q[oe.key[12]].replace(oe.q.parser,function(Z,G,J){G&&(q[oe.q.name][G]=J)}),q}}},4520:(He,ce,k)=>{"use strict";k.d(ce,{ZX:()=>Gs,TC:()=>$i,jl:()=>Ua});var E=k(7793),oe=k(5943),ve=k.n(oe);if(window.Promise||(window.Promise=E.Polyfill),Object.assign||(Object.assign=ve()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var te=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-te}}for(var Z=Date.now(),G=["ms","moz","webkit","o"],J=0;J<G.length&&!window.requestAnimationFrame;++J){var ne=G[J];window.requestAnimationFrame=window[ne+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ne+"CancelAnimationFrame"]||window[ne+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(a){if("function"!=typeof a)throw new TypeError(a+"is not a function");var i=Date.now(),e=16+Z-i;return e<0&&(e=0),Z=i,window.setTimeout(function(){Z=Date.now(),a(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){return clearTimeout(a)}),Math.sign||(Math.sign=function(i){return 0===(i=Number(i))||isNaN(i)?i:i>0?1:-1}),Number.isInteger||(Number.isInteger=function(i){return"number"==typeof i&&isFinite(i)&&Math.floor(i)===i}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var $=/iPhone/i,V=/iPod/i,Y=/iPad/i,W=/\biOS-universal(?:.+)Mac\b/i,re=/\bAndroid(?:.+)Mobile\b/i,we=/Android/i,ae=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Pe=/Silk/i,Ve=/Windows Phone/i,je=/\bWindows(?:.+)ARM\b/i,Le=/BlackBerry/i,mt=/BB10/i,zt=/Opera Mini/i,he=/\b(CriOS|Chrome)(?:.+)Mobile/i,at=/Mobile(?:.+)Firefox\b/i,ie=function(a){return void 0!==a&&"MacIntel"===a.platform&&"number"==typeof a.maxTouchPoints&&a.maxTouchPoints>1&&"undefined"==typeof MSStream},Me=function(a){var i={userAgent:"",platform:"",maxTouchPoints:0};a||"undefined"==typeof navigator?"string"==typeof a?i.userAgent=a:a&&a.userAgent&&(i={userAgent:a.userAgent,platform:a.platform,maxTouchPoints:a.maxTouchPoints||0}):i={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=i.userAgent,r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var o=function(a){return function(i){return i.test(a)}}(e),d={apple:{phone:o($)&&!o(Ve),ipod:o(V),tablet:!o($)&&(o(Y)||ie(i))&&!o(Ve),universal:o(W),device:(o($)||o(V)||o(Y)||o(W)||ie(i))&&!o(Ve)},amazon:{phone:o(ae),tablet:!o(ae)&&o(Pe),device:o(ae)||o(Pe)},android:{phone:!o(Ve)&&o(ae)||!o(Ve)&&o(re),tablet:!o(Ve)&&!o(ae)&&!o(re)&&(o(Pe)||o(we)),device:!o(Ve)&&(o(ae)||o(Pe)||o(re)||o(we))||o(/\bokhttp\b/i)},windows:{phone:o(Ve),tablet:o(je),device:o(Ve)||o(je)},other:{blackberry:o(Le),blackberry10:o(mt),opera:o(zt),firefox:o(at),chrome:o(he),device:o(Le)||o(mt)||o(zt)||o(at)||o(he)},any:!1,phone:!1,tablet:!1};return d.any=d.apple.device||d.android.device||d.windows.device||d.other.device,d.phone=d.apple.phone||d.android.phone||d.windows.phone,d.tablet=d.apple.tablet||d.android.tablet||d.windows.tablet,d}(window.navigator),O={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(a){var e,i=!0;(Me.tablet||Me.phone)&&(Me.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(i=!1),Me.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(i=!1));return i?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Me.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!Me.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},U=k(9170),H=k.n(U),de=k(5469),se=k.n(de),z=k(8762),ee=(()=>{return(a=ee||(ee={}))[a.WEBGL_LEGACY=0]="WEBGL_LEGACY",a[a.WEBGL=1]="WEBGL",a[a.WEBGL2=2]="WEBGL2",ee;var a})(),Te=(()=>{return(a=Te||(Te={}))[a.UNKNOWN=0]="UNKNOWN",a[a.WEBGL=1]="WEBGL",a[a.CANVAS=2]="CANVAS",Te;var a})(),Be=(()=>{return(a=Be||(Be={}))[a.COLOR=16384]="COLOR",a[a.DEPTH=256]="DEPTH",a[a.STENCIL=1024]="STENCIL",Be;var a})(),Ee=(()=>{return(a=Ee||(Ee={}))[a.NORMAL=0]="NORMAL",a[a.ADD=1]="ADD",a[a.MULTIPLY=2]="MULTIPLY",a[a.SCREEN=3]="SCREEN",a[a.OVERLAY=4]="OVERLAY",a[a.DARKEN=5]="DARKEN",a[a.LIGHTEN=6]="LIGHTEN",a[a.COLOR_DODGE=7]="COLOR_DODGE",a[a.COLOR_BURN=8]="COLOR_BURN",a[a.HARD_LIGHT=9]="HARD_LIGHT",a[a.SOFT_LIGHT=10]="SOFT_LIGHT",a[a.DIFFERENCE=11]="DIFFERENCE",a[a.EXCLUSION=12]="EXCLUSION",a[a.HUE=13]="HUE",a[a.SATURATION=14]="SATURATION",a[a.COLOR=15]="COLOR",a[a.LUMINOSITY=16]="LUMINOSITY",a[a.NORMAL_NPM=17]="NORMAL_NPM",a[a.ADD_NPM=18]="ADD_NPM",a[a.SCREEN_NPM=19]="SCREEN_NPM",a[a.NONE=20]="NONE",a[a.SRC_OVER=0]="SRC_OVER",a[a.SRC_IN=21]="SRC_IN",a[a.SRC_OUT=22]="SRC_OUT",a[a.SRC_ATOP=23]="SRC_ATOP",a[a.DST_OVER=24]="DST_OVER",a[a.DST_IN=25]="DST_IN",a[a.DST_OUT=26]="DST_OUT",a[a.DST_ATOP=27]="DST_ATOP",a[a.ERASE=26]="ERASE",a[a.SUBTRACT=28]="SUBTRACT",a[a.XOR=29]="XOR",Ee;var a})(),Ae=(()=>{return(a=Ae||(Ae={}))[a.POINTS=0]="POINTS",a[a.LINES=1]="LINES",a[a.LINE_LOOP=2]="LINE_LOOP",a[a.LINE_STRIP=3]="LINE_STRIP",a[a.TRIANGLES=4]="TRIANGLES",a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN",Ae;var a})(),ze=(()=>{return(a=ze||(ze={}))[a.RGBA=6408]="RGBA",a[a.RGB=6407]="RGB",a[a.ALPHA=6406]="ALPHA",a[a.LUMINANCE=6409]="LUMINANCE",a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",a[a.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL",ze;var a})(),Qe=(()=>{return(a=Qe||(Qe={}))[a.TEXTURE_2D=3553]="TEXTURE_2D",a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",a[a.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",a[a.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Qe;var a})(),Ie=(()=>{return(a=Ie||(Ie={}))[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",a[a.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",a[a.FLOAT=5126]="FLOAT",a[a.HALF_FLOAT=36193]="HALF_FLOAT",Ie;var a})(),Oe=(()=>{return(a=Oe||(Oe={}))[a.NEAREST=0]="NEAREST",a[a.LINEAR=1]="LINEAR",Oe;var a})(),ut=(()=>{return(a=ut||(ut={}))[a.CLAMP=33071]="CLAMP",a[a.REPEAT=10497]="REPEAT",a[a.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",ut;var a})(),Pt=(()=>{return(a=Pt||(Pt={}))[a.OFF=0]="OFF",a[a.POW2=1]="POW2",a[a.ON=2]="ON",Pt;var a})(),St=(()=>{return(a=St||(St={}))[a.NPM=0]="NPM",a[a.UNPACK=1]="UNPACK",a[a.PMA=2]="PMA",a[a.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",a[a.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",a[a.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",St;var a})(),Ot=(()=>{return(a=Ot||(Ot={}))[a.NO=0]="NO",a[a.YES=1]="YES",a[a.AUTO=2]="AUTO",a[a.BLEND=0]="BLEND",a[a.CLEAR=1]="CLEAR",a[a.BLIT=2]="BLIT",Ot;var a})(),It=(()=>{return(a=It||(It={}))[a.AUTO=0]="AUTO",a[a.MANUAL=1]="MANUAL",It;var a})(),tn=(()=>{return(a=tn||(tn={})).LOW="lowp",a.MEDIUM="mediump",a.HIGH="highp",tn;var a})(),kt=(()=>{return(a=kt||(kt={}))[a.NONE=0]="NONE",a[a.SCISSOR=1]="SCISSOR",a[a.STENCIL=2]="STENCIL",a[a.SPRITE=3]="SPRITE",kt;var a})(),$n=(()=>{return(a=$n||($n={}))[a.NONE=0]="NONE",a[a.LOW=2]="LOW",a[a.MEDIUM=4]="MEDIUM",a[a.HIGH=8]="HIGH",$n;var a})();O.RETINA_PREFIX=/@([0-9\.]+)x/,O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var is,Pi=!1;function Mi(a,i){return void 0===i&&(i=[]),i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(255&a)/255,i}function ss(a){var i=a.toString(16);return"#"+("000000".substr(0,6-i.length)+i)}function ft(a){return"string"==typeof a&&"#"===a[0]&&(a=a.substr(1)),parseInt(a,16)}var nt=function(){for(var a=[],i=[],e=0;e<32;e++)a[e]=e,i[e]=e;a[Ee.NORMAL_NPM]=Ee.NORMAL,a[Ee.ADD_NPM]=Ee.ADD,a[Ee.SCREEN_NPM]=Ee.SCREEN,i[Ee.NORMAL]=Ee.NORMAL_NPM,i[Ee.ADD]=Ee.ADD_NPM,i[Ee.SCREEN]=Ee.SCREEN_NPM;var r=[];return r.push(i),r.push(a),r}();function Co(a,i){return nt[i?1:0][a]}function _n(a,i){if(1===i)return(255*i<<24)+a;if(0===i)return 0;var e=a>>16&255,r=a>>8&255,o=255&a;return(255*i<<24)+((e=e*i+.5|0)<<16)+((r=r*i+.5|0)<<8)+(o*i+.5|0)}function Cn(a,i,e,r){return(e=e||new Float32Array(4))[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(255&a)/255,(r||void 0===r)&&(e[0]*=i,e[1]*=i,e[2]*=i),e[3]=i,e}function Rt(a){return a+=0===a?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,1+(a|=a>>>16)}function Ju(a){return!(a&a-1||!a)}function So(a){var i=(a>65535?1:0)<<4,e=((a>>>=i)>255?1:0)<<3;return i|=e,i|=e=((a>>>=e)>15?1:0)<<2,(i|=e=((a>>>=e)>3?1:0)<<1)|(a>>>=e)>>1}function Bt(a,i,e){var o,r=a.length;if(!(i>=r||0===e)){var d=r-(e=i+e>r?r-i:e);for(o=i;o<d;++o)a[o]=a[o+e];a.length=d}}function hi(a){return 0===a?0:a<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var Sh=0;function nr(){return++Sh}var Mt={};function kn(a,i,e){if(void 0===e&&(e=3),!Mt[i]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+a):(r=r.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i+"\nDeprecated since v"+a),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+a),console.warn(r))),Mt[i]=!0}}var as,os={},Sn=Object.create(null),Wn=Object.create(null),el=function(){function a(i,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||O.RESOLUTION,this.resize(i,e)}return a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},a.prototype.resize=function(i,e){this.canvas.width=i*this.resolution,this.canvas.height=e*this.resolution},a.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(a.prototype,"width",{get:function(){return this.canvas.width},set:function(i){this.canvas.width=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.canvas.height},set:function(i){this.canvas.height=i},enumerable:!1,configurable:!0}),a}();function Ir(a,i){var e=O.RETINA_PREFIX.exec(a);return e?parseFloat(e[1]):void 0!==i?i:1}var Vs=2*Math.PI,Ua=180/Math.PI,Gs=Math.PI/180,Xt=(()=>{return(a=Xt||(Xt={}))[a.POLY=0]="POLY",a[a.RECT=1]="RECT",a[a.CIRC=2]="CIRC",a[a.ELIP=3]="ELIP",a[a.RREC=4]="RREC",Xt;var a})(),lt=function(){function a(i,e,r,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=Number(i),this.y=Number(e),this.width=Number(r),this.height=Number(o),this.type=Xt.RECT}return Object.defineProperty(a.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(a,"EMPTY",{get:function(){return new a(0,0,0,0)},enumerable:!1,configurable:!0}),a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copyFrom=function(i){return this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height,this},a.prototype.copyTo=function(i){return i.x=this.x,i.y=this.y,i.width=this.width,i.height=this.height,i},a.prototype.contains=function(i,e){return!(this.width<=0||this.height<=0)&&i>=this.x&&i<this.x+this.width&&e>=this.y&&e<this.y+this.height},a.prototype.pad=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),this.x-=i,this.y-=e,this.width+=2*i,this.height+=2*e,this},a.prototype.fit=function(i){var e=Math.max(this.x,i.x),r=Math.min(this.x+this.width,i.x+i.width),o=Math.max(this.y,i.y),d=Math.min(this.y+this.height,i.y+i.height);return this.x=e,this.width=Math.max(r-e,0),this.y=o,this.height=Math.max(d-o,0),this},a.prototype.ceil=function(i,e){void 0===i&&(i=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*i)/i,o=Math.ceil((this.y+this.height-e)*i)/i;return this.x=Math.floor((this.x+e)*i)/i,this.y=Math.floor((this.y+e)*i)/i,this.width=r-this.x,this.height=o-this.y,this},a.prototype.enlarge=function(i){var e=Math.min(this.x,i.x),r=Math.max(this.x+this.width,i.x+i.width),o=Math.min(this.y,i.y),d=Math.max(this.y+this.height,i.y+i.height);return this.x=e,this.width=r-e,this.y=o,this.height=d-o,this},a}(),Ar=function(){function a(i,e,r){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=i,this.y=e,this.radius=r,this.type=Xt.CIRC}return a.prototype.clone=function(){return new a(this.x,this.y,this.radius)},a.prototype.contains=function(i,e){if(this.radius<=0)return!1;var o=this.x-i,d=this.y-e;return(o*=o)+(d*=d)<=this.radius*this.radius},a.prototype.getBounds=function(){return new lt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},a}(),Oi=function(){function a(i,e,r,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=i,this.y=e,this.width=r,this.height=o,this.type=Xt.ELIP}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.contains=function(i,e){if(this.width<=0||this.height<=0)return!1;var r=(i-this.x)/this.width,o=(e-this.y)/this.height;return(r*=r)+(o*=o)<=1},a.prototype.getBounds=function(){return new lt(this.x-this.width,this.y-this.height,this.width,this.height)},a}(),Tn=function(){function a(){for(var i=arguments,e=[],r=0;r<arguments.length;r++)e[r]=i[r];var o=Array.isArray(e[0])?e[0]:e;if("number"!=typeof o[0]){for(var d=[],p=0,m=o.length;p<m;p++)d.push(o[p].x,o[p].y);o=d}this.points=o,this.type=Xt.POLY,this.closeStroke=!0}return a.prototype.clone=function(){var e=new a(this.points.slice());return e.closeStroke=this.closeStroke,e},a.prototype.contains=function(i,e){for(var r=!1,o=this.points.length/2,d=0,p=o-1;d<o;p=d++){var m=this.points[2*d],w=this.points[2*d+1],P=this.points[2*p+1];w>e!=P>e&&i<(e-w)/(P-w)*(this.points[2*p]-m)+m&&(r=!r)}return r},a}(),Ao=function(){function a(i,e,r,o,d){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===d&&(d=20),this.x=i,this.y=e,this.width=r,this.height=o,this.radius=d,this.type=Xt.RREC}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)},a.prototype.contains=function(i,e){if(this.width<=0||this.height<=0)return!1;if(i>=this.x&&i<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||i>=this.x+this.radius&&i<=this.x+this.width-this.radius)return!0;var r=i-(this.x+this.radius),o=e-(this.y+this.radius),d=this.radius*this.radius;if(r*r+o*o<=d||(r=i-(this.x+this.width-this.radius))*r+o*o<=d||r*r+(o=e-(this.y+this.height-this.radius))*o<=d||(r=i-(this.x+this.radius))*r+o*o<=d)return!0}return!1},a}(),nn=function(){function a(i,e){void 0===i&&(i=0),void 0===e&&(e=0),this.x=i,this.y=e}return a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.copyFrom=function(i){return this.set(i.x,i.y),this},a.prototype.copyTo=function(i){return i.set(this.x,this.y),i},a.prototype.equals=function(i){return i.x===this.x&&i.y===this.y},a.prototype.set=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),this.x=i,this.y=e,this},a}(),Pr=function(){function a(i,e,r,o){void 0===r&&(r=0),void 0===o&&(o=0),this._x=r,this._y=o,this.cb=i,this.scope=e}return a.prototype.clone=function(i,e){return void 0===i&&(i=this.cb),void 0===e&&(e=this.scope),new a(i,e,this._x,this._y)},a.prototype.set=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),(this._x!==i||this._y!==e)&&(this._x=i,this._y=e,this.cb.call(this.scope)),this},a.prototype.copyFrom=function(i){return(this._x!==i.x||this._y!==i.y)&&(this._x=i.x,this._y=i.y,this.cb.call(this.scope)),this},a.prototype.copyTo=function(i){return i.set(this._x,this._y),i},a.prototype.equals=function(i){return i.x===this._x&&i.y===this._y},Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(i){this._x!==i&&(this._x=i,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(i){this._y!==i&&(this._y=i,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),a}(),Kt=function(){function a(i,e,r,o,d,p){void 0===i&&(i=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===d&&(d=0),void 0===p&&(p=0),this.array=null,this.a=i,this.b=e,this.c=r,this.d=o,this.tx=d,this.ty=p}return a.prototype.fromArray=function(i){this.a=i[0],this.b=i[1],this.c=i[3],this.d=i[4],this.tx=i[2],this.ty=i[5]},a.prototype.set=function(i,e,r,o,d,p){return this.a=i,this.b=e,this.c=r,this.d=o,this.tx=d,this.ty=p,this},a.prototype.toArray=function(i,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return i?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},a.prototype.apply=function(i,e){e=e||new nn;var r=i.x,o=i.y;return e.x=this.a*r+this.c*o+this.tx,e.y=this.b*r+this.d*o+this.ty,e},a.prototype.applyInverse=function(i,e){e=e||new nn;var r=1/(this.a*this.d+this.c*-this.b),o=i.x,d=i.y;return e.x=this.d*r*o+-this.c*r*d+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*d+-this.b*r*o+(-this.ty*this.a+this.tx*this.b)*r,e},a.prototype.translate=function(i,e){return this.tx+=i,this.ty+=e,this},a.prototype.scale=function(i,e){return this.a*=i,this.d*=e,this.c*=i,this.b*=e,this.tx*=i,this.ty*=e,this},a.prototype.rotate=function(i){var e=Math.cos(i),r=Math.sin(i),o=this.a,d=this.c,p=this.tx;return this.a=o*e-this.b*r,this.b=o*r+this.b*e,this.c=d*e-this.d*r,this.d=d*r+this.d*e,this.tx=p*e-this.ty*r,this.ty=p*r+this.ty*e,this},a.prototype.append=function(i){var e=this.a,r=this.b,o=this.c,d=this.d;return this.a=i.a*e+i.b*o,this.b=i.a*r+i.b*d,this.c=i.c*e+i.d*o,this.d=i.c*r+i.d*d,this.tx=i.tx*e+i.ty*o+this.tx,this.ty=i.tx*r+i.ty*d+this.ty,this},a.prototype.setTransform=function(i,e,r,o,d,p,m,w,x){return this.a=Math.cos(m+x)*d,this.b=Math.sin(m+x)*d,this.c=-Math.sin(m-w)*p,this.d=Math.cos(m-w)*p,this.tx=i-(r*this.a+o*this.c),this.ty=e-(r*this.b+o*this.d),this},a.prototype.prepend=function(i){var e=this.tx;if(1!==i.a||0!==i.b||0!==i.c||1!==i.d){var r=this.a,o=this.c;this.a=r*i.a+this.b*i.c,this.b=r*i.b+this.b*i.d,this.c=o*i.a+this.d*i.c,this.d=o*i.b+this.d*i.d}return this.tx=e*i.a+this.ty*i.c+i.tx,this.ty=e*i.b+this.ty*i.d+i.ty,this},a.prototype.decompose=function(i){var e=this.a,r=this.b,o=this.c,d=this.d,p=-Math.atan2(-o,d),m=Math.atan2(r,e),w=Math.abs(p+m);return w<1e-5||Math.abs(Vs-w)<1e-5?(i.rotation=m,i.skew.x=i.skew.y=0):(i.rotation=0,i.skew.x=p,i.skew.y=m),i.scale.x=Math.sqrt(e*e+r*r),i.scale.y=Math.sqrt(o*o+d*d),i.position.x=this.tx,i.position.y=this.ty,i},a.prototype.invert=function(){var i=this.a,e=this.b,r=this.c,o=this.d,d=this.tx,p=i*o-e*r;return this.a=o/p,this.b=-e/p,this.c=-r/p,this.d=i/p,this.tx=(r*this.ty-o*d)/p,this.ty=-(i*this.ty-e*d)/p,this},a.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},a.prototype.clone=function(){var i=new a;return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},a.prototype.copyTo=function(i){return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},a.prototype.copyFrom=function(i){return this.a=i.a,this.b=i.b,this.c=i.c,this.d=i.d,this.tx=i.tx,this.ty=i.ty,this},Object.defineProperty(a,"IDENTITY",{get:function(){return new a},enumerable:!1,configurable:!0}),Object.defineProperty(a,"TEMP_MATRIX",{get:function(){return new a},enumerable:!1,configurable:!0}),a}(),Yn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$t=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Mr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],pn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ke=[],_t=[],Ut=Math.sign;!function(){for(var a=0;a<16;a++){var i=[];ke.push(i);for(var e=0;e<16;e++)for(var r=Ut(Yn[a]*Yn[e]+Mr[a]*$t[e]),o=Ut($t[a]*Yn[e]+pn[a]*$t[e]),d=Ut(Yn[a]*Mr[e]+Mr[a]*pn[e]),p=Ut($t[a]*Mr[e]+pn[a]*pn[e]),m=0;m<16;m++)if(Yn[m]===r&&$t[m]===o&&Mr[m]===d&&pn[m]===p){i.push(m);break}}for(a=0;a<16;a++){var w=new Kt;w.set(Yn[a],$t[a],Mr[a],pn[a],0,0),_t.push(w)}}();var Ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(a){return Yn[a]},uY:function(a){return $t[a]},vX:function(a){return Mr[a]},vY:function(a){return pn[a]},inv:function(a){return 8&a?15&a:7&-a},add:function(a,i){return ke[a][i]},sub:function(a,i){return ke[a][Ft.inv(i)]},rotate180:function(a){return 4^a},isVertical:function(a){return 2==(3&a)},byDirection:function(a,i){return 2*Math.abs(a)<=Math.abs(i)?i>=0?Ft.S:Ft.N:2*Math.abs(i)<=Math.abs(a)?a>0?Ft.E:Ft.W:i>0?a>0?Ft.SE:Ft.SW:a>0?Ft.NE:Ft.NW},matrixAppendRotationInv:function(a,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=_t[Ft.inv(i)];o.tx=e,o.ty=r,a.append(o)}},gn=function(){function a(){this.worldTransform=new Kt,this.localTransform=new Kt,this.position=new Pr(this.onChange,this,0,0),this.scale=new Pr(this.onChange,this,1,1),this.pivot=new Pr(this.onChange,this,0,0),this.skew=new Pr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return a.prototype.onChange=function(){this._localID++},a.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},a.prototype.updateLocalTransform=function(){var i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)},a.prototype.updateTransform=function(i){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){var r=i.worldTransform,o=this.worldTransform;o.a=e.a*r.a+e.b*r.c,o.b=e.a*r.b+e.b*r.d,o.c=e.c*r.a+e.d*r.c,o.d=e.c*r.b+e.d*r.d,o.tx=e.tx*r.a+e.ty*r.c+r.tx,o.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=i._worldID,this._worldID++}},a.prototype.setFromMatrix=function(i){i.decompose(this),this._localID++},Object.defineProperty(a.prototype,"rotation",{get:function(){return this._rotation},set:function(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())},enumerable:!1,configurable:!0}),a.IDENTITY=new a,a}();O.SORTABLE_CHILDREN=!1;var Or=function(){function a(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return a.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},a.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},a.prototype.getRectangle=function(i){return this.minX>this.maxX||this.minY>this.maxY?lt.EMPTY:((i=i||new lt(0,0,1,1)).x=this.minX,i.y=this.minY,i.width=this.maxX-this.minX,i.height=this.maxY-this.minY,i)},a.prototype.addPoint=function(i){this.minX=Math.min(this.minX,i.x),this.maxX=Math.max(this.maxX,i.x),this.minY=Math.min(this.minY,i.y),this.maxY=Math.max(this.maxY,i.y)},a.prototype.addQuad=function(i){var e=this.minX,r=this.minY,o=this.maxX,d=this.maxY,p=i[0],m=i[1];e=p<e?p:e,r=m<r?m:r,o=p>o?p:o,d=m>d?m:d,e=(p=i[2])<e?p:e,r=(m=i[3])<r?m:r,o=p>o?p:o,d=m>d?m:d,e=(p=i[4])<e?p:e,r=(m=i[5])<r?m:r,o=p>o?p:o,d=m>d?m:d,r=(m=i[7])<r?m:r,o=(p=i[6])>o?p:o,d=m>d?m:d,this.minX=e=p<e?p:e,this.minY=r,this.maxX=o,this.maxY=d},a.prototype.addFrame=function(i,e,r,o,d){this.addFrameMatrix(i.worldTransform,e,r,o,d)},a.prototype.addFrameMatrix=function(i,e,r,o,d){var p=i.a,m=i.b,w=i.c,x=i.d,P=i.tx,A=i.ty,I=this.minX,R=this.minY,L=this.maxX,B=this.maxY,X=p*e+w*r+P,ue=m*e+x*r+A;I=X<I?X:I,R=ue<R?ue:R,L=X>L?X:L,B=ue>B?ue:B,I=(X=p*o+w*r+P)<I?X:I,R=(ue=m*o+x*r+A)<R?ue:R,L=X>L?X:L,B=ue>B?ue:B,I=(X=p*e+w*d+P)<I?X:I,R=(ue=m*e+x*d+A)<R?ue:R,L=X>L?X:L,B=ue>B?ue:B,R=(ue=m*o+x*d+A)<R?ue:R,L=(X=p*o+w*d+P)>L?X:L,B=ue>B?ue:B,this.minX=I=X<I?X:I,this.minY=R,this.maxX=L,this.maxY=B},a.prototype.addVertexData=function(i,e,r){for(var o=this.minX,d=this.minY,p=this.maxX,m=this.maxY,w=e;w<r;w+=2){var x=i[w],P=i[w+1];o=x<o?x:o,d=P<d?P:d,p=x>p?x:p,m=P>m?P:m}this.minX=o,this.minY=d,this.maxX=p,this.maxY=m},a.prototype.addVertices=function(i,e,r,o){this.addVerticesMatrix(i.worldTransform,e,r,o)},a.prototype.addVerticesMatrix=function(i,e,r,o,d,p){void 0===d&&(d=0),void 0===p&&(p=d);for(var m=i.a,w=i.b,x=i.c,P=i.d,A=i.tx,I=i.ty,R=this.minX,L=this.minY,B=this.maxX,X=this.maxY,ue=r;ue<o;ue+=2){var Fe=e[ue],ye=e[ue+1],Ge=m*Fe+x*ye+A,De=P*ye+w*Fe+I;R=Math.min(R,Ge-d),B=Math.max(B,Ge+d),L=Math.min(L,De-p),X=Math.max(X,De+p)}this.minX=R,this.minY=L,this.maxX=B,this.maxY=X},a.prototype.addBounds=function(i){var e=this.minX,r=this.minY,o=this.maxX,d=this.maxY;this.minX=i.minX<e?i.minX:e,this.minY=i.minY<r?i.minY:r,this.maxX=i.maxX>o?i.maxX:o,this.maxY=i.maxY>d?i.maxY:d},a.prototype.addBoundsMask=function(i,e){var r=i.minX>e.minX?i.minX:e.minX,o=i.minY>e.minY?i.minY:e.minY,d=i.maxX<e.maxX?i.maxX:e.maxX,p=i.maxY<e.maxY?i.maxY:e.maxY;if(r<=d&&o<=p){var m=this.minX,w=this.minY,x=this.maxX,P=this.maxY;this.minX=r<m?r:m,this.minY=o<w?o:w,this.maxX=d>x?d:x,this.maxY=p>P?p:P}},a.prototype.addBoundsMatrix=function(i,e){this.addFrameMatrix(e,i.minX,i.minY,i.maxX,i.maxY)},a.prototype.addBoundsArea=function(i,e){var r=i.minX>e.x?i.minX:e.x,o=i.minY>e.y?i.minY:e.y,d=i.maxX<e.x+e.width?i.maxX:e.x+e.width,p=i.maxY<e.y+e.height?i.maxY:e.y+e.height;if(r<=d&&o<=p){var m=this.minX,w=this.minY,x=this.maxX,P=this.maxY;this.minX=r<m?r:m,this.minY=o<w?o:w,this.maxX=d>x?d:x,this.maxY=p>P?p:P}},a.prototype.pad=function(i,e){void 0===i&&(i=0),void 0===e&&(e=i),this.isEmpty()||(this.minX-=i,this.maxX+=i,this.minY-=e,this.maxY+=e)},a.prototype.addFramePad=function(i,e,r,o,d,p){e-=p,r+=d,o+=p,this.minX=this.minX<(i-=d)?this.minX:i,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>o?this.maxY:o},a}(),Wt=function(a,i){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function us(a,i){function e(){this.constructor=a}Wt(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Yt=function(a){function i(){var e=a.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new gn,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Or,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return us(i,a),i.mixin=function(e){for(var r=Object.keys(e),o=0;o<r.length;++o){var d=r[o];Object.defineProperty(i.prototype,d,Object.getOwnPropertyDescriptor(e,d))}},i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.prototype.getBounds=function(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new lt),r=this._boundsRect),this._bounds.getRectangle(r)},i.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Or);var r=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var d=this._bounds,p=this._boundsID;this._bounds=this._localBounds;var m=this.getBounds(!1,e);return this.parent=o,this.transform=r,this._bounds=d,this._bounds.updateID+=this._boundsID-p,m},i.prototype.toGlobal=function(e,r,o){return void 0===o&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)},i.prototype.toLocal=function(e,r,o,d){return r&&(e=r.toGlobal(e,o,d)),d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,o)},i.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},i.prototype.setTransform=function(e,r,o,d,p,m,w,x,P){return void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===d&&(d=1),void 0===p&&(p=0),void 0===m&&(m=0),void 0===w&&(w=0),void 0===x&&(x=0),void 0===P&&(P=0),this.position.x=e,this.position.y=r,this.scale.x=o||1,this.scale.y=d||1,this.rotation=p,this.skew.x=m,this.skew.y=w,this.pivot.x=x,this.pivot.y=P,this},i.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(i.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new gt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),i.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},i.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(i.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.transform.rotation*Ua},set:function(e){this.transform.rotation=e*Gs},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._mask},set:function(e){var r;this._mask&&((r=this._mask.maskObject||this._mask).renderable=!0,r.isMask=!1),this._mask=e,this._mask&&((r=this._mask.maskObject||this._mask).renderable=!1,r.isMask=!0)},enumerable:!1,configurable:!0}),i}(H()),gt=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.sortDirty=null,e}return us(i,a),i}(Yt);function zs(a,i){return a.zIndex===i.zIndex?a._lastSortedIndex-i._lastSortedIndex:a.zIndex-i.zIndex}Yt.prototype.displayObjectUpdateTransform=Yt.prototype.updateTransform;var En=function(a){function i(){var e=a.call(this)||this;return e.children=[],e.sortableChildren=O.SORTABLE_CHILDREN,e.sortDirty=!1,e}return us(i,a),i.prototype.onChildrenChange=function(e){},i.prototype.addChild=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];if(r.length>1)for(var d=0;d<r.length;d++)this.addChild(r[d]);else{var p=r[0];p.parent&&p.parent.removeChild(p),p.parent=this,this.sortDirty=!0,p.transform._parentID=-1,this.children.push(p),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",p,this,this.children.length-1),p.emit("added",this)}return r[0]},i.prototype.addChildAt=function(e,r){if(r<0||r>this.children.length)throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e},i.prototype.swapChildren=function(e,r){if(e!==r){var o=this.getChildIndex(e),d=this.getChildIndex(r);this.children[o]=r,this.children[d]=e,this.onChildrenChange(o<d?o:d)}},i.prototype.getChildIndex=function(e){var r=this.children.indexOf(e);if(-1===r)throw new Error("The supplied DisplayObject must be a child of the caller");return r},i.prototype.setChildIndex=function(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(e);Bt(this.children,o,1),this.children.splice(r,0,e),this.onChildrenChange(r)},i.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},i.prototype.removeChild=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];if(r.length>1)for(var d=0;d<r.length;d++)this.removeChild(r[d]);else{var p=r[0],m=this.children.indexOf(p);if(-1===m)return null;p.parent=null,p.transform._parentID=-1,Bt(this.children,m,1),this._boundsID++,this.onChildrenChange(m),p.emit("removed",this),this.emit("childRemoved",p,this,m)}return r[0]},i.prototype.removeChildAt=function(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Bt(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r},i.prototype.removeChildren=function(e,r){void 0===e&&(e=0),void 0===r&&(r=this.children.length);var m,p=r-e;if(p>0&&p<=r){m=this.children.splice(e,p);for(var w=0;w<m.length;++w)m[w].parent=null,m[w].transform&&(m[w].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),w=0;w<m.length;++w)m[w].emit("removed",this),this.emit("childRemoved",m[w],this,w);return m}if(0===p&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.sortChildren=function(){for(var e=!1,r=0,o=this.children.length;r<o;++r){var d=this.children[r];d._lastSortedIndex=r,!e&&0!==d.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(zs),this.sortDirty=!1},i.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var o=this.children[e];o.visible&&o.updateTransform()}},i.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];if(r.visible&&r.renderable)if(r.calculateBounds(),r._mask){var o=r._mask.maskObject||r._mask;o.calculateBounds(),this._bounds.addBoundsMask(r._bounds,o._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},i.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var o=a.prototype.getLocalBounds.call(this,e);if(!r)for(var d=0,p=this.children.length;d<p;++d){var m=this.children[d];m.visible&&m.updateTransform()}return o},i.prototype._calculateBounds=function(){},i.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var r=0,o=this.children.length;r<o;++r)this.children[r].render(e)}},i.prototype.renderAdvanced=function(e){e.batch.flush();var r=this.filters,o=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var d=0;d<r.length;d++)r[d].enabled&&this._enabledFilters.push(r[d]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}o&&e.mask.push(this,this._mask),this._render(e),d=0;for(var p=this.children.length;d<p;d++)this.children[d].render(e);e.batch.flush(),o&&e.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},i.prototype._render=function(e){},i.prototype.destroy=function(e){a.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,o=this.removeChildren(0,this.children.length);if(r)for(var d=0;d<o.length;++d)o[d].destroy(e)},Object.defineProperty(i.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var r=this.getLocalBounds().width;this.scale.x=0!==r?e/r:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var r=this.getLocalBounds().height;this.scale.y=0!==r?e/r:1,this._height=e},enumerable:!1,configurable:!0}),i}(Yt);En.prototype.containerUpdateTransform=En.prototype.updateTransform,Yt.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var vr=function(){function a(i){this._hookDiv=null,(Me.tablet||Me.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=i,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(a.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),a.prototype.createTouchHook=function(){var i=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){i._isMobileAccessibility=!0,i.activate(),i.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},a.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},a.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},a.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},a.prototype.updateAccessibleObjects=function(i){if(i.visible&&i.accessibleChildren){i.accessible&&i.interactive&&(i._accessibleActive||this.addChild(i),i.renderId=this.renderId);for(var e=i.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},a.prototype.update=function(){var i=performance.now();if(!(Me.android.device&&i<this.androidUpdateCount)&&(this.androidUpdateCount=i+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,o=e.width/this.renderer.width*r,d=e.height/this.renderer.height*r,p=this.div;p.style.left=e.left+"px",p.style.top=e.top+"px",p.style.width=this.renderer.width+"px",p.style.height=this.renderer.height+"px";for(var m=0;m<this.children.length;m++){var w=this.children[m];if(w.renderId!==this.renderId)w._accessibleActive=!1,Bt(this.children,m,1),this.div.removeChild(w._accessibleDiv),this.pool.push(w._accessibleDiv),w._accessibleDiv=null,m--;else{p=w._accessibleDiv;var x=w.hitArea,P=w.worldTransform;w.hitArea?(p.style.left=(P.tx+x.x*P.a)*o+"px",p.style.top=(P.ty+x.y*P.d)*d+"px",p.style.width=x.width*P.a*o+"px",p.style.height=x.height*P.d*d+"px"):(x=w.getBounds(),this.capHitArea(x),p.style.left=x.x*o+"px",p.style.top=x.y*d+"px",p.style.width=x.width*o+"px",p.style.height=x.height*d+"px",p.title!==w.accessibleTitle&&null!==w.accessibleTitle&&(p.title=w.accessibleTitle),p.getAttribute("aria-label")!==w.accessibleHint&&null!==w.accessibleHint&&p.setAttribute("aria-label",w.accessibleHint)),(w.accessibleTitle!==p.title||w.tabIndex!==p.tabIndex)&&(p.title=w.accessibleTitle,p.tabIndex=w.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},a.prototype.updateDebugHTML=function(i){i.innerHTML="type: "+i.type+"</br> title : "+i.title+"</br> tabIndex: "+i.tabIndex},a.prototype.capHitArea=function(i){i.x<0&&(i.width+=i.x,i.x=0),i.y<0&&(i.height+=i.y,i.y=0),i.x+i.width>this.renderer.width&&(i.width=this.renderer.width-i.x),i.y+i.height>this.renderer.height&&(i.height=this.renderer.height-i.y)},a.prototype.addChild=function(i){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=i.accessiblePointerEvents,e.type=i.accessibleType,i.accessibleTitle&&null!==i.accessibleTitle?e.title=i.accessibleTitle:(!i.accessibleHint||null===i.accessibleHint)&&(e.title="displayObject "+i.tabIndex),i.accessibleHint&&null!==i.accessibleHint&&e.setAttribute("aria-label",i.accessibleHint),this.debug&&this.updateDebugHTML(e),i._accessibleActive=!0,i._accessibleDiv=e,e.displayObject=i,this.children.push(i),this.div.appendChild(i._accessibleDiv),i._accessibleDiv.tabIndex=i.tabIndex},a.prototype._onClick=function(i){var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"click",e.eventData),e.dispatchEvent(i.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(i.target.displayObject,"tap",e.eventData)},a.prototype._onFocus=function(i){i.target.getAttribute("aria-live")||i.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"mouseover",e.eventData)},a.prototype._onFocusOut=function(i){i.target.getAttribute("aria-live")||i.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"mouseout",e.eventData)},a.prototype._onKeyDown=function(i){9===i.keyCode&&this.activate()},a.prototype._onMouseMove=function(i){0===i.movementX&&0===i.movementY||this.deactivate()},a.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},a}();O.TARGET_FPMS=.06;var ir=(()=>{return(a=ir||(ir={}))[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",ir;var a})(),cs=function(){function a(i,e,r,o){void 0===e&&(e=null),void 0===r&&(r=0),void 0===o&&(o=!1),this.fn=i,this.context=e,this.priority=r,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return a.prototype.match=function(i,e){return void 0===e&&(e=null),this.fn===i&&this.context===e},a.prototype.emit=function(i){this.fn&&(this.context?this.fn.call(this.context,i):this.fn(i));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},a.prototype.connect=function(i){this.previous=i,i.next&&(i.next.previous=this),this.next=i.next,i.next=this},a.prototype.destroy=function(i){void 0===i&&(i=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=i?null:e,this.previous=null,e},a}(),an=function(){function a(){var i=this;this._head=new cs(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/O.TARGET_FPMS,this.elapsedMS=1/O.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){i._requestId=null,i.started&&(i.update(e),i.started&&null===i._requestId&&i._head.next&&(i._requestId=requestAnimationFrame(i._tick)))}}return a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},a.prototype.add=function(i,e,r){return void 0===r&&(r=ir.NORMAL),this._addListener(new cs(i,e,r))},a.prototype.addOnce=function(i,e,r){return void 0===r&&(r=ir.NORMAL),this._addListener(new cs(i,e,r,!0))},a.prototype._addListener=function(i){var e=this._head.next,r=this._head;if(e){for(;e;){if(i.priority>e.priority){i.connect(r);break}r=e,e=e.next}i.previous||i.connect(r)}else i.connect(r);return this._startIfPossible(),this},a.prototype.remove=function(i,e){for(var r=this._head.next;r;)r=r.match(i,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(a.prototype,"count",{get:function(){if(!this._head)return 0;for(var i=0,e=this._head;e=e.next;)i++;return i},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},a.prototype.destroy=function(){if(!this._protected){this.stop();for(var i=this._head.next;i;)i=i.destroy(!0);this._head.destroy(),this._head=null}},a.prototype.update=function(i){var e;if(void 0===i&&(i=performance.now()),i>this.lastTime){if((e=this.elapsedMS=i-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=i-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=i-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*O.TARGET_FPMS;for(var o=this._head,d=o.next;d;)d=d.emit(this.deltaTime);o.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=i},Object.defineProperty(a.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(i){var e=Math.min(this.maxFPS,i),r=Math.min(Math.max(0,e)/1e3,O.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(i){if(0===i)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,i);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(a,"shared",{get:function(){if(!a._shared){var i=a._shared=new a;i.autoStart=!0,i._protected=!0}return a._shared},enumerable:!1,configurable:!0}),Object.defineProperty(a,"system",{get:function(){if(!a._system){var i=a._system=new a;i.autoStart=!0,i._protected=!0}return a._system},enumerable:!1,configurable:!0}),a}(),mr=function(){function a(){}return a.init=function(i){var e=this;i=Object.assign({autoStart:!0,sharedTicker:!1},i),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ir.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=i.sharedTicker?an.shared:new an,i.autoStart&&this.start()},a.destroy=function(){if(this._ticker){var i=this._ticker;this.ticker=null,i.destroy()}},a}(),nl=function(){function a(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new nn,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(a.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),a.prototype.getLocalPosition=function(i,e,r){return i.worldTransform.applyInverse(r||this.global,e)},a.prototype.copyEvent=function(i){"isPrimary"in i&&i.isPrimary&&(this.isPrimary=!0),this.button="button"in i&&i.button;var e="buttons"in i&&i.buttons;this.buttons=Number.isInteger(e)?e:"which"in i&&i.which,this.width="width"in i&&i.width,this.height="height"in i&&i.height,this.tiltX="tiltX"in i&&i.tiltX,this.tiltY="tiltY"in i&&i.tiltY,this.pointerType="pointerType"in i&&i.pointerType,this.pressure="pressure"in i&&i.pressure,this.rotationAngle="rotationAngle"in i&&i.rotationAngle,this.twist="twist"in i&&i.twist||0,this.tangentialPressure="tangentialPressure"in i&&i.tangentialPressure||0},a.prototype.reset=function(){this.isPrimary=!1},a}(),rl=function(a,i){return(rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},_c=function(){function a(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return a.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},a.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},a}(),il=function(){function a(i){this._pointerId=i,this._flags=a.FLAGS.NONE}return a.prototype._doSet=function(i,e){this._flags=e?this._flags|i:this._flags&~i},Object.defineProperty(a.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"flags",{get:function(){return this._flags},set:function(i){this._flags=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"none",{get:function(){return this._flags===a.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"over",{get:function(){return 0!=(this._flags&a.FLAGS.OVER)},set:function(i){this._doSet(a.FLAGS.OVER,i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rightDown",{get:function(){return 0!=(this._flags&a.FLAGS.RIGHT_DOWN)},set:function(i){this._doSet(a.FLAGS.RIGHT_DOWN,i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leftDown",{get:function(){return 0!=(this._flags&a.FLAGS.LEFT_DOWN)},set:function(i){this._doSet(a.FLAGS.LEFT_DOWN,i)},enumerable:!1,configurable:!0}),a.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),a}(),bc=function(){function a(){this._tempPoint=new nn}return a.prototype.recursiveFindHit=function(i,e,r,o,d){if(!e||!e.visible)return!1;var p=i.data.global,m=!1,w=d=e.interactive||d,x=!0;if(e.hitArea?(o&&(e.worldTransform.applyInverse(p,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?m=!0:(o=!1,x=!1)),w=!1):e._mask&&o&&(e._mask.containsPoint&&e._mask.containsPoint(p)||(o=!1)),x&&e.interactiveChildren&&e.children)for(var P=e.children,A=P.length-1;A>=0;A--){var I=P[A],R=this.recursiveFindHit(i,I,r,o,w);if(R){if(!I.parent)continue;w=!1,R&&(i.target&&(o=!1),m=!0)}}return d&&(o&&!i.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(p)&&(m=!0),e.interactive&&(m&&!i.target&&(i.target=e),r&&r(i,e,!!m))),m},a.prototype.findHit=function(i,e,r,o){this.recursiveFindHit(i,e,r,o,!1)},a}();Yt.mixin({interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(a){a?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0});var Ha={target:null,data:{global:null}},Ph=function(a){function i(e,r){var o=a.call(this)||this;return r=r||{},o.renderer=e,o.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,o.interactionFrequency=r.interactionFrequency||10,o.mouse=new nl,o.mouse.identifier=1,o.mouse.global.set(-999999),o.activeInteractionData={},o.activeInteractionData[1]=o.mouse,o.interactionDataPool=[],o.eventData=new _c,o.interactionDOMElement=null,o.moveWhenInside=!1,o.eventsAdded=!1,o.tickerAdded=!1,o.mouseOverRenderer=!1,o.supportsTouchEvents="ontouchstart"in window,o.supportsPointerEvents=!!window.PointerEvent,o.onPointerUp=o.onPointerUp.bind(o),o.processPointerUp=o.processPointerUp.bind(o),o.onPointerCancel=o.onPointerCancel.bind(o),o.processPointerCancel=o.processPointerCancel.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.processPointerDown=o.processPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.processPointerMove=o.processPointerMove.bind(o),o.onPointerOut=o.onPointerOut.bind(o),o.processPointerOverOut=o.processPointerOverOut.bind(o),o.onPointerOver=o.onPointerOver.bind(o),o.cursorStyles={default:"inherit",pointer:"pointer"},o.currentCursorMode=null,o.cursor=null,o.resolution=1,o.delayedEvents=[],o.search=new bc,o._tempDisplayObject=new gt,o._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,o.setTargetElement(o.renderer.view,o.renderer.resolution),o}return function(a,i){function e(){this.constructor=a}rl(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),Object.defineProperty(i.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),i.prototype.hitTest=function(e,r){return Ha.target=null,Ha.data.global=e,r||(r=this.lastObjectRendered),this.processInteractive(Ha,r,null,!0),Ha.target},i.prototype.setTargetElement=function(e,r){void 0===r&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=r,this.addEvents(),this.addTickerListener()},i.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(an.system.add(this.tickerUpdate,this,ir.INTERACTION),this.tickerAdded=!0)},i.prototype.removeTickerListener=function(){!this.tickerAdded||(an.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},i.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},i.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},i.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},i.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var o=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(e){if(this.currentCursorMode!==(e=e||"default")){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(e);break;case"object":Object.assign(this.interactionDOMElement.style,r)}else"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},i.prototype.dispatchEvent=function(e,r,o){(!o.stopPropagationHint||e===o.stopsPropagatingAt)&&(o.currentTarget=e,o.type=r,e.emit(r,o),e[r]&&e[r](o))},i.prototype.delayDispatchEvent=function(e,r,o){this.delayedEvents.push({displayObject:e,eventString:r,eventData:o})},i.prototype.mapPositionToPoint=function(e,r,o){var d;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var p=1/this.resolution;e.x=this.interactionDOMElement.width/d.width*(r-d.left)*p,e.y=this.interactionDOMElement.height/d.height*(o-d.top)*p},i.prototype.processInteractive=function(e,r,o,d){var p=this.search.findHit(e,r,o,d),m=this.delayedEvents;if(!m.length)return p;e.stopPropagationHint=!1;var w=m.length;this.delayedEvents=[];for(var x=0;x<w;x++){var P=m[x],A=P.displayObject,I=P.eventString,R=P.eventData;R.stopsPropagatingAt===A&&(R.stopPropagationHint=!0),this.dispatchEvent(A,I,R)}return p},i.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var d=r.length,p=0;p<d;p++){var m=r[p],w=this.getInteractionDataForPointerId(m),x=this.configureInteractionEventForDOMEvent(this.eventData,m,w);x.data.originalEvent=e,this.processInteractive(x,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",x),"touch"===m.pointerType?this.emit("touchstart",x):"mouse"!==m.pointerType&&"pen"!==m.pointerType||this.emit(2===m.button?"rightdown":"mousedown",this.eventData)}}},i.prototype.processPointerDown=function(e,r,o){var d=e.data,p=e.data.identifier;if(o)if(r.trackedPointers[p]||(r.trackedPointers[p]=new il(p)),this.dispatchEvent(r,"pointerdown",e),"touch"===d.pointerType)this.dispatchEvent(r,"touchstart",e);else if("mouse"===d.pointerType||"pen"===d.pointerType){var m=2===d.button;m?r.trackedPointers[p].rightDown=!0:r.trackedPointers[p].leftDown=!0,this.dispatchEvent(r,m?"rightdown":"mousedown",e)}},i.prototype.onPointerComplete=function(e,r,o){for(var d=this.normalizeToPointerData(e),p=d.length,m=e.target!==this.interactionDOMElement?"outside":"",w=0;w<p;w++){var x=d[w],P=this.getInteractionDataForPointerId(x),A=this.configureInteractionEventForDOMEvent(this.eventData,x,P);A.data.originalEvent=e,this.processInteractive(A,this.lastObjectRendered,o,r||!m),this.emit(r?"pointercancel":"pointerup"+m,A),"mouse"===x.pointerType||"pen"===x.pointerType?this.emit(2===x.button?"rightup"+m:"mouseup"+m,A):"touch"===x.pointerType&&(this.emit(r?"touchcancel":"touchend"+m,A),this.releaseInteractionDataForPointerId(x.pointerId))}},i.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(e,r){var o=e.data,d=e.data.identifier;void 0!==r.trackedPointers[d]&&(delete r.trackedPointers[d],this.dispatchEvent(r,"pointercancel",e),"touch"===o.pointerType&&this.dispatchEvent(r,"touchcancel",e))},i.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},i.prototype.processPointerUp=function(e,r,o){var d=e.data,p=e.data.identifier,m=r.trackedPointers[p],w="touch"===d.pointerType,x="mouse"===d.pointerType||"pen"===d.pointerType,P=!1;if(x){var A=2===d.button,I=il.FLAGS,L=void 0!==m&&m.flags&(A?I.RIGHT_DOWN:I.LEFT_DOWN);o?(this.dispatchEvent(r,A?"rightup":"mouseup",e),L&&(this.dispatchEvent(r,A?"rightclick":"click",e),P=!0)):L&&this.dispatchEvent(r,A?"rightupoutside":"mouseupoutside",e),m&&(A?m.rightDown=!1:m.leftDown=!1)}o?(this.dispatchEvent(r,"pointerup",e),w&&this.dispatchEvent(r,"touchend",e),m&&((!x||P)&&this.dispatchEvent(r,"pointertap",e),w&&(this.dispatchEvent(r,"tap",e),m.over=!1))):m&&(this.dispatchEvent(r,"pointerupoutside",e),w&&this.dispatchEvent(r,"touchendoutside",e)),m&&m.none&&delete r.trackedPointers[p]},i.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);("mouse"===r[0].pointerType||"pen"===r[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var o=r.length,d=0;d<o;d++){var p=r[d],m=this.getInteractionDataForPointerId(p),w=this.configureInteractionEventForDOMEvent(this.eventData,p,m);w.data.originalEvent=e,this.processInteractive(w,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",w),"touch"===p.pointerType&&this.emit("touchmove",w),("mouse"===p.pointerType||"pen"===p.pointerType)&&this.emit("mousemove",w)}"mouse"===r[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(e,r,o){var d=e.data,p="touch"===d.pointerType,m="mouse"===d.pointerType||"pen"===d.pointerType;m&&this.processPointerOverOut(e,r,o),(!this.moveWhenInside||o)&&(this.dispatchEvent(r,"pointermove",e),p&&this.dispatchEvent(r,"touchmove",e),m&&this.dispatchEvent(r,"mousemove",e))},i.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var o=this.normalizeToPointerData(e)[0];"mouse"===o.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var d=this.getInteractionDataForPointerId(o),p=this.configureInteractionEventForDOMEvent(this.eventData,o,d);p.data.originalEvent=o,this.processInteractive(p,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",p),"mouse"===o.pointerType||"pen"===o.pointerType?this.emit("mouseout",p):this.releaseInteractionDataForPointerId(d.identifier)}},i.prototype.processPointerOverOut=function(e,r,o){var d=e.data,p=e.data.identifier,m="mouse"===d.pointerType||"pen"===d.pointerType,w=r.trackedPointers[p];o&&!w&&(w=r.trackedPointers[p]=new il(p)),void 0!==w&&(o&&this.mouseOverRenderer?(w.over||(w.over=!0,this.delayDispatchEvent(r,"pointerover",e),m&&this.delayDispatchEvent(r,"mouseover",e)),m&&null===this.cursor&&(this.cursor=r.cursor)):w.over&&(w.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),m&&this.dispatchEvent(r,"mouseout",e),w.none&&delete r.trackedPointers[p]))},i.prototype.onPointerOver=function(e){var o=this.normalizeToPointerData(e)[0],d=this.getInteractionDataForPointerId(o),p=this.configureInteractionEventForDOMEvent(this.eventData,o,d);p.data.originalEvent=o,"mouse"===o.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",p),("mouse"===o.pointerType||"pen"===o.pointerType)&&this.emit("mouseover",p)},i.prototype.getInteractionDataForPointerId=function(e){var o,r=e.pointerId;return 1===r||"mouse"===e.pointerType?o=this.mouse:this.activeInteractionData[r]?o=this.activeInteractionData[r]:((o=this.interactionDataPool.pop()||new nl).identifier=r,this.activeInteractionData[r]=o),o.copyEvent(e),o},i.prototype.releaseInteractionDataForPointerId=function(e){var r=this.activeInteractionData[e];r&&(delete this.activeInteractionData[e],r.reset(),this.interactionDataPool.push(r))},i.prototype.configureInteractionEventForDOMEvent=function(e,r,o){return e.data=o,this.mapPositionToPoint(o.global,r.clientX,r.clientY),"touch"===r.pointerType&&(r.globalX=o.global.x,r.globalY=o.global.y),o.originalEvent=r,e.reset(),e},i.prototype.normalizeToPointerData=function(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var o=0,d=e.changedTouches.length;o<d;o++){var p=e.changedTouches[o];void 0===p.button&&(p.button=e.touches.length?1:0),void 0===p.buttons&&(p.buttons=e.touches.length?1:0),void 0===p.isPrimary&&(p.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===p.width&&(p.width=p.radiusX||1),void 0===p.height&&(p.height=p.radiusY||1),void 0===p.tiltX&&(p.tiltX=0),void 0===p.tiltY&&(p.tiltY=0),void 0===p.pointerType&&(p.pointerType="touch"),void 0===p.pointerId&&(p.pointerId=p.identifier||0),void 0===p.pressure&&(p.pressure=p.force||.5),void 0===p.twist&&(p.twist=0),void 0===p.tangentialPressure&&(p.tangentialPressure=0),void 0===p.layerX&&(p.layerX=p.offsetX=p.clientX),void 0===p.layerY&&(p.layerY=p.offsetY=p.clientY),p.isNormalized=!0,r.push(p)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)r.push(e);else{var m=e;void 0===m.isPrimary&&(m.isPrimary=!0),void 0===m.width&&(m.width=1),void 0===m.height&&(m.height=1),void 0===m.tiltX&&(m.tiltX=0),void 0===m.tiltY&&(m.tiltY=0),void 0===m.pointerType&&(m.pointerType="mouse"),void 0===m.pointerId&&(m.pointerId=1),void 0===m.pressure&&(m.pressure=.5),void 0===m.twist&&(m.twist=0),void 0===m.tangentialPressure&&(m.tangentialPressure=0),m.isNormalized=!0,r.push(m)}return r},i.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},i}(H()),In=function(){function a(i){this.items=[],this._name=i,this._aliasCount=0}return a.prototype.emit=function(i,e,r,o,d,p,m,w){if(arguments.length>8)throw new Error("max arguments reached");var x=this,P=x.name,A=x.items;this._aliasCount++;for(var I=0,R=A.length;I<R;I++)A[I][P](i,e,r,o,d,p,m,w);return A===this.items&&this._aliasCount--,this},a.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},a.prototype.add=function(i){return i[this._name]&&(this.ensureNonAliasedItems(),this.remove(i),this.items.push(i)),this},a.prototype.remove=function(i){var e=this.items.indexOf(i);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},a.prototype.contains=function(i){return-1!==this.items.indexOf(i)},a.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},a.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(a.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),a}();Object.defineProperties(In.prototype,{dispatch:{value:In.prototype.emit},run:{value:In.prototype.emit}}),O.PREFER_ENV=Me.any?ee.WEBGL:ee.WEBGL2,O.STRICT_TEXTURE_CACHE=!1;var Va=[];function Ga(a,i){if(!a)return null;var e="";if("string"==typeof a){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(a);r&&(e=r[1].toLowerCase())}for(var o=Va.length-1;o>=0;--o){var d=Va[o];if(d.test&&d.test(a,e))return new d(a,i)}throw new Error("Unrecognized source type to auto-detect Resource")}var sl=function(a,i){return(sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function bt(a,i){function e(){this.constructor=a}sl(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var $s=function(){function a(i,e){void 0===i&&(i=0),void 0===e&&(e=0),this._width=i,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new In("setRealSize"),this.onUpdate=new In("update"),this.onError=new In("onError")}return a.prototype.bind=function(i){this.onResize.add(i),this.onUpdate.add(i),this.onError.add(i),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},a.prototype.unbind=function(i){this.onResize.remove(i),this.onUpdate.remove(i),this.onError.remove(i)},a.prototype.resize=function(i,e){(i!==this._width||e!==this._height)&&(this._width=i,this._height=e,this.onResize.emit(i,e))},Object.defineProperty(a.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),a.prototype.update=function(){this.destroyed||this.onUpdate.emit()},a.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(a.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),a.prototype.style=function(i,e,r){return!1},a.prototype.dispose=function(){},a.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},a.test=function(i,e){return!1},a}(),Ws=function(a){function i(e,r){var o=this,d=r||{},p=d.width,m=d.height;if(!p||!m)throw new Error("BufferResource width or height invalid");return(o=a.call(this,p,m)||this).data=e,o}return bt(i,a),i.prototype.upload=function(e,r,o){var d=e.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===St.UNPACK),o.width===r.width&&o.height===r.height?d.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(o.width=r.width,o.height=r.height,d.texImage2D(r.target,0,o.internalFormat,r.width,r.height,0,r.format,o.type,this.data)),!0},i.prototype.dispose=function(){this.data=null},i.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},i}($s),ol={scaleMode:Oe.NEAREST,format:ze.RGBA,alphaMode:St.NPM},Gt=function(a){function i(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var o=a.call(this)||this,d=(r=r||{}).alphaMode,p=r.mipmap,m=r.anisotropicLevel,w=r.scaleMode,x=r.width,P=r.height,A=r.wrapMode,I=r.format,R=r.type,L=r.target,B=r.resolution;return e&&!(e instanceof $s)&&((e=Ga(e,r.resourceOptions)).internal=!0),o.width=x||0,o.height=P||0,o.resolution=B||O.RESOLUTION,o.mipmap=void 0!==p?p:O.MIPMAP_TEXTURES,o.anisotropicLevel=void 0!==m?m:O.ANISOTROPIC_LEVEL,o.wrapMode=A||O.WRAP_MODE,o.scaleMode=void 0!==w?w:O.SCALE_MODE,o.format=I||ze.RGBA,o.type=R||Ie.UNSIGNED_BYTE,o.target=L||Qe.TEXTURE_2D,o.alphaMode=void 0!==d?d:St.UNPACK,void 0!==r.premultiplyAlpha&&(o.premultiplyAlpha=r.premultiplyAlpha),o.uid=nr(),o.touched=0,o.isPowerOfTwo=!1,o._refreshPOT(),o._glTextures={},o.dirtyId=0,o.dirtyStyleId=0,o.cacheId=null,o.valid=x>0&&P>0,o.textureCacheIds=[],o.destroyed=!1,o.resource=null,o._batchEnabled=0,o._batchLocation=0,o.parentTextureArray=null,o.setResource(e),o}return bt(i,a),Object.defineProperty(i.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),i.prototype.setStyle=function(e,r){var o;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,o=!0),void 0!==r&&r!==this.mipmap&&(this.mipmap=r,o=!0),o&&this.dirtyStyleId++,this},i.prototype.setSize=function(e,r,o){return this.resolution=o||this.resolution,this.width=e,this.height=r,this._refreshPOT(),this.update(),this},i.prototype.setRealSize=function(e,r,o){return this.resolution=o||this.resolution,this.width=e/this.resolution,this.height=r/this.resolution,this._refreshPOT(),this.update(),this},i.prototype._refreshPOT=function(){this.isPowerOfTwo=Ju(this.realWidth)&&Ju(this.realHeight)},i.prototype.setResolution=function(e){var r=this.resolution;return r===e||(this.resolution=e,this.valid&&(this.width=this.width*r/e,this.height=this.height*r/e,this.emit("update",this)),this._refreshPOT()),this},i.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},i.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},i.prototype.onError=function(e){this.emit("error",this,e)},i.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Wn[this.cacheId],delete Sn[this.cacheId],this.cacheId=null),this.dispose(),i.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},i.prototype.dispose=function(){this.emit("dispose",this)},i.prototype.castToBaseTexture=function(){return this},i.from=function(e,r,o){void 0===o&&(o=O.STRICT_TEXTURE_CACHE);var d="string"==typeof e,p=null;d?p=e:(e._pixiId||(e._pixiId="pixiid_"+nr()),p=e._pixiId);var m=Wn[p];if(d&&o&&!m)throw new Error('The cacheId "'+p+'" does not exist in BaseTextureCache.');return m||((m=new i(e,r)).cacheId=p,i.addToCache(m,p)),m},i.fromBuffer=function(e,r,o,d){e=e||new Float32Array(r*o*4);var p=new Ws(e,{width:r,height:o}),m=e instanceof Float32Array?Ie.FLOAT:Ie.UNSIGNED_BYTE;return new i(p,Object.assign(ol,d||{width:r,height:o,type:m}))},i.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Wn[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Wn[r]=e)},i.removeFromCache=function(e){if("string"==typeof e){var r=Wn[e];if(r){var o=r.textureCacheIds.indexOf(e);return o>-1&&r.textureCacheIds.splice(o,1),delete Wn[e],r}}else if(e&&e.textureCacheIds){for(var d=0;d<e.textureCacheIds.length;++d)delete Wn[e.textureCacheIds[d]];return e.textureCacheIds.length=0,e}return null},i._globalBatch=0,i}(H()),Mo=function(a){function i(e,r){var o=this,d=r||{};(o=a.call(this,d.width,d.height)||this).items=[],o.itemDirtyIds=[];for(var w=0;w<e;w++){var x=new Gt;o.items.push(x),o.itemDirtyIds.push(-2)}return o.length=e,o._load=null,o.baseTexture=null,o}return bt(i,a),i.prototype.initFromArray=function(e,r){for(var o=0;o<this.length;o++)!e[o]||(e[o].castToBaseTexture?this.addBaseTextureAt(e[o].castToBaseTexture(),o):this.addResourceAt(e[o]instanceof $s?e[o]:Ga(e[o],r),o))},i.prototype.dispose=function(){for(var e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},i.prototype.addResourceAt=function(e,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this},i.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");a.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},i.prototype.unbind=function(e){a.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},i.prototype.load=function(){var e=this;if(this._load)return this._load;var o=this.items.map(function(d){return d.resource}).filter(function(d){return d}).map(function(d){return d.load()});return this._load=Promise.all(o).then(function(){var d=e.items[0];return e.resize(d.realWidth,d.realHeight),Promise.resolve(e)}),this._load},i}($s),Ec=function(a){function i(e,r){var w,x,o=this,d=r||{},p=d.width,m=d.height;return Array.isArray(e)?(w=e,x=e.length):x=e,o=a.call(this,x,{width:p,height:m})||this,w&&o.initFromArray(w,r),o}return bt(i,a),i.prototype.addBaseTextureAt=function(e,r){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,r),this},i.prototype.bind=function(e){a.prototype.bind.call(this,e),e.target=Qe.TEXTURE_2D_ARRAY},i.prototype.upload=function(e,r,o){var d=this,p=d.length,m=d.itemDirtyIds,w=d.items,x=e.gl;o.dirtyId<0&&x.texImage3D(x.TEXTURE_2D_ARRAY,0,r.format,this._width,this._height,p,0,r.format,r.type,null);for(var P=0;P<p;P++){var A=w[P];m[P]<A.dirtyId&&(m[P]=A.dirtyId,A.valid&&x.texSubImage3D(x.TEXTURE_2D_ARRAY,0,0,0,P,A.resource.width,A.resource.height,1,r.format,r.type,A.resource.source))}return!0},i}(Mo),Xr=function(a){function i(e){var r=this;return(r=a.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,r.noSubImage=!1,r}return bt(i,a),i.crossOrigin=function(e,r,o){void 0===o&&0!==r.indexOf("data:")?e.crossOrigin=function(a,i){if(void 0===i&&(i=window.location),0===a.indexOf("data:"))return"";i=i||window.location,as||(as=document.createElement("a")),as.href=a;var e=(0,z.parse)(as.href);return e.hostname!==i.hostname||(e.port||""!==i.port)&&e.port!==i.port||e.protocol!==i.protocol?"anonymous":""}(r):!1!==o&&(e.crossOrigin="string"==typeof o?o:"anonymous")},i.prototype.upload=function(e,r,o,d){var p=e.gl,m=r.realWidth,w=r.realHeight;return d=d||this.source,p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===St.UNPACK),this.noSubImage||r.target!==p.TEXTURE_2D||o.width!==m||o.height!==w?(o.width=m,o.height=w,p.texImage2D(r.target,0,r.format,r.format,r.type,d)):p.texSubImage2D(p.TEXTURE_2D,0,0,0,r.format,r.type,d),!0},i.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),a.prototype.update.call(this)}},i.prototype.dispose=function(){this.source=null},i}($s),al=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return bt(i,a),i.test=function(e){var r=window.OffscreenCanvas;return!!(r&&e instanceof r)||e instanceof HTMLCanvasElement},i}(Xr),di=function(a){function i(e,r){var o=this,d=r||{},p=d.width,m=d.height,w=d.autoLoad,x=d.linkBaseTexture;if(e&&e.length!==i.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");o=a.call(this,6,{width:p,height:m})||this;for(var P=0;P<i.SIDES;P++)o.items[P].target=Qe.TEXTURE_CUBE_MAP_POSITIVE_X+P;return o.linkBaseTexture=!1!==x,e&&o.initFromArray(e,r),!1!==w&&o.load(),o}return bt(i,a),i.prototype.bind=function(e){a.prototype.bind.call(this,e),e.target=Qe.TEXTURE_CUBE_MAP},i.prototype.addBaseTextureAt=function(e,r,o){if(void 0===o&&(o=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=Qe.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},i.prototype.upload=function(e,r,o){for(var d=this.itemDirtyIds,p=0;p<i.SIDES;p++){var m=this.items[p];d[p]<m.dirtyId&&(m.valid&&m.resource?(m.resource.upload(e,m,o),d[p]=m.dirtyId):d[p]<-1&&(e.gl.texImage2D(m.target,0,o.internalFormat,r.realWidth,r.realHeight,0,r.format,o.type,null),d[p]=-1))}return!0},i.test=function(e){return Array.isArray(e)&&e.length===i.SIDES},i.SIDES=6,i}(Mo),za=function(a){function i(e,r){var o=this;if(r=r||{},!(e instanceof HTMLImageElement)){var d=new Image;Xr.crossOrigin(d,e,r.crossorigin),d.src=e,e=d}return o=a.call(this,e)||this,!e.complete&&!!o._width&&!!o._height&&(o._width=0,o._height=0),o.url=e.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(void 0!==r.createBitmap?r.createBitmap:O.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,o.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(o.premultiplyAlpha=r.premultiplyAlpha),o.bitmap=null,o._load=null,!1!==r.autoLoad&&o.load(),o}return bt(i,a),i.prototype.load=function(e){var r=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(o,d){var p=r.source;r.url=p.src;var m=function(){r.destroyed||(p.onload=null,p.onerror=null,r.resize(p.width,p.height),r._load=null,o(r.createBitmap?r.process():r))};p.complete&&p.src?m():(p.onload=m,p.onerror=function(w){d(w),r.onError.emit(w)})})),this._load},i.prototype.process=function(){var e=this,r=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===St.UNPACK?"premultiply":"none"}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},i.prototype.upload=function(e,r,o){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return a.prototype.upload.call(this,e,r,o);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(a.prototype.upload.call(this,e,r,o,this.bitmap),!this.preserveBitmap){var d=!0,p=r._glTextures;for(var m in p){var w=p[m];if(w!==o&&w.dirtyId!==r.dirtyId){d=!1;break}}d&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},i.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,a.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},i.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},i}(Xr),Xa=function(a){function i(e,r){var o=this;return r=r||{},(o=a.call(this,document.createElement("canvas"))||this)._width=0,o._height=0,o.svg=e,o.scale=r.scale||1,o._overrideWidth=r.width,o._overrideHeight=r.height,o._resolve=null,o._crossorigin=r.crossorigin,o._load=null,!1!==r.autoLoad&&o.load(),o}return bt(i,a),i.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},i.prototype._loadSvg=function(){var e=this,r=new Image;Xr.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(o){!e._resolve||(r.onerror=null,e.onError.emit(o))},r.onload=function(){if(e._resolve){var o=r.width,d=r.height;if(!o||!d)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var p=o*e.scale,m=d*e.scale;(e._overrideWidth||e._overrideHeight)&&(p=e._overrideWidth||e._overrideHeight/d*o,m=e._overrideHeight||e._overrideWidth/o*d),p=Math.round(p),m=Math.round(m);var w=e.source;w.width=p,w.height=m,w._pixiId="canvas_"+nr(),w.getContext("2d").drawImage(r,0,0,o,d,0,0,p,m),e._resolve(),e._resolve=null}}},i.getSize=function(e){var r=i.SVG_SIZE.exec(e),o={};return r&&(o[r[1]]=Math.round(parseFloat(r[3])),o[r[5]]=Math.round(parseFloat(r[7]))),o},i.prototype.dispose=function(){a.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},i.test=function(e,r){return"svg"===r||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i}(Xr),ul=function(a){function i(e,r){var o=this;if(r=r||{},!(e instanceof HTMLVideoElement)){var d=document.createElement("video");d.setAttribute("preload","auto"),d.setAttribute("webkit-playsinline",""),d.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Xr.crossOrigin(d,e[0].src||e[0],r.crossorigin);for(var m=0;m<e.length;++m){var w=document.createElement("source"),x=e[m],P=x.src,A=x.mime,I=(P=P||e[m]).split("?").shift().toLowerCase(),R=I.substr(I.lastIndexOf(".")+1);A=A||i.MIME_TYPES[R]||"video/"+R,w.src=P,w.type=A,d.appendChild(w)}e=d}return(o=a.call(this,e)||this).noSubImage=!0,o._autoUpdate=!0,o._isConnectedToTicker=!1,o._updateFPS=r.updateFPS||0,o._msToNextUpdate=0,o.autoPlay=!1!==r.autoPlay,o._load=null,o._resolve=null,o._onCanPlay=o._onCanPlay.bind(o),o._onError=o._onError.bind(o),!1!==r.autoLoad&&o.load(),o}return bt(i,a),i.prototype.update=function(e){void 0===e&&(e=0),this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-an.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(a.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},i.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){e.valid?o(e):(e._resolve=o,r.load())}),this._load},i.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},i.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},i.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},i.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(an.shared.add(this.update,this),this._isConnectedToTicker=!0)},i.prototype._onPlayStop=function(){this._isConnectedToTicker&&(an.shared.remove(this.update,this),this._isConnectedToTicker=!1)},i.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(e.videoWidth,e.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},i.prototype.dispose=function(){this._isConnectedToTicker&&an.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),a.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(an.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(an.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),i.test=function(e,r){return e instanceof HTMLVideoElement||i.TYPES.indexOf(r)>-1},i.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],i.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},i}(Xr),wc=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return bt(i,a),i.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},i}(Xr);Va.push(za,wc,al,ul,Xa,Ws,di,Ec);var Zn=function(){function a(i){this.renderer=i}return a.prototype.destroy=function(){this.renderer=null},a}(),ll=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return bt(i,a),i.prototype.upload=function(e,r,o){var d=e.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===St.UNPACK),o.width===r.width&&o.height===r.height?d.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(o.width=r.width,o.height=r.height,d.texImage2D(r.target,0,1===e.context.webGLVersion?d.DEPTH_COMPONENT:d.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},i}(Ws),$a=function(){function a(i,e){this.width=Math.ceil(i||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new In("disposeFramebuffer"),this.multisample=$n.NONE}return Object.defineProperty(a.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),a.prototype.addColorTexture=function(i,e){return void 0===i&&(i=0),this.colorTextures[i]=e||new Gt(null,{scaleMode:Oe.NEAREST,resolution:1,mipmap:Pt.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},a.prototype.addDepthTexture=function(i){return this.depthTexture=i||new Gt(new ll(null,{width:this.width,height:this.height}),{scaleMode:Oe.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Pt.OFF,format:ze.DEPTH_COMPONENT,type:Ie.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},a.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},a.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},a.prototype.resize=function(i,e){if(i=Math.ceil(i),e=Math.ceil(e),i!==this.width||e!==this.height){this.width=i,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var o=this.colorTextures[r];o.setSize(i/(d=o.resolution),e/d)}var d;this.depthTexture&&this.depthTexture.setSize(i/(d=this.depthTexture.resolution),e/d)}},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},a}(),Fi=function(a){function i(e){var r=this;if("number"==typeof e){var o=arguments[0],d=arguments[1],p=arguments[2],m=arguments[3];e={width:o,height:d,scaleMode:p,resolution:m}}r=a.call(this,null,e)||this;var w=e||{},x=w.width,P=w.height;return r.mipmap=0,r.width=Math.ceil(x)||100,r.height=Math.ceil(P)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new $a(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return bt(i,a),i.prototype.resize=function(e,r){e=Math.ceil(e),r=Math.ceil(r),this.framebuffer.resize(e*this.resolution,r*this.resolution)},i.prototype.dispose=function(){this.framebuffer.dispose(),a.prototype.dispose.call(this)},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},i}(Gt),cl=function(){function a(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return a.prototype.set=function(i,e,r){var o=e.width,d=e.height;if(r){var p=i.width/2/o,m=i.height/2/d,w=i.x/o+p,x=i.y/d+m;r=Ft.add(r,Ft.NW),this.x0=w+p*Ft.uX(r),this.y0=x+m*Ft.uY(r),r=Ft.add(r,2),this.x1=w+p*Ft.uX(r),this.y1=x+m*Ft.uY(r),r=Ft.add(r,2),this.x2=w+p*Ft.uX(r),this.y2=x+m*Ft.uY(r),r=Ft.add(r,2),this.x3=w+p*Ft.uX(r),this.y3=x+m*Ft.uY(r)}else this.x0=i.x/o,this.y0=i.y/d,this.x1=(i.x+i.width)/o,this.y1=i.y/d,this.x2=(i.x+i.width)/o,this.y2=(i.y+i.height)/d,this.x3=i.x/o,this.y3=(i.y+i.height)/d;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},a}(),sr=new cl,ht=function(a){function i(e,r,o,d,p,m){var w=a.call(this)||this;if(w.noFrame=!1,r||(w.noFrame=!0,r=new lt(0,0,1,1)),e instanceof i&&(e=e.baseTexture),w.baseTexture=e,w._frame=r,w.trim=d,w.valid=!1,w._uvs=sr,w.uvMatrix=null,w.orig=o||r,w._rotate=Number(p||0),!0===p)w._rotate=2;else if(w._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return w.defaultAnchor=m?new nn(m.x,m.y):new nn(0,0),w._updateID=0,w.textureCacheIds=[],e.valid?w.noFrame?e.valid&&w.onBaseTextureUpdated(e):w.frame=r:e.once("loaded",w.onBaseTextureUpdated,w),w.noFrame&&e.on("update",w.onBaseTextureUpdated,w),w}return bt(i,a),i.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},i.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},i.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture;r&&r.url&&Sn[r.url]&&i.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,i.removeFromCache(this),this.textureCacheIds=null},i.prototype.clone=function(){return new i(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},i.prototype.updateUvs=function(){this._uvs===sr&&(this._uvs=new cl),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},i.from=function(e,r,o){void 0===r&&(r={}),void 0===o&&(o=O.STRICT_TEXTURE_CACHE);var d="string"==typeof e,p=null;d?p=e:(e._pixiId||(e._pixiId="pixiid_"+nr()),p=e._pixiId);var m=Sn[p];if(d&&o&&!m)throw new Error('The cacheId "'+p+'" does not exist in TextureCache.');return m||(r.resolution||(r.resolution=Ir(e)),(m=new i(new Gt(e,r))).baseTexture.cacheId=p,Gt.addToCache(m.baseTexture,p),i.addToCache(m,p)),m},i.fromURL=function(e,r){var o=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),d=i.from(e,Object.assign({resourceOptions:o},r),!1),p=d.baseTexture.resource;return d.baseTexture.valid?Promise.resolve(d):p.load().then(function(){return Promise.resolve(d)})},i.fromBuffer=function(e,r,o,d){return new i(Gt.fromBuffer(e,r,o,d))},i.fromLoader=function(e,r,o){var d=new za(e);d.url=r;var m=new i(new Gt(d,{scaleMode:O.SCALE_MODE,resolution:Ir(r)}));return o||(o=r),Gt.addToCache(m.baseTexture,o),i.addToCache(m,o),o!==r&&(Gt.addToCache(m.baseTexture,r),i.addToCache(m,r)),m},i.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Sn[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),Sn[r]=e)},i.removeFromCache=function(e){if("string"==typeof e){var r=Sn[e];if(r){var o=r.textureCacheIds.indexOf(e);return o>-1&&r.textureCacheIds.splice(o,1),delete Sn[e],r}}else if(e&&e.textureCacheIds){for(var d=0;d<e.textureCacheIds.length;++d)Sn[e.textureCacheIds[d]]===e&&delete Sn[e.textureCacheIds[d]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(i.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var r=e.x,o=e.y,d=e.width,p=e.height,m=r+d>this.baseTexture.width,w=o+p>this.baseTexture.height;if(m||w)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+r+" + "+d+" = "+(r+d)+" > "+this.baseTexture.width+" "+(m&&w?"and":"or")+" Y: "+o+" + "+p+" = "+(o+p)+" > "+this.baseTexture.height);this.valid=d&&p&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),i.prototype.castToBaseTexture=function(){return this.baseTexture},i}(H());function pi(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}ht.EMPTY=new ht(new Gt),pi(ht.EMPTY),pi(ht.EMPTY.baseTexture),ht.WHITE=function(){var a=document.createElement("canvas");a.width=16,a.height=16;var i=a.getContext("2d");return i.fillStyle="white",i.fillRect(0,0,16,16),new ht(new Gt(new al(a)))}(),pi(ht.WHITE),pi(ht.WHITE.baseTexture);var Rr=function(a){function i(e,r){var o=this,d=null;if(!(e instanceof Fi)){var p=arguments[1],m=arguments[2],w=arguments[3],x=arguments[4];console.warn("Please use RenderTexture.create("+p+", "+m+") instead of the ctor directly."),d=arguments[0],r=null,e=new Fi({width:p,height:m,scaleMode:w,resolution:x})}return(o=a.call(this,e,r)||this).legacyRenderer=d,o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}return bt(i,a),Object.defineProperty(i.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),i.prototype.resize=function(e,r,o){void 0===o&&(o=!0),e=Math.ceil(e),r=Math.ceil(r),this.valid=e>0&&r>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=r,o&&this.baseTexture.resize(e,r),this.updateUvs()},i.prototype.setResolution=function(e){var r=this.baseTexture;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))},i.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new i(new Fi(e))},i}(ht),Wa=function(){function a(i){this.texturePool={},this.textureOptions=i||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return a.prototype.createTexture=function(i,e){var r=new Fi(Object.assign({width:i,height:e,resolution:1},this.textureOptions));return new Rr(r)},a.prototype.getOptimalTexture=function(i,e,r){void 0===r&&(r=1);var o=a.SCREEN_KEY;i*=r,e*=r,(!this.enableFullScreen||i!==this._pixelsWidth||e!==this._pixelsHeight)&&(o=(65535&(i=Rt(i)))<<16|65535&(e=Rt(e))),this.texturePool[o]||(this.texturePool[o]=[]);var d=this.texturePool[o].pop();return d||(d=this.createTexture(i,e)),d.filterPoolKey=o,d.setResolution(r),d},a.prototype.getFilterTexture=function(i,e){var r=this.getOptimalTexture(i.width,i.height,e||i.resolution);return r.filterFrame=i.filterFrame,r},a.prototype.returnTexture=function(i){var e=i.filterPoolKey;i.filterFrame=null,this.texturePool[e].push(i)},a.prototype.returnFilterTexture=function(i){this.returnTexture(i)},a.prototype.clear=function(i){if(i=!1!==i)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var o=0;o<r.length;o++)r[o].destroy(!0)}this.texturePool={}},a.prototype.setScreenSize=function(i){if(i.width!==this._pixelsWidth||i.height!==this._pixelsHeight){var e=a.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=i.width>0&&i.height>0,r)for(var o=0;o<r.length;o++)r[o].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=i.width,this._pixelsHeight=i.height}},a.SCREEN_KEY="screen",a}(),Oo=function(){function a(i,e,r,o,d,p,m){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===o&&(o=5126),this.buffer=i,this.size=e,this.normalized=r,this.type=o,this.stride=d,this.start=p,this.instance=m}return a.prototype.destroy=function(){this.buffer=null},a.from=function(i,e,r,o,d){return new a(i,e,r,o,d)},a}(),Qt=0,vn=function(){function a(i,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=i||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Qt++,this.disposeRunner=new In("disposeBuffer")}return a.prototype.update=function(i){this.data=i||this.data,this._updateID++},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroy=function(){this.dispose(),this.data=null},a.from=function(i){return i instanceof Array&&(i=new Float32Array(i)),new a(i)},a}();function fl(a){if(4===a.BYTES_PER_ELEMENT)return a instanceof Float32Array?"Float32Array":a instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===a.BYTES_PER_ELEMENT){if(a instanceof Uint16Array)return"Uint16Array"}else if(1===a.BYTES_PER_ELEMENT&&a instanceof Uint8Array)return"Uint8Array";return null}var un={Float32Array,Uint32Array,Int32Array,Uint8Array},Dc={5126:4,5123:2,5121:1},Ni=0,An={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},hs=function(){function a(i,e){void 0===i&&(i=[]),void 0===e&&(e={}),this.buffers=i,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ni++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new In("disposeGeometry"),this.refCount=0}return a.prototype.addAttribute=function(i,e,r,o,d,p,m,w){if(void 0===r&&(r=0),void 0===o&&(o=!1),void 0===w&&(w=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof vn||(e instanceof Array&&(e=new Float32Array(e)),e=new vn(e));var x=i.split("|");if(x.length>1){for(var P=0;P<x.length;P++)this.addAttribute(x[P],e,r,o,d);return this}var A=this.buffers.indexOf(e);return-1===A&&(this.buffers.push(e),A=this.buffers.length-1),this.attributes[i]=new Oo(A,r,o,d,p,m,w),this.instanced=this.instanced||w,this},a.prototype.getAttribute=function(i){return this.attributes[i]},a.prototype.getBuffer=function(i){return this.buffers[this.getAttribute(i).buffer]},a.prototype.addIndex=function(i){return i instanceof vn||(i instanceof Array&&(i=new Uint16Array(i)),i=new vn(i)),i.index=!0,this.indexBuffer=i,-1===this.buffers.indexOf(i)&&this.buffers.push(i),this},a.prototype.getIndex=function(){return this.indexBuffer},a.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var o,i=[],e=[],r=new vn;for(o in this.attributes){var d=this.attributes[o];i.push(this.buffers[d.buffer].data),e.push(d.size*Dc[d.type]/4),d.buffer=0}for(r.data=function(a,i){for(var e=0,r=0,o={},d=0;d<a.length;d++)r+=i[d],e+=a[d].length;var p=new ArrayBuffer(4*e),m=null,w=0;for(d=0;d<a.length;d++){var x=i[d],P=a[d],A=fl(P);o[A]||(o[A]=new un[A](p)),m=o[A];for(var I=0;I<P.length;I++)m[(I/x|0)*r+w+I%x]=P[I];w+=x}return new Float32Array(p)}(i,e),o=0;o<this.buffers.length;o++)this.buffers[o]!==this.indexBuffer&&this.buffers[o].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},a.prototype.getSize=function(){for(var i in this.attributes){var e=this.attributes[i];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},a.prototype.clone=function(){for(var i=new a,e=0;e<this.buffers.length;e++)i.buffers[e]=new vn(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];i.attributes[e]=new Oo(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(i.indexBuffer=i.buffers[this.buffers.indexOf(this.indexBuffer)],i.indexBuffer.index=!0),i},a.merge=function(i){for(var p,e=new a,r=[],o=[],d=[],m=0;m<i.length;m++){p=i[m];for(var w=0;w<p.buffers.length;w++)o[w]=o[w]||0,o[w]+=p.buffers[w].data.length,d[w]=0}for(m=0;m<p.buffers.length;m++)r[m]=new(An[fl(p.buffers[m].data)])(o[m]),e.buffers[m]=new vn(r[m]);for(m=0;m<i.length;m++)for(p=i[m],w=0;w<p.buffers.length;w++)r[w].set(p.buffers[w].data,d[w]),d[w]+=p.buffers[w].data.length;if(e.attributes=p.attributes,p.indexBuffer){e.indexBuffer=e.buffers[p.buffers.indexOf(p.indexBuffer)],e.indexBuffer.index=!0;var x=0,P=0,A=0,I=0;for(m=0;m<p.buffers.length;m++)if(p.buffers[m]!==p.indexBuffer){I=m;break}for(var m in p.attributes){var R=p.attributes[m];(0|R.buffer)===I&&(P+=R.size*Dc[R.type]/4)}for(m=0;m<i.length;m++){var L=i[m].indexBuffer.data;for(w=0;w<L.length;w++)e.indexBuffer.data[w+A]+=x;x+=p.buffers[I].data.length/P,A+=L.length}}return e},a}(),Ro=function(a){function i(){var e=a.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return bt(i,a),i}(hs),yr=function(a){function i(){var e=a.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new vn(e.vertices),e.uvBuffer=new vn(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return bt(i,a),i.prototype.map=function(e,r){var o=0,d=0;return this.uvs[0]=o,this.uvs[1]=d,this.uvs[2]=o+r.width/e.width,this.uvs[3]=d,this.uvs[4]=o+r.width/e.width,this.uvs[5]=d+r.height/e.height,this.uvs[6]=o,this.uvs[7]=d+r.height/e.height,d=r.y,this.vertices[0]=o=r.x,this.vertices[1]=d,this.vertices[2]=o+r.width,this.vertices[3]=d,this.vertices[4]=o+r.width,this.vertices[5]=d+r.height,this.vertices[6]=o,this.vertices[7]=d+r.height,this.invalidate(),this},i.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},i}(hs),Bn=0,Fr=function(){function a(i,e){this.uniforms=i,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Bn++,this.static=!!e}return a.prototype.update=function(){this.dirtyId++},a.prototype.add=function(i,e,r){this.uniforms[i]=new a(e,r)},a.from=function(i,e){return new a(i,e)},a}(),Ys=function(){function a(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new lt,this.destinationFrame=new lt,this.filters=[]}return a.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},a}(),qa=function(a){function i(e){var r=a.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new Wa,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Ro,r.quadUv=new yr,r.tempRect=new lt,r.activeState={},r.globalUniforms=new Fr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return bt(i,a),i.prototype.push=function(e,r){for(var o=this.renderer,d=this.defaultFilterStack,p=this.statePool.pop()||new Ys,m=r[0].resolution,w=r[0].padding,x=r[0].autoFit,P=r[0].legacy,A=1;A<r.length;A++){var I=r[A];m=Math.min(m,I.resolution),w=this.useMaxPadding?Math.max(w,I.padding):w+I.padding,x=x&&I.autoFit,P=P||I.legacy}1===d.length&&(this.defaultFilterStack[0].renderTexture=o.renderTexture.current),d.push(p),p.resolution=m,p.legacy=P,p.target=e,p.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),p.sourceFrame.pad(w),x&&p.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),p.sourceFrame.ceil(m),p.renderTexture=this.getOptimalFilterTexture(p.sourceFrame.width,p.sourceFrame.height,m),p.filters=r,p.destinationFrame.width=p.renderTexture.width,p.destinationFrame.height=p.renderTexture.height;var R=this.tempRect;R.width=p.sourceFrame.width,R.height=p.sourceFrame.height,p.renderTexture.filterFrame=p.sourceFrame,o.renderTexture.bind(p.renderTexture,p.sourceFrame,R),o.renderTexture.clear()},i.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),o=r.filters;this.activeState=r;var d=this.globalUniforms.uniforms;d.outputFrame=r.sourceFrame,d.resolution=r.resolution;var p=d.inputSize,m=d.inputPixel,w=d.inputClamp;if(p[0]=r.destinationFrame.width,p[1]=r.destinationFrame.height,p[2]=1/p[0],p[3]=1/p[1],m[0]=p[0]*r.resolution,m[1]=p[1]*r.resolution,m[2]=1/m[0],m[3]=1/m[1],w[0]=.5*m[2],w[1]=.5*m[3],w[2]=r.sourceFrame.width*p[2]-.5*m[2],w[3]=r.sourceFrame.height*p[3]-.5*m[3],r.legacy){var x=d.filterArea;x[0]=r.destinationFrame.width,x[1]=r.destinationFrame.height,x[2]=r.sourceFrame.x,x[3]=r.sourceFrame.y,d.filterClamp=d.inputClamp}this.globalUniforms.update();var P=e[e.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===o.length)o[0].apply(this,r.renderTexture,P.renderTexture,Ot.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var A=r.renderTexture,I=this.getOptimalFilterTexture(A.width,A.height,r.resolution);I.filterFrame=A.filterFrame;var R=0;for(R=0;R<o.length-1;++R){o[R].apply(this,A,I,Ot.CLEAR,r);var L=A;A=I,I=L}o[R].apply(this,A,P.renderTexture,Ot.BLEND,r),this.returnFilterTexture(A),this.returnFilterTexture(I)}r.clear(),this.statePool.push(r)},i.prototype.bindAndClear=function(e,r){if(void 0===r&&(r=Ot.CLEAR),e&&e.filterFrame){var o=this.tempRect;o.width=e.filterFrame.width,o.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,o)}else this.renderer.renderTexture.bind(e);"boolean"==typeof r&&(r=r?Ot.CLEAR:Ot.BLEND,kn("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(r===Ot.CLEAR||r===Ot.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},i.prototype.applyFilter=function(e,r,o,d){var p=this.renderer;this.bindAndClear(o,d),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,p.state.set(e.state),p.shader.bind(e),e.legacy?(this.quadUv.map(r._frame,r.filterFrame),p.geometry.bind(this.quadUv),p.geometry.draw(Ae.TRIANGLES)):(p.geometry.bind(this.quad),p.geometry.draw(Ae.TRIANGLE_STRIP))},i.prototype.calculateSpriteMatrix=function(e,r){var o=this.activeState,d=o.sourceFrame,p=o.destinationFrame,m=r._texture.orig,w=e.set(p.width,0,0,p.height,d.x,d.y),x=r.worldTransform.copyTo(Kt.TEMP_MATRIX);return x.invert(),w.prepend(x),w.scale(1/m.width,1/m.height),w.translate(r.anchor.x,r.anchor.y),w},i.prototype.destroy=function(){this.texturePool.clear(!1)},i.prototype.getOptimalFilterTexture=function(e,r,o){return void 0===o&&(o=1),this.texturePool.getOptimalTexture(e,r,o)},i.prototype.getFilterTexture=function(e,r){if("number"==typeof e){var o=e;e=r,r=o}var d=this.texturePool.getOptimalTexture((e=e||this.activeState.renderTexture).width,e.height,r||e.resolution);return d.filterFrame=e.filterFrame,d},i.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},i.prototype.emptyPool=function(){this.texturePool.clear(!0)},i.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},i}(Zn),or=function(){function a(i){this.renderer=i}return a.prototype.flush=function(){},a.prototype.destroy=function(){this.renderer=null},a.prototype.start=function(){},a.prototype.stop=function(){this.flush()},a.prototype.render=function(i){},a}(),Za=function(a){function i(e){var r=a.call(this,e)||this;return r.emptyRenderer=new or(e),r.currentRenderer=r.emptyRenderer,r}return bt(i,a),i.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},i.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.copyBoundTextures=function(e,r){for(var o=this.renderer.texture.boundTextures,d=r-1;d>=0;--d)e[d]=o[d]||null,e[d]&&(e[d]._batchLocation=d)},i.prototype.boundArray=function(e,r,o,d){for(var p=e.elements,m=e.ids,w=e.count,x=0,P=0;P<w;P++){var A=p[P],I=A._batchLocation;if(I>=0&&I<d&&r[I]===A)m[P]=I;else for(;x<d;){var R=r[x];if(!R||R._batchEnabled!==o||R._batchLocation!==x){m[P]=x,A._batchLocation=x,r[x]=A;break}x++}}},i}(Zn),Fo=0,ot=function(a){function i(e){var r=a.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return bt(i,a),Object.defineProperty(i.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),i.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Fo++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},i.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Fo++,this.renderer.runners.contextChange.emit(e)},i.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},i.prototype.createContext=function(e,r){var o;if(O.PREFER_ENV>=ee.WEBGL2&&(o=e.getContext("webgl2",r)),o)this.webGLVersion=2;else if(this.webGLVersion=1,!(o=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=o,this.getExtensions(),this.gl},i.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},i.prototype.handleContextLost=function(e){e.preventDefault()},i.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},i.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},i.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},i.prototype.validateContext=function(e){var r=e.getContextAttributes(),o="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;o&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var d=o||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=d,d||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},i}(Zn),Mh=function(i){this.framebuffer=i,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=$n.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},No=new lt,Ka=function(a){function i(e){var r=a.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new $a(10,10),r.msaaSamples=null,r}return bt(i,a),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var r=this.renderer.context.extensions.drawBuffers,o=this.renderer.context.extensions.depthTexture;O.PREFER_ENV===ee.WEBGL_LEGACY&&(r=null,o=null),r?e.drawBuffers=function(d){return r.drawBuffersWEBGL(d)}:(this.hasMRT=!1,e.drawBuffers=function(){}),o||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},i.prototype.bind=function(e,r){var o=this.gl;if(e){var d=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,o.bindFramebuffer(o.FRAMEBUFFER,d.framebuffer)),d.dirtyId!==e.dirtyId&&(d.dirtyId=e.dirtyId,d.dirtyFormat!==e.dirtyFormat?(d.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):d.dirtySize!==e.dirtySize&&(d.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var p=0;p<e.colorTextures.length;p++){var m=e.colorTextures[p];this.renderer.texture.unbind(m.parentTextureArray||m)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,o.bindFramebuffer(o.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},i.prototype.setViewport=function(e,r,o,d){var p=this.viewport;(p.width!==o||p.height!==d||p.x!==e||p.y!==r)&&(p.x=e,p.y=r,p.width=o,p.height=d,this.gl.viewport(e,r,o,d))},Object.defineProperty(i.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),i.prototype.clear=function(e,r,o,d,p){void 0===p&&(p=Be.COLOR|Be.DEPTH);var m=this.gl;m.clearColor(e,r,o,d),m.clear(p)},i.prototype.initFramebuffer=function(e){var o=new Mh(this.gl.createFramebuffer());return o.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=o,this.managedFramebuffers.push(e),e.disposeRunner.add(this),o},i.prototype.resizeFramebuffer=function(e){var r=this.gl,o=e.glFramebuffers[this.CONTEXT_UID];o.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));for(var d=e.colorTextures,p=0;p<d.length;p++)this.renderer.texture.bind(d[p],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},i.prototype.updateFramebuffer=function(e){var r=this.gl,o=e.glFramebuffers[this.CONTEXT_UID],p=e.colorTextures.length;r.drawBuffers||(p=Math.min(p,1)),o.multisample>1&&(o.msaaBuffer=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,o.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,o.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,o.msaaBuffer));for(var m=[],w=0;w<p;w++)if(!(0===w&&o.multisample>1)){var x=e.colorTextures[w],P=x.parentTextureArray||x;this.renderer.texture.bind(P,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+w,x.target,P._glTextures[this.CONTEXT_UID].texture,0),m.push(r.COLOR_ATTACHMENT0+w)}if(m.length>1&&r.drawBuffers(m),e.depthTexture&&this.writeDepthTexture){var I=e.depthTexture;this.renderer.texture.bind(I,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,I._glTextures[this.CONTEXT_UID].texture,0)}!o.stencil&&(e.stencil||e.depth)&&(o.stencil=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),e.depthTexture||r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o.stencil))},i.prototype.detectSamples=function(e){var r=this.msaaSamples,o=$n.NONE;if(e<=1||null===r)return o;for(var d=0;d<r.length;d++)if(r[d]<=e){o=r[d];break}return 1===o&&(o=$n.NONE),o},i.prototype.blit=function(e,r,o){var d=this,p=d.current,w=d.gl;if(2===d.renderer.context.webGLVersion&&p){var P=p.glFramebuffers[d.CONTEXT_UID];if(P){if(!e){if(P.multisample<=1)return;P.blitFramebuffer||(P.blitFramebuffer=new $a(p.width,p.height),P.blitFramebuffer.addColorTexture(0,p.colorTextures[0])),(e=P.blitFramebuffer).width=p.width,e.height=p.height}r||((r=No).width=p.width,r.height=p.height),o||(o=r);var A=r.width===o.width&&r.height===o.height;this.bind(e),w.bindFramebuffer(w.READ_FRAMEBUFFER,P.framebuffer),w.blitFramebuffer(r.x,r.y,r.width,r.height,o.x,o.y,o.width,o.height,w.COLOR_BUFFER_BIT,A?w.NEAREST:w.LINEAR)}}},i.prototype.disposeFramebuffer=function(e,r){var o=e.glFramebuffers[this.CONTEXT_UID],d=this.gl;if(o){delete e.glFramebuffers[this.CONTEXT_UID];var p=this.managedFramebuffers.indexOf(e);p>=0&&this.managedFramebuffers.splice(p,1),e.disposeRunner.remove(this),r||(d.deleteFramebuffer(o.framebuffer),o.stencil&&d.deleteRenderbuffer(o.stencil))}},i.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var o=0;o<r.length;o++)this.disposeFramebuffer(r[o],e)},i.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(r&&!r.stencil){e.enableStencil();var o=e.width,d=e.height,p=this.gl,m=p.createRenderbuffer();p.bindRenderbuffer(p.RENDERBUFFER,m),p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,o,d),r.stencil=m,p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,m)}}},i.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new lt},i}(Zn),Oh=function(i){this.buffer=i||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},fs={5126:4,5123:2,5121:1},Lo=function(a){function i(e){var r=a.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return bt(i,a),i.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion){var o=this.renderer.context.extensions.vertexArrayObject;O.PREFER_ENV===ee.WEBGL_LEGACY&&(o=null),o?(e.createVertexArray=function(){return o.createVertexArrayOES()},e.bindVertexArray=function(p){return o.bindVertexArrayOES(p)},e.deleteVertexArray=function(p){return o.deleteVertexArrayOES(p)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==r.webGLVersion){var d=e.getExtension("ANGLE_instanced_arrays");d?(e.vertexAttribDivisor=function(p,m){return d.vertexAttribDivisorANGLE(p,m)},e.drawElementsInstanced=function(p,m,w,x,P){return d.drawElementsInstancedANGLE(p,m,w,x,P)},e.drawArraysInstanced=function(p,m,w,x){return d.drawArraysInstancedANGLE(p,m,w,x)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},i.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var o=this.gl,d=e.glVertexArrayObjects[this.CONTEXT_UID],p=!1;d||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=d={},p=!0);var m=d[r.program.id]||this.initGeometryVao(e,r.program,p);this._activeGeometry=e,this._activeVao!==m&&(this._activeVao=m,this.hasVao?o.bindVertexArray(m):this.activateVao(e,r.program)),this.updateBuffers()},i.prototype.reset=function(){this.unbind()},i.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.gl,o=0;o<e.buffers.length;o++){var d=e.buffers[o],p=d._glBuffers[this.CONTEXT_UID];if(d._updateID!==p.updateID){p.updateID=d._updateID;var m=d.index?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER;if(r.bindBuffer(m,p.buffer),this._boundBuffer=p,p.byteLength>=d.data.byteLength)r.bufferSubData(m,0,d.data);else{var w=d.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;p.byteLength=d.data.byteLength,r.bufferData(m,d.data,w)}}}},i.prototype.checkCompatibility=function(e,r){var o=e.attributes,d=r.attributeData;for(var p in d)if(!o[p])throw new Error('shader and geometry incompatible, geometry missing the "'+p+'" attribute')},i.prototype.getSignature=function(e,r){var o=e.attributes,d=r.attributeData,p=["g",e.id];for(var m in o)d[m]&&p.push(m);return p.join("-")},i.prototype.initGeometryVao=function(e,r,o){void 0===o&&(o=!0),this.checkCompatibility(e,r);var d=this.gl,p=this.CONTEXT_UID,m=this.getSignature(e,r),w=e.glVertexArrayObjects[this.CONTEXT_UID],x=w[m];if(x)return w[r.id]=x,x;var P=e.buffers,A=e.attributes,I={},R={};for(var L in P)I[L]=0,R[L]=0;for(var L in A)!A[L].size&&r.attributeData[L]?A[L].size=r.attributeData[L].size:A[L].size||console.warn("PIXI Geometry attribute '"+L+"' size cannot be determined (likely the bound shader does not have the attribute)"),I[A[L].buffer]+=A[L].size*fs[A[L].type];for(var L in A){var B=A[L],X=B.size;void 0===B.stride&&(B.stride=I[B.buffer]===X*fs[B.type]?0:I[B.buffer]),void 0===B.start&&(B.start=R[B.buffer],R[B.buffer]+=X*fs[B.type])}x=d.createVertexArray(),d.bindVertexArray(x);for(var ue=0;ue<P.length;ue++){var Fe=P[ue];Fe._glBuffers[p]||(Fe._glBuffers[p]=new Oh(d.createBuffer()),this.managedBuffers[Fe.id]=Fe,Fe.disposeRunner.add(this)),o&&Fe._glBuffers[p].refCount++}return this.activateVao(e,r),this._activeVao=x,w[r.id]=x,w[m]=x,x},i.prototype.disposeBuffer=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var o=e._glBuffers[this.CONTEXT_UID],d=this.gl;e.disposeRunner.remove(this),o&&(r||d.deleteBuffer(o.buffer),delete e._glBuffers[this.CONTEXT_UID])}},i.prototype.disposeGeometry=function(e,r){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var o=e.glVertexArrayObjects[this.CONTEXT_UID],d=this.gl,p=e.buffers;if(e.disposeRunner.remove(this),o){for(var m=0;m<p.length;m++){var w=p[m]._glBuffers[this.CONTEXT_UID];w.refCount--,0===w.refCount&&!r&&this.disposeBuffer(p[m],r)}if(!r)for(var x in o)if("g"===x[0]){var P=o[x];this._activeVao===P&&this.unbind(),d.deleteVertexArray(P)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},i.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),o=0;o<r.length;o++)this.disposeGeometry(this.managedGeometries[r[o]],e);for(r=Object.keys(this.managedBuffers),o=0;o<r.length;o++)this.disposeBuffer(this.managedBuffers[r[o]],e)},i.prototype.activateVao=function(e,r){var o=this.gl,d=this.CONTEXT_UID,p=e.buffers,m=e.attributes;e.indexBuffer&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[d].buffer);var w=null;for(var x in m){var P=m[x],I=p[P.buffer]._glBuffers[d];if(r.attributeData[x]){w!==I&&(o.bindBuffer(o.ARRAY_BUFFER,I.buffer),w=I);var R=r.attributeData[x].location;if(o.enableVertexAttribArray(R),o.vertexAttribPointer(R,P.size,P.type||o.FLOAT,P.normalized,P.stride,P.start),P.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");o.vertexAttribDivisor(R,1)}}}},i.prototype.draw=function(e,r,o,d){var p=this.gl,m=this._activeGeometry;if(m.indexBuffer){var w=m.indexBuffer.data.BYTES_PER_ELEMENT,x=2===w?p.UNSIGNED_SHORT:p.UNSIGNED_INT;2===w||4===w&&this.canUseUInt32ElementIndex?m.instanced?p.drawElementsInstanced(e,r||m.indexBuffer.data.length,x,(o||0)*w,d||1):p.drawElements(e,r||m.indexBuffer.data.length,x,(o||0)*w):console.warn("unsupported index buffer type: uint32")}else m.instanced?p.drawArraysInstanced(e,o,r||m.getSize(),d||1):p.drawArrays(e,o,r||m.getSize());return this},i.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},i}(Zn),Tc=function(){function a(i){void 0===i&&(i=null),this.type=kt.NONE,this.autoDetect=!0,this.maskObject=i||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return a.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=kt.NONE,this.autoDetect=!0),this._target=null},a.prototype.copyCountersOrReset=function(i){i?(this._stencilCounter=i._stencilCounter,this._scissorCounter=i._scissorCounter,this._scissorRect=i._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},a}();function be(a,i,e){var r=a.createShader(i);return a.shaderSource(r,e),a.compileShader(r),r}function wt(a,i,e,r){var o=be(a,a.VERTEX_SHADER,i),d=be(a,a.FRAGMENT_SHADER,e),p=a.createProgram();if(a.attachShader(p,o),a.attachShader(p,d),r)for(var m in r)a.bindAttribLocation(p,r[m],m);return a.linkProgram(p),a.getProgramParameter(p,a.LINK_STATUS)||(a.getShaderParameter(o,a.COMPILE_STATUS)||(console.warn(i),console.error(a.getShaderInfoLog(o))),a.getShaderParameter(d,a.COMPILE_STATUS)||(console.warn(e),console.error(a.getShaderInfoLog(d))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(p,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(p)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(p)),a.deleteProgram(p),p=null),a.deleteShader(o),a.deleteShader(d),p}function ko(a){for(var i=new Array(a),e=0;e<i.length;e++)i[e]=!1;return i}function ln(a,i){switch(a){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*i);case"vec3":return new Float32Array(3*i);case"vec4":return new Float32Array(4*i);case"ivec2":return new Int32Array(2*i);case"ivec3":return new Int32Array(3*i);case"ivec4":return new Int32Array(4*i);case"bool":return!1;case"bvec2":return ko(2*i);case"bvec3":return ko(3*i);case"bvec4":return ko(4*i);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Li,Bo={},$r=Bo;function _r(){if($r===Bo||$r&&$r.isContextLost()){var a=document.createElement("canvas"),i=void 0;O.PREFER_ENV>=ee.WEBGL2&&(i=a.getContext("webgl2",{})),i||((i=a.getContext("webgl",{})||a.getContext("experimental-webgl",{}))?i.getExtension("WEBGL_draw_buffers"):i=null),$r=i}return $r}function xc(a,i,e){if("precision"!==a.substring(0,9)){var r=i;return i===tn.HIGH&&e!==tn.HIGH&&(r=tn.MEDIUM),"precision "+r+" float;\n"+a}return e!==tn.HIGH&&"precision highp"===a.substring(0,15)?a.replace("precision highp","precision mediump"):a}var Cc={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Uo(a){return Cc[a]}var ki=null,xn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Nr(a,i){if(!ki){var e=Object.keys(xn);ki={};for(var r=0;r<e.length;++r){var o=e[r];ki[a[o]]=xn[o]}}return ki[i]}var Bi,jo=[{test:function(a){return"float"===a.type&&1===a.size},code:function(a){return'\n            if(uv["'+a+'"] !== ud["'+a+'"].value)\n            {\n                ud["'+a+'"].value = uv["'+a+'"]\n                gl.uniform1f(ud["'+a+'"].location, uv["'+a+'"])\n            }\n            '}},{test:function(a){return("sampler2D"===a.type||"samplerCube"===a.type||"sampler2DArray"===a.type)&&1===a.size&&!a.isArray},code:function(a){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+a+'"], t);\n\n            if(ud["'+a+'"].value !== t)\n            {\n                ud["'+a+'"].value = t;\n                gl.uniform1i(ud["'+a+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(a,i){return"mat3"===a.type&&1===a.size&&void 0!==i.a},code:function(a){return'\n            gl.uniformMatrix3fv(ud["'+a+'"].location, false, uv["'+a+'"].toArray(true));\n            '}},{test:function(a,i){return"vec2"===a.type&&1===a.size&&void 0!==i.x},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+a+'"].location, v.x, v.y);\n                }'}},{test:function(a){return"vec2"===a.type&&1===a.size},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+a+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(a,i){return"vec4"===a.type&&1===a.size&&void 0!==i.width},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+a+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(a){return"vec4"===a.type&&1===a.size},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+a+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],ds={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Wr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},dl=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Fh(a){for(var i="",e=0;e<a;++e)e>0&&(i+="\nelse "),e<a-1&&(i+="if(test == "+e+".0){}");return i}var Lh=0,ps={},Un=function(){function a(i,e,r){void 0===r&&(r="pixi-shader"),this.id=Lh++,this.vertexSrc=i||a.defaultVertexSrc,this.fragmentSrc=e||a.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),ps[r]?(ps[r]++,r+="-"+ps[r]):ps[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=xc(this.vertexSrc,O.PRECISION_VERTEX,tn.HIGH),this.fragmentSrc=xc(this.fragmentSrc,O.PRECISION_FRAGMENT,function(){if(!Li){Li=tn.MEDIUM;var a=_r();if(a&&a.getShaderPrecisionFormat){var i=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT);Li=i.precision?tn.HIGH:tn.MEDIUM}}return Li}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return a.prototype.extractData=function(i,e){var r=_r();if(r){var o=wt(r,i,e);this.attributeData=this.getAttributeData(o,r),this.uniformData=this.getUniformData(o,r),r.deleteProgram(o)}else this.uniformData={},this.attributeData={}},a.prototype.getAttributeData=function(i,e){for(var r={},o=[],d=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES),p=0;p<d;p++){var m=e.getActiveAttrib(i,p),w=Nr(e,m.type),x={type:w,name:m.name,size:Uo(w),location:0};r[m.name]=x,o.push(x)}for(o.sort(function(P,A){return P.name>A.name?1:-1}),p=0;p<o.length;p++)o[p].location=p;return r},a.prototype.getUniformData=function(i,e){for(var r={},o=e.getProgramParameter(i,e.ACTIVE_UNIFORMS),d=0;d<o;d++){var p=e.getActiveUniform(i,d),m=p.name.replace(/\[.*?\]$/,""),w=p.name.match(/\[.*?\]$/),x=Nr(e,p.type);r[m]={type:x,size:p.size,isArray:w,value:ln(x,p.size)}}return r},Object.defineProperty(a,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(a,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),a.from=function(i,e,r){var o=i+e,d=os[o];return d||(os[o]=d=new a(i,e,r)),d},a}(),gi=function(){function a(i,e){for(var r in this.program=i,this.uniformGroup=e?e instanceof Fr?e:new Fr(e):new Fr({}),i.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return a.prototype.checkUniformExists=function(i,e){if(e.uniforms[i])return!0;for(var r in e.uniforms){var o=e.uniforms[r];if(o.group&&this.checkUniformExists(i,o))return!0}return!1},a.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(a.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),a.from=function(i,e,r){return new a(Un.from(i,e),r)},a}(),vs=function(){function a(){this.data=0,this.blendMode=Ee.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(a.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(i){!!(1&this.data)!==i&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(i){!!(2&this.data)!==i&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(i){!!(4&this.data)!==i&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(i){!!(8&this.data)!==i&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(i){!!(16&this.data)!==i&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"blendMode",{get:function(){return this._blendMode},set:function(i){this.blend=i!==Ee.NONE,this._blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(i){this.offsets=!!i,this._polygonOffset=i},enumerable:!1,configurable:!0}),a.for2d=function(){var i=new a;return i.depthTest=!1,i.blend=!0,i},a}(),Nt=function(a){function i(e,r,o){var d=this,p=Un.from(e||i.defaultVertexSrc,r||i.defaultFragmentSrc);return(d=a.call(this,p,o)||this).padding=0,d.resolution=O.FILTER_RESOLUTION,d.enabled=!0,d.autoFit=!0,d.legacy=!!d.program.attributeData.aTextureCoord,d.state=new vs,d}return bt(i,a),i.prototype.apply=function(e,r,o,d,p){e.applyFilter(this,r,o,d)},Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),i}(gi),ml=new Kt,eu=function(){function a(i,e){this._texture=i,this.mapCoord=new Kt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(a.prototype,"texture",{get:function(){return this._texture},set:function(i){this._texture=i,this._textureID=-1},enumerable:!1,configurable:!0}),a.prototype.multiplyUvs=function(i,e){void 0===e&&(e=i);for(var r=this.mapCoord,o=0;o<i.length;o+=2){var d=i[o],p=i[o+1];e[o]=d*r.a+p*r.c+r.tx,e[o+1]=d*r.b+p*r.d+r.ty}return e},a.prototype.update=function(i){var e=this._texture;if(!e||!e.valid||!i&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var o=e.orig,d=e.trim;d&&(ml.set(o.width/d.width,0,0,o.height/d.height,-d.x/d.width,-d.y/d.height),this.mapCoord.append(ml));var p=e.baseTexture,m=this.uClampFrame,w=this.clampMargin/p.resolution,x=this.clampOffset;return m[0]=(e._frame.x+w+x)/p.width,m[1]=(e._frame.y+w+x)/p.height,m[2]=(e._frame.x+e._frame.width-w+x)/p.width,m[3]=(e._frame.y+e._frame.height-w+x)/p.height,this.uClampOffset[0]=x/p.realWidth,this.uClampOffset[1]=x/p.realHeight,this.isSimple=e._frame.width===p.width&&e._frame.height===p.height&&0===e.rotate,!0},a}(),Bh=function(a){function i(e){var r=this,o=new Kt;return r=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=o,r}return bt(i,a),i.prototype.apply=function(e,r,o,d){var p=this.maskSprite,m=p._texture;!m.valid||(m.uvMatrix||(m.uvMatrix=new eu(m,0)),m.uvMatrix.update(),this.uniforms.npmAlpha=m.baseTexture.alphaMode?0:1,this.uniforms.mask=m,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,p).prepend(m.uvMatrix.mapCoord),this.uniforms.alpha=p.worldAlpha,this.uniforms.maskClamp=m.uvMatrix.uClampFrame,e.applyFilter(this,r,o,d))},i}(Nt),Ic=function(a){function i(e){var r=a.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return bt(i,a),i.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},i.prototype.push=function(e,r){var o=r;if(!o.isMaskData){var d=this.maskDataPool.pop()||new Tc;d.pooled=!0,d.maskObject=r,o=d}switch(o.autoDetect&&this.detect(o),o.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),o._target=e,o.type){case kt.SCISSOR:this.maskStack.push(o),this.renderer.scissor.push(o);break;case kt.STENCIL:this.maskStack.push(o),this.renderer.stencil.push(o);break;case kt.SPRITE:o.copyCountersOrReset(null),this.pushSpriteMask(o),this.maskStack.push(o)}},i.prototype.pop=function(e){var r=this.maskStack.pop();if(r&&r._target===e){switch(r.type){case kt.SCISSOR:this.renderer.scissor.pop();break;case kt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case kt.SPRITE:this.popSpriteMask()}r.reset(),r.pooled&&this.maskDataPool.push(r)}},i.prototype.detect=function(e){var r=e.maskObject;if(r.isSprite)e.type=kt.SPRITE;else if(e.type=kt.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var o=r.worldTransform,d=Math.atan2(o.b,o.a),p=Math.atan2(o.d,o.c);d=Math.round(d*(180/Math.PI)*100),p=((p=Math.round(p*(180/Math.PI)*100)-d)%18e3+18e3)%18e3,0==(d=(d%9e3+9e3)%9e3)&&9e3===p&&(e.type=kt.SCISSOR)}},i.prototype.pushSpriteMask=function(e){var r=e.maskObject,o=e._target,d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new Bh(r)]),d[0].resolution=this.renderer.resolution,d[0].maskSprite=r;var p=o.filterArea;o.filterArea=r.getBounds(!0),this.renderer.filter.push(o,d),o.filterArea=p,this.alphaMaskIndex++},i.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},i}(Zn),Vo=function(a){function i(e){var r=a.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return bt(i,a),i.prototype.getStackLength=function(){return this.maskStack.length},i.prototype.setMaskStack=function(e){var r=this.renderer.gl,o=this.getStackLength();this.maskStack=e;var d=this.getStackLength();d!==o&&(0===d?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},i.prototype._useCurrent=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.maskStack=null},i}(Zn),Go=function(a){function i(e){var r=a.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return bt(i,a),i.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},i.prototype.push=function(e){var r=e.maskObject;r.renderable=!0;var o=e._scissorRect,d=r.getBounds(!0),p=this.renderer.gl;r.renderable=!1,o?d.fit(o):p.enable(p.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=d,this._useCurrent()},i.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},i.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,r=this.renderer.renderTexture.current,o=this.renderer.projection,d=o.transform,p=o.sourceFrame,m=o.destinationFrame,w=r?r.resolution:this.renderer.resolution,x=(e.x-p.x)*w+m.x,P=(e.y-p.y)*w+m.y,I=e.height*w;d&&(x+=d.tx*w,P+=d.ty*w),r||(P=this.renderer.height-I-P),this.renderer.gl.scissor(x,P,e.width*w,I)},i}(Vo),zo=function(a){function i(e){var r=a.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return bt(i,a),i.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},i.prototype.push=function(e){var r=e.maskObject,o=this.renderer.gl,d=e._stencilCounter;0===d&&(this.renderer.framebuffer.forceStencil(),o.enable(o.STENCIL_TEST)),e._stencilCounter++,o.colorMask(!1,!1,!1,!1),o.stencilFunc(o.EQUAL,d,this._getBitwiseMask()),o.stencilOp(o.KEEP,o.KEEP,o.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},i.prototype.pop=function(e){var r=this.renderer.gl;0===this.getStackLength()?(r.disable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.clearStencil(0)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},i.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},i.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},i}(Vo),tu=function(a){function i(e){var r=a.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Kt,r.transform=null,r}return bt(i,a),i.prototype.update=function(e,r,o,d){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,o,d),this.transform&&this.projectionMatrix.append(this.transform);var p=this.renderer;p.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,p.globalUniforms.update(),p.shader.shader&&p.shader.syncUniformGroup(p.shader.shader.uniforms.globals)},i.prototype.calculateProjection=function(e,r,o,d){var p=this.projectionMatrix,m=d?-1:1;p.identity(),p.a=1/r.width*2,p.d=m*(1/r.height*2),p.tx=-1-r.x*p.a,p.ty=-m-r.y*p.d},i.prototype.setTransform=function(e){},i}(Zn),ji=new lt,Xo=new lt,ar=new lt,Ks=function(a){function i(e){var r=a.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new lt,r.destinationFrame=new lt,r}return bt(i,a),i.prototype.bind=function(e,r,o){void 0===e&&(e=null);var p,m,w,d=this.renderer;this.current=e,e?(w=(p=e.baseTexture).resolution,r||(ji.width=e.frame.width,ji.height=e.frame.height,r=ji),o||(Xo.x=e.frame.x,Xo.y=e.frame.y,Xo.width=r.width,Xo.height=r.height,o=Xo),m=p.framebuffer):(w=d.resolution,r||(ji.width=d.screen.width,ji.height=d.screen.height,r=ji),o||((o=ji).width=r.width,o.height=r.height)),ar.x=o.x*w,ar.y=o.y*w,ar.width=o.width*w,ar.height=o.height*w,this.renderer.framebuffer.bind(m,ar),this.renderer.projection.update(o,r,w,!m),this.renderer.mask.setMaskStack(e?p.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(o)},i.prototype.clear=function(e,r){this.renderer.framebuffer.clear((e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor)[0],e[1],e[2],e[3],r)},i.prototype.resize=function(){this.bind(null)},i.prototype.reset=function(){this.bind(null)},i}(Zn),nu=function(){function a(i,e){this.program=i,this.uniformData=e,this.uniformGroups={}}return a.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},a}(),ms=0,$o={textureCount:0},dt=function(a){function i(e){var r=a.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=ms++,r}return bt(i,a),i.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Bi)return Bi;try{var a=new Function("param1","param2","param3","return param1[param2] === param3;");Bi=!0===a({a:"b"},"a","b")}catch(i){Bi=!1}return Bi}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},i.prototype.contextChange=function(e){this.gl=e,this.reset()},i.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var o=e.program,d=o.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==o&&(this.program=o,this.gl.useProgram(d.program)),r||($o.textureCount=0,this.syncUniformGroup(e.uniformGroup,$o)),d},i.prototype.setUniforms=function(e){var r=this.shader.program;r.syncUniforms(r.glPrograms[this.renderer.CONTEXT_UID].uniformData,e,this.renderer)},i.prototype.syncUniformGroup=function(e,r){var o=this.getglProgram();(!e.static||e.dirtyId!==o.uniformGroups[e.id])&&(o.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,o,r))},i.prototype.syncUniforms=function(e,r,o){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,o)},i.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData);return this.cache[r]||(this.cache[r]=function(a,i){var e=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in a.uniforms){var o=i[r];if(o){for(var d=a.uniforms[r],p=!1,m=0;m<jo.length;m++)if(jo[m].test(o,d)){e.push(jo[m].code(r,d)),p=!0;break}if(!p){var x=(1===o.size?ds:Wr)[o.type].replace("location",'ud["'+r+'"].location');e.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+x+";")}}else a.uniforms[r].group&&e.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",e.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},i.prototype.getSignature=function(e,r){var o=e.uniforms,d=[];for(var p in o)d.push(p),r[p]&&d.push(r[p].type);return d.join("-")},i.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},i.prototype.generateShader=function(e){var r=this.gl,o=e.program,d={};for(var p in o.attributeData)d[p]=o.attributeData[p].location;var m=wt(r,o.vertexSrc,o.fragmentSrc,d),w={};for(var p in o.uniformData){var x=o.uniformData[p];w[p]={location:r.getUniformLocation(m,p),value:ln(x.type,x.size)}}var P=new nu(m,w);return o.glPrograms[this.renderer.CONTEXT_UID]=P,P},i.prototype.reset=function(){this.program=null,this.shader=null},i.prototype.destroy=function(){this.destroyed=!0},i}(Zn),_s=function(a){function i(e){var r=a.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=Ee.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new vs,r.defaultState.blend=!0,r}return bt(i,a),i.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(a,i){return void 0===i&&(i=[]),i[Ee.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.ADD]=[a.ONE,a.ONE],i[Ee.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.NONE]=[0,0],i[Ee.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.ADD_NPM]=[a.SRC_ALPHA,a.ONE,a.ONE,a.ONE],i[Ee.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SRC_IN]=[a.DST_ALPHA,a.ZERO],i[Ee.SRC_OUT]=[a.ONE_MINUS_DST_ALPHA,a.ZERO],i[Ee.SRC_ATOP]=[a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],i[Ee.DST_OVER]=[a.ONE_MINUS_DST_ALPHA,a.ONE],i[Ee.DST_IN]=[a.ZERO,a.SRC_ALPHA],i[Ee.DST_OUT]=[a.ZERO,a.ONE_MINUS_SRC_ALPHA],i[Ee.DST_ATOP]=[a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA],i[Ee.XOR]=[a.ONE_MINUS_DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],i[Ee.SUBTRACT]=[a.ONE,a.ONE,a.ONE,a.ONE,a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD],i}(e),this.set(this.defaultState),this.reset()},i.prototype.set=function(e){if(this.stateId!==(e=e||this.defaultState).data){for(var r=this.stateId^e.data,o=0;r;)1&r&&this.map[o].call(this,!!(e.data&1<<o)),r>>=1,o++;this.stateId=e.data}for(o=0;o<this.checks.length;o++)this.checks[o](this,e)},i.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},i.prototype.setBlend=function(e){this.updateCheck(i.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},i.prototype.setOffset=function(e){this.updateCheck(i.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},i.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},i.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},i.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},i.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],o=this.gl;2===r.length?o.blendFunc(r[0],r[1]):o.blendFuncSeparate(r[0],r[1],r[2],r[3]),6===r.length?(this._blendEq=!0,o.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD))}},i.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},i.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},i.prototype.updateCheck=function(e,r){var o=this.checks.indexOf(e);r&&-1===o?this.checks.push(e):!r&&-1!==o&&this.checks.splice(o,1)},i.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},i.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},i}(Zn),ru=function(a){function i(e){var r=a.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=O.GC_MAX_IDLE,r.checkCountMax=O.GC_MAX_CHECK_COUNT,r.mode=O.GC_MODE,r}return bt(i,a),i.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==It.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},i.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,o=!1,d=0;d<r.length;d++){var p=r[d];!p.framebuffer&&this.count-p.touched>this.maxIdle&&(e.destroyTexture(p,!0),r[d]=null,o=!0)}if(o){var m=0;for(d=0;d<r.length;d++)null!==r[d]&&(r[m++]=r[d]);r.length=m}},i.prototype.unload=function(e){var o=e._texture;o&&!o.framebuffer&&this.renderer.texture.destroyTexture(o);for(var d=e.children.length-1;d>=0;d--)this.unload(e.children[d])},i}(Zn),qo=function(i){this.texture=i,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Hi=function(a){function i(e){var r=a.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new Gt,r}return bt(i,a),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var o=0;o<r;o++)this.boundTextures[o]=null;this.emptyTextures={};var d=new qo(e.createTexture());for(e.bindTexture(e.TEXTURE_2D,d.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=d,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new qo(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture),o=0;o<6;o++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);for(e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),o=0;o<this.boundTextures.length;o++)this.bind(null,o)},i.prototype.bind=function(e,r){void 0===r&&(r=0);var o=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var d=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(e.target,d.texture)),d.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}}else this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[o.TEXTURE_2D].texture),this.boundTextures[r]=null},i.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},i.prototype.unbind=function(e){var o=this.gl,d=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var p=0;p<d.length;p++)d[p]===this.unknownTexture&&this.bind(null,p)}for(p=0;p<d.length;p++)d[p]===e&&(this.currentLocation!==p&&(o.activeTexture(o.TEXTURE0+p),this.currentLocation=p),o.bindTexture(e.target,this.emptyTextures[e.target].texture),d[p]=null)},i.prototype.initTexture=function(e){var r=new qo(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},i.prototype.initTextureType=function(e,r){if(r.internalFormat=e.format,r.type=e.type,2===this.webGLVersion){var o=this.renderer.gl;e.type===o.FLOAT&&e.format===o.RGBA&&(r.internalFormat=o.RGBA32F),e.type===Ie.HALF_FLOAT&&(r.type=o.HALF_FLOAT),r.type===o.HALF_FLOAT&&e.format===o.RGBA&&(r.internalFormat=o.RGBA16F)}},i.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var o=this.renderer;if(this.initTextureType(e,r),!e.resource||!e.resource.upload(o,e,r)){var d=e.realWidth,p=e.realHeight,m=o.gl;(r.width!==d||r.height!==p||r.dirtyId<0)&&(r.width=d,r.height=p,m.texImage2D(e.target,0,r.internalFormat,d,p,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},i.prototype.destroyTexture=function(e,r){var o=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),o.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var d=this.managedTextures.indexOf(e);-1!==d&&Bt(this.managedTextures,d,1)}},i.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];!r||(r.mipmap=!!(e.mipmap!==Pt.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&e.mipmap>=1,r.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:ut.CLAMP,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},i.prototype.setStyle=function(e,r){var o=this.gl;if(r.mipmap&&o.generateMipmap(e.target),o.texParameteri(e.target,o.TEXTURE_WRAP_S,r.wrapMode),o.texParameteri(e.target,o.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Oe.LINEAR?o.LINEAR_MIPMAP_LINEAR:o.NEAREST_MIPMAP_NEAREST);var d=this.renderer.context.extensions.anisotropicFiltering;if(d&&e.anisotropicLevel>0&&e.scaleMode===Oe.LINEAR){var p=Math.min(e.anisotropicLevel,o.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT));o.texParameterf(e.target,d.TEXTURE_MAX_ANISOTROPY_EXT,p)}}else o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Oe.LINEAR?o.LINEAR:o.NEAREST);o.texParameteri(e.target,o.TEXTURE_MAG_FILTER,e.scaleMode===Oe.LINEAR?o.LINEAR:o.NEAREST)},i}(Zn),Gi=new Kt,jn=function(a){function i(e){var r=a.call(this,Te.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new In("destroy"),contextChange:new In("contextChange"),reset:new In("reset"),update:new In("update"),postrender:new In("postrender"),prerender:new In("prerender"),resize:new In("resize")},r.globalUniforms=new Fr({projectionMatrix:new Kt},!0),r.addSystem(Ic,"mask").addSystem(ot,"context").addSystem(_s,"state").addSystem(dt,"shader").addSystem(Hi,"texture").addSystem(Lo,"geometry").addSystem(Ka,"framebuffer").addSystem(Go,"scissor").addSystem(zo,"stencil").addSystem(tu,"projection").addSystem(ru,"textureGC").addSystem(qa,"filter").addSystem(Ks,"renderTexture").addSystem(Za,"batch"),r.initPlugins(i.__plugins),e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:e.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(a){var i;Pi||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(i=window.console).log.apply(i,["\n %c %c %c PixiJS 5.3.11 - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS 5.3.11 - "+a+" - http://www.pixijs.com/"),Pi=!0)}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return bt(i,a),i.create=function(e){if(void 0===is&&(is=function(){var i={stencil:!0,failIfMajorPerformanceCaveat:O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",i)||e.getContext("experimental-webgl",i),o=!(!r||!r.getContextAttributes().stencil);if(r){var d=r.getExtension("WEBGL_lose_context");d&&d.loseContext()}return r=null,o}catch(p){return!1}}()),is)return new i(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},i.prototype.addSystem=function(e,r){r||(r=e.name);var o=new e(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var d in this[r]=o,this.runners)this.runners[d].add(o);return this},i.prototype.render=function(e,r,o,d,p){if(this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=d,!this.context.isLost){if(r||(this._lastObjectRendered=e),!p){var m=e.enableTempParent();e.updateTransform(),e.disableTempParent(m)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},i.prototype.resize=function(e,r){a.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},i.prototype.reset=function(){return this.runners.reset.emit(),this},i.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},i.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();a.prototype.destroy.call(this,e),this.gl=null},i.registerPlugin=function(e,r){(i.__plugins=i.__plugins||{})[e]=r},i}(function(a){function i(e,r){void 0===e&&(e=Te.UNKNOWN);var o=a.call(this)||this;return(r=Object.assign({},O.RENDER_OPTIONS,r)).roundPixels&&(O.ROUND_PIXELS=r.roundPixels,kn("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),o.options=r,o.type=e,o.screen=new lt(0,0,r.width,r.height),o.view=r.view||document.createElement("canvas"),o.resolution=r.resolution||O.RESOLUTION,o.transparent=r.transparent,o.autoDensity=r.autoDensity||r.autoResize||!1,o.preserveDrawingBuffer=r.preserveDrawingBuffer,o.clearBeforeRender=r.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,0],o._backgroundColorString="#000000",o.backgroundColor=r.backgroundColor||o._backgroundColor,o._lastObjectRendered=null,o.plugins={},o}return bt(i,a),i.prototype.initPlugins=function(e){for(var r in e)this.plugins[r]=new e[r](this)},Object.defineProperty(i.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),i.prototype.resize=function(e,r){this.screen.width=e,this.screen.height=r,this.view.width=e*this.resolution,this.view.height=r*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=r+"px"),this.emit("resize",e,r)},i.prototype.generateTexture=function(e,r,o,d){0===(d=d||e.getLocalBounds(null,!0)).width&&(d.width=1),0===d.height&&(d.height=1);var p=Rr.create({width:0|d.width,height:0|d.height,scaleMode:r,resolution:o});return Gi.tx=-d.x,Gi.ty=-d.y,this.render(e,p,!1,Gi,!!e.parent),p},i.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var o=this;o.plugins=null,o.type=Te.UNKNOWN,o.view=null,o.screen=null,o._tempDisplayObjectParent=null,o.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=ss(e),Mi(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),i}(H())),vi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Js=function(){this.texArray=null,this.blend=0,this.type=Ae.TRIANGLES,this.start=0,this.size=0,this.data=null},iu=function(){function a(){this.elements=[],this.ids=[],this.count=0}return a.prototype.clear=function(){for(var i=0;i<this.count;i++)this.elements[i]=null;this.count=0},a}(),Es=function(){function a(i){this.rawBinaryData=new ArrayBuffer(i),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(a.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),a.prototype.view=function(i){return this[i+"View"]},a.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},a.sizeOf=function(i){switch(i){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(i+" isn't a valid view type")}},a}(),su=function(a){function i(e){var r=a.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=vs.for2d(),r.size=4*O.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return bt(i,a),i.prototype.contextChange=function(){var e=this.renderer.gl;O.PREFER_ENV===ee.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),O.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(a,i){if(0===a)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=i.createShader(i.FRAGMENT_SHADER);;){var r=dl.replace(/%forloop%/gi,Fh(a));if(i.shaderSource(e,r),i.compileShader(e),i.getShaderParameter(e,i.COMPILE_STATUS))break;a=a/2|0}return a}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},i.prototype.initFlushBuffers=function(){for(var e=i._drawCallPool,r=i._textureArrayPool,o=this.size/4,d=Math.floor(o/this.MAX_TEXTURES)+1;e.length<o;)e.push(new Js);for(;r.length<d;)r.push(new iu);for(var p=0;p<this.MAX_TEXTURES;p++)this._tempBoundTextures[p]=null},i.prototype.onPrerender=function(){this._flushId=0},i.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},i.prototype.buildTexturesAndDrawCalls=function(){var r=this._bufferedTextures,o=this.MAX_TEXTURES,d=i._textureArrayPool,p=this.renderer.batch,m=this._tempBoundTextures,w=this.renderer.textureGC.count,x=++Gt._globalBatch,P=0,A=d[0],I=0;p.copyBoundTextures(m,o);for(var R=0;R<this._bufferSize;++R){var L=r[R];r[R]=null,L._batchEnabled!==x&&(A.count>=o&&(p.boundArray(A,m,x,o),this.buildDrawCalls(A,I,R),I=R,A=d[++P],++x),L._batchEnabled=x,L.touched=w,A.elements[A.count++]=L)}for(A.count>0&&(p.boundArray(A,m,x,o),this.buildDrawCalls(A,I,this._bufferSize),++P,++x),R=0;R<m.length;R++)m[R]=null;Gt._globalBatch=x},i.prototype.buildDrawCalls=function(e,r,o){var d=this,p=d._bufferedElements,m=d._attributeBuffer,w=d._indexBuffer,x=d.vertexSize,P=i._drawCallPool,A=this._dcIndex,I=this._aIndex,R=this._iIndex,L=P[A];L.start=this._iIndex,L.texArray=e;for(var B=r;B<o;++B){var X=p[B],Fe=nt[X._texture.baseTexture.alphaMode?1:0][X.blendMode];p[B]=null,r<B&&L.blend!==Fe&&(L.size=R-L.start,r=B,(L=P[++A]).texArray=e,L.start=R),this.packInterleavedGeometry(X,m,w,I,R),I+=X.vertexData.length/2*x,R+=X.indices.length,L.blend=Fe}r<o&&(L.size=R-L.start,++A),this._dcIndex=A,this._aIndex=I,this._iIndex=R},i.prototype.bindAndClearTexArray=function(e){for(var r=this.renderer.texture,o=0;o<e.count;o++)r.bind(e.elements[o],e.ids[o]),e.elements[o]=null;e.count=0},i.prototype.updateGeometry=function(){var e=this,r=e._packedGeometries,o=e._attributeBuffer,d=e._indexBuffer;O.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(o.rawBinaryData),r[this._flushId]._indexBuffer.update(d),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(o.rawBinaryData),r[this._flushId]._indexBuffer.update(d),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},i.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,o=r.gl,d=r.state,p=i._drawCallPool,m=null,w=0;w<e;w++){var x=p[w],P=x.texArray,A=x.type,I=x.size,R=x.start,L=x.blend;m!==P&&(m=P,this.bindAndClearTexArray(P)),this.state.blendMode=L,d.set(this.state),o.drawElements(A,I,o.UNSIGNED_SHORT,2*R)}},i.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},i.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),O.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},i.prototype.stop=function(){this.flush()},i.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),a.prototype.destroy.call(this)},i.prototype.getAttributeBuffer=function(e){var r=Rt(Math.ceil(e/8)),o=So(r),d=8*r;this._aBuffers.length<=o&&(this._iBuffers.length=o+1);var p=this._aBuffers[d];return p||(this._aBuffers[d]=p=new Es(d*this.vertexSize*4)),p},i.prototype.getIndexBuffer=function(e){var r=Rt(Math.ceil(e/12)),o=So(r),d=12*r;this._iBuffers.length<=o&&(this._iBuffers.length=o+1);var p=this._iBuffers[o];return p||(this._iBuffers[o]=p=new Uint16Array(d)),p},i.prototype.packInterleavedGeometry=function(e,r,o,d,p){for(var m=r.uint32View,w=r.float32View,x=d/this.vertexSize,P=e.uvs,A=e.indices,I=e.vertexData,R=e._texture.baseTexture._batchLocation,L=Math.min(e.worldAlpha,1),B=L<1&&e._texture.baseTexture.alphaMode?_n(e._tintRGB,L):e._tintRGB+(255*L<<24),X=0;X<I.length;X+=2)w[d++]=I[X],w[d++]=I[X+1],w[d++]=P[X],w[d++]=P[X+1],m[d++]=B,w[d++]=R;for(X=0;X<A.length;X++)o[p++]=x+A[X]},i._drawCallPool=[],i._textureArrayPool=[],i}(or),Ht=function(){function a(i,e){if(this.vertexSrc=i,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return a.prototype.generateShader=function(i){if(!this.programCache[i]){for(var e=new Int32Array(i),r=0;r<i;r++)e[r]=r;this.defaultGroupCache[i]=Fr.from({uSamplers:e},!0);var o=this.fragTemplate;o=(o=o.replace(/%count%/gi,""+i)).replace(/%forloop%/gi,this.generateSampleSrc(i)),this.programCache[i]=new Un(this.vertexSrc,o)}var d={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:this.defaultGroupCache[i]};return new gi(this.programCache[i],d)},a.prototype.generateSampleSrc=function(i){var e="";e+="\n",e+="\n";for(var r=0;r<i;r++)r>0&&(e+="\nelse "),r<i-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},a}(),ws=function(a){function i(e){void 0===e&&(e=!1);var r=a.call(this)||this;return r._buffer=new vn(null,e,!1),r._indexBuffer=new vn(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,Ie.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,Ie.FLOAT).addAttribute("aColor",r._buffer,4,!0,Ie.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,Ie.FLOAT).addIndex(r._indexBuffer),r}return bt(i,a),i}(hs),lr="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",yl="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Yr=function(){function a(){}return a.create=function(i){var e=Object.assign({vertex:lr,fragment:yl,geometryClass:ws,vertexSize:6},i),r=e.vertex,o=e.fragment,d=e.vertexSize,p=e.geometryClass;return function(m){function w(x){var P=m.call(this,x)||this;return P.shaderGenerator=new Ht(r,o),P.geometryClass=p,P.vertexSize=d,P}return bt(w,m),w}(su)},Object.defineProperty(a,"defaultVertexSrc",{get:function(){return lr},enumerable:!1,configurable:!0}),Object.defineProperty(a,"defaultFragmentTemplate",{get:function(){return yl},enumerable:!1,configurable:!0}),a}().create(),Ko=function(){function a(i){var e=this;i=Object.assign({forceCanvas:!1},i),this.renderer=function(a){return jn.create(a)}(i),this.stage=new En,a._plugins.forEach(function(r){r.init.call(e,i)})}return a.registerPlugin=function(i){a._plugins.push(i)},a.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(a.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),a.prototype.destroy=function(i,e){var r=this,o=a._plugins.slice(0);o.reverse(),o.forEach(function(d){d.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(i),this.renderer=null},a}();Ko._plugins=[];var ou=function(){function a(){}return a.init=function(i){var e=this;Object.defineProperty(this,"resizeTo",{set:function(r){window.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var r,o;if(e.cancelResize(),e._resizeTo===window)r=window.innerWidth,o=window.innerHeight;else{var d=e._resizeTo;r=d.clientWidth,o=d.clientHeight}e.renderer.resize(r,o)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=i.resizeTo||null},a.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},a}();Ko.registerPlugin(ou);var Qo=new lt,Jo=function(){function a(i){this.renderer=i,i.extract=this}return a.prototype.image=function(i,e,r){var o=new Image;return o.src=this.base64(i,e,r),o},a.prototype.base64=function(i,e,r){return this.canvas(i).toDataURL(e,r)},a.prototype.canvas=function(i){var r,o,p,e=this.renderer,d=!1,m=!1;i&&(i instanceof Rr?p=i:(p=this.renderer.generateTexture(i),m=!0)),p?(r=p.baseTexture.resolution,o=p.frame,d=!1,e.renderTexture.bind(p)):(r=this.renderer.resolution,d=!0,(o=Qo).width=this.renderer.width,o.height=this.renderer.height,e.renderTexture.bind(null));var w=Math.floor(o.width*r+1e-4),x=Math.floor(o.height*r+1e-4),P=new el(w,x,1),A=new Uint8Array(4*w*x),I=e.gl;I.readPixels(o.x*r,o.y*r,w,x,I.RGBA,I.UNSIGNED_BYTE,A);var R=P.context.getImageData(0,0,w,x);if(a.arrayPostDivide(A,R.data),P.context.putImageData(R,0,0),d){var L=new el(P.width,P.height,1);L.context.scale(1,-1),L.context.drawImage(P.canvas,0,-x),P.destroy(),P=L}return m&&p.destroy(!0),P.canvas},a.prototype.pixels=function(i){var r,o,d,e=this.renderer,p=!1;i&&(i instanceof Rr?d=i:(d=this.renderer.generateTexture(i),p=!0)),d?(r=d.baseTexture.resolution,o=d.frame,e.renderTexture.bind(d)):(r=e.resolution,(o=Qo).width=e.width,o.height=e.height,e.renderTexture.bind(null));var m=o.width*r,w=o.height*r,x=new Uint8Array(4*m*w),P=e.gl;return P.readPixels(o.x*r,o.y*r,m,w,P.RGBA,P.UNSIGNED_BYTE,x),p&&d.destroy(!0),a.arrayPostDivide(x,x),x},a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},a.arrayPostDivide=function(i,e){for(var r=0;r<i.length;r+=4){var o=e[r+3]=i[r+3];0!==o?(e[r]=Math.round(Math.min(255*i[r]/o,255)),e[r+1]=Math.round(Math.min(255*i[r+1]/o,255)),e[r+2]=Math.round(Math.min(255*i[r+2]/o,255))):(e[r]=i[r],e[r+1]=i[r+1],e[r+2]=i[r+2])}},a}(),eo=k(9750),au=k.n(eo),El=k(936),kr=k.n(El);function Dn(){}function uu(a,i,e,r){var o=0,d=a.length;!function p(m){m||o===d?e&&e(m):r?setTimeout(function(){i(a[o++],p)},1):i(a[o++],p)}()}function lu(a){return function(){if(null===a)throw new Error("Callback was already called.");var e=a;a=null,e.apply(this,arguments)}}var mi={};function zi(a,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function Ds(a,i,e){return i&&zi(a.prototype,i),e&&zi(a,e),a}var Ts=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),cu=null;function Vh(){}var rt=function(){function a(e,r,o){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");o=o||{},this._flags=0,this._setFlag(a.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===o.crossOrigin?"anonymous":o.crossOrigin,this.timeout=o.timeout||0,this.loadType=o.loadType||this._determineLoadType(),this.xhrType=o.xhrType,this.metadata=o.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=a.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Vh,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(kr()),this.onProgress=new(kr()),this.onComplete=new(kr()),this.onAfterMiddleware=new(kr())}a.setExtensionLoadType=function(r,o){Dl(a._loadTypeMap,r,o)},a.setExtensionXhrType=function(r,o){Dl(a._xhrTypeMap,r,o)};var i=a.prototype;return i.complete=function(){this._clearEvents(),this._finish()},i.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},i.load=function(r){var o=this;if(!this.isLoading){if(this.isComplete)return void(r&&setTimeout(function(){return r(o)},1));switch(r&&this.onComplete.once(r),this._setFlag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE,this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO,this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO,this._loadSourceElement("video");break;default:Ts&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},i._hasFlag=function(r){return 0!=(this._flags&r)},i._setFlag=function(r,o){this._flags=o?this._flags|r:this._flags&~r},i._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},i._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0),this._setFlag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},i._loadElement=function(r){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===r&&void 0!==window.Image?new Image:document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},i._loadSourceElement=function(r){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===r&&void 0!==window.Audio?new Audio:document.createElement(r),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var o=this.metadata.mimeType,d=0;d<this.url.length;++d)this.data.appendChild(this._createSource(r,this.url[d],Array.isArray(o)?o[d]:o));else{var p=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(p)?p[0]:p))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+r)},i._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,r.responseType=this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?a.XHR_RESPONSE_TYPE.TEXT:this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},i._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},i._createSource=function(r,o,d){d||(d=r+"/"+this._getExtension(o));var p=document.createElement("source");return p.src=o,p.type=d,p},i._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},i._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},i._onTimeout=function(){this.abort("Load timed out.")},i._xhrOnError=function(){var r=this.xhr;this.abort(Tl(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},i._xhrOnTimeout=function(){this.abort(Tl(this.xhr)+" Request timed out.")},i._xhrOnAbort=function(){this.abort(Tl(this.xhr)+" Request was aborted by the user.")},i._xhrOnLoad=function(){var r=this.xhr,o="",d=void 0===r.status?200:r.status;if((""===r.responseType||"text"===r.responseType||void 0===r.responseType)&&(o=r.responseText),0===d&&(o.length>0||r.responseType===a.XHR_RESPONSE_TYPE.BUFFER)?d=200:1223===d&&(d=204),2==(d/100|0)){if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=o,this.type=a.TYPE.TEXT;else if(this.xhrType===a.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(o),this.type=a.TYPE.JSON}catch(x){return void this.abort("Error trying to parse loaded json: "+x)}else if(this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var m=new DOMParser;this.data=m.parseFromString(o,"text/xml")}else{var w=document.createElement("div");w.innerHTML=o,this.data=w}this.type=a.TYPE.XML}catch(x){return void this.abort("Error trying to parse loaded xml: "+x)}else this.data=r.response||o;this.complete()}else this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL)},i._determineCrossOrigin=function(r,o){return 0===r.indexOf("data:")?"":window.origin!==window.location.origin?"anonymous":(o=o||window.location,cu||(cu=document.createElement("a")),cu.href=r,(r=au()(cu.href,{strictMode:!0})).host!==o.hostname||(r.port||""!==o.port)&&r.port!==o.port||(r.protocol?r.protocol+":":"")!==o.protocol?"anonymous":"")},i._determineXhrType=function(){return a._xhrTypeMap[this.extension]||a.XHR_RESPONSE_TYPE.TEXT},i._determineLoadType=function(){return a._loadTypeMap[this.extension]||a.LOAD_TYPE.XHR},i._getExtension=function(){var r=this.url,o="";if(this.isDataUrl){var d=r.indexOf("/");o=r.substring(d+1,r.indexOf(";",d))}else{var p=r.indexOf("?"),m=r.indexOf("#"),w=Math.min(p>-1?p:r.length,m>-1?m:r.length);o=(r=r.substring(0,w)).substring(r.lastIndexOf(".")+1)}return o.toLowerCase()},i._getMimeFromXhrType=function(r){switch(r){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},Ds(a,[{key:"isDataUrl",get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]),a}();function Dl(a,i,e){i&&0===i.indexOf(".")&&(i=i.substring(1)),i&&(a[i]=e)}function Tl(a){return a.toString().replace("object ","")}rt.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},rt.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},rt.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},rt.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},rt._loadTypeMap={gif:rt.LOAD_TYPE.IMAGE,png:rt.LOAD_TYPE.IMAGE,bmp:rt.LOAD_TYPE.IMAGE,jpg:rt.LOAD_TYPE.IMAGE,jpeg:rt.LOAD_TYPE.IMAGE,tif:rt.LOAD_TYPE.IMAGE,tiff:rt.LOAD_TYPE.IMAGE,webp:rt.LOAD_TYPE.IMAGE,tga:rt.LOAD_TYPE.IMAGE,svg:rt.LOAD_TYPE.IMAGE,"svg+xml":rt.LOAD_TYPE.IMAGE,mp3:rt.LOAD_TYPE.AUDIO,ogg:rt.LOAD_TYPE.AUDIO,wav:rt.LOAD_TYPE.AUDIO,mp4:rt.LOAD_TYPE.VIDEO,webm:rt.LOAD_TYPE.VIDEO},rt._xhrTypeMap={xhtml:rt.XHR_RESPONSE_TYPE.DOCUMENT,html:rt.XHR_RESPONSE_TYPE.DOCUMENT,htm:rt.XHR_RESPONSE_TYPE.DOCUMENT,xml:rt.XHR_RESPONSE_TYPE.DOCUMENT,tmx:rt.XHR_RESPONSE_TYPE.DOCUMENT,svg:rt.XHR_RESPONSE_TYPE.DOCUMENT,tsx:rt.XHR_RESPONSE_TYPE.DOCUMENT,gif:rt.XHR_RESPONSE_TYPE.BLOB,png:rt.XHR_RESPONSE_TYPE.BLOB,bmp:rt.XHR_RESPONSE_TYPE.BLOB,jpg:rt.XHR_RESPONSE_TYPE.BLOB,jpeg:rt.XHR_RESPONSE_TYPE.BLOB,tif:rt.XHR_RESPONSE_TYPE.BLOB,tiff:rt.XHR_RESPONSE_TYPE.BLOB,webp:rt.XHR_RESPONSE_TYPE.BLOB,tga:rt.XHR_RESPONSE_TYPE.BLOB,json:rt.XHR_RESPONSE_TYPE.JSON,text:rt.XHR_RESPONSE_TYPE.TEXT,txt:rt.XHR_RESPONSE_TYPE.TEXT,ttf:rt.XHR_RESPONSE_TYPE.BUFFER,otf:rt.XHR_RESPONSE_TYPE.BUFFER},rt.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var hn=window.URL||window.webkitURL,no={caching:function(a,i){var e=this;mi[a.url]?(a.data=mi[a.url],a.complete()):a.onComplete.once(function(){return mi[e.url]=e.data}),i()},parsing:function(a,i){if(a.data){if(a.xhr&&a.xhrType===rt.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof a.data){if(0===a.data.type.indexOf("image")){var r=hn.createObjectURL(a.data);return a.blob=a.data,a.data=new Image,a.data.src=r,a.type=rt.TYPE.IMAGE,void(a.data.onload=function(){hn.revokeObjectURL(r),a.data.onload=null,i()})}}else{var e=a.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return a.data=new Image,a.data.src="data:"+e+";base64,"+function(a){for(var i="",e=0;e<a.length;){for(var r=[0,0,0],o=[0,0,0,0],d=0;d<r.length;++d)r[d]=e<a.length?255&a.charCodeAt(e++):0;switch(o[0]=r[0]>>2,o[1]=(3&r[0])<<4|r[1]>>4,o[2]=(15&r[1])<<2|r[2]>>6,o[3]=63&r[2],e-(a.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var m=0;m<o.length;++m)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o[m])}return i}(a.xhr.responseText),a.type=rt.TYPE.IMAGE,void(a.data.onload=function(){a.data.onload=null,i()})}i()}else i()}},Mc=/(#[\w-]+)?$/,fn=function(){function a(e,r){var o=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(m,w){return o._loadResource(m,w)},this._queue=function(a,i){if(null==i)i=1;else if(0===i)throw new Error("Concurrency must not be zero");var e=0,r={_tasks:[],concurrency:i,saturated:Dn,unsaturated:Dn,buffer:i/4,empty:Dn,drain:Dn,error:Dn,started:!1,paused:!1,push:function(m,w){o(m,!1,w)},kill:function(){e=0,r.drain=Dn,r.started=!1,r._tasks=[]},unshift:function(m,w){o(m,!0,w)},process:function(){for(;!r.paused&&e<r.concurrency&&r._tasks.length;){var m=r._tasks.shift();0===r._tasks.length&&r.empty(),(e+=1)===r.concurrency&&r.saturated(),a(m.data,lu(d(m)))}},length:function(){return r._tasks.length},running:function(){return e},idle:function(){return r._tasks.length+e===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var m=1;m<=r.concurrency;m++)r.process()}}};function o(p,m,w){if(null!=w&&"function"!=typeof w)throw new Error("task callback must be a function");if(r.started=!0,null==p&&r.idle())setTimeout(function(){return r.drain()},1);else{var x={data:p,callback:"function"==typeof w?w:Dn};m?r._tasks.unshift(x):r._tasks.push(x),setTimeout(function(){return r.process()},1)}}function d(p){return function(){e-=1,p.callback.apply(p,arguments),null!=arguments[0]&&r.error(arguments[0],p.data),e<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(kr()),this.onError=new(kr()),this.onLoad=new(kr()),this.onStart=new(kr()),this.onComplete=new(kr());for(var d=0;d<a._defaultBeforeMiddleware.length;++d)this.pre(a._defaultBeforeMiddleware[d]);for(var p=0;p<a._defaultAfterMiddleware.length;++p)this.use(a._defaultAfterMiddleware[p])}var i=a.prototype;return i.add=function(r,o,d,p){if(Array.isArray(r)){for(var m=0;m<r.length;++m)this.add(r[m]);return this}if("object"==typeof r&&(p=o||r.callback||r.onComplete,d=r,o=r.url,r=r.name||r.key||r.url),"string"!=typeof o&&(p=d,d=o,o=r),"string"!=typeof o)throw new Error("No url passed to add resource to loader.");if("function"==typeof d&&(p=d,d=null),this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(o=this._prepareUrl(o),this.resources[r]=new rt(r,o,d),"function"==typeof p&&this.resources[r].onAfterMiddleware.once(p),this.loading){for(var w=d.parentResource,x=[],P=0;P<w.children.length;++P)w.children[P].isComplete||x.push(w.children[P]);var I=w.progressChunk*(x.length+1)/(x.length+2);w.children.push(this.resources[r]),w.progressChunk=I;for(var R=0;R<x.length;++R)x[R].progressChunk=I;this.resources[r].progressChunk=I}return this._queue.push(this.resources[r]),this},i.pre=function(r){return this._beforeMiddleware.push(r),this},i.use=function(r){return this._afterMiddleware.push(r),this},i.reset=function(){for(var r in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var o=this.resources[r];o._onLoadBinding&&o._onLoadBinding.detach(),o.isLoading&&o.abort()}return this.resources={},this},i.load=function(r){if("function"==typeof r&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var d=100/this._queue._tasks.length,p=0;p<this._queue._tasks.length;++p)this._queue._tasks[p].data.progressChunk=d;this._onStart(),this._queue.resume()}return this},i._prepareUrl=function(r){var d,o=au()(r,{strictMode:!0});if(d=o.protocol||!o.path||0===r.indexOf("//")?r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==r.charAt(0)?this.baseUrl+"/"+r:this.baseUrl+r,this.defaultQueryString){var p=Mc.exec(d)[0];-1!==(d=d.substr(0,d.length-p.length)).indexOf("?")?d+="&"+this.defaultQueryString:d+="?"+this.defaultQueryString,d+=p}return d},i._loadResource=function(r,o){var d=this;r._dequeue=o,uu(this._beforeMiddleware,function(p,m){p.call(d,r,function(){m(r.isComplete?{}:null)})},function(){r.isComplete?d._onLoad(r):(r._onLoadBinding=r.onComplete.once(d._onLoad,d),r.load())},!0)},i._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},i._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},i._onLoad=function(r){var o=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),uu(this._afterMiddleware,function(d,p){d.call(o,r,p)},function(){r.onAfterMiddleware.dispatch(r),o.progress=Math.min(100,o.progress+r.progressChunk),o.onProgress.dispatch(o,r),r.error?o.onError.dispatch(r.error,o,r):o.onLoad.dispatch(o,r),o._resourcesParsing.splice(o._resourcesParsing.indexOf(r),1),o._queue.idle()&&0===o._resourcesParsing.length&&o._onComplete()},!0)},Ds(a,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r}}]),a}();fn._defaultBeforeMiddleware=[],fn._defaultAfterMiddleware=[],fn.pre=function(i){return fn._defaultBeforeMiddleware.push(i),fn},fn.use=function(i){return fn._defaultAfterMiddleware.push(i),fn};var Kn=rt,ea=function(a,i){return(ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Qn=function(){function a(){}return a.use=function(i,e){i.data&&i.type===rt.TYPE.IMAGE&&(i.texture=ht.fromLoader(i.data,i.url,i.name)),e()},a}(),qr=function(a){function i(e,r){for(var o=a.call(this,e,r)||this,d=0;d<i._plugins.length;++d){var p=i._plugins[d],m=p.pre,w=p.use;m&&o.pre(m),w&&o.use(w)}return o._protected=!1,o}return function(a,i){function e(){this.constructor=a}ea(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(i,"shared",{get:function(){var e=i._shared;return e||((e=new i)._protected=!0,i._shared=e),e},enumerable:!1,configurable:!0}),i.registerPlugin=function(e){return i._plugins.push(e),e.add&&e.add(),i},i._plugins=[],i}(fn);qr.registerPlugin({use:no.parsing}),qr.registerPlugin(Qn);var ro=function(){function a(){}return a.init=function(i){i=Object.assign({sharedLoader:!1},i),this.loader=i.sharedLoader?qr.shared:new qr},a.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},a}(),na=function(a,i){return(na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Oc(a,i){function e(){this.constructor=a}na(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}!function(a){function i(e,r,o,d){void 0===e&&(e=1500),void 0===o&&(o=16384),void 0===d&&(d=!1);var p=a.call(this)||this;return o>16384&&(o=16384),p._properties=[!1,!0,!1,!1,!1],p._maxSize=e,p._batchSize=o,p._buffers=null,p._bufferUpdateIDs=[],p._updateID=0,p.interactiveChildren=!1,p.blendMode=Ee.NORMAL,p.autoResize=d,p.roundPixels=!0,p.baseTexture=null,p.setProperties(r),p._tint=0,p.tintRgb=new Float32Array(4),p.tint=16777215,p}Oc(i,a),i.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Mi(e,this.tintRgb)},enumerable:!1,configurable:!0}),i.prototype.render=function(e){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},i.prototype.onChildrenChange=function(e){for(var r=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},i.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(En);var hu=function(){function a(i,e,r){this.geometry=new hs,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<i.length;++o){var d=i[o];d={attributeName:d.attributeName,size:d.size,uploadFunction:d.uploadFunction,type:d.type||Ie.FLOAT,offset:d.offset},e[o]?this.dynamicProperties.push(d):this.staticProperties.push(d)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return a.prototype.initBuffers=function(){var i=this.geometry,e=0;this.indexBuffer=new vn(function(a,i){void 0===i&&(i=null);var e=6*a;if((i=i||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+i.length+" and expected "+e);for(var r=0,o=0;r<e;r+=6,o+=4)i[r+0]=o+0,i[r+1]=o+1,i[r+2]=o+2,i[r+3]=o+0,i[r+4]=o+2,i[r+5]=o+3;return i}(this.size),!0,!0),i.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(o=this.dynamicProperties[r]).offset=e,e+=o.size,this.dynamicStride+=o.size;var d=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(d),this.dynamicDataUint32=new Uint32Array(d),this.dynamicBuffer=new vn(this.dynamicData,!1,!1);var p=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(o=this.staticProperties[r]).offset=p,p+=o.size,this.staticStride+=o.size;var m=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(m),this.staticDataUint32=new Uint32Array(m),this.staticBuffer=new vn(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r)i.addAttribute((o=this.dynamicProperties[r]).attributeName,this.dynamicBuffer,0,o.type===Ie.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset);for(r=0;r<this.staticProperties.length;++r){var o;i.addAttribute((o=this.staticProperties[r]).attributeName,this.staticBuffer,0,o.type===Ie.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},a.prototype.uploadDynamic=function(i,e,r){for(var o=0;o<this.dynamicProperties.length;o++){var d=this.dynamicProperties[o];d.uploadFunction(i,e,r,d.type===Ie.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,d.offset)}this.dynamicBuffer._updateID++},a.prototype.uploadStatic=function(i,e,r){for(var o=0;o<this.staticProperties.length;o++){var d=this.staticProperties[o];d.uploadFunction(i,e,r,d.type===Ie.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,d.offset)}this.staticBuffer._updateID++},a.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},a}(),xs=function(a){function i(e){var r=a.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Kt,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ie.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=gi.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=vs.for2d(),r}return Oc(i,a),i.prototype.render=function(e){var r=e.children,o=e._maxSize,d=e._batchSize,p=this.renderer,m=r.length;if(0!==m){m>o&&!e.autoResize&&(m=o);var w=e._buffers;w||(w=e._buffers=this.generateBuffers(e));var x=r[0]._texture.baseTexture;this.state.blendMode=Co(e.blendMode,x.alphaMode),p.state.set(this.state);var P=p.gl,A=e.worldTransform.copyTo(this.tempMatrix);A.prepend(p.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=A.toArray(!0),this.shader.uniforms.uColor=function(a,i,e,r){return e=e||new Float32Array(4),r||void 0===r?(e[0]=a[0]*i,e[1]=a[1]*i,e[2]=a[2]*i):(e[0]=a[0],e[1]=a[1],e[2]=a[2]),e[3]=i,e}(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,x.alphaMode),this.shader.uniforms.uSampler=x,this.renderer.shader.bind(this.shader);for(var I=!1,R=0,L=0;R<m;R+=d,L+=1){var B=m-R;B>d&&(B=d),L>=w.length&&w.push(this._generateOneMoreBuffer(e));var X=w[L];X.uploadDynamic(r,R,B),(I=I||X._updateID<(e._bufferUpdateIDs[L]||0))&&(X._updateID=e._updateID,X.uploadStatic(r,R,B)),p.geometry.bind(X.geometry),P.drawElements(P.TRIANGLES,6*B,P.UNSIGNED_SHORT,0)}}},i.prototype.generateBuffers=function(e){for(var r=[],o=e._maxSize,d=e._batchSize,p=e._properties,m=0;m<o;m+=d)r.push(new hu(this.properties,p,d));return r},i.prototype._generateOneMoreBuffer=function(e){return new hu(this.properties,e._properties,e._batchSize)},i.prototype.uploadVertices=function(e,r,o,d,p,m){for(var w=0,x=0,P=0,A=0,I=0;I<o;++I){var R=e[r+I],L=R._texture,B=R.scale.x,X=R.scale.y,ue=L.trim,Fe=L.orig;ue?(w=(x=ue.x-R.anchor.x*Fe.width)+ue.width,P=(A=ue.y-R.anchor.y*Fe.height)+ue.height):(w=Fe.width*(1-R.anchor.x),x=Fe.width*-R.anchor.x,P=Fe.height*(1-R.anchor.y),A=Fe.height*-R.anchor.y),d[m]=x*B,d[m+1]=A*X,d[m+p]=w*B,d[m+p+1]=A*X,d[m+2*p]=w*B,d[m+2*p+1]=P*X,d[m+3*p]=x*B,d[m+3*p+1]=P*X,m+=4*p}},i.prototype.uploadPosition=function(e,r,o,d,p,m){for(var w=0;w<o;w++){var x=e[r+w].position;d[m]=x.x,d[m+1]=x.y,d[m+p]=x.x,d[m+p+1]=x.y,d[m+2*p]=x.x,d[m+2*p+1]=x.y,d[m+3*p]=x.x,d[m+3*p+1]=x.y,m+=4*p}},i.prototype.uploadRotation=function(e,r,o,d,p,m){for(var w=0;w<o;w++){var x=e[r+w].rotation;d[m]=x,d[m+p]=x,d[m+2*p]=x,d[m+3*p]=x,m+=4*p}},i.prototype.uploadUvs=function(e,r,o,d,p,m){for(var w=0;w<o;++w){var x=e[r+w]._texture._uvs;x?(d[m]=x.x0,d[m+1]=x.y0,d[m+p]=x.x1,d[m+p+1]=x.y1,d[m+2*p]=x.x2,d[m+2*p+1]=x.y2,d[m+3*p]=x.x3,d[m+3*p+1]=x.y3,m+=4*p):(d[m]=0,d[m+1]=0,d[m+p]=0,d[m+p+1]=0,d[m+2*p]=0,d[m+2*p+1]=0,d[m+3*p]=0,d[m+3*p+1]=0,m+=4*p)}},i.prototype.uploadTint=function(e,r,o,d,p,m){for(var w=0;w<o;++w){var x=e[r+w],A=x.alpha,I=A<1&&x._texture.baseTexture.alphaMode>0?_n(x._tintRGB,A):x._tintRGB+(255*A<<24);d[m]=I,d[m+p]=I,d[m+2*p]=I,d[m+3*p]=I,m+=4*p}},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},i}(or),Zr=(()=>{return(a=Zr||(Zr={})).MITER="miter",a.BEVEL="bevel",a.ROUND="round",Zr;var a})(),br=(()=>{return(a=br||(br={})).BUTT="butt",a.ROUND="round",a.SQUARE="square",br;var a})(),io={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(a,i){if(void 0===i&&(i=20),!this.adaptive||!a||isNaN(a))return i;var e=Math.ceil(a/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},Cl=function(){function a(){this.color=16777215,this.alpha=1,this.texture=ht.WHITE,this.matrix=null,this.visible=!1,this.reset()}return a.prototype.clone=function(){var i=new a;return i.color=this.color,i.alpha=this.alpha,i.texture=this.texture,i.matrix=this.matrix,i.visible=this.visible,i},a.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ht.WHITE,this.matrix=null,this.visible=!1},a.prototype.destroy=function(){this.texture=null,this.matrix=null},a}(),du=function(a,i){return(du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function ra(a,i){function e(){this.constructor=a}du(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var ia={build:function(a){a.points=a.shape.points.slice()},triangulate:function(a,i){var e=a.points,r=a.holes,o=i.points,d=i.indices;if(e.length>=6){for(var p=[],m=0;m<r.length;m++){var w=r[m];p.push(e.length/2),e=e.concat(w.points)}var x=se()(e,p,2);if(!x)return;var P=o.length/2;for(m=0;m<x.length;m+=3)d.push(x[m]+P),d.push(x[m+1]+P),d.push(x[m+2]+P);for(m=0;m<e.length;m++)o.push(e[m])}}},vt={build:function(a){var d,p,i=a.shape,e=a.points,r=i.x,o=i.y;if(e.length=0,a.type===Xt.CIRC)d=i.radius,p=i.radius;else{var m=a.shape;d=m.width,p=m.height}if(0!==d&&0!==p){var w=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(d+p));w/=2.3;for(var x=2*Math.PI/w,P=0;P<w-.5;P++)e.push(r+Math.sin(-x*P)*d,o+Math.cos(-x*P)*p);e.push(e[0],e[1])}},triangulate:function(a,i){var e=a.points,r=i.points,o=i.indices,d=r.length/2,p=d,m=a.shape,w=a.matrix,x=m.x,P=m.y;r.push(a.matrix?w.a*x+w.c*P+w.tx:x,a.matrix?w.b*x+w.d*P+w.ty:P);for(var A=0;A<e.length;A+=2)r.push(e[A],e[A+1]),o.push(d++,p,d)}};function Hn(a,i,e){return a+(i-a)*e}function oa(a,i,e,r,o,d,p){void 0===p&&(p=[]);for(var w=p,x=0,P=0,A=0,I=0,R=0,L=0,B=0,X=0;B<=20;++B)x=Hn(a,e,X=B/20),P=Hn(i,r,X),A=Hn(e,o,X),I=Hn(r,d,X),R=Hn(x,A,X),L=Hn(P,I,X),w.push(R,L);return w}var yi={build:function(a){var i=a.shape,e=a.points,r=i.x,o=i.y,d=i.width,p=i.height,m=Math.max(0,Math.min(i.radius,Math.min(d,p)/2));e.length=0,m?(oa(r,o+m,r,o,r+m,o,e),oa(r+d-m,o,r+d,o,r+d,o+m,e),oa(r+d,o+p-m,r+d,o+p,r+d-m,o+p,e),oa(r+m,o+p,r,o+p,r,o+p-m,e)):e.push(r,o,r+d,o,r+d,o+p,r,o+p)},triangulate:function(a,i){for(var e=a.points,r=i.points,o=i.indices,d=r.length/2,p=se()(e,null,2),m=0,w=p.length;m<w;m+=3)o.push(p[m]+d),o.push(p[m+1]+d),o.push(p[m+2]+d);for(m=0,w=e.length;m<w;m++)r.push(e[m],e[++m])}};function aa(a,i,e,r,o,d,p,m){var I,R;p?(I=r,R=-e):(I=-r,R=e);var X=a+e*d+I,ue=i+r*d+R;return m.push(a-e*o+I,i-r*o+R),m.push(X,ue),2}function Kr(a,i,e,r,o,d,p,m){var w=e-a,x=r-i,P=Math.atan2(w,x),A=Math.atan2(o-a,d-i);m&&P<A?P+=2*Math.PI:!m&&P>A&&(A+=2*Math.PI);var I=P,R=A-P,L=Math.abs(R),B=Math.sqrt(w*w+x*x),X=1+(15*L*Math.sqrt(B)/Math.PI>>0),ue=R/X;if(I+=ue,m){p.push(a,i),p.push(e,r);for(var Fe=1,ye=I;Fe<X;Fe++,ye+=ue)p.push(a,i),p.push(a+Math.sin(ye)*B,i+Math.cos(ye)*B);p.push(a,i),p.push(o,d)}else{for(p.push(e,r),p.push(a,i),Fe=1,ye=I;Fe<X;Fe++,ye+=ue)p.push(a+Math.sin(ye)*B,i+Math.cos(ye)*B),p.push(a,i);p.push(o,d),p.push(a,i)}return 2*X}function ua(a,i){a.lineStyle.native?function(a,i){var e=0,r=a.shape,o=a.points||r.points,d=r.type!==Xt.POLY||r.closeStroke;if(0!==o.length){var p=i.points,m=i.indices,w=o.length/2,x=p.length/2,P=x;for(p.push(o[0],o[1]),e=1;e<w;e++)p.push(o[2*e],o[2*e+1]),m.push(P,P+1),P++;d&&m.push(P,x)}}(a,i):function(a,i){var e=a.shape,r=a.points||e.points.slice(),o=i.closePointEps;if(0!==r.length){var d=a.lineStyle,p=new nn(r[0],r[1]),m=new nn(r[r.length-2],r[r.length-1]),w=e.type!==Xt.POLY||e.closeStroke,x=Math.abs(p.x-m.x)<o&&Math.abs(p.y-m.y)<o;if(w){r=r.slice(),x&&(r.pop(),r.pop(),m.set(r[r.length-2],r[r.length-1]));var P=.5*(p.x+m.x),A=.5*(m.y+p.y);r.unshift(P,A),r.push(P,A)}var I=i.points,R=r.length/2,L=r.length,B=I.length/2,X=d.width/2,ue=X*X,Fe=d.miterLimit*d.miterLimit,ye=r[0],Ge=r[1],De=r[2],me=r[3],yt=0,At=0,Xe=-(Ge-me),We=ye-De,xt=0,Ct=0,rn=Math.sqrt(Xe*Xe+We*We);Xe/=rn,We/=rn,Xe*=X,We*=X;var Di=d.alignment,Je=2*(1-Di),it=2*Di;w||(d.cap===br.ROUND?L+=Kr(ye-Xe*(Je-it)*.5,Ge-We*(Je-it)*.5,ye-Xe*Je,Ge-We*Je,ye+Xe*it,Ge+We*it,I,!0)+2:d.cap===br.SQUARE&&(L+=aa(ye,Ge,Xe,We,Je,it,!0,I))),I.push(ye-Xe*Je,Ge-We*Je),I.push(ye+Xe*it,Ge+We*it);for(var Ye=1;Ye<R-1;++Ye){yt=r[2*(Ye+1)],At=r[2*(Ye+1)+1],Xe=-((Ge=r[2*(Ye-1)+1])-(me=r[2*Ye+1])),We=(ye=r[2*(Ye-1)])-(De=r[2*Ye]),Xe/=rn=Math.sqrt(Xe*Xe+We*We),We/=rn,Xe*=X,We*=X,xt=-(me-At),Ct=De-yt,xt/=rn=Math.sqrt(xt*xt+Ct*Ct),Ct/=rn,xt*=X,Ct*=X;var ri=De-ye,Ti=Ge-me,xi=De-yt,ii=At-me,fr=Ti*xi-ii*ri,dr=fr<0;if(Math.abs(fr)<.1)I.push(De-Xe*Je,me-We*Je),I.push(De+Xe*it,me+We*it);else{var Do=(-Xe+ye)*(-We+me)-(-Xe+De)*(-We+Ge),Ki=(-xt+yt)*(-Ct+me)-(-xt+De)*(-Ct+At),Ci=(ri*Ki-xi*Do)/fr,Tr=(ii*Do-Ti*Ki)/fr,si=(Ci-De)*(Ci-De)+(Tr-me)*(Tr-me),Dt=De+(Ci-De)*Je,zn=me+(Tr-me)*Je,Nn=De-(Ci-De)*it,Et=me-(Tr-me)*it,Qi=dr?Je:it;si<=Math.min(ri*ri+Ti*Ti,xi*xi+ii*ii)+Qi*Qi*ue?d.join===Zr.BEVEL||si/ue>Fe?(dr?(I.push(Dt,zn),I.push(De+Xe*it,me+We*it),I.push(Dt,zn),I.push(De+xt*it,me+Ct*it)):(I.push(De-Xe*Je,me-We*Je),I.push(Nn,Et),I.push(De-xt*Je,me-Ct*Je),I.push(Nn,Et)),L+=2):d.join===Zr.ROUND?dr?(I.push(Dt,zn),I.push(De+Xe*it,me+We*it),L+=Kr(De,me,De+Xe*it,me+We*it,De+xt*it,me+Ct*it,I,!0)+4,I.push(Dt,zn),I.push(De+xt*it,me+Ct*it)):(I.push(De-Xe*Je,me-We*Je),I.push(Nn,Et),L+=Kr(De,me,De-Xe*Je,me-We*Je,De-xt*Je,me-Ct*Je,I,!1)+4,I.push(De-xt*Je,me-Ct*Je),I.push(Nn,Et)):(I.push(Dt,zn),I.push(Nn,Et)):(I.push(De-Xe*Je,me-We*Je),I.push(De+Xe*it,me+We*it),d.join===Zr.BEVEL||si/ue>Fe||(d.join===Zr.ROUND?L+=dr?Kr(De,me,De+Xe*it,me+We*it,De+xt*it,me+Ct*it,I,!0)+2:Kr(De,me,De-Xe*Je,me-We*Je,De-xt*Je,me-Ct*Je,I,!1)+2:(dr?(I.push(Nn,Et),I.push(Nn,Et)):(I.push(Dt,zn),I.push(Dt,zn)),L+=2)),I.push(De-xt*Je,me-Ct*Je),I.push(De+xt*it,me+Ct*it),L+=2)}}Xe=-((Ge=r[2*(R-2)+1])-(me=r[2*(R-1)+1])),We=(ye=r[2*(R-2)])-(De=r[2*(R-1)]),Xe/=rn=Math.sqrt(Xe*Xe+We*We),We/=rn,I.push(De-(Xe*=X)*Je,me-(We*=X)*Je),I.push(De+Xe*it,me+We*it),w||(d.cap===br.ROUND?L+=Kr(De-Xe*(Je-it)*.5,me-We*(Je-it)*.5,De-Xe*Je,me-We*Je,De+Xe*it,me+We*it,I,!1)+2:d.cap===br.SQUARE&&(L+=aa(De,me,Xe,We,Je,it,!1,I)));var er=i.indices,$u=io.epsilon*io.epsilon;for(Ye=B;Ye<L+B-2;++Ye)ye=I[2*Ye],Ge=I[2*Ye+1],De=I[2*(Ye+1)],me=I[2*(Ye+1)+1],yt=I[2*(Ye+2)],At=I[2*(Ye+2)+1],!(Math.abs(ye*(me-At)+De*(At-Ge)+yt*(Ge-me))<$u)&&er.push(Ye,Ye+1,Ye+2)}}(a,i)}var Zt,la=function(a){function i(e,r,o,d,p,m){void 0===m&&(m=0),p=p||d/2;for(var x=-1*Math.PI/2+m,P=2*o,A=Vs/P,I=[],R=0;R<P;R++){var L=R%2?p:d,B=R*A+x;I.push(e+L*Math.cos(B),r+L*Math.sin(B))}return a.call(this,I)||this}return ra(i,a),i}(Tn),ca=function(){function a(){}return a.curveTo=function(i,e,r,o,d,p){var x=p[p.length-1]-e,P=p[p.length-2]-i,A=o-e,I=r-i,R=Math.abs(x*I-P*A);if(R<1e-8||0===d)return(p[p.length-2]!==i||p[p.length-1]!==e)&&p.push(i,e),null;var L=x*x+P*P,B=A*A+I*I,X=x*A+P*I,ue=d*Math.sqrt(L)/R,Fe=d*Math.sqrt(B)/R,ye=ue*X/L,Ge=Fe*X/B,De=ue*I+Fe*P,me=ue*A+Fe*x,Xe=I*(ue+Ge),We=A*(ue+Ge);return{cx:De+i,cy:me+e,radius:d,startAngle:Math.atan2(x*(Fe+ye)-me,P*(Fe+ye)-De),endAngle:Math.atan2(We-me,Xe-De),anticlockwise:P*A>I*x}},a.arc=function(i,e,r,o,d,p,m,w,x){for(var P=m-p,A=io._segmentsCount(Math.abs(P)*d,40*Math.ceil(Math.abs(P)/Vs)),I=P/(2*A),R=2*I,L=Math.cos(I),B=Math.sin(I),X=A-1,ue=X%1/X,Fe=0;Fe<=X;++Fe){var Ge=I+p+R*(Fe+ue*Fe),De=Math.cos(Ge),me=-Math.sin(Ge);x.push((L*De+B*me)*d+r,(L*-me+B*De)*d+o)}},a}(),so=function(){function a(){}return a.curveLength=function(i,e,r,o,d,p,m,w){for(var P=0,A=0,I=0,R=0,L=0,B=0,X=0,ue=0,Fe=0,ye=0,Ge=0,De=i,me=e,yt=1;yt<=10;++yt)ye=De-(ue=(X=(B=(L=1-(A=yt/10))*L)*L)*i+3*B*A*r+3*L*(I=A*A)*d+(R=I*A)*m),Ge=me-(Fe=X*e+3*B*A*o+3*L*I*p+R*w),De=ue,me=Fe,P+=Math.sqrt(ye*ye+Ge*Ge);return P},a.curveTo=function(i,e,r,o,d,p,m){var w=m[m.length-2],x=m[m.length-1];m.length-=2;var P=io._segmentsCount(a.curveLength(w,x,i,e,r,o,d,p)),A=0,I=0,R=0,L=0,B=0;m.push(w,x);for(var X=1,ue=0;X<=P;++X)m.push((R=(I=(A=1-(ue=X/P))*A)*A)*w+3*I*ue*i+3*A*(L=ue*ue)*r+(B=L*ue)*d,R*x+3*I*ue*e+3*A*L*o+B*p)},a}(),mn=function(){function a(){}return a.curveLength=function(i,e,r,o,d,p){var m=i-2*r+d,w=e-2*o+p,x=2*r-2*i,P=2*o-2*e,A=4*(m*m+w*w),I=4*(m*x+w*P),R=x*x+P*P,L=2*Math.sqrt(A+I+R),B=Math.sqrt(A),X=2*A*B,ue=2*Math.sqrt(R),Fe=I/B;return(X*L+B*I*(L-ue)+(4*R*A-I*I)*Math.log((2*B+Fe+L)/(Fe+ue)))/(4*X)},a.curveTo=function(i,e,r,o,d){for(var p=d[d.length-2],m=d[d.length-1],w=io._segmentsCount(a.curveLength(p,m,i,e,r,o)),x=0,P=0,A=1;A<=w;++A){var I=A/w;d.push((x=p+(i-p)*I)+(i+(r-i)*I-x)*I,(P=m+(e-m)*I)+(e+(o-e)*I-P)*I)}},a}(),Er=function(){function a(){this.reset()}return a.prototype.begin=function(i,e,r){this.reset(),this.style=i,this.start=e,this.attribStart=r},a.prototype.end=function(i,e){this.attribSize=e-this.attribStart,this.size=i-this.start},a.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},a}(),oo=((Zt={})[Xt.POLY]=ia,Zt[Xt.CIRC]=vt,Zt[Xt.ELIP]=vt,Zt[Xt.RECT]={build:function(a){var i=a.shape,e=i.x,r=i.y,o=i.width,d=i.height,p=a.points;p.length=0,p.push(e,r,e+o,r,e+o,r+d,e,r+d)},triangulate:function(a,i){var e=a.points,r=i.points,o=r.length/2;r.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),i.indices.push(o,o+1,o+2,o+1,o+2,o+3)}},Zt[Xt.RREC]=yi,Zt),pu=[],_i=[],gu=function(){function a(i,e,r,o){void 0===e&&(e=null),void 0===r&&(r=null),void 0===o&&(o=null),this.shape=i,this.lineStyle=r,this.fillStyle=e,this.matrix=o,this.type=i.type,this.points=[],this.holes=[]}return a.prototype.clone=function(){return new a(this.shape,this.fillStyle,this.lineStyle,this.matrix)},a.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},a}(),Cs=new nn,Sl=new Or,Ss=function(a){function i(){var e=a.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Or,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return ra(i,a),Object.defineProperty(i.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),i.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),_i.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var r=this.batches[e];r.reset(),pu.push(r)}this.batches.length=0},i.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},i.prototype.drawShape=function(e,r,o,d){void 0===r&&(r=null),void 0===o&&(o=null),void 0===d&&(d=null);var p=new gu(e,r,o,d);return this.graphicsData.push(p),this.dirty++,this},i.prototype.drawHole=function(e,r){if(void 0===r&&(r=null),!this.graphicsData.length)return null;var o=new gu(e,null,null,r),d=this.graphicsData[this.graphicsData.length-1];return o.lineStyle=d.lineStyle,d.holes.push(o),this.dirty++,this},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},i.prototype.containsPoint=function(e){for(var r=this.graphicsData,o=0;o<r.length;++o){var d=r[o];if(d.fillStyle.visible&&d.shape&&(d.matrix?d.matrix.applyInverse(e,Cs):Cs.copyFrom(e),d.shape.contains(Cs.x,Cs.y))){var p=!1;if(d.holes)for(var m=0;m<d.holes.length;m++)if(d.holes[m].shape.contains(Cs.x,Cs.y)){p=!0;break}if(!p)return!0}}return!1},i.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,o=this.graphicsData,d=null,p=null;this.batches.length>0&&(p=(d=this.batches[this.batches.length-1]).style);for(var m=this.shapeIndex;m<o.length;m++){this.shapeIndex++;var w=o[m],x=w.fillStyle,P=w.lineStyle;oo[w.type].build(w),w.matrix&&this.transformPoints(w.points,w.matrix);for(var I=0;I<2;I++){var R=0===I?x:P;if(R.visible){var B=this.indices.length,X=this.points.length/2;R.texture.baseTexture.wrapMode=ut.REPEAT,0===I?this.processFill(w):this.processLine(w);var ue=this.points.length/2-X;0!==ue&&(d&&!this._compareStyles(p,R)&&(d.end(B,X),d=null),d||((d=pu.pop()||new Er).begin(R,B,X),this.batches.push(d),p=R),this.addUvs(this.points,r,R.texture,X,ue,R.matrix))}}}var ye=this.points.length/2;if(d&&d.end(this.indices.length,ye),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=ye>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},i.prototype._compareStyles=function(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)},i.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,r=this.graphicsData.length;e<r;e++){var o=this.graphicsData[e],d=o.fillStyle,p=o.lineStyle;if(d&&!d.texture.baseTexture.valid||p&&!p.texture.baseTexture.valid)return!1}return!0},i.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,r=0,o=e.length;r<o;r++)for(var d=e[r],p=0;p<d.size;p++){var m=d.start+p;this.indicesUint16[m]=this.indicesUint16[m]-d.attribStart}},i.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*i.BATCHABLE_SIZE},i.prototype.buildDrawCalls=function(){for(var e=++Gt._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),_i.push(this.drawCalls[r]);this.drawCalls.length=0;var o=this.colors,d=this.textureIds,p=_i.pop();p||((p=new Js).texArray=new iu),p.texArray.count=0,p.start=0,p.size=0,p.type=Ae.TRIANGLES;var m=0,w=null,x=0,P=!1,A=Ae.TRIANGLES,I=0;for(this.drawCalls.push(p),r=0;r<this.batches.length;r++){var R=this.batches[r],B=R.style,X=B.texture.baseTexture;P!==!!B.native&&(A=(P=!!B.native)?Ae.LINES:Ae.TRIANGLES,w=null,m=8,e++),w!==X&&(w=X,X._batchEnabled!==e&&(8===m&&(e++,m=0,p.size>0&&((p=_i.pop())||((p=new Js).texArray=new iu),this.drawCalls.push(p)),p.start=I,p.size=0,p.texArray.count=0,p.type=A),X.touched=1,X._batchEnabled=e,X._batchLocation=m,X.wrapMode=10497,p.texArray.elements[p.texArray.count++]=X,m++)),p.size+=R.size,I+=R.size,x=X._batchLocation,this.addColors(o,B.color,B.alpha,R.attribSize,R.attribStart),this.addTextureIds(d,x,R.attribSize,R.attribStart)}Gt._globalBatch=e,this.packAttributes()},i.prototype.packAttributes=function(){for(var e=this.points,r=this.uvs,o=this.colors,d=this.textureIds,p=new ArrayBuffer(3*e.length*4),m=new Float32Array(p),w=new Uint32Array(p),x=0,P=0;P<e.length/2;P++)m[x++]=e[2*P],m[x++]=e[2*P+1],m[x++]=r[2*P],m[x++]=r[2*P+1],w[x++]=o[P],m[x++]=d[P];this._buffer.update(p),this._indexBuffer.update(this.indicesUint16)},i.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),ia.triangulate(e,this)):oo[e.type].triangulate(e,this)},i.prototype.processLine=function(e){ua(e,this);for(var r=0;r<e.holes.length;r++)ua(e.holes[r],this)},i.prototype.processHoles=function(e){for(var r=0;r<e.length;r++){var o=e[r];oo[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix)}},i.prototype.calculateBounds=function(){var e=this._bounds,r=Sl,o=Kt.IDENTITY;this._bounds.clear(),r.clear();for(var d=0;d<this.graphicsData.length;d++){var p=this.graphicsData[d],m=p.shape,w=p.type,x=p.lineStyle,P=p.matrix||Kt.IDENTITY,A=0;if(x&&x.visible){var I=x.alignment;A=x.width,A*=w===Xt.POLY?.5+Math.abs(.5-I):Math.max(0,I)}o!==P&&(r.isEmpty()||(e.addBoundsMatrix(r,o),r.clear()),o=P),w===Xt.RECT||w===Xt.RREC?r.addFramePad(m.x,m.y,m.x+m.width,m.y+m.height,A,A):w===Xt.CIRC?r.addFramePad(m.x,m.y,m.x,m.y,m.radius+A,m.radius+A):w===Xt.ELIP?r.addFramePad(m.x,m.y,m.x,m.y,m.width+A,m.height+A):e.addVerticesMatrix(o,m.points,0,m.points.length,A,A)}r.isEmpty()||e.addBoundsMatrix(r,o),e.pad(this.boundsPadding,this.boundsPadding)},i.prototype.transformPoints=function(e,r){for(var o=0;o<e.length/2;o++){var d=e[2*o],p=e[2*o+1];e[2*o]=r.a*d+r.c*p+r.tx,e[2*o+1]=r.b*d+r.d*p+r.ty}},i.prototype.addColors=function(e,r,o,d,p){void 0===p&&(p=0);var w=_n((r>>16)+(65280&r)+((255&r)<<16),o);e.length=Math.max(e.length,p+d);for(var x=0;x<d;x++)e[p+x]=w},i.prototype.addTextureIds=function(e,r,o,d){void 0===d&&(d=0),e.length=Math.max(e.length,d+o);for(var p=0;p<o;p++)e[d+p]=r},i.prototype.addUvs=function(e,r,o,d,p,m){void 0===m&&(m=null);for(var w=0,x=r.length,P=o.frame;w<p;){var A=e[2*(d+w)],I=e[2*(d+w)+1];if(m){var R=m.a*A+m.c*I+m.tx;I=m.b*A+m.d*I+m.ty,A=R}w++,r.push(A/P.width,I/P.height)}var L=o.baseTexture;(P.width<L.width||P.height<L.height)&&this.adjustUvs(r,o,x,p)},i.prototype.adjustUvs=function(e,r,o,d){for(var p=r.baseTexture,m=1e-6,w=o+2*d,x=r.frame,P=x.width/p.width,A=x.height/p.height,I=x.x/x.width,R=x.y/x.height,L=Math.floor(e[o]+m),B=Math.floor(e[o+1]+m),X=o+2;X<w;X+=2)L=Math.min(L,Math.floor(e[X]+m)),B=Math.min(B,Math.floor(e[X+1]+m));for(I-=L,R-=B,X=o;X<w;X+=2)e[X]=(e[X]+I)*P,e[X+1]=(e[X+1]+R)*A},i.BATCHABLE_SIZE=100,i}(ws),Hr=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=br.BUTT,e.join=Zr.MITER,e.miterLimit=10,e}return ra(i,a),i.prototype.clone=function(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},i.prototype.reset=function(){a.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},i}(Cl),bi=new Float32Array(3),pt={},$i=function(a){function i(e){void 0===e&&(e=null);var r=a.call(this)||this;return r._geometry=e||new Ss,r._geometry.refCount++,r.shader=null,r.state=vs.for2d(),r._fillStyle=new Cl,r._lineStyle=new Hr,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=Ee.NORMAL,r}return ra(i,a),Object.defineProperty(i.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),i.prototype.clone=function(){return this.finishPoly(),new i(this._geometry)},Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),i.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var r=arguments;e={width:r[0]||0,color:r[1]||0,alpha:void 0!==r[2]?r[2]:1,alignment:void 0!==r[3]?r[3]:.5,native:!!r[4]}}return this.lineTextureStyle(e)},i.prototype.lineTextureStyle=function(e){if("number"==typeof e){kn("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var r=arguments,o=r[0],d=r[1],p=r[2],m=r[3],w=r[4],x=r[5],P=r[6];e={width:o,texture:d,color:p,alpha:m,matrix:w,alignment:x,native:P},Object.keys(e).forEach(function(I){return void 0===e[I]&&delete e[I]})}e=Object.assign({width:0,texture:ht.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:br.BUTT,join:Zr.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var A=e.width>0&&e.alpha>0;return A?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:A},e)):this._lineStyle.reset(),this},i.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Tn,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Tn,this.currentPath.closeStroke=!1},i.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},i.prototype.moveTo=function(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this},i.prototype.lineTo=function(e,r){this.currentPath||this.moveTo(0,0);var o=this.currentPath.points;return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),this},i.prototype._initCurve=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,r]):this.moveTo(e,r)},i.prototype.quadraticCurveTo=function(e,r,o,d){this._initCurve();var p=this.currentPath.points;return 0===p.length&&this.moveTo(0,0),mn.curveTo(e,r,o,d,p),this},i.prototype.bezierCurveTo=function(e,r,o,d,p,m){return this._initCurve(),so.curveTo(e,r,o,d,p,m,this.currentPath.points),this},i.prototype.arcTo=function(e,r,o,d,p){this._initCurve(e,r);var w=ca.curveTo(e,r,o,d,p,this.currentPath.points);return w&&this.arc(w.cx,w.cy,w.radius,w.startAngle,w.endAngle,w.anticlockwise),this},i.prototype.arc=function(e,r,o,d,p,m){if(void 0===m&&(m=!1),d===p)return this;if(!m&&p<=d?p+=Vs:m&&d<=p&&(d+=Vs),0==p-d)return this;var x=e+Math.cos(d)*o,P=r+Math.sin(d)*o,A=this._geometry.closePointEps,I=this.currentPath?this.currentPath.points:null;if(I){var R=Math.abs(I[I.length-2]-x),L=Math.abs(I[I.length-1]-P);R<A&&L<A||I.push(x,P)}else this.moveTo(x,P),I=this.currentPath.points;return ca.arc(x,P,e,r,o,d,p,m,I),this},i.prototype.beginFill=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=1),this.beginTextureFill({texture:ht.WHITE,color:e,alpha:r})},i.prototype.beginTextureFill=function(e){if(e instanceof ht){kn("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var r=arguments,o=r[0],d=r[1],p=r[2],m=r[3];e={texture:o,color:d,alpha:p,matrix:m},Object.keys(e).forEach(function(x){return void 0===e[x]&&delete e[x]})}e=Object.assign({texture:ht.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var w=e.alpha>0;return w?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:w},e)):this._fillStyle.reset(),this},i.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},i.prototype.drawRect=function(e,r,o,d){return this.drawShape(new lt(e,r,o,d))},i.prototype.drawRoundedRect=function(e,r,o,d,p){return this.drawShape(new Ao(e,r,o,d,p))},i.prototype.drawCircle=function(e,r,o){return this.drawShape(new Ar(e,r,o))},i.prototype.drawEllipse=function(e,r,o,d){return this.drawShape(new Oi(e,r,o,d))},i.prototype.drawPolygon=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];var d,p=!0,m=r[0];m.points?(p=m.closeStroke,d=m.points):d=Array.isArray(r[0])?r[0]:r;var w=new Tn(d);return w.closeStroke=p,this.drawShape(w),this},i.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},i.prototype.drawStar=function(e,r,o,d,p,m){return void 0===m&&(m=0),this.drawPolygon(new la(e,r,o,d,p,m))},i.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},i.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Xt.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},i.prototype._render=function(e){this.finishPoly();var r=this._geometry;r.updateBatches(e.context.supports.uint32Indices),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},i.prototype._populateBatches=function(){var e=this._geometry,r=this.blendMode,o=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=o,this.vertexData=new Float32Array(e.points);for(var d=0;d<o;d++){var p=e.batches[d],m=p.style.color,w=new Float32Array(this.vertexData.buffer,4*p.attribStart*2,2*p.attribSize),x=new Float32Array(e.uvsFloat32.buffer,4*p.attribStart*2,2*p.attribSize),A={vertexData:w,blendMode:r,indices:new Uint16Array(e.indicesUint16.buffer,2*p.start,p.size),uvs:x,_batchRGB:Mi(m),_tintRGB:m,_texture:p.style.texture,alpha:p.style.alpha,worldAlpha:1};this.batches[d]=A}},i.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,o=this.batches.length;r<o;r++){var d=this.batches[r];d.worldAlpha=this.worldAlpha*d.alpha,e.plugins[this.pluginName].render(d)}}},i.prototype._renderDirect=function(e){var r=this._resolveDirectShader(e),o=this._geometry,d=this.tint,p=this.worldAlpha,m=r.uniforms,w=o.drawCalls;m.translationMatrix=this.transform.worldTransform,m.tint[0]=(d>>16&255)/255*p,m.tint[1]=(d>>8&255)/255*p,m.tint[2]=(255&d)/255*p,m.tint[3]=p,e.shader.bind(r),e.geometry.bind(o,r),e.state.set(this.state);for(var x=0,P=w.length;x<P;x++)this._renderDrawCallDirect(e,o.drawCalls[x])},i.prototype._renderDrawCallDirect=function(e,r){for(var o=r.texArray,d=r.type,p=r.size,m=r.start,w=o.count,x=0;x<w;x++)e.texture.bind(o.elements[x],x);e.geometry.draw(d,p,m)},i.prototype._resolveDirectShader=function(e){var r=this.shader,o=this.pluginName;if(!r){if(!pt[o]){for(var d=e.plugins.batch.MAX_TEXTURES,p=new Int32Array(d),m=0;m<d;m++)p[m]=m;var w={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:Fr.from({uSamplers:p},!0)};pt[o]=new gi(e.plugins[o]._shader.program,w)}r=pt[o]}return r},i.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var r=e.bounds;this._bounds.addFrame(this.transform,r.minX,r.minY,r.maxX,r.maxY)}},i.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,i._TEMP_POINT),this._geometry.containsPoint(i._TEMP_POINT)},i.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Mi(this.tint,bi),r=0;r<this.batches.length;r++){var o=this.batches[r],d=o._batchRGB,x=(e[0]*d[0]*255<<16)+(e[1]*d[1]*255<<8)+(0|e[2]*d[2]*255);o._tintRGB=(x>>16)+(65280&x)+((255&x)<<16)}}},i.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var r=this.transform.worldTransform,o=r.a,d=r.b,p=r.c,m=r.d,w=r.tx,x=r.ty,P=this._geometry.points,A=this.vertexData,I=0,R=0;R<P.length;R+=2){var L=P[R],B=P[R+1];A[I++]=o*L+p*B+w,A[I++]=m*B+d*L+x}}},i.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},i.prototype.setMatrix=function(e){return this._matrix=e,this},i.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},i.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},i.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,a.prototype.destroy.call(this,e)},i._TEMP_POINT=new nn,i}(En),fa=function(a,i){return(fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Ei=new nn,vu=new Uint16Array([0,1,2,0,2,3]),Is=function(a){function i(e){var r=a.call(this)||this;return r._anchor=new Pr(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=Ee.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||ht.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=vu,r.pluginName="batch",r.isSprite=!0,r._roundPixels=O.ROUND_PIXELS,r}return function(a,i){function e(){this.constructor=a}fa(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=hi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=hi(this.scale.y)*this._height/this._texture.orig.height)},i.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},i.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var r=this.transform.worldTransform,o=r.a,d=r.b,p=r.c,m=r.d,w=r.tx,x=r.ty,P=this.vertexData,A=e.trim,I=e.orig,R=this._anchor,L=0,B=0,X=0,ue=0;if(A?(L=(B=A.x-R._x*I.width)+A.width,X=(ue=A.y-R._y*I.height)+A.height):(L=(B=-R._x*I.width)+I.width,X=(ue=-R._y*I.height)+I.height),P[0]=o*B+p*ue+w,P[1]=m*ue+d*B+x,P[2]=o*L+p*ue+w,P[3]=m*ue+d*L+x,P[4]=o*L+p*X+w,P[5]=m*X+d*L+x,P[6]=o*B+p*X+w,P[7]=m*X+d*B+x,this._roundPixels)for(var Fe=O.RESOLUTION,ye=0;ye<P.length;++ye)P[ye]=Math.round((P[ye]*Fe|0)/Fe)}},i.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this.vertexTrimmedData,o=this._texture.orig,d=this._anchor,p=this.transform.worldTransform,m=p.a,w=p.b,x=p.c,P=p.d,A=p.tx,I=p.ty,R=-d._x*o.width,L=R+o.width,B=-d._y*o.height,X=B+o.height;r[0]=m*R+x*B+A,r[1]=P*B+w*R+I,r[2]=m*L+x*B+A,r[3]=P*B+w*L+I,r[4]=m*L+x*X+A,r[5]=P*X+w*L+I,r[6]=m*R+x*X+A,r[7]=P*X+w*R+I},i.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},i.prototype._calculateBounds=function(){var e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},i.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):a.prototype.getLocalBounds.call(this,e)},i.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ei);var r=this._texture.orig.width,o=this._texture.orig.height,d=-r*this.anchor.x,p=0;return!!(Ei.x>=d&&Ei.x<d+r&&(p=-o*this.anchor.y,Ei.y>=p&&Ei.y<p+o))},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},i.from=function(e,r){return new i(e instanceof ht?e:ht.from(e,r))},Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var r=hi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var r=hi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ht.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),i}(En),mu=function(a,i){return(mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Vn=(()=>{return(a=Vn||(Vn={}))[a.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",a[a.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",Vn;var a})(),da={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Vn.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},yu=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Wi=function(){function a(i){this.styleID=0,this.reset(),ga(this,i,i)}return a.prototype.clone=function(){var i={};return ga(i,this,da),new a(i)},a.prototype.reset=function(){ga(this,da,da)},Object.defineProperty(a.prototype,"align",{get:function(){return this._align},set:function(i){this._align!==i&&(this._align=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"breakWords",{get:function(){return this._breakWords},set:function(i){this._breakWords!==i&&(this._breakWords=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(i){this._dropShadow!==i&&(this._dropShadow=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(i){this._dropShadowAlpha!==i&&(this._dropShadowAlpha=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(i){this._dropShadowAngle!==i&&(this._dropShadowAngle=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(i){this._dropShadowBlur!==i&&(this._dropShadowBlur=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(i){var e=ao(i);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(i){this._dropShadowDistance!==i&&(this._dropShadowDistance=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fill",{get:function(){return this._fill},set:function(i){var e=ao(i);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(i){this._fillGradientType!==i&&(this._fillGradientType=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(i){(function(a,i){if(!Array.isArray(a)||!Array.isArray(i)||a.length!==i.length)return!1;for(var e=0;e<a.length;++e)if(a[e]!==i[e])return!1;return!0})(this._fillGradientStops,i)||(this._fillGradientStops=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(i){this.fontFamily!==i&&(this._fontFamily=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontSize",{get:function(){return this._fontSize},set:function(i){this._fontSize!==i&&(this._fontSize=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(i){this._fontStyle!==i&&(this._fontStyle=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(i){this._fontVariant!==i&&(this._fontVariant=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(i){this._fontWeight!==i&&(this._fontWeight=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(i){this._letterSpacing!==i&&(this._letterSpacing=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(i){this._lineHeight!==i&&(this._lineHeight=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leading",{get:function(){return this._leading},set:function(i){this._leading!==i&&(this._leading=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(i){this._lineJoin!==i&&(this._lineJoin=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(i){this._miterLimit!==i&&(this._miterLimit=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"padding",{get:function(){return this._padding},set:function(i){this._padding!==i&&(this._padding=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stroke",{get:function(){return this._stroke},set:function(i){var e=ao(i);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(i){this._strokeThickness!==i&&(this._strokeThickness=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(i){this._textBaseline!==i&&(this._textBaseline=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"trim",{get:function(){return this._trim},set:function(i){this._trim!==i&&(this._trim=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(i){this._whiteSpace!==i&&(this._whiteSpace=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(i){this._wordWrap!==i&&(this._wordWrap=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(i){this._wordWrapWidth!==i&&(this._wordWrapWidth=i,this.styleID++)},enumerable:!1,configurable:!0}),a.prototype.toFontString=function(){var i="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var o=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&yu.indexOf(o)<0&&(o='"'+o+'"'),e[r]=o}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+i+" "+e.join(",")},a}();function pa(a){return"number"==typeof a?ss(a):("string"==typeof a&&0===a.indexOf("0x")&&(a=a.replace("0x","#")),a)}function ao(a){if(Array.isArray(a)){for(var i=0;i<a.length;++i)a[i]=pa(a[i]);return a}return pa(a)}function ga(a,i,e){for(var r in e)a[r]=Array.isArray(i[r])?i[r].slice():i[r]}var wr=function(){function a(i,e,r,o,d,p,m,w,x){this.text=i,this.style=e,this.width=r,this.height=o,this.lines=d,this.lineWidths=p,this.lineHeight=m,this.maxLineWidth=w,this.fontProperties=x}return a.measureText=function(i,e,r,o){void 0===o&&(o=a._canvas),r=null==r?e.wordWrap:r;var d=e.toFontString(),p=a.measureFont(d);0===p.fontSize&&(p.fontSize=e.fontSize,p.ascent=e.fontSize);var m=o.getContext("2d");m.font=d;for(var x=(r?a.wordWrap(i,e,o):i).split(/(?:\r\n|\r|\n)/),P=new Array(x.length),A=0,I=0;I<x.length;I++){var R=m.measureText(x[I]).width+(x[I].length-1)*e.letterSpacing;P[I]=R,A=Math.max(A,R)}var L=A+e.strokeThickness;e.dropShadow&&(L+=e.dropShadowDistance);var B=e.lineHeight||p.fontSize+e.strokeThickness,X=Math.max(B,p.fontSize+e.strokeThickness)+(x.length-1)*(B+e.leading);return e.dropShadow&&(X+=e.dropShadowDistance),new a(i,e,L,X,x,P,B+e.leading,A,p)},a.wordWrap=function(i,e,r){void 0===r&&(r=a._canvas);for(var o=r.getContext("2d"),d=0,p="",m="",w=Object.create(null),x=e.letterSpacing,P=e.whiteSpace,A=a.collapseSpaces(P),I=a.collapseNewlines(P),R=!A,L=e.wordWrapWidth+x,B=a.tokenize(i),X=0;X<B.length;X++){var ue=B[X];if(a.isNewline(ue)){if(!I){m+=a.addLine(p),R=!A,p="",d=0;continue}ue=" "}if(A){var Fe=a.isBreakingSpace(ue),ye=a.isBreakingSpace(p[p.length-1]);if(Fe&&ye)continue}var Ge=a.getFromCache(ue,x,w,o);if(Ge>L)if(""!==p&&(m+=a.addLine(p),p="",d=0),a.canBreakWords(ue,e.breakWords))for(var De=a.wordWrapSplit(ue),me=0;me<De.length;me++){for(var yt=De[me],At=1;De[me+At];){var Xe=De[me+At];if(a.canBreakChars(yt[yt.length-1],Xe,ue,me,e.breakWords))break;yt+=Xe,At++}me+=yt.length-1;var xt=a.getFromCache(yt,x,w,o);xt+d>L&&(m+=a.addLine(p),R=!1,p="",d=0),p+=yt,d+=xt}else p.length>0&&(m+=a.addLine(p),p="",d=0),m+=a.addLine(ue,!(X===B.length-1)),R=!1,p="",d=0;else Ge+d>L&&(R=!1,m+=a.addLine(p),p="",d=0),(p.length>0||!a.isBreakingSpace(ue)||R)&&(p+=ue,d+=Ge)}return m+a.addLine(p,!1)},a.addLine=function(i,e){return void 0===e&&(e=!0),i=a.trimRight(i),e?i+"\n":i},a.getFromCache=function(i,e,r,o){var d=r[i];if("number"!=typeof d){var p=i.length*e;d=o.measureText(i).width+p,r[i]=d}return d},a.collapseSpaces=function(i){return"normal"===i||"pre-line"===i},a.collapseNewlines=function(i){return"normal"===i},a.trimRight=function(i){if("string"!=typeof i)return"";for(var e=i.length-1;e>=0&&a.isBreakingSpace(i[e]);e--)i=i.slice(0,-1);return i},a.isNewline=function(i){return"string"==typeof i&&a._newlines.indexOf(i.charCodeAt(0))>=0},a.isBreakingSpace=function(i){return"string"==typeof i&&a._breakingSpaces.indexOf(i.charCodeAt(0))>=0},a.tokenize=function(i){var e=[],r="";if("string"!=typeof i)return e;for(var o=0;o<i.length;o++){var d=i[o];a.isBreakingSpace(d)||a.isNewline(d)?(""!==r&&(e.push(r),r=""),e.push(d)):r+=d}return""!==r&&e.push(r),e},a.canBreakWords=function(i,e){return e},a.canBreakChars=function(i,e,r,o,d){return!0},a.wordWrapSplit=function(i){return i.split("")},a.measureFont=function(i){if(a._fonts[i])return a._fonts[i];var e={ascent:0,descent:0,fontSize:0},r=a._canvas,o=a._context;o.font=i;var d=a.METRICS_STRING+a.BASELINE_SYMBOL,p=Math.ceil(o.measureText(d).width),m=Math.ceil(o.measureText(a.BASELINE_SYMBOL).width),w=2*m;m=m*a.BASELINE_MULTIPLIER|0,r.width=p,r.height=w,o.fillStyle="#f00",o.fillRect(0,0,p,w),o.font=i,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(d,0,m);var x=o.getImageData(0,0,p,w).data,P=x.length,A=4*p,I=0,R=0,L=!1;for(I=0;I<m;++I){for(var B=0;B<A;B+=4)if(255!==x[R+B]){L=!0;break}if(L)break;R+=A}for(e.ascent=m-I,R=P-A,L=!1,I=w;I>m;--I){for(B=0;B<A;B+=4)if(255!==x[R+B]){L=!0;break}if(L)break;R-=A}return e.descent=I-m,e.fontSize=e.ascent+e.descent,a._fonts[i]=e,e},a.clearMetrics=function(i){void 0===i&&(i=""),i?delete a._fonts[i]:a._fonts={}},a}(),Yi=function(){try{var a=new OffscreenCanvas(0,0),i=a.getContext("2d");return i&&i.measureText?a:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();Yi.width=Yi.height=10,wr._canvas=Yi,wr._context=Yi.getContext("2d"),wr._fonts={},wr.METRICS_STRING="|\xc9q\xc5",wr.BASELINE_SYMBOL="M",wr.BASELINE_MULTIPLIER=1.4,wr._newlines=[10,13],wr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _u={texture:!0,children:!1,baseTexture:!0},Vr=function(a){function i(e,r,o){var d=this,p=!1;o||(o=document.createElement("canvas"),p=!0),o.width=3,o.height=3;var m=ht.from(o);return m.orig=new lt,m.trim=new lt,(d=a.call(this,m)||this)._ownCanvas=p,d.canvas=o,d.context=d.canvas.getContext("2d"),d._resolution=O.RESOLUTION,d._autoResolution=!0,d._text=null,d._style=null,d._styleListener=null,d._font="",d.text=e,d.style=r,d.localStyleID=-1,d}return function(a,i){function e(){this.constructor=a}mu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype.updateText=function(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var o=this.context,d=wr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),m=d.height,w=d.lines,x=d.lineHeight,P=d.lineWidths,A=d.maxLineWidth,I=d.fontProperties;this.canvas.width=Math.ceil((Math.max(1,d.width)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,m)+2*r.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=r.strokeThickness,o.textBaseline=r.textBaseline,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit;for(var R,L,B=r.dropShadow?2:1,X=0;X<B;++X){var ue=r.dropShadow&&0===X,Fe=ue?Math.ceil(Math.max(1,m)+2*r.padding):0,ye=Fe*this._resolution;if(ue){o.fillStyle="black",o.strokeStyle="black";var Ge=r.dropShadowColor,De=Mi("number"==typeof Ge?Ge:ft(Ge));o.shadowColor="rgba("+255*De[0]+","+255*De[1]+","+255*De[2]+","+r.dropShadowAlpha+")",o.shadowBlur=r.dropShadowBlur,o.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,o.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance+ye}else o.fillStyle=this._generateFillStyle(r,w,d),o.strokeStyle=r.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;for(var me=0;me<w.length;me++)R=r.strokeThickness/2,L=r.strokeThickness/2+me*x+I.ascent,"right"===r.align?R+=A-P[me]:"center"===r.align&&(R+=(A-P[me])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(w[me],R+r.padding,L+r.padding-Fe,!0),r.fill&&this.drawLetterSpacing(w[me],R+r.padding,L+r.padding-Fe)}this.updateTexture()}},i.prototype.drawLetterSpacing=function(e,r,o,d){void 0===d&&(d=!1);var m=this._style.letterSpacing;if(0!==m)for(var w=r,x=Array.from?Array.from(e):e.split(""),P=this.context.measureText(e).width,A=0,I=0;I<x.length;++I){var R=x[I];d?this.context.strokeText(R,w,o):this.context.fillText(R,w,o),w+=P-(A=this.context.measureText(e.substring(I+1)).width)+m,P=A}else d?this.context.strokeText(e,r,o):this.context.fillText(e,r,o)},i.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var r=function(a){var x,P,A,i=a.width,e=a.height,r=a.getContext("2d"),d=r.getImageData(0,0,i,e).data,p=d.length,m={top:null,left:null,right:null,bottom:null},w=null;for(x=0;x<p;x+=4)0!==d[x+3]&&(P=x/4%i,A=~~(x/4/i),null===m.top&&(m.top=A),(null===m.left||P<m.left)&&(m.left=P),(null===m.right||m.right<P)&&(m.right=P+1),(null===m.bottom||m.bottom<A)&&(m.bottom=A));return null!==m.top&&(w=r.getImageData(m.left,m.top,i=m.right-m.left,e=m.bottom-m.top+1)),{height:e,width:i,data:w}}(e);r.data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0))}var o=this._texture,d=this._style,p=d.trim?0:d.padding,m=o.baseTexture;o.trim.width=o._frame.width=Math.ceil(e.width/this._resolution),o.trim.height=o._frame.height=Math.ceil(e.height/this._resolution),o.trim.x=-p,o.trim.y=-p,o.orig.width=o._frame.width-2*p,o.orig.height=o._frame.height-2*p,this._onTextureUpdate(),m.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},i.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),a.prototype._render.call(this,e)},i.prototype.getLocalBounds=function(e){return this.updateText(!0),a.prototype.getLocalBounds.call(this,e)},i.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},i.prototype._generateFillStyle=function(e,r,o){var d=e.fill;if(!Array.isArray(d))return d;if(1===d.length)return d[0];var p,m=e.dropShadow?e.dropShadowDistance:0,w=e.padding||0,x=Math.ceil(this.canvas.width/this._resolution)-m-2*w,P=Math.ceil(this.canvas.height/this._resolution)-m-2*w,A=d.slice(),I=e.fillGradientStops.slice();if(!I.length)for(var R=A.length+1,L=1;L<R;++L)I.push(L/R);if(A.unshift(d[0]),I.unshift(0),A.push(d[d.length-1]),I.push(1),e.fillGradientType===Vn.LINEAR_VERTICAL){p=this.context.createLinearGradient(x/2,w,x/2,P+w);var B=0,ue=(o.fontProperties.fontSize+e.strokeThickness)/P;for(L=0;L<r.length;L++)for(var Fe=o.lineHeight*L,ye=0;ye<A.length;ye++){var me=Math.max(B,Fe/P+("number"==typeof I[ye]?I[ye]:ye/A.length)*ue);me=Math.min(me,1),p.addColorStop(me,A[ye]),B=me}}else{p=this.context.createLinearGradient(w,P/2,x+w,P/2);var yt=A.length+1,At=1;for(L=0;L<A.length;L++)p.addColorStop("number"==typeof I[L]?I[L]:At/yt,A[L]),At++}return p},i.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},_u,e),a.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(i.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var r=hi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var r=hi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof Wi?e:new Wi(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),i}(Is);O.UPLOADS_PER_FRAME=4;var bu=function(a,i){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Gh=function(){function a(i){this.maxItemsPerFrame=i,this.itemsLeft=0}return a.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},a.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},a}();function va(a,i){var e=!1;if(a&&a._textures&&a._textures.length)for(var r=0;r<a._textures.length;r++)if(a._textures[r]instanceof ht){var o=a._textures[r].baseTexture;-1===i.indexOf(o)&&(i.push(o),e=!0)}return e}function Eu(a,i){if(a.baseTexture instanceof Gt){var e=a.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function wu(a,i){if(a._texture&&a._texture instanceof ht){var e=a._texture.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function ma(a,i){return i instanceof Vr&&(i.updateText(!0),!0)}function ya(a,i){if(i instanceof Wi){var e=i.toFontString();return wr.measureFont(e),!0}return!1}function Gr(a,i){if(a instanceof Vr){-1===i.indexOf(a.style)&&i.push(a.style),-1===i.indexOf(a)&&i.push(a);var e=a._texture.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function As(a,i){return a instanceof Wi&&(-1===i.indexOf(a)&&i.push(a),!0)}function Du(a,i){return i instanceof Gt&&(i._glTextures[a.CONTEXT_UID]||a.texture.bind(i),!0)}function Nc(a,i){if(!(i instanceof $i))return!1;var e=i.geometry;i.finishPoly(),e.updateBatches();for(var r=e.batches,o=0;o<r.length;o++){var d=r[o].style.texture;d&&Du(a,d.baseTexture)}return e.batchable||a.geometry.bind(e,i._resolveDirectShader(a)),!0}function Ps(a,i){return a instanceof $i&&(i.push(a),!0)}var ei=function(a){function i(e){var r=a.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Ps),r.registerUploadHook(Du),r.registerUploadHook(Nc),r}return function(a,i){function e(){this.constructor=a}bu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i}(function(){function a(i){var e=this;this.limiter=new Gh(O.UPLOADS_PER_FRAME),this.renderer=i,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(Gr),this.registerFindHook(As),this.registerFindHook(va),this.registerFindHook(Eu),this.registerFindHook(wu),this.registerUploadHook(ma),this.registerUploadHook(ya)}return a.prototype.upload=function(i,e){"function"==typeof i&&(e=i,i=null),i&&this.add(i),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,an.system.addOnce(this.tick,this,ir.UTILITY))):e&&e()},a.prototype.tick=function(){setTimeout(this.delayedTick,0)},a.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var i=this.queue[0],e=!1;if(i&&!i._destroyed)for(var r=0,o=this.uploadHooks.length;r<o;r++)if(this.uploadHooks[r](this.uploadHookHelper,i)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)an.system.addOnce(this.tick,this,ir.UTILITY);else{this.ticking=!1;var d=this.completes.slice(0);for(this.completes.length=0,r=0,o=d.length;r<o;r++)d[r]()}},a.prototype.registerFindHook=function(i){return i&&this.addHooks.push(i),this},a.prototype.registerUploadHook=function(i){return i&&this.uploadHooks.push(i),this},a.prototype.add=function(i){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](i,this.queue);e++);if(i instanceof En)for(e=i.children.length-1;e>=0;e--)this.add(i.children[e]);return this},a.prototype.destroy=function(){this.ticking&&an.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},a}()),ba=(function(){function a(i){this.maxMilliseconds=i,this.frameStart=0}a.prototype.beginFrame=function(){this.frameStart=Date.now()},a.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function a(i,e,r){void 0===r&&(r=null),this._texture=i instanceof ht?i:null,this.baseTexture=i instanceof Gt?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var o=this.baseTexture.resource;this.resolution=this._updateResolution(r||(o?o.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return a.prototype._updateResolution=function(i){void 0===i&&(i=null);var e=this.data.meta.scale,r=Ir(i,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},a.prototype.parse=function(i){this._batchIndex=0,this._callback=i,this._frameKeys.length<=a.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},a.prototype._processFrames=function(i){for(var e=i,r=a.BATCH_SIZE;e-i<r&&e<this._frameKeys.length;){var o=this._frameKeys[e],d=this._frames[o],p=d.frame;if(p){var m,w=null,x=!1!==d.trimmed&&d.sourceSize?d.sourceSize:d.frame,P=new lt(0,0,Math.floor(x.w)/this.resolution,Math.floor(x.h)/this.resolution);m=d.rotated?new lt(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.h)/this.resolution,Math.floor(p.w)/this.resolution):new lt(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution),!1!==d.trimmed&&d.spriteSourceSize&&(w=new lt(Math.floor(d.spriteSourceSize.x)/this.resolution,Math.floor(d.spriteSourceSize.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution)),this.textures[o]=new ht(this.baseTexture,m,P,w,d.rotated?2:0,d.anchor),ht.addToCache(this.textures[o],o)}e++}},a.prototype._processAnimations=function(){var i=this.data.animations||{};for(var e in i){this.animations[e]=[];for(var r=0;r<i[e].length;r++)this.animations[e].push(this.textures[i[e][r]])}},a.prototype._parseComplete=function(){var i=this._callback;this._callback=null,this._batchIndex=0,i.call(this,this.textures)},a.prototype._nextBatch=function(){var i=this;this._processFrames(this._batchIndex*a.BATCH_SIZE),this._batchIndex++,setTimeout(function(){i._batchIndex*a.BATCH_SIZE<i._frameKeys.length?i._nextBatch():(i._processAnimations(),i._parseComplete())},0)},a.prototype.destroy=function(i){var e;for(var r in void 0===i&&(i=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,i&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},a.BATCH_SIZE=1e3,a}()),Lc=function(){function a(){}return a.use=function(i,e){var r=this,o=i.name+"_image";if(i.data&&i.type===Kn.TYPE.JSON&&i.data.frames&&!r.resources[o]){var d={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},p=a.getResourcePath(i,r.baseUrl);r.add(o,p,d,function(w){if(w.error)e(w.error);else{var x=new ba(w.texture,i.data,i.url);x.parse(function(){i.spritesheet=x,i.textures=x.textures,e()})}})}else e()},a.getResourcePath=function(i,e){return i.isDataUrl?i.data.meta.image:z.resolve(i.url.replace(e,""),i.data.meta.image)},a}(),Ea=function(a,i){return(Ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Pl(a,i){function e(){this.constructor=a}Ea(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Ms=new nn,Tu=(function(a){function i(e,r,o){void 0===r&&(r=100),void 0===o&&(o=100);var d=a.call(this,e)||this;return d.tileTransform=new gn,d._width=r,d._height=o,d.uvMatrix=d.texture.uvMatrix||new eu(e),d.pluginName="tilingSprite",d.uvRespectAnchor=!1,d}Pl(i,a),Object.defineProperty(i.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),i.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},i.prototype._render=function(e){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},i.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},i.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):a.prototype.getLocalBounds.call(this,e)},i.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ms);var r=this._width,o=this._height,d=-r*this.anchor._x;if(Ms.x>=d&&Ms.x<d+r){var p=-o*this.anchor._y;if(Ms.y>=p&&Ms.y<p+o)return!0}return!1},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},i.from=function(e,r){return"number"==typeof r&&(kn("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new i(ht.from(e,r),r.width,r.height)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(Is),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),wa=new Kt,Uc=function(a){function i(e){var r=a.call(this,e)||this,o={globals:r.renderer.globalUniforms};return r.shader=gi.from(Tu,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",o),r.simpleShader=gi.from(Tu,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",o),r.quad=new yr,r.state=vs.for2d(),r}return Pl(i,a),i.prototype.render=function(e){var r=this.renderer,o=this.quad,d=o.vertices;d[0]=d[6]=e._width*-e.anchor.x,d[1]=d[3]=e._height*-e.anchor.y,d[2]=d[4]=e._width*(1-e.anchor.x),d[5]=d[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((d=o.uvs)[0]=d[6]=-e.anchor.x,d[1]=d[3]=-e.anchor.y,d[2]=d[4]=1-e.anchor.x,d[5]=d[7]=1-e.anchor.y),o.invalidate();var p=e._texture,m=p.baseTexture,w=e.tileTransform.localTransform,x=e.uvMatrix,P=m.isPowerOfTwo&&p.frame.width===m.width&&p.frame.height===m.height;P&&(m._glTextures[r.CONTEXT_UID]?P=m.wrapMode!==ut.CLAMP:m.wrapMode===ut.CLAMP&&(m.wrapMode=ut.REPEAT));var A=P?this.simpleShader:this.shader,I=p.width,R=p.height,L=e._width,B=e._height;wa.set(w.a*I/L,w.b*I/B,w.c*R/L,w.d*R/B,w.tx/L,w.ty/B),wa.invert(),P?wa.prepend(x.mapCoord):(A.uniforms.uMapCoord=x.mapCoord.toArray(!0),A.uniforms.uClampFrame=x.uClampFrame,A.uniforms.uClampOffset=x.uClampOffset),A.uniforms.uTransform=wa.toArray(!0),A.uniforms.uColor=Cn(e.tint,e.worldAlpha,A.uniforms.uColor,m.alphaMode),A.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),A.uniforms.uSampler=p,r.shader.bind(A),r.geometry.bind(o),this.state.blendMode=Co(e.blendMode,m.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},i}(or),lo=function(a,i){return(lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function qi(a,i){function e(){this.constructor=a}lo(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Os=function(){function a(i,e){this.uvBuffer=i,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return a.prototype.update=function(i){if(i||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},a}(),co=new nn,cr=new Tn,ti=function(a){function i(e,r,o,d){void 0===d&&(d=Ae.TRIANGLES);var p=a.call(this)||this;return p.geometry=e,e.refCount++,p.shader=r,p.state=o||vs.for2d(),p.drawMode=d,p.start=0,p.size=0,p.uvs=null,p.indices=null,p.vertexData=new Float32Array(1),p.vertexDirty=0,p._transformID=-1,p._roundPixels=O.ROUND_PIXELS,p.batchUvs=null,p}return qi(i,a),Object.defineProperty(i.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this.shader.batchable&&this.drawMode===Ae.TRIANGLES&&this.geometry.buffers[0].data.length<2*i.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},i.prototype._renderDefault=function(e){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.program.uniformData.translationMatrix&&(r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},i.prototype._renderToBatch=function(e){var r=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},i.prototype.calculateVertices=function(){var e=this.geometry,r=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var o=this.transform.worldTransform,d=o.a,p=o.b,m=o.c,w=o.d,x=o.tx,P=o.ty,A=this.vertexData,I=0;I<A.length/2;I++){var R=r[2*I],L=r[2*I+1];A[2*I]=d*R+m*L+x,A[2*I+1]=p*R+w*L+P}if(this._roundPixels){var B=O.RESOLUTION;for(I=0;I<A.length;++I)A[I]=Math.round((A[I]*B|0)/B)}this.vertexDirty=e.vertexDirtyId}},i.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Os(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},i.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},i.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,co);for(var r=this.geometry.getBuffer("aVertexPosition").data,o=cr.points,d=this.geometry.getIndex().data,p=d.length,m=4===this.drawMode?3:1,w=0;w+2<p;w+=m){var x=2*d[w],P=2*d[w+1],A=2*d[w+2];if(o[0]=r[x],o[1]=r[x+1],o[2]=r[P],o[3]=r[P+1],o[4]=r[A],o[5]=r[A+1],cr.contains(co.x,co.y))return!0}return!1},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},i.BATCHABLE_SIZE=100,i}(En),ho=function(a){function i(e,r){var o=this,d={uSampler:e,alpha:1,uTextureMatrix:Kt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(d,r.uniforms),(o=a.call(this,r.program||Un.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),d)||this)._colorDirty=!1,o.uvMatrix=new eu(e),o.batchable=void 0===r.program,o.pluginName=r.pluginName,o.tint=r.tint,o.alpha=r.alpha,o}return qi(i,a),Object.defineProperty(i.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),i.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,Cn(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},i}(gi),xu=function(a){function i(e,r,o){var d=a.call(this)||this,p=new vn(e),m=new vn(r,!0),w=new vn(o,!0,!0);return d.addAttribute("aVertexPosition",p,2,!1,Ie.FLOAT).addAttribute("aTextureCoord",m,2,!1,Ie.FLOAT).addIndex(w),d._updateId=-1,d}return qi(i,a),Object.defineProperty(i.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),i}(hs),Cu=function(a,i){return(Cu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Rs=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},fo=function(){function a(){}return a.test=function(i){return"string"==typeof i&&0===i.indexOf("info face=")},a.parse=function(i){var e=i.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var o in e){var d=e[o].match(/^[a-z]+/gm)[0],p=e[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(var w in p){var x=p[w].split("="),P=x[0],A=x[1].replace(/"/gm,""),I=parseFloat(A),R=isNaN(I)?A:I;m[P]=R}r[d].push(m)}var L=new Rs;return r.info.forEach(function(B){return L.info.push({face:B.face,size:parseInt(B.size,10)})}),r.common.forEach(function(B){return L.common.push({lineHeight:parseInt(B.lineHeight,10)})}),r.page.forEach(function(B){return L.page.push({id:parseInt(B.id,10),file:B.file})}),r.char.forEach(function(B){return L.char.push({id:parseInt(B.id,10),page:parseInt(B.page,10),x:parseInt(B.x,10),y:parseInt(B.y,10),width:parseInt(B.width,10),height:parseInt(B.height,10),xoffset:parseInt(B.xoffset,10),yoffset:parseInt(B.yoffset,10),xadvance:parseInt(B.xadvance,10)})}),r.kerning.forEach(function(B){return L.kerning.push({first:parseInt(B.first,10),second:parseInt(B.second,10),amount:parseInt(B.amount,10)})}),L},a}(),po=function(){function a(){}return a.test=function(i){return i instanceof XMLDocument&&i.getElementsByTagName("page").length&&null!==i.getElementsByTagName("info")[0].getAttribute("face")},a.parse=function(i){for(var e=new Rs,r=i.getElementsByTagName("info"),o=i.getElementsByTagName("common"),d=i.getElementsByTagName("page"),p=i.getElementsByTagName("char"),m=i.getElementsByTagName("kerning"),w=0;w<r.length;w++)e.info.push({face:r[w].getAttribute("face"),size:parseInt(r[w].getAttribute("size"),10)});for(w=0;w<o.length;w++)e.common.push({lineHeight:parseInt(o[w].getAttribute("lineHeight"),10)});for(w=0;w<d.length;w++)e.page.push({id:parseInt(d[w].getAttribute("id"),10)||0,file:d[w].getAttribute("file")});for(w=0;w<p.length;w++){var x=p[w];e.char.push({id:parseInt(x.getAttribute("id"),10),page:parseInt(x.getAttribute("page"),10)||0,x:parseInt(x.getAttribute("x"),10),y:parseInt(x.getAttribute("y"),10),width:parseInt(x.getAttribute("width"),10),height:parseInt(x.getAttribute("height"),10),xoffset:parseInt(x.getAttribute("xoffset"),10),yoffset:parseInt(x.getAttribute("yoffset"),10),xadvance:parseInt(x.getAttribute("xadvance"),10)})}for(w=0;w<m.length;w++)e.kerning.push({first:parseInt(m[w].getAttribute("first"),10),second:parseInt(m[w].getAttribute("second"),10),amount:parseInt(m[w].getAttribute("amount"),10)});return e},a}(),jc=function(){function a(){}return a.test=function(i){if("string"==typeof i&&i.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(i,"text/xml");return po.test(e)}return!1},a.parse=function(i){var e=(new window.DOMParser).parseFromString(i,"text/xml");return po.parse(e)},a}(),Iu=[fo,po,jc];function Au(a){for(var i=0;i<Iu.length;i++)if(Iu[i].test(a))return Iu[i];return null}function Ol(a,i,e,r,o,d){var p=e.fill;if(!Array.isArray(p))return p;if(1===p.length)return p[0];var m,w=e.dropShadow?e.dropShadowDistance:0,x=e.padding||0,P=Math.ceil(a.width/r)-w-2*x,A=Math.ceil(a.height/r)-w-2*x,I=p.slice(),R=e.fillGradientStops.slice();if(!R.length)for(var L=I.length+1,B=1;B<L;++B)R.push(B/L);if(I.unshift(p[0]),R.unshift(0),I.push(p[p.length-1]),R.push(1),e.fillGradientType===Vn.LINEAR_VERTICAL){m=i.createLinearGradient(P/2,x,P/2,A+x);var X=0,Fe=(d.fontProperties.fontSize+e.strokeThickness)/A;for(B=0;B<o.length;B++)for(var ye=d.lineHeight*B,Ge=0;Ge<I.length;Ge++){var yt=Math.max(X,ye/A+("number"==typeof R[Ge]?R[Ge]:Ge/I.length)*Fe);yt=Math.min(yt,1),m.addColorStop(yt,I[Ge]),X=yt}}else{m=i.createLinearGradient(x,A/2,P+x,A/2);var At=I.length+1,Xe=1;for(B=0;B<I.length;B++)m.addColorStop("number"==typeof R[B]?R[B]:Xe/At,I[B]),Xe++}return m}function Hc(a,i,e,r,o,d,p){var m=e.text,w=e.fontProperties;i.translate(r,o),i.scale(d,d);var x=p.strokeThickness/2,P=-p.strokeThickness/2;i.font=p.toFontString(),i.lineWidth=p.strokeThickness,i.textBaseline=p.textBaseline,i.lineJoin=p.lineJoin,i.miterLimit=p.miterLimit,i.fillStyle=Ol(a,i,p,d,[m],e),i.strokeStyle=p.stroke,i.font=p.toFontString(),i.lineWidth=p.strokeThickness,i.textBaseline=p.textBaseline,i.lineJoin=p.lineJoin,i.miterLimit=p.miterLimit,i.fillStyle=Ol(a,i,p,d,[m],e),i.strokeStyle=p.stroke;var A=p.dropShadowColor,I=Mi("number"==typeof A?A:ft(A));p.dropShadow?(i.shadowColor="rgba("+255*I[0]+","+255*I[1]+","+255*I[2]+","+p.dropShadowAlpha+")",i.shadowBlur=p.dropShadowBlur,i.shadowOffsetX=Math.cos(p.dropShadowAngle)*p.dropShadowDistance,i.shadowOffsetY=Math.sin(p.dropShadowAngle)*p.dropShadowDistance):(i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),p.stroke&&p.strokeThickness&&i.strokeText(m,x,P+e.lineHeight-w.descent),p.fill&&i.fillText(m,x,P+e.lineHeight-w.descent),i.setTransform(1,0,0,1,0,0),i.fillStyle="rgba(0, 0, 0, 0)"}var Gn=function(){function a(i,e,r){var o=i.info[0],d=i.common[0],m=Ir(i.page[0].file),w={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=d.lineHeight/m,this.chars={},this.pageTextures=w;for(var x=0;x<i.page.length;x++){var P=i.page[x];w[A=P.id]=e instanceof Array?e[x]:e[P.file]}for(x=0;x<i.char.length;x++){var R=i.char[x],A=R.id,L=R.page,B=i.char[x],X=B.x,ue=B.y,Fe=B.width,ye=B.height,Ge=B.xoffset,De=B.yoffset,me=B.xadvance;Ge/=m,De/=m,me/=m;var yt=new lt((X/=m)+w[L].frame.x/m,(ue/=m)+w[L].frame.y/m,Fe/=m,ye/=m);this.chars[A]={xOffset:Ge,yOffset:De,xAdvance:me,kerning:{},texture:new ht(w[L].baseTexture,yt),page:L}}for(x=0;x<i.kerning.length;x++){var At=i.kerning[x],Xe=At.first,We=At.second,xt=At.amount;Xe/=m,xt/=m,this.chars[We/=m]&&(this.chars[We].kerning[Xe]=xt)}}return a.prototype.destroy=function(){for(var i in this.chars)this.chars[i].texture.destroy(),this.chars[i].texture=null;for(var i in this.pageTextures)this._ownsTextures&&this.pageTextures[i].destroy(!0),this.pageTextures[i]=null;this.chars=null,this.pageTextures=null},a.install=function(i,e,r){var o;if(i instanceof Rs)o=i;else{var d=Au(i);if(!d)throw new Error("Unrecognized data format for font.");o=d.parse(i)}e instanceof ht&&(e=[e]);var p=new a(o,e,r);return a.available[p.font]=p,p},a.uninstall=function(i){var e=a.available[i];if(!e)throw new Error("No font found named '"+i+"'");e.destroy(),delete a.available[i]},a.from=function(i,e,r){if(!i)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},a.defaultOptions,r),p=o.padding,m=o.resolution,w=o.textureWidth,x=o.textureHeight,P=function(a){"string"==typeof a&&(a=[a]);for(var i=[],e=0,r=a.length;e<r;e++){var o=a[e];if(Array.isArray(o)){if(2!==o.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+o.length+".");var d=o[0].charCodeAt(0),p=o[1].charCodeAt(0);if(p<d)throw new Error("[BitmapFont]: Invalid character range.");for(var m=d,w=p;m<=w;m++)i.push(String.fromCharCode(m))}else i.push.apply(i,o.split(""))}if(0===i.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return i}(o.chars),A=e instanceof Wi?e:new Wi(e),I=w,R=new Rs;R.info[0]={face:A.fontFamily,size:A.fontSize},R.common[0]={lineHeight:A.fontSize};for(var X,ue,Fe,L=0,B=0,ye=0,Ge=[],De=0;De<P.length;De++){X||((X=document.createElement("canvas")).width=w,X.height=x,ue=X.getContext("2d"),Fe=new Gt(X,{resolution:m}),Ge.push(new ht(Fe)),R.page.push({id:Ge.length-1,file:""}));var me=wr.measureText(P[De],A,!1,X),yt=me.width,At=Math.ceil(me.height),Xe=Math.ceil(("italic"===A.fontStyle?2:1)*yt);if(B>=x-At*m){if(0===B)throw new Error("[BitmapFont] textureHeight "+x+"px is too small for "+A.fontSize+"px fonts");--De,X=null,ue=null,Fe=null,B=0,L=0,ye=0}else if(ye=Math.max(At+me.fontProperties.descent,ye),Xe*m+L>=I)--De,B+=ye*m,B=Math.ceil(B),L=0,ye=0;else{Hc(X,ue,me,L,B,m,A);var We=me.text.charCodeAt(0);R.char.push({id:We,page:Ge.length-1,x:L/m,y:B/m,width:Xe,height:At,xoffset:0,yoffset:0,xadvance:Math.ceil(yt-(A.dropShadow?A.dropShadowDistance:0)-(A.stroke?A.strokeThickness:0))}),L+=(Xe+2*p)*m,L=Math.ceil(L)}}var xt=new a(R,Ge,!0);return void 0!==a.available[i]&&a.uninstall(i),a.available[i]=xt,xt},a.ALPHA=[["a","z"],["A","Z"]," "],a.NUMERIC=[["0","9"]],a.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],a.ASCII=[[" ","~"]],a.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:a.ALPHANUMERIC},a.available={},a}(),Mu=[],Dr=[],Ou=(function(a){function i(e,r){void 0===r&&(r={});var o=a.call(this)||this;o._tint=16777215,r.font&&(kn("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),o._upgradeStyle(r));var d=Object.assign({},i.styleDefaults,r),p=d.align,m=d.tint,w=d.maxWidth,x=d.letterSpacing,P=d.fontName,A=d.fontSize;if(!Gn.available[P])throw new Error('Missing BitmapFont "'+P+'"');return o._activePagesMeshData=[],o._textWidth=0,o._textHeight=0,o._align=p,o._tint=m,o._fontName=P,o._fontSize=A||Gn.available[P].size,o._text=e,o._maxWidth=w,o._maxLineHeight=0,o._letterSpacing=x,o._anchor=new Pr(function(){o.dirty=!0},o,0,0),o._roundPixels=O.ROUND_PIXELS,o.dirty=!0,o._textureCache={},o}(function(a,i){function e(){this.constructor=a}Cu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.updateText=function(){for(var e,r=Gn.available[this._fontName],o=this._fontSize/r.size,d=new nn,p=[],m=[],w=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",x=w.length,P=this._maxWidth*r.size/this._fontSize,A=null,I=0,R=0,L=0,B=-1,X=0,ue=0,Fe=0,ye=0;ye<x;ye++){var Ge=w.charCodeAt(ye),De=w.charAt(ye);if(/(?:\s)/.test(De)&&(B=ye,X=I),"\r"!==De&&"\n"!==De){var me=r.chars[Ge];if(me){A&&me.kerning[A]&&(d.x+=me.kerning[A]);var yt=Dr.pop()||{texture:ht.EMPTY,line:0,charCode:0,position:new nn};yt.texture=me.texture,yt.line=L,yt.charCode=Ge,yt.position.x=d.x+me.xOffset+this._letterSpacing/2,yt.position.y=d.y+me.yOffset,p.push(yt),d.x+=me.xAdvance+this._letterSpacing,I=d.x,Fe=Math.max(Fe,me.yOffset+me.texture.height),A=Ge,-1!==B&&P>0&&d.x>P&&(Bt(p,1+B-++ue,1+ye-B),ye=B,B=-1,m.push(X),R=Math.max(R,X),L++,d.x=0,d.y+=r.lineHeight,A=null)}}else m.push(I),R=Math.max(R,I),++L,++ue,d.x=0,d.y+=r.lineHeight,A=null}var At=w.charAt(w.length-1);"\r"!==At&&"\n"!==At&&(/(?:\s)/.test(At)&&(I=X),m.push(I),R=Math.max(R,I));var Xe=[];for(ye=0;ye<=L;ye++){var We=0;"right"===this._align?We=R-m[ye]:"center"===this._align&&(We=(R-m[ye])/2),Xe.push(We)}var xt=p.length,Ct={},rn=[],Di=this._activePagesMeshData;for(ye=0;ye<Di.length;ye++)Mu.push(Di[ye]);for(ye=0;ye<xt;ye++){var it=(Je=p[ye].texture).baseTexture.uid;if(!Ct[it]){if(!(Ye=Mu.pop())){var ri=new xu,Ti=new ho(ht.EMPTY);Ye={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new ti(ri,Ti),vertices:null,uvs:null,indices:null}}Ye.index=0,Ye.indexCount=0,Ye.vertexCount=0,Ye.uvsCount=0,Ye.total=0;var ii=this._textureCache;ii[it]=ii[it]||new ht(Je.baseTexture),Ye.mesh.texture=ii[it],Ye.mesh.tint=this._tint,rn.push(Ye),Ct[it]=Ye}Ct[it].total++}for(ye=0;ye<Di.length;ye++)-1===rn.indexOf(Di[ye])&&this.removeChild(Di[ye].mesh);for(ye=0;ye<rn.length;ye++)rn[ye].mesh.parent!==this&&this.addChild(rn[ye].mesh);for(var ye in this._activePagesMeshData=rn,Ct){var fr=(Ye=Ct[ye]).total;if(!((null===(e=Ye.indices)||void 0===e?void 0:e.length)>6*fr)||Ye.vertices.length<2*ti.BATCHABLE_SIZE)Ye.vertices=new Float32Array(8*fr),Ye.uvs=new Float32Array(8*fr),Ye.indices=new Uint16Array(6*fr);else for(var Do=Ye.vertices,Ki=4*Ye.total*2;Ki<Do.length;Ki++)Do[Ki]=0;Ye.mesh.size=6*fr}for(ye=0;ye<xt;ye++){var Ci=(De=p[ye]).position.x+Xe[De.line];this._roundPixels&&(Ci=Math.round(Ci));var Je,Tr=Ci*o,si=De.position.y*o,Dt=Ct[(Je=De.texture).baseTexture.uid],zn=Je.frame,Nn=Je._uvs,Et=Dt.index++;Dt.indices[6*Et+0]=0+4*Et,Dt.indices[6*Et+1]=1+4*Et,Dt.indices[6*Et+2]=2+4*Et,Dt.indices[6*Et+3]=0+4*Et,Dt.indices[6*Et+4]=2+4*Et,Dt.indices[6*Et+5]=3+4*Et,Dt.vertices[8*Et+0]=Tr,Dt.vertices[8*Et+1]=si,Dt.vertices[8*Et+2]=Tr+zn.width*o,Dt.vertices[8*Et+3]=si,Dt.vertices[8*Et+4]=Tr+zn.width*o,Dt.vertices[8*Et+5]=si+zn.height*o,Dt.vertices[8*Et+6]=Tr,Dt.vertices[8*Et+7]=si+zn.height*o,Dt.uvs[8*Et+0]=Nn.x0,Dt.uvs[8*Et+1]=Nn.y0,Dt.uvs[8*Et+2]=Nn.x1,Dt.uvs[8*Et+3]=Nn.y1,Dt.uvs[8*Et+4]=Nn.x2,Dt.uvs[8*Et+5]=Nn.y2,Dt.uvs[8*Et+6]=Nn.x3,Dt.uvs[8*Et+7]=Nn.y3}for(var ye in this._textWidth=R*o,this._textHeight=(d.y+r.lineHeight)*o,Ct){var Ye=Ct[ye];if(0!==this.anchor.x||0!==this.anchor.y)for(var pr=0,Qi=this._textWidth*this.anchor.x,Ji=this._textHeight*this.anchor.y,Xu=0;Xu<Ye.total;Xu++)Ye.vertices[pr++]-=Qi,Ye.vertices[pr++]-=Ji,Ye.vertices[pr++]-=Qi,Ye.vertices[pr++]-=Ji,Ye.vertices[pr++]-=Qi,Ye.vertices[pr++]-=Ji,Ye.vertices[pr++]-=Qi,Ye.vertices[pr++]-=Ji;this._maxLineHeight=Fe*o;var er=Ye.mesh.geometry.getBuffer("aVertexPosition"),$u=Ye.mesh.geometry.getBuffer("aTextureCoord"),Gl=Ye.mesh.geometry.getIndex();er.data=Ye.vertices,$u.data=Ye.uvs,Gl.data=Ye.indices,er.update(),$u.update(),Gl.update()}for(ye=0;ye<p.length;ye++)Dr.push(p[ye])},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),a.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Gn.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),i.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var r=e.font.split(" ");e.fontName=1===r.length?r[0]:r.slice(1).join(" "),r.length>=2&&(e.fontSize=parseInt(r[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},i.prototype.destroy=function(e){var r=this._textureCache;for(var o in r)r[o].destroy(),delete r[o];this._textureCache=null,a.prototype.destroy.call(this,e)},i.registerFont=function(e,r){return kn("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Gn.install(e,r)},Object.defineProperty(i,"fonts",{get:function(){return kn("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Gn.available},enumerable:!1,configurable:!0}),i.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(En),function(){function a(){}return a.add=function(){Kn.setExtensionXhrType("fnt",Kn.XHR_RESPONSE_TYPE.TEXT)},a.use=function(i,e){var r=Au(i.data);if(r)for(var o=a.getBaseUrl(this,i),d=r.parse(i.data),p={},m=function(B){p[B.metadata.pageFile]=B.texture,Object.keys(p).length===d.page.length&&(i.bitmapFont=Gn.install(d,p,!0),e())},w=0;w<d.page.length;++w){var x=d.page[w].file,P=o+x,A=!1;for(var I in this.resources){var R=this.resources[I];if(R.url===P){R.metadata.pageFile=x,R.texture?m(R):R.onAfterMiddleware.add(m),A=!0;break}}if(!A){var L={crossOrigin:i.crossOrigin,loadType:Kn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:x},i.metadata.imageMetadata),parentResource:i};this.add(P,L,m)}}else e()},a.getBaseUrl=function(i,e){var r=e.isDataUrl?"":a.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),i.baseUrl&&r&&"/"===i.baseUrl.charAt(i.baseUrl.length-1)&&(r+="/")),(r=r.replace(i.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},a.dirname=function(i){var e=i.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===i?".":""===e?"/":e},a}()),Ru=function(a,i){return(Ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e){void 0===e&&(e=1);var r=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(a,i){function e(){this.constructor=a}Ru(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0})}(Nt);var mo=function(a,i){return(mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Zi(a,i){function e(){this.constructor=a}mo(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Rl={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Fl=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),wi=(()=>{return(a=wi||(wi={}))[a.NO=0]="NO",a[a.YES=1]="YES",a[a.AUTO=2]="AUTO",a[a.BLEND=0]="BLEND",a[a.CLEAR=1]="CLEAR",a[a.BLIT=2]="BLIT",wi;var a})(),Ia=function(a){function i(e,r,o,d,p){void 0===r&&(r=8),void 0===o&&(o=4),void 0===d&&(d=O.FILTER_RESOLUTION),void 0===p&&(p=5);var m=this,w=function(a,i){var d,e=Math.ceil(a/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";d=i?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var p=0;p<a;p++){var m=d.replace("%index%",p.toString());o+=m=m.replace("%sampleIndex%",p-(e-1)+".0"),o+="\n"}return(r=r.replace("%blur%",o)).replace("%size%",a.toString())}(p,e),x=function(a){for(var p,i=Rl[a],e=i.length,r=Fl,o="",m=0;m<a;m++){var w="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",m.toString());p=m,m>=e&&(p=a-m-1),o+=w=w.replace("%value%",i[p].toString()),o+="\n"}return(r=r.replace("%blur%",o)).replace("%size%",a.toString())}(p);return(m=a.call(this,w,x)||this).horizontal=e,m.resolution=d,m._quality=0,m.quality=o,m.blur=r,m}return Zi(i,a),i.prototype.apply=function(e,r,o,d){if(this.uniforms.strength=o?this.horizontal?1/o.width*(o.width/r.width):1/o.height*(o.height/r.height):this.horizontal?1/e.renderer.width*(e.renderer.width/r.width):1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,o,d);else{var p=e.getFilterTexture(),m=e.renderer,w=r,x=p;this.state.blend=!1,e.applyFilter(this,w,x,wi.CLEAR);for(var P=1;P<this.passes-1;P++){e.bindAndClear(w,wi.BLIT),this.uniforms.uSampler=x;var A=x;x=w,w=A,m.shader.bind(this),m.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,x,o,d),e.returnFilterTexture(p)}},Object.defineProperty(i.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),i}(Nt),ku=(function(a){function i(e,r,o,d){void 0===e&&(e=8),void 0===r&&(r=4),void 0===o&&(o=O.FILTER_RESOLUTION),void 0===d&&(d=5);var p=a.call(this)||this;return p.blurXFilter=new Ia(!0,e,r,o,d),p.blurYFilter=new Ia(!1,e,r,o,d),p.resolution=o,p.quality=r,p.blur=e,p.repeatEdgePixels=!1,p}Zi(i,a),i.prototype.apply=function(e,r,o,d){var p=Math.abs(this.blurXFilter.strength),m=Math.abs(this.blurYFilter.strength);if(p&&m){var w=e.getFilterTexture();this.blurXFilter.apply(e,r,w,wi.CLEAR),this.blurYFilter.apply(e,w,o,d),e.returnFilterTexture(w)}else m?this.blurYFilter.apply(e,r,o,d):this.blurXFilter.apply(e,r,o,d)},i.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(i.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0})}(Nt),function(a,i){return(ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)}),Uu=function(a){function i(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=a.call(this,vi,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(a,i){function e(){this.constructor=a}ku(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype._loadMatrix=function(e,r){void 0===r&&(r=!1);var o=e;r&&(this._multiply(o,this.uniforms.m,e),o=this._colorMatrix(o)),this.uniforms.m=o},i.prototype._multiply=function(e,r,o){return e[0]=r[0]*o[0]+r[1]*o[5]+r[2]*o[10]+r[3]*o[15],e[1]=r[0]*o[1]+r[1]*o[6]+r[2]*o[11]+r[3]*o[16],e[2]=r[0]*o[2]+r[1]*o[7]+r[2]*o[12]+r[3]*o[17],e[3]=r[0]*o[3]+r[1]*o[8]+r[2]*o[13]+r[3]*o[18],e[4]=r[0]*o[4]+r[1]*o[9]+r[2]*o[14]+r[3]*o[19]+r[4],e[5]=r[5]*o[0]+r[6]*o[5]+r[7]*o[10]+r[8]*o[15],e[6]=r[5]*o[1]+r[6]*o[6]+r[7]*o[11]+r[8]*o[16],e[7]=r[5]*o[2]+r[6]*o[7]+r[7]*o[12]+r[8]*o[17],e[8]=r[5]*o[3]+r[6]*o[8]+r[7]*o[13]+r[8]*o[18],e[9]=r[5]*o[4]+r[6]*o[9]+r[7]*o[14]+r[8]*o[19]+r[9],e[10]=r[10]*o[0]+r[11]*o[5]+r[12]*o[10]+r[13]*o[15],e[11]=r[10]*o[1]+r[11]*o[6]+r[12]*o[11]+r[13]*o[16],e[12]=r[10]*o[2]+r[11]*o[7]+r[12]*o[12]+r[13]*o[17],e[13]=r[10]*o[3]+r[11]*o[8]+r[12]*o[13]+r[13]*o[18],e[14]=r[10]*o[4]+r[11]*o[9]+r[12]*o[14]+r[13]*o[19]+r[14],e[15]=r[15]*o[0]+r[16]*o[5]+r[17]*o[10]+r[18]*o[15],e[16]=r[15]*o[1]+r[16]*o[6]+r[17]*o[11]+r[18]*o[16],e[17]=r[15]*o[2]+r[16]*o[7]+r[17]*o[12]+r[18]*o[17],e[18]=r[15]*o[3]+r[16]*o[8]+r[17]*o[13]+r[18]*o[18],e[19]=r[15]*o[4]+r[16]*o[9]+r[17]*o[14]+r[18]*o[19]+r[19],e},i.prototype._colorMatrix=function(e){var r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},i.prototype.brightness=function(e,r){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},i.prototype.greyscale=function(e,r){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],r)},i.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},i.prototype.hue=function(e,r){e=(e||0)/180*Math.PI;var o=Math.cos(e),d=Math.sin(e),m=1/3,w=(0,Math.sqrt)(m);this._loadMatrix([o+(1-o)*m,m*(1-o)-w*d,m*(1-o)+w*d,0,0,m*(1-o)+w*d,o+m*(1-o),m*(1-o)-w*d,0,0,m*(1-o)-w*d,m*(1-o)+w*d,o+m*(1-o),0,0,0,0,0,1,0],r)},i.prototype.contrast=function(e,r){var o=(e||0)+1,d=-.5*(o-1);this._loadMatrix([o,0,0,0,d,0,o,0,0,d,0,0,o,0,d,0,0,0,1,0],r)},i.prototype.saturate=function(e,r){void 0===e&&(e=0);var o=2*e/3+1,d=-.5*(o-1);this._loadMatrix([o,d,d,0,0,d,o,d,0,0,d,d,o,0,0,0,0,0,1,0],r)},i.prototype.desaturate=function(){this.saturate(-1)},i.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},i.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},i.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},i.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},i.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},i.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},i.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},i.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},i.prototype.colorTone=function(e,r,o,d,p){var m=((o=o||16770432)>>16&255)/255,w=(o>>8&255)/255,x=(255&o)/255,P=((d=d||3375104)>>16&255)/255,A=(d>>8&255)/255,I=(255&d)/255;this._loadMatrix([.3,.59,.11,0,0,m,w,x,e=e||.2,0,P,A,I,r=r||.15,0,m-P,w-A,x-I,0,0],p)},i.prototype.night=function(e,r){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],r)},i.prototype.predator=function(e,r){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],r)},i.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},i.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(i.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),i}(Nt);Uu.prototype.grayscale=Uu.prototype.greyscale;var Aa=function(a,i){return(Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e,r){var o=this,d=new Kt;return e.renderable=!1,(o=a.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:d,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,o.maskMatrix=d,null==r&&(r=20),o.scale=new nn(r,r),o}(function(a,i){function e(){this.constructor=a}Aa(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.apply=function(e,r,o,d){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var p=this.maskSprite.worldTransform,m=Math.sqrt(p.a*p.a+p.b*p.b),w=Math.sqrt(p.c*p.c+p.d*p.d);0!==m&&0!==w&&(this.uniforms.rotation[0]=p.a/m,this.uniforms.rotation[1]=p.b/m,this.uniforms.rotation[2]=p.c/w,this.uniforms.rotation[3]=p.d/w),e.applyFilter(this,r,o,d)},Object.defineProperty(i.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0})}(Nt);var a,Hu=function(a,i){return(Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};(function(a,i){function e(){this.constructor=a}Hu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(function(){return a.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this},a=Nt);var Oa=function(a,i){return(Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var o=a.call(this,vi,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return o.noise=e,o.seed=r,o}(function(a,i){function e(){this.constructor=a}Oa(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),Object.defineProperty(i.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0})}(Nt);var kl=new Kt;Yt.prototype._cacheAsBitmap=!1,Yt.prototype._cacheData=null;var Bl=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Yt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){var i;this._cacheAsBitmap!==a&&(this._cacheAsBitmap=a,a?(this._cacheData||(this._cacheData=new Bl),(i=this._cacheData).originalRender=this.render,i.originalRenderCanvas=this.renderCanvas,i.originalUpdateTransform=this.updateTransform,i.originalCalculateBounds=this.calculateBounds,i.originalGetLocalBounds=this.getLocalBounds,i.originalDestroy=this.destroy,i.originalContainsPoint=this.containsPoint,i.originalMask=this._mask,i.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((i=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=i.originalRender,this.renderCanvas=i.originalRenderCanvas,this.calculateBounds=i.originalCalculateBounds,this.getLocalBounds=i.originalGetLocalBounds,this.destroy=i.originalDestroy,this.updateTransform=i.originalUpdateTransform,this.containsPoint=i.originalContainsPoint,this._mask=i.originalMask,this.filterArea=i.originalFilterArea))}}}),Yt.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))},Yt.prototype._initCachedDisplayObject=function(i){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,i.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&r.pad(this.filters[0].padding),r.ceil(O.RESOLUTION);var d=i.renderTexture.current,p=i.renderTexture.sourceFrame.clone(),m=i.renderTexture.destinationFrame.clone(),w=i.projection.transform,x=Rr.create({width:r.width,height:r.height}),P="cacheAsBitmap_"+nr();this._cacheData.textureCacheId=P,Gt.addToCache(x.baseTexture,P),ht.addToCache(x,P);var A=this.transform.localTransform.copyTo(kl).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,i.render(this,x,!0,A,!1),i.projection.transform=w,i.renderTexture.bind(d,p,m),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var I=new Is(x);I.transform.worldTransform=this.transform.worldTransform,I.anchor.x=-r.x/r.width,I.anchor.y=-r.y/r.height,I.alpha=e,I._bounds=this._bounds,this._cacheData.sprite=I,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=I.containsPoint.bind(I)}},Yt.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))},Yt.prototype._initCachedDisplayObjectCanvas=function(i){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var o=i.context,d=i._projTransform;e.ceil(O.RESOLUTION);var p=Rr.create({width:e.width,height:e.height}),m="cacheAsBitmap_"+nr();this._cacheData.textureCacheId=m,Gt.addToCache(p.baseTexture,m),ht.addToCache(p,m);var w=kl;this.transform.localTransform.copyTo(w),w.invert(),w.tx-=e.x,w.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,p,!0,w,!1),i.context=o,i._projTransform=d,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var x=new Is(p);x.transform.worldTransform=this.transform.worldTransform,x.anchor.x=-e.x/e.width,x.anchor.y=-e.y/e.height,x.alpha=r,x._bounds=this._bounds,this._cacheData.sprite=x,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=x.containsPoint.bind(x)}},Yt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Yt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Yt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Gt.removeFromCache(this._cacheData.textureCacheId),ht.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Yt.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)},Yt.prototype.name=null,En.prototype.getChildByName=function(i,e){for(var r=0,o=this.children.length;r<o;r++)if(this.children[r].name===i)return this.children[r];if(e)for(r=0,o=this.children.length;r<o;r++)if(this.children[r].getChildByName){var p=this.children[r].getChildByName(i,!0);if(p)return p}return null},Yt.prototype.getGlobalPosition=function(i,e){return void 0===i&&(i=new nn),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var Vu=function(a,i){return(Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Fs(a,i){function e(){this.constructor=a}Vu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Jc=function(a){function i(e,r,o,d){void 0===e&&(e=100),void 0===r&&(r=100),void 0===o&&(o=10),void 0===d&&(d=10);var p=a.call(this)||this;return p.segWidth=o,p.segHeight=d,p.width=e,p.height=r,p.build(),p}return Fs(i,a),i.prototype.build=function(){for(var e=this.segWidth*this.segHeight,r=[],o=[],d=[],p=this.segWidth-1,m=this.segHeight-1,w=this.width/p,x=this.height/m,P=0;P<e;P++){var A=P%this.segWidth,I=P/this.segWidth|0;r.push(A*w,I*x),o.push(A/p,I/m)}var R=p*m;for(P=0;P<R;P++){var L=P%p,B=P/p|0,ue=B*this.segWidth+L+1,Fe=(B+1)*this.segWidth+L;d.push(B*this.segWidth+L,ue,Fe,ue,(B+1)*this.segWidth+L+1,Fe)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(o),this.indexBuffer.data=new Uint16Array(d),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},i}(xu),Ns=function(a){function i(e,r,o){void 0===e&&(e=200),void 0===o&&(o=0);var d=a.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return d.points=r,d._width=e,d.textureScale=o,d.build(),d}return Fs(i,a),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),i.prototype.build=function(){var e=this.points;if(e){var r=this.getBuffer("aVertexPosition"),o=this.getBuffer("aTextureCoord"),d=this.getIndex();if(!(e.length<1)){r.data.length/4!==e.length&&(r.data=new Float32Array(4*e.length),o.data=new Float32Array(4*e.length),d.data=new Uint16Array(6*(e.length-1)));var p=o.data,m=d.data;p[0]=0,p[1]=0,p[2]=0,p[3]=1;for(var w=0,x=e[0],P=this._width*this.textureScale,A=e.length,I=0;I<A;I++){var R=4*I;if(this.textureScale>0){var L=x.x-e[I].x,B=x.y-e[I].y,X=Math.sqrt(L*L+B*B);x=e[I],w+=X/P}else w=I/(A-1);p[R]=w,p[R+1]=0,p[R+2]=w,p[R+3]=1}var ue=0;for(I=0;I<A-1;I++)m[ue++]=R=2*I,m[ue++]=R+1,m[ue++]=R+2,m[ue++]=R+2,m[ue++]=R+1,m[ue++]=R+3;o.update(),d.update(),this.updateVertices()}}},i.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var o,r=e[0],d=0,p=0,m=this.buffers[0].data,w=e.length,x=0;x<w;x++){var P=e[x],A=4*x;p=-((o=x<e.length-1?e[x+1]:P).x-r.x),d=o.y-r.y;var I=Math.sqrt(d*d+p*p),R=this.textureScale>0?this.textureScale*this._width/2:this._width/2;d/=I,p/=I,p*=R,m[A]=P.x+(d*=R),m[A+1]=P.y+p,m[A+2]=P.x-d,m[A+3]=P.y-p,r=P}this.buffers[0].update()}},i.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},i}(xu),eh=(function(a){function i(e,r,o){void 0===o&&(o=0);var d=this,p=new Ns(e.height,r,o),m=new ho(e);return o>0&&(e.baseTexture.wrapMode=ut.REPEAT),(d=a.call(this,p,m)||this).autoUpdate=!0,d}Fs(i,a),i.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),a.prototype._render.call(this,e)}}(ti),function(a){function i(e,r,o){var d=this,p=new Jc(e.width,e.height,r,o),m=new ho(ht.WHITE);return(d=a.call(this,p,m)||this).texture=e,d}return Fs(i,a),i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),a.prototype._render.call(this,e)},i.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),a.prototype.destroy.call(this,e)},i}(ti)),hr=(function(a){function i(e,r,o,d,p){void 0===e&&(e=ht.EMPTY);var m=this,w=new xu(r,o,d);w.getBuffer("aVertexPosition").static=!1;var x=new ho(e);return(m=a.call(this,w,x,null,p)||this).autoUpdate=!0,m}Fs(i,a),Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),a.prototype._render.call(this,e)}}(ti),function(a){function i(e,r,o,d,p){void 0===r&&(r=10),void 0===o&&(o=10),void 0===d&&(d=10),void 0===p&&(p=10);var m=a.call(this,ht.WHITE,4,4)||this;return m._origWidth=e.orig.width,m._origHeight=e.orig.height,m._width=m._origWidth,m._height=m._origHeight,m._leftWidth=r,m._rightWidth=d,m._topHeight=o,m._bottomHeight=p,m.texture=e,m}Fs(i,a),i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),i.prototype.updateHorizontalVertices=function(){var e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height},i.prototype.updateVerticalVertices=function(){var e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width},i.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,o=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>o?1:this._height/o)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),i.prototype._refresh=function(){var e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var o=1/this._origWidth,d=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=o*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-o*this._rightWidth,r[9]=r[11]=r[13]=r[15]=d*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-d*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(eh),function(a,i){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)});!function(a){function i(e,r){void 0===r&&(r=!0);var o=a.call(this,e[0]instanceof ht?e[0]:e[0].texture)||this;return o._textures=null,o._durations=null,o._autoUpdate=r,o._isConnectedToTicker=!1,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o._playing=!1,o._previousFrame=null,o.textures=e,o}(function(a,i){function e(){this.constructor=a}hr(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(an.shared.remove(this.update,this),this._isConnectedToTicker=!1))},i.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(an.shared.add(this.update,this,ir.HIGH),this._isConnectedToTicker=!0))},i.prototype.gotoAndStop=function(e){this.stop();var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(e){var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(e){if(this._playing){var r=this.animationSpeed*e,o=this.currentFrame;if(null!==this._durations){var d=this._currentTime%1*this._durations[this.currentFrame];for(d+=r/60*1e3;d<0;)this._currentTime--,d+=this._durations[this.currentFrame];var p=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*p,this._currentTime+=p;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o||this.animationSpeed<0&&this.currentFrame>o)&&this.onLoop(),this.updateTexture())}},i.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},i.prototype.destroy=function(e){this.stop(),a.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},i.fromFrames=function(e){for(var r=[],o=0;o<e.length;++o)r.push(ht.from(e[o]));return new i(r)},i.fromImages=function(e){for(var r=[],o=0;o<e.length;++o)r.push(ht.from(e[o]));return new i(r)},Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof ht)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(an.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(an.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(Is),jn.registerPlugin("accessibility",vr),jn.registerPlugin("extract",Jo),jn.registerPlugin("interaction",Ph),jn.registerPlugin("particle",xs),jn.registerPlugin("prepare",ei),jn.registerPlugin("batch",Yr),jn.registerPlugin("tilingSprite",Uc),qr.registerPlugin(Ou),qr.registerPlugin(Lc),Ko.registerPlugin(mr),Ko.registerPlugin(ro)},516:He=>{"use strict";function ce(k,E){return Object.prototype.hasOwnProperty.call(k,E)}He.exports=function(k,E,oe,ve){oe=oe||"=";var q={};if("string"!=typeof k||0===k.length)return q;var te=/\+/g;k=k.split(E=E||"&");var Z=1e3;ve&&"number"==typeof ve.maxKeys&&(Z=ve.maxKeys);var G=k.length;Z>0&&G>Z&&(G=Z);for(var J=0;J<G;++J){var V,Y,W,re,ne=k[J].replace(te,"%20"),$=ne.indexOf(oe);$>=0?(V=ne.substr(0,$),Y=ne.substr($+1)):(V=ne,Y=""),W=decodeURIComponent(V),re=decodeURIComponent(Y),ce(q,W)?Array.isArray(q[W])?q[W].push(re):q[W]=[q[W],re]:q[W]=re}return q}},5776:He=>{"use strict";var ce=function(k){switch(typeof k){case"string":return k;case"boolean":return k?"true":"false";case"number":return isFinite(k)?k:"";default:return""}};He.exports=function(k,E,oe,ve){return E=E||"&",oe=oe||"=",null===k&&(k=void 0),"object"==typeof k?Object.keys(k).map(function(q){var te=encodeURIComponent(ce(q))+oe;return Array.isArray(k[q])?k[q].map(function(Z){return te+encodeURIComponent(ce(Z))}).join(E):te+encodeURIComponent(ce(k[q]))}).join(E):ve?encodeURIComponent(ce(ve))+oe+encodeURIComponent(ce(k)):""}},7137:(He,ce,k)=>{"use strict";ce.decode=ce.parse=k(516),ce.encode=ce.stringify=k(5776)},1869:(He,ce,k)=>{"use strict";k.d(ce,{d:()=>oe});var E=k(3489);class oe extends E.L{constructor(q,te,Z){super(),this.parent=q,this.outerValue=te,this.outerIndex=Z,this.index=0}_next(q){this.parent.notifyNext(this.outerValue,q,this.outerIndex,this.index++,this)}_error(q){this.parent.notifyError(q,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},2916:(He,ce,k)=>{"use strict";k.d(ce,{y:()=>V});var E=k(3489),ve=k(7668),q=k(3292),Z=k(3821),G=k(5379);var $=k(2830);let V=(()=>{class W{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const ae=new W;return ae.source=this,ae.operator=we,ae}subscribe(we,ae,Pe){const{operator:Ve}=this,je=function(W,re,we){if(W){if(W instanceof E.L)return W;if(W[ve.b])return W[ve.b]()}return W||re||we?new E.L(W,re,we):new E.L(q.c)}(we,ae,Pe);if(je.add(Ve?Ve.call(je,this.source):this.source||$.v.useDeprecatedSynchronousErrorHandling&&!je.syncErrorThrowable?this._subscribe(je):this._trySubscribe(je)),$.v.useDeprecatedSynchronousErrorHandling&&je.syncErrorThrowable&&(je.syncErrorThrowable=!1,je.syncErrorThrown))throw je.syncErrorValue;return je}_trySubscribe(we){try{return this._subscribe(we)}catch(ae){$.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=ae),function(W){for(;W;){const{closed:re,destination:we,isStopped:ae}=W;if(re||ae)return!1;W=we&&we instanceof E.L?we:null}return!0}(we)?we.error(ae):console.warn(ae)}}forEach(we,ae){return new(ae=Y(ae))((Pe,Ve)=>{let je;je=this.subscribe(Le=>{try{we(Le)}catch(mt){Ve(mt),je&&je.unsubscribe()}},Ve,Pe)})}_subscribe(we){const{source:ae}=this;return ae&&ae.subscribe(we)}[Z.L](){return this}pipe(...we){return 0===we.length?this:function(W){return 0===W.length?G.y:1===W.length?W[0]:function(we){return W.reduce((ae,Pe)=>Pe(ae),we)}}(we)(this)}toPromise(we){return new(we=Y(we))((ae,Pe)=>{let Ve;this.subscribe(je=>Ve=je,je=>Pe(je),()=>ae(Ve))})}}return W.create=re=>new W(re),W})();function Y(W){if(W||(W=$.v.Promise||Promise),!W)throw new Error("no Promise impl found");return W}},3292:(He,ce,k)=>{"use strict";k.d(ce,{c:()=>ve});var E=k(2830),oe=k(2782);const ve={closed:!0,next(q){},error(q){if(E.v.useDeprecatedSynchronousErrorHandling)throw q;(0,oe.z)(q)},complete(){}}},826:(He,ce,k)=>{"use strict";k.d(ce,{L:()=>oe});var E=k(3489);class oe extends E.L{notifyNext(q,te,Z,G,J){this.destination.next(te)}notifyError(q,te){this.destination.error(q)}notifyComplete(q){this.destination.complete()}}},5529:(He,ce,k)=>{"use strict";k.d(ce,{xQ:()=>J,Yc:()=>G});var E=k(2916),oe=k(3489),ve=k(2654),q=k(5279);class te extends ve.w{constructor(V,Y){super(),this.subject=V,this.subscriber=Y,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const V=this.subject,Y=V.observers;if(this.subject=null,!Y||0===Y.length||V.isStopped||V.closed)return;const W=Y.indexOf(this.subscriber);-1!==W&&Y.splice(W,1)}}var Z=k(7668);class G extends oe.L{constructor(V){super(V),this.destination=V}}let J=(()=>{class $ extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Z.b](){return new G(this)}lift(Y){const W=new ne(this,this);return W.operator=Y,W}next(Y){if(this.closed)throw new q.N;if(!this.isStopped){const{observers:W}=this,re=W.length,we=W.slice();for(let ae=0;ae<re;ae++)we[ae].next(Y)}}error(Y){if(this.closed)throw new q.N;this.hasError=!0,this.thrownError=Y,this.isStopped=!0;const{observers:W}=this,re=W.length,we=W.slice();for(let ae=0;ae<re;ae++)we[ae].error(Y);this.observers.length=0}complete(){if(this.closed)throw new q.N;this.isStopped=!0;const{observers:Y}=this,W=Y.length,re=Y.slice();for(let we=0;we<W;we++)re[we].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Y){if(this.closed)throw new q.N;return super._trySubscribe(Y)}_subscribe(Y){if(this.closed)throw new q.N;return this.hasError?(Y.error(this.thrownError),ve.w.EMPTY):this.isStopped?(Y.complete(),ve.w.EMPTY):(this.observers.push(Y),new te(this,Y))}asObservable(){const Y=new E.y;return Y.source=this,Y}}return $.create=(V,Y)=>new ne(V,Y),$})();class ne extends J{constructor(V,Y){super(),this.destination=V,this.source=Y}next(V){const{destination:Y}=this;Y&&Y.next&&Y.next(V)}error(V){const{destination:Y}=this;Y&&Y.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:Y}=this;return Y?this.source.subscribe(V):ve.w.EMPTY}}},3489:(He,ce,k)=>{"use strict";k.d(ce,{L:()=>G});var E=k(7043),oe=k(3292),ve=k(2654),q=k(7668),te=k(2830),Z=k(2782);class G extends ve.w{constructor($,V,Y){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=oe.c;break;case 1:if(!$){this.destination=oe.c;break}if("object"==typeof $){$ instanceof G?(this.syncErrorThrowable=$.syncErrorThrowable,this.destination=$,$.add(this)):(this.syncErrorThrowable=!0,this.destination=new J(this,$));break}default:this.syncErrorThrowable=!0,this.destination=new J(this,$,V,Y)}}[q.b](){return this}static create($,V,Y){const W=new G($,V,Y);return W.syncErrorThrowable=!1,W}next($){this.isStopped||this._next($)}error($){this.isStopped||(this.isStopped=!0,this._error($))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next($){this.destination.next($)}_error($){this.destination.error($),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:$}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=$,this}}class J extends G{constructor($,V,Y,W){super(),this._parentSubscriber=$;let re,we=this;(0,E.m)(V)?re=V:V&&(re=V.next,Y=V.error,W=V.complete,V!==oe.c&&(we=Object.create(V),(0,E.m)(we.unsubscribe)&&this.add(we.unsubscribe.bind(we)),we.unsubscribe=this.unsubscribe.bind(this))),this._context=we,this._next=re,this._error=Y,this._complete=W}next($){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;te.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,$)&&this.unsubscribe():this.__tryOrUnsub(this._next,$)}}error($){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:Y}=te.v;if(this._error)Y&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,$),this.unsubscribe()):(this.__tryOrUnsub(this._error,$),this.unsubscribe());else if(V.syncErrorThrowable)Y?(V.syncErrorValue=$,V.syncErrorThrown=!0):(0,Z.z)($),this.unsubscribe();else{if(this.unsubscribe(),Y)throw $;(0,Z.z)($)}}}complete(){if(!this.isStopped){const{_parentSubscriber:$}=this;if(this._complete){const V=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?(this.__tryOrSetError($,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub($,V){try{$.call(this._context,V)}catch(Y){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw Y;(0,Z.z)(Y)}}__tryOrSetError($,V,Y){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,Y)}catch(W){return te.v.useDeprecatedSynchronousErrorHandling?($.syncErrorValue=W,$.syncErrorThrown=!0,!0):((0,Z.z)(W),!0)}return!1}_unsubscribe(){const{_parentSubscriber:$}=this;this._context=null,this._parentSubscriber=null,$.unsubscribe()}}},2654:(He,ce,k)=>{"use strict";k.d(ce,{w:()=>Z});var E=k(6688),oe=k(7830),ve=k(7043);const te=(()=>{function J(ne){return Error.call(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map(($,V)=>`${V+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne,this}return J.prototype=Object.create(Error.prototype),J})();class Z{constructor(ne){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ne&&(this._unsubscribe=ne)}unsubscribe(){let ne;if(this.closed)return;let{_parentOrParents:$,_unsubscribe:V,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,$ instanceof Z)$.remove(this);else if(null!==$)for(let W=0;W<$.length;++W)$[W].remove(this);if((0,ve.m)(V))try{V.call(this)}catch(W){ne=W instanceof te?G(W.errors):[W]}if((0,E.k)(Y)){let W=-1,re=Y.length;for(;++W<re;){const we=Y[W];if((0,oe.K)(we))try{we.unsubscribe()}catch(ae){ne=ne||[],ae instanceof te?ne=ne.concat(G(ae.errors)):ne.push(ae)}}}if(ne)throw new te(ne)}add(ne){let $=ne;if(!ne)return Z.EMPTY;switch(typeof ne){case"function":$=new Z(ne);case"object":if($===this||$.closed||"function"!=typeof $.unsubscribe)return $;if(this.closed)return $.unsubscribe(),$;if(!($ instanceof Z)){const W=$;$=new Z,$._subscriptions=[W]}break;default:throw new Error("unrecognized teardown "+ne+" added to Subscription.")}let{_parentOrParents:V}=$;if(null===V)$._parentOrParents=this;else if(V instanceof Z){if(V===this)return $;$._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return $;V.push(this)}const Y=this._subscriptions;return null===Y?this._subscriptions=[$]:Y.push($),$}remove(ne){const $=this._subscriptions;if($){const V=$.indexOf(ne);-1!==V&&$.splice(V,1)}}}var J;function G(J){return J.reduce((ne,$)=>ne.concat($ instanceof te?$.errors:$),[])}Z.EMPTY=((J=new Z).closed=!0,J)},2830:(He,ce,k)=>{"use strict";k.d(ce,{v:()=>oe});let E=!1;const oe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ve){if(ve){const q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+q.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=ve},get useDeprecatedSynchronousErrorHandling(){return E}}},1762:(He,ce,k)=>{"use strict";k.d(ce,{c:()=>te,N:()=>Z});var E=k(5529),oe=k(2916),ve=k(2654),q=k(4327);class te extends oe.y{constructor(V,Y){super(),this.source=V,this.subjectFactory=Y,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new ve.w,V.add(this.source.subscribe(new G(this.getSubject(),this))),V.closed&&(this._connection=null,V=ve.w.EMPTY)),V}refCount(){return(0,q.x)()(this)}}const Z=(()=>{const $=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:$._subscribe},_isComplete:{value:$._isComplete,writable:!0},getSubject:{value:$.getSubject},connect:{value:$.connect},refCount:{value:$.refCount}}})();class G extends E.Yc{constructor(V,Y){super(V),this.connectable=Y}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const Y=V._connection;V._refCount=0,V._subject=null,V._connection=null,Y&&Y.unsubscribe()}}}},5254:(He,ce,k)=>{"use strict";k.d(ce,{D:()=>we});var E=k(2916),oe=k(9249),ve=k(2654),q=k(3821),G=k(6454),J=k(5430),V=k(8955),Y=k(8515);function we(ae,Pe){return Pe?function(ae,Pe){if(null!=ae){if(function(ae){return ae&&"function"==typeof ae[q.L]}(ae))return function(ae,Pe){return new E.y(Ve=>{const je=new ve.w;return je.add(Pe.schedule(()=>{const Le=ae[q.L]();je.add(Le.subscribe({next(mt){je.add(Pe.schedule(()=>Ve.next(mt)))},error(mt){je.add(Pe.schedule(()=>Ve.error(mt)))},complete(){je.add(Pe.schedule(()=>Ve.complete()))}}))})),je})}(ae,Pe);if((0,V.t)(ae))return function(ae,Pe){return new E.y(Ve=>{const je=new ve.w;return je.add(Pe.schedule(()=>ae.then(Le=>{je.add(Pe.schedule(()=>{Ve.next(Le),je.add(Pe.schedule(()=>Ve.complete()))}))},Le=>{je.add(Pe.schedule(()=>Ve.error(Le)))}))),je})}(ae,Pe);if((0,Y.z)(ae))return(0,G.r)(ae,Pe);if(function(ae){return ae&&"function"==typeof ae[J.hZ]}(ae)||"string"==typeof ae)return function(ae,Pe){if(!ae)throw new Error("Iterable cannot be null");return new E.y(Ve=>{const je=new ve.w;let Le;return je.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),je.add(Pe.schedule(()=>{Le=ae[J.hZ](),je.add(Pe.schedule(function(){if(Ve.closed)return;let mt,zt;try{const he=Le.next();mt=he.value,zt=he.done}catch(he){return void Ve.error(he)}zt?Ve.complete():(Ve.next(mt),this.schedule())}))})),je})}(ae,Pe)}throw new TypeError((null!==ae&&typeof ae||ae)+" is not observable")}(ae,Pe):ae instanceof E.y?ae:new E.y((0,oe.s)(ae))}},3009:(He,ce,k)=>{"use strict";k.d(ce,{n:()=>q});var E=k(2916),oe=k(3650),ve=k(6454);function q(te,Z){return Z?(0,ve.r)(te,Z):new E.y((0,oe.V)(te))}},4850:(He,ce,k)=>{"use strict";k.d(ce,{U:()=>oe});var E=k(3489);function oe(te,Z){return function(J){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return J.lift(new ve(te,Z))}}class ve{constructor(Z,G){this.project=Z,this.thisArg=G}call(Z,G){return G.subscribe(new q(Z,this.project,this.thisArg))}}class q extends E.L{constructor(Z,G,J){super(Z),this.project=G,this.count=0,this.thisArg=J||this}_next(Z){let G;try{G=this.project.call(this.thisArg,Z,this.count++)}catch(J){return void this.destination.error(J)}this.destination.next(G)}}},9146:(He,ce,k)=>{"use strict";k.d(ce,{J:()=>ve});var E=k(1709),oe=k(5379);function ve(q=Number.POSITIVE_INFINITY){return(0,E.zg)(oe.y,q)}},1709:(He,ce,k)=>{"use strict";k.d(ce,{zg:()=>Z});var E=k(9054),oe=k(826),ve=k(1869),q=k(4850),te=k(5254);function Z(ne,$,V=Number.POSITIVE_INFINITY){return"function"==typeof $?Y=>Y.pipe(Z((W,re)=>(0,te.D)(ne(W,re)).pipe((0,q.U)((we,ae)=>$(W,we,re,ae))),V)):("number"==typeof $&&(V=$),Y=>Y.lift(new G(ne,V)))}class G{constructor($,V=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=V}call($,V){return V.subscribe(new J($,this.project,this.concurrent))}}class J extends oe.L{constructor($,V,Y=Number.POSITIVE_INFINITY){super($),this.project=V,this.concurrent=Y,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let V;const Y=this.index++;try{V=this.project($,Y)}catch(W){return void this.destination.error(W)}this.active++,this._innerSub(V,$,Y)}_innerSub($,V,Y){const W=new ve.d(this,V,Y),re=this.destination;re.add(W);const we=(0,E.D)(this,$,void 0,void 0,W);we!==W&&re.add(we)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($,V,Y,W,re){this.destination.next(V)}notifyComplete($){const V=this.buffer;this.remove($),this.active--,V.length>0?this._next(V.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4327:(He,ce,k)=>{"use strict";k.d(ce,{x:()=>oe});var E=k(3489);function oe(){return function(Z){return Z.lift(new ve(Z))}}class ve{constructor(Z){this.connectable=Z}call(Z,G){const{connectable:J}=this;J._refCount++;const ne=new q(Z,J),$=G.subscribe(ne);return ne.closed||(ne.connection=J.connect()),$}}class q extends E.L{constructor(Z,G){super(Z),this.connectable=G}_unsubscribe(){const{connectable:Z}=this;if(!Z)return void(this.connection=null);this.connectable=null;const G=Z._refCount;if(G<=0)return void(this.connection=null);if(Z._refCount=G-1,G>1)return void(this.connection=null);const{connection:J}=this,ne=Z._connection;this.connection=null,ne&&(!J||ne===J)&&ne.unsubscribe()}}},6454:(He,ce,k)=>{"use strict";k.d(ce,{r:()=>ve});var E=k(2916),oe=k(2654);function ve(q,te){return new E.y(Z=>{const G=new oe.w;let J=0;return G.add(te.schedule(function(){J!==q.length?(Z.next(q[J++]),Z.closed||G.add(this.schedule())):Z.complete()})),G})}},5430:(He,ce,k)=>{"use strict";k.d(ce,{hZ:()=>oe});const oe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},3821:(He,ce,k)=>{"use strict";k.d(ce,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(He,ce,k)=>{"use strict";k.d(ce,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(He,ce,k)=>{"use strict";k.d(ce,{N:()=>oe});const oe=(()=>{function ve(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ve.prototype=Object.create(Error.prototype),ve})()},2782:(He,ce,k)=>{"use strict";function E(oe){setTimeout(()=>{throw oe},0)}k.d(ce,{z:()=>E})},5379:(He,ce,k)=>{"use strict";function E(oe){return oe}k.d(ce,{y:()=>E})},6688:(He,ce,k)=>{"use strict";k.d(ce,{k:()=>E});const E=Array.isArray||(oe=>oe&&"number"==typeof oe.length)},8515:(He,ce,k)=>{"use strict";k.d(ce,{z:()=>E});const E=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},7043:(He,ce,k)=>{"use strict";function E(oe){return"function"==typeof oe}k.d(ce,{m:()=>E})},7830:(He,ce,k)=>{"use strict";function E(oe){return null!==oe&&"object"==typeof oe}k.d(ce,{K:()=>E})},8955:(He,ce,k)=>{"use strict";function E(oe){return!!oe&&"function"!=typeof oe.subscribe&&"function"==typeof oe.then}k.d(ce,{t:()=>E})},2866:(He,ce,k)=>{"use strict";function E(oe){return oe&&"function"==typeof oe.schedule}k.d(ce,{K:()=>E})},9249:(He,ce,k)=>{"use strict";k.d(ce,{s:()=>V});var E=k(3650),oe=k(2782),q=k(5430),Z=k(3821),J=k(8515),ne=k(8955),$=k(7830);const V=Y=>{if(Y&&"function"==typeof Y[Z.L])return(Y=>W=>{const re=Y[Z.L]();if("function"!=typeof re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return re.subscribe(W)})(Y);if((0,J.z)(Y))return(0,E.V)(Y);if((0,ne.t)(Y))return(Y=>W=>(Y.then(re=>{W.closed||(W.next(re),W.complete())},re=>W.error(re)).then(null,oe.z),W))(Y);if(Y&&"function"==typeof Y[q.hZ])return(Y=>W=>{const re=Y[q.hZ]();for(;;){const we=re.next();if(we.done){W.complete();break}if(W.next(we.value),W.closed)break}return"function"==typeof re.return&&W.add(()=>{re.return&&re.return()}),W})(Y);{const re=`You provided ${(0,$.K)(Y)?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(re)}}},3650:(He,ce,k)=>{"use strict";k.d(ce,{V:()=>E});const E=oe=>ve=>{for(let q=0,te=oe.length;q<te&&!ve.closed;q++)ve.next(oe[q]);ve.complete()}},9054:(He,ce,k)=>{"use strict";k.d(ce,{D:()=>q});var E=k(1869),oe=k(9249),ve=k(2916);function q(te,Z,G,J,ne=new E.d(te,G,J)){if(!ne.closed)return Z instanceof ve.y?Z.subscribe(ne):(0,oe.s)(Z)(ne)}},1308:function(He,ce,k){var E;He=k.nmd(He),function(oe){"object"==typeof global&&global;var Z,G=2147483647,J=36,ae=/^xn--/,Pe=/[^\x20-\x7E]/,Ve=/[\x2E\u3002\uFF0E\uFF61]/g,je={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},mt=Math.floor,zt=String.fromCharCode;function at(z){throw RangeError(je[z])}function ie(z,ee){for(var Te=z.length,Be=[];Te--;)Be[Te]=ee(z[Te]);return Be}function le(z,ee){var Te=z.split("@"),Be="";return Te.length>1&&(Be=Te[0]+"@",z=Te[1]),Be+ie((z=z.replace(Ve,".")).split("."),ee).join(".")}function xe(z){for(var Ee,Ae,ee=[],Te=0,Be=z.length;Te<Be;)(Ee=z.charCodeAt(Te++))>=55296&&Ee<=56319&&Te<Be?56320==(64512&(Ae=z.charCodeAt(Te++)))?ee.push(((1023&Ee)<<10)+(1023&Ae)+65536):(ee.push(Ee),Te--):ee.push(Ee);return ee}function Me(z){return ie(z,function(ee){var Te="";return ee>65535&&(Te+=zt((ee-=65536)>>>10&1023|55296),ee=56320|1023&ee),Te+zt(ee)}).join("")}function Ze(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:J}function ge(z,ee){return z+22+75*(z<26)-((0!=ee)<<5)}function O(z,ee,Te){var Be=0;for(z=Te?mt(z/700):z>>1,z+=mt(z/ee);z>455;Be+=J)z=mt(z/35);return mt(Be+36*z/(z+38))}function U(z){var Be,Qe,Ie,Oe,ut,Pt,St,Ot,It,tn,ee=[],Te=z.length,Ee=0,Ae=128,ze=72;for((Qe=z.lastIndexOf("-"))<0&&(Qe=0),Ie=0;Ie<Qe;++Ie)z.charCodeAt(Ie)>=128&&at("not-basic"),ee.push(z.charCodeAt(Ie));for(Oe=Qe>0?Qe+1:0;Oe<Te;){for(ut=Ee,Pt=1,St=J;Oe>=Te&&at("invalid-input"),((Ot=Ze(z.charCodeAt(Oe++)))>=J||Ot>mt((G-Ee)/Pt))&&at("overflow"),Ee+=Ot*Pt,!(Ot<(It=St<=ze?1:St>=ze+26?26:St-ze));St+=J)Pt>mt(G/(tn=J-It))&&at("overflow"),Pt*=tn;ze=O(Ee-ut,Be=ee.length+1,0==ut),mt(Ee/Be)>G-Ae&&at("overflow"),Ae+=mt(Ee/Be),Ee%=Be,ee.splice(Ee++,0,Ae)}return Me(ee)}function H(z){var ee,Te,Be,Ee,Ae,ze,Qe,Ie,Oe,ut,Pt,Ot,It,tn,kt,St=[];for(Ot=(z=xe(z)).length,ee=128,Te=0,Ae=72,ze=0;ze<Ot;++ze)(Pt=z[ze])<128&&St.push(zt(Pt));for(Be=Ee=St.length,Ee&&St.push("-");Be<Ot;){for(Qe=G,ze=0;ze<Ot;++ze)(Pt=z[ze])>=ee&&Pt<Qe&&(Qe=Pt);for(Qe-ee>mt((G-Te)/(It=Be+1))&&at("overflow"),Te+=(Qe-ee)*It,ee=Qe,ze=0;ze<Ot;++ze)if((Pt=z[ze])<ee&&++Te>G&&at("overflow"),Pt==ee){for(Ie=Te,Oe=J;!(Ie<(ut=Oe<=Ae?1:Oe>=Ae+26?26:Oe-Ae));Oe+=J)St.push(zt(ge(ut+(kt=Ie-ut)%(tn=J-ut),0))),Ie=mt(kt/tn);St.push(zt(ge(Ie,0))),Ae=O(Te,It,Be==Ee),Te=0,++Be}++Te,++ee}return St.join("")}Z={version:"1.3.2",ucs2:{decode:xe,encode:Me},decode:U,encode:H,toASCII:function(z){return le(z,function(ee){return Pe.test(ee)?"xn--"+H(ee):ee})},toUnicode:function(z){return le(z,function(ee){return ae.test(ee)?U(ee.slice(4).toLowerCase()):ee})}},void 0!==(E=function(){return Z}.call(ce,k,ce,He))&&(He.exports=E)}()},8762:(He,ce,k)=>{"use strict";var E=k(1308),oe=k(796);function ve(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}ce.parse=je,ce.resolve=function(he,at){return je(he,!1,!0).resolve(at)},ce.resolveObject=function(he,at){return he?je(he,!1,!0).resolveObject(at):at},ce.format=function(he){return oe.isString(he)&&(he=je(he)),he instanceof ve?he.format():ve.prototype.format.call(he)},ce.Url=ve;var q=/^([a-z0-9.+-]+:)/i,te=/:[0-9]*$/,Z=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,J=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),ne=["'"].concat(J),$=["%","/","?",";","#"].concat(ne),V=["/","?","#"],W=/^[+a-z0-9A-Z_-]{0,63}$/,re=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,we={javascript:!0,"javascript:":!0},ae={javascript:!0,"javascript:":!0},Pe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ve=k(7137);function je(he,at,ie){if(he&&oe.isObject(he)&&he instanceof ve)return he;var le=new ve;return le.parse(he,at,ie),le}ve.prototype.parse=function(he,at,ie){if(!oe.isString(he))throw new TypeError("Parameter 'url' must be a string, not "+typeof he);var le=he.indexOf("?"),xe=-1!==le&&le<he.indexOf("#")?"?":"#",Me=he.split(xe);Me[0]=Me[0].replace(/\\/g,"/");var ge=he=Me.join(xe);if(ge=ge.trim(),!ie&&1===he.split("#").length){var O=Z.exec(ge);if(O)return this.path=ge,this.href=ge,this.pathname=O[1],O[2]?(this.search=O[2],this.query=at?Ve.parse(this.search.substr(1)):this.search.substr(1)):at&&(this.search="",this.query={}),this}var U=q.exec(ge);if(U){var H=(U=U[0]).toLowerCase();this.protocol=H,ge=ge.substr(U.length)}if(ie||U||ge.match(/^\/\/[^@\/]+@[^@\/]+/)){var de="//"===ge.substr(0,2);de&&(!U||!ae[U])&&(ge=ge.substr(2),this.slashes=!0)}if(!ae[U]&&(de||U&&!Pe[U])){for(var se=-1,z=0;z<V.length;z++)-1!==(ee=ge.indexOf(V[z]))&&(-1===se||ee<se)&&(se=ee);var Te,Be;for(-1!==(Be=-1===se?ge.lastIndexOf("@"):ge.lastIndexOf("@",se))&&(Te=ge.slice(0,Be),ge=ge.slice(Be+1),this.auth=decodeURIComponent(Te)),se=-1,z=0;z<$.length;z++){var ee;-1!==(ee=ge.indexOf($[z]))&&(-1===se||ee<se)&&(se=ee)}-1===se&&(se=ge.length),this.host=ge.slice(0,se),ge=ge.slice(se),this.parseHost(),this.hostname=this.hostname||"";var Ee="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ee)for(var Ae=this.hostname.split(/\./),ze=(z=0,Ae.length);z<ze;z++){var Qe=Ae[z];if(Qe&&!Qe.match(W)){for(var Ie="",Oe=0,ut=Qe.length;Oe<ut;Oe++)Qe.charCodeAt(Oe)>127?Ie+="x":Ie+=Qe[Oe];if(!Ie.match(W)){var Pt=Ae.slice(0,z),St=Ae.slice(z+1),Ot=Qe.match(re);Ot&&(Pt.push(Ot[1]),St.unshift(Ot[2])),St.length&&(ge="/"+St.join(".")+ge),this.hostname=Pt.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Ee||(this.hostname=E.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ee&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ge[0]&&(ge="/"+ge))}if(!we[H])for(z=0,ze=ne.length;z<ze;z++){var kt=ne[z];if(-1!==ge.indexOf(kt)){var $n=encodeURIComponent(kt);$n===kt&&($n=escape(kt)),ge=ge.split(kt).join($n)}}var Pi=ge.indexOf("#");-1!==Pi&&(this.hash=ge.substr(Pi),ge=ge.slice(0,Pi));var yn=ge.indexOf("?");return-1!==yn?(this.search=ge.substr(yn),this.query=ge.substr(yn+1),at&&(this.query=Ve.parse(this.query)),ge=ge.slice(0,yn)):at&&(this.search="",this.query={}),ge&&(this.pathname=ge),Pe[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},ve.prototype.format=function(){var he=this.auth||"";he&&(he=(he=encodeURIComponent(he)).replace(/%3A/i,":"),he+="@");var at=this.protocol||"",ie=this.pathname||"",le=this.hash||"",xe=!1,Me="";this.host?xe=he+this.host:this.hostname&&(xe=he+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(xe+=":"+this.port)),this.query&&oe.isObject(this.query)&&Object.keys(this.query).length&&(Me=Ve.stringify(this.query));var Ze=this.search||Me&&"?"+Me||"";return at&&":"!==at.substr(-1)&&(at+=":"),this.slashes||(!at||Pe[at])&&!1!==xe?(xe="//"+(xe||""),ie&&"/"!==ie.charAt(0)&&(ie="/"+ie)):xe||(xe=""),le&&"#"!==le.charAt(0)&&(le="#"+le),Ze&&"?"!==Ze.charAt(0)&&(Ze="?"+Ze),at+xe+(ie=ie.replace(/[?#]/g,function(ge){return encodeURIComponent(ge)}))+(Ze=Ze.replace("#","%23"))+le},ve.prototype.resolve=function(he){return this.resolveObject(je(he,!1,!0)).format()},ve.prototype.resolveObject=function(he){if(oe.isString(he)){var at=new ve;at.parse(he,!1,!0),he=at}for(var ie=new ve,le=Object.keys(this),xe=0;xe<le.length;xe++){var Me=le[xe];ie[Me]=this[Me]}if(ie.hash=he.hash,""===he.href)return ie.href=ie.format(),ie;if(he.slashes&&!he.protocol){for(var Ze=Object.keys(he),ge=0;ge<Ze.length;ge++){var O=Ze[ge];"protocol"!==O&&(ie[O]=he[O])}return Pe[ie.protocol]&&ie.hostname&&!ie.pathname&&(ie.path=ie.pathname="/"),ie.href=ie.format(),ie}if(he.protocol&&he.protocol!==ie.protocol){if(!Pe[he.protocol]){for(var U=Object.keys(he),H=0;H<U.length;H++){var de=U[H];ie[de]=he[de]}return ie.href=ie.format(),ie}if(ie.protocol=he.protocol,he.host||ae[he.protocol])ie.pathname=he.pathname;else{for(var ze=(he.pathname||"").split("/");ze.length&&!(he.host=ze.shift()););he.host||(he.host=""),he.hostname||(he.hostname=""),""!==ze[0]&&ze.unshift(""),ze.length<2&&ze.unshift(""),ie.pathname=ze.join("/")}return ie.search=he.search,ie.query=he.query,ie.host=he.host||"",ie.auth=he.auth,ie.hostname=he.hostname||he.host,ie.port=he.port,(ie.pathname||ie.search)&&(ie.path=(ie.pathname||"")+(ie.search||"")),ie.slashes=ie.slashes||he.slashes,ie.href=ie.format(),ie}var ee=ie.pathname&&"/"===ie.pathname.charAt(0),Te=he.host||he.pathname&&"/"===he.pathname.charAt(0),Be=Te||ee||ie.host&&he.pathname,Ee=Be,Ae=ie.pathname&&ie.pathname.split("/")||[],Qe=(ze=he.pathname&&he.pathname.split("/")||[],ie.protocol&&!Pe[ie.protocol]);if(Qe&&(ie.hostname="",ie.port=null,ie.host&&(""===Ae[0]?Ae[0]=ie.host:Ae.unshift(ie.host)),ie.host="",he.protocol&&(he.hostname=null,he.port=null,he.host&&(""===ze[0]?ze[0]=he.host:ze.unshift(he.host)),he.host=null),Be=Be&&(""===ze[0]||""===Ae[0])),Te)ie.host=he.host||""===he.host?he.host:ie.host,ie.hostname=he.hostname||""===he.hostname?he.hostname:ie.hostname,ie.search=he.search,ie.query=he.query,Ae=ze;else if(ze.length)Ae||(Ae=[]),Ae.pop(),Ae=Ae.concat(ze),ie.search=he.search,ie.query=he.query;else if(!oe.isNullOrUndefined(he.search))return Qe&&(ie.hostname=ie.host=Ae.shift(),(Ie=!!(ie.host&&ie.host.indexOf("@")>0)&&ie.host.split("@"))&&(ie.auth=Ie.shift(),ie.host=ie.hostname=Ie.shift())),ie.search=he.search,ie.query=he.query,(!oe.isNull(ie.pathname)||!oe.isNull(ie.search))&&(ie.path=(ie.pathname?ie.pathname:"")+(ie.search?ie.search:"")),ie.href=ie.format(),ie;if(!Ae.length)return ie.pathname=null,ie.path=ie.search?"/"+ie.search:null,ie.href=ie.format(),ie;for(var Oe=Ae.slice(-1)[0],ut=(ie.host||he.host||Ae.length>1)&&("."===Oe||".."===Oe)||""===Oe,Pt=0,St=Ae.length;St>=0;St--)"."===(Oe=Ae[St])?Ae.splice(St,1):".."===Oe?(Ae.splice(St,1),Pt++):Pt&&(Ae.splice(St,1),Pt--);if(!Be&&!Ee)for(;Pt--;Pt)Ae.unshift("..");Be&&""!==Ae[0]&&(!Ae[0]||"/"!==Ae[0].charAt(0))&&Ae.unshift(""),ut&&"/"!==Ae.join("/").substr(-1)&&Ae.push("");var Ie,Ot=""===Ae[0]||Ae[0]&&"/"===Ae[0].charAt(0);return Qe&&(ie.hostname=ie.host=Ot?"":Ae.length?Ae.shift():"",(Ie=!!(ie.host&&ie.host.indexOf("@")>0)&&ie.host.split("@"))&&(ie.auth=Ie.shift(),ie.host=ie.hostname=Ie.shift())),(Be=Be||ie.host&&Ae.length)&&!Ot&&Ae.unshift(""),Ae.length?ie.pathname=Ae.join("/"):(ie.pathname=null,ie.path=null),(!oe.isNull(ie.pathname)||!oe.isNull(ie.search))&&(ie.path=(ie.pathname?ie.pathname:"")+(ie.search?ie.search:"")),ie.auth=he.auth||ie.auth,ie.slashes=ie.slashes||he.slashes,ie.href=ie.format(),ie},ve.prototype.parseHost=function(){var he=this.host,at=te.exec(he);at&&(":"!==(at=at[0])&&(this.port=at.substr(1)),he=he.substr(0,he.length-at.length)),he&&(this.hostname=he)}},796:He=>{"use strict";He.exports={isString:function(ce){return"string"==typeof ce},isObject:function(ce){return"object"==typeof ce&&null!==ce},isNull:function(ce){return null===ce},isNullOrUndefined:function(ce){return null==ce}}},2096:(He,ce,k)=>{"use strict";k.d(ce,{deG:()=>Ac,tb:()=>Wm,AFp:()=>zm,ip1:()=>Bd,CZH:()=>gc,hGG:()=>Gw,z2F:()=>Th,sBO:()=>yw,Sil:()=>jd,_Vd:()=>mh,EJc:()=>qm,SBq:()=>yh,qLn:()=>_o,vpe:()=>js,tBr:()=>Ss,XFs:()=>ft,OlP:()=>qt,zs3:()=>Ii,ZZ4:()=>_f,aQg:()=>bf,soG:()=>mf,YKP:()=>im,h0i:()=>fc,PXZ:()=>hw,R0b:()=>li,FiY:()=>Hr,Lbi:()=>$m,g9A:()=>Xm,Qsj:()=>Xb,FYo:()=>em,JOm:()=>hr,tp0:()=>pt,Rgc:()=>wh,dDg:()=>Qm,GfV:()=>tm,s_b:()=>df,ifc:()=>Lt,eFA:()=>ty,G48:()=>mw,_c5:()=>Lw,VLi:()=>aw,c2e:()=>Ym,zSh:()=>qf,wAp:()=>st,vHH:()=>he,cg1:()=>gd,kL8:()=>Tv,dqk:()=>Bt,sIi:()=>lh,CqO:()=>Ag,QGY:()=>cd,F4k:()=>Ig,RDi:()=>Rr,AaK:()=>ae,TTD:()=>Xa,_Bn:()=>Kv,xp6:()=>If,uIk:()=>nd,Suo:()=>wm,Xpm:()=>Ba,lG2:()=>Gs,Yz7:()=>It,cJS:()=>kt,oAB:()=>Ir,Yjl:()=>Xt,Y36:()=>hh,_UZ:()=>Tg,qZA:()=>ld,TgZ:()=>ud,EpF:()=>Sg,LFG:()=>Zt,$8M:()=>Br,$Z:()=>wg,NdJ:()=>hd,CRH:()=>Dm,kcU:()=>ml,O4$:()=>Sc,ALo:()=>dm,xi3:()=>pm,iGM:()=>bm,MAs:()=>hg,CHM:()=>ko,LSH:()=>mo,YNc:()=>cg,W1O:()=>Sm,_uU:()=>rv,hij:()=>sf,Gf:()=>Em});var E=k(2916),oe=k(2866),ve=k(9146),q=k(3009),Z=k(5529),G=k(2654),J=k(1762);var V=k(4327);function Y(){return new Z.xQ}function re(t){for(let n in t)if(t[n]===re)return n;throw Error("Could not find renamed property on target object.")}function ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Pe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ve=re({__forward_ref__:re});function je(t){return t.__forward_ref__=je,t.toString=function(){return ae(this())},t}function Le(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(Ve)&&t.__forward_ref__===je}(t)?t():t}class he extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}function O(t,n){const s=n?` in ${n}`:"";throw new he("201",`No provider for ${xe(t)} found${s}`)}function Oe(t,n){null==t&&function(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function It(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function $n(t){return Pi(t,is)||Pi(t,Mi)}function Pi(t,n){return t.hasOwnProperty(n)?t[n]:null}function Qu(t){return t&&(t.hasOwnProperty(La)||t.hasOwnProperty(ss))?t[La]:null}const is=re({\u0275prov:re}),La=re({\u0275inj:re}),Mi=re({ngInjectableDef:re}),ss=re({ngInjectorDef:re});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let sn;function nt(t){const n=sn;return sn=t,n}function Co(t,n,s){const u=$n(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&ft.Optional?null:void 0!==n?n:void O(ae(t),"Injector")}function _n(t){return{toString:t}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),Lt=(()=>{return(t=Lt||(Lt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Lt;var t})();const Ch="undefined"!=typeof globalThis&&globalThis,Rt="undefined"!=typeof window&&window,Ju="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=Ch||"undefined"!=typeof global&&global||Rt||Ju,nr={},Mt=[],kn=re({\u0275cmp:re}),os=re({\u0275dir:re}),Sn=re({\u0275pipe:re}),Wn=re({\u0275mod:re}),fi=re({\u0275fac:re}),Io=re({__NG_ELEMENT_ID__:re});let el=0;function Ba(t){return _n(()=>{const s={},u={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,id:"c",styles:t.styles||Mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},f=t.directives,g=t.features,_=t.pipes;return u.id+=el++,u.inputs=Ua(t.inputs,s),u.outputs=Ua(t.outputs),g&&g.forEach(b=>b(u)),u.directiveDefs=f?()=>("function"==typeof f?f():f).map(vc):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(as):null,u})}function vc(t){return lt(t)||function(t){return t[os]||null}(t)}function as(t){return function(t){return t[Sn]||null}(t)}const Hs={};function Ir(t){return _n(()=>{const n={type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Hs[t.id]=t.type),n})}function Ua(t,n){if(null==t)return nr;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=u,n&&(n[f]=g)}return s}const Gs=Ba;function Xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[kn]||null}function Tn(t,n){const s=t[Wn]||null;if(!s&&!0===n)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return s}function on(t){return Array.isArray(t)&&"object"==typeof t[1]}function vr(t){return Array.isArray(t)&&!0===t[1]}function ir(t){return 0!=(8&t.flags)}function cs(t){return 2==(2&t.flags)}function an(t){return 1==(1&t.flags)}function mr(t){return null!==t.template}function nl(t){return 0!=(512&t[2])}function di(t,n){return t.hasOwnProperty(fi)?t[fi]:null}class za{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Xa(){return ul}function ul(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ef),wc}function wc(){const t=ll(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===nr)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ef(t,n,s,u){const f=ll(t)||function(t,n){return t[Zn]=n}(t,{previous:nr,current:null}),g=f.current||(f.current={}),_=f.previous,b=this.declaredInputs[s],D=_[b];g[b]=new za(D&&D.currentValue,n,_===nr),t[u]=n}Xa.ngInherit=!0;const Zn="__ngSimpleChanges__";function ll(t){return t[Zn]||null}const ht="http://www.w3.org/2000/svg";let pi;function Rr(t){pi=t}function Qt(t){return!!t.listen}const vn={createRenderer:(t,n)=>void 0!==pi?pi:"undefined"!=typeof document?document:void 0};function un(t){for(;Array.isArray(t);)t=t[0];return t}function An(t,n){return un(n[t.index])}function Ro(t,n){return t.data[n]}function yr(t,n){return t[n]}function Bn(t,n){const s=n[t];return on(s)?s:s[0]}function Fr(t){return 4==(4&t[2])}function Ys(t){return 128==(128&t[2])}function or(t,n){return null==n?null:t[n]}function Za(t){t[18]=0}function Fo(t,n){t[5]+=n;let s=t,u=t[3];for(;null!==u&&(1===n&&1===s[5]||-1===n&&0===s[5]);)u[5]+=n,s=u,u=u[3]}const ot={lFrame:Ho(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function fs(){return ot.bindingsEnabled}function be(){return ot.lFrame.lView}function wt(){return ot.lFrame.tView}function ko(t){return ot.lFrame.contextLView=t,t[8]}function ln(){let t=Bo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bo(){return ot.lFrame.currentTNode}function _r(t,n){const s=ot.lFrame;s.currentTNode=t,s.isParent=n}function Li(){return ot.lFrame.isParent}function Uo(){return ot.isInCheckNoChangesMode}function ki(t){ot.isInCheckNoChangesMode=t}function ds(){return ot.lFrame.bindingIndex++}function Fh(t,n){const s=ot.lFrame;s.bindingIndex=s.bindingRootIndex=t,Bi(n)}function Bi(t){ot.lFrame.currentDirectiveIndex=t}function pl(){return ot.lFrame.currentQueryIndex}function gl(t){ot.lFrame.currentQueryIndex=t}function Lh(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function ps(t,n,s){if(s&ft.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&ft.Host||(f=Lh(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;n=f,t=g}const u=ot.lFrame=gi();return u.currentTNode=n,u.lView=t,!0}function Un(t){const n=gi(),s=t[1];ot.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function gi(){const t=ot.lFrame,n=null===t?null:t.child;return null===n?Ho(t):n}function Ho(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function gs(){const t=ot.lFrame;return ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const qs=gs;function Zs(){const t=gs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pn(){return ot.lFrame.selectedIndex}function Ui(t){ot.lFrame.selectedIndex=t}function Sc(){ot.lFrame.currentNamespace=ht}function ml(){ot.lFrame.currentNamespace=null}function Vo(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:D,ngAfterViewChecked:C,ngOnDestroy:M}=g;_&&(t.contentHooks||(t.contentHooks=[])).push(-s,_),b&&((t.contentHooks||(t.contentHooks=[])).push(s,b),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,b)),D&&(t.viewHooks||(t.viewHooks=[])).push(-s,D),C&&((t.viewHooks||(t.viewHooks=[])).push(s,C),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,C)),null!=M&&(t.destroyHooks||(t.destroyHooks=[])).push(s,M)}}function Go(t,n,s){ji(t,n,3,s)}function zo(t,n,s,u){(3&t[2])===s&&ji(t,n,s,u)}function tu(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function ji(t,n,s,u){const g=null!=u?u:-1,_=n.length-1;let b=0;for(let D=void 0!==u?65535&t[18]:0;D<_;D++)if("number"==typeof n[D+1]){if(b=n[D],null!=u&&b>=u)break}else n[D]<0&&(t[18]+=65536),(b<g||-1==g)&&(Xo(t,s,n,D),t[18]=(4294901760&t[18])+D+2),D++}function Xo(t,n,s,u){const f=s[u]<0,g=s[u+1],b=t[f?-s[u]:s[u]];if(f){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Ks{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Wo(t,n,s){const u=Qt(t);let f=0;for(;f<s.length;){const g=s[f];if("number"==typeof g){if(0!==g)break;f++;const _=s[f++],b=s[f++],D=s[f++];u?t.setAttribute(n,b,D,_):n.setAttributeNS(_,b,D)}else{const _=g,b=s[++f];Qs(_)?u&&t.setProperty(n,_,b):u?t.setAttribute(n,_,b):n.setAttribute(_,b),f++}}return f}function Yo(t){return 3===t||4===t||6===t}function Qs(t){return 64===t.charCodeAt(0)}function _s(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||ru(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function ru(t,n,s,u,f){let g=0,_=t.length;if(-1===n)_=-1;else for(;g<t.length;){const b=t[g++];if("number"==typeof b){if(b===n){_=-1;break}if(b>n){_=g-1;break}}}for(;g<t.length;){const b=t[g];if("number"==typeof b)break;if(b===s){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==_&&(t.splice(_,0,n),g=_+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}function qo(t){return-1!==t}function Hi(t){return 32767&t}function Gi(t,n){let s=function(t){return t>>16}(t),u=n;for(;s>0;)u=u[15],s--;return u}let bs=!0;function jn(t){const n=bs;return bs=t,n}let Js=0;function Es(t,n){const s=Ht(t,n);if(-1!==s)return s;const u=n[1];u.firstCreatePass&&(t.injectorIndex=n.length,su(u.data,t),su(n,null),su(u.blueprint,null));const f=ws(t,n),g=t.injectorIndex;if(qo(f)){const _=Hi(f),b=Gi(f,n),D=b[1].data;for(let C=0;C<8;C++)n[g+C]=b[_+C]|D[_+C]}return n[g+8]=f,g}function su(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ht(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ws(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){const g=f[1],_=g.type;if(u=2===_?g.declTNode:1===_?f[6]:null,null===u)return-1;if(s++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function lr(t,n,s){!function(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Io)&&(u=s[Io]),null==u&&(u=s[Io]=Js++);const f=255&u;n.data[t+(f>>5)]|=1<<f}(t,n,s)}function _l(t,n,s){if(s&ft.Optional)return t;O(n,"NodeInjector")}function Yr(t,n,s,u){if(s&ft.Optional&&void 0===u&&(u=null),0==(s&(ft.Self|ft.Host))){const f=t[9],g=nt(void 0);try{return f?f.get(n,u,s&ft.Optional):Co(n,u,s&ft.Optional)}finally{nt(g)}}return _l(u,n,s)}function Ko(t,n,s,u=ft.Default,f){if(null!==t){const g=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Io)?t[Io]:void 0;return"number"==typeof n?n>=0?255&n:Qo:n}(s);if("function"==typeof g){if(!ps(n,t,u))return u&ft.Host?_l(f,s,u):Yr(n,s,u,f);try{const _=g(u);if(null!=_||u&ft.Optional)return _;O(s)}finally{qs()}}else if("number"==typeof g){let _=null,b=Ht(t,n),D=-1,C=u&ft.Host?n[16][6]:null;for((-1===b||u&ft.SkipSelf)&&(D=-1===b?ws(t,n):n[b+8],-1!==D&&kr(u,!1)?(_=n[1],b=Hi(D),n=Gi(D,n)):b=-1);-1!==b;){const M=n[1];if(El(g,b,M.data)){const N=bl(b,n,s,_,u,C);if(N!==ou)return N}D=n[b+8],-1!==D&&kr(u,n[1].data[b+8]===C)&&El(g,b,n)?(_=M,b=Hi(D),n=Gi(D,n)):b=-1}}}return Yr(n,s,u,f)}const ou={};function Qo(){return new Dn(ln(),be())}function bl(t,n,s,u,f,g){const _=n[1],b=_.data[t+8],M=Jo(b,_,s,null==u?cs(b)&&bs:u!=_&&0!=(3&b.type),f&ft.Host&&g===b);return null!==M?eo(n,_,M,b):ou}function Jo(t,n,s,u,f){const g=t.providerIndexes,_=n.data,b=1048575&g,D=t.directiveStart,M=g>>20,j=f?b+M:t.directiveEnd;for(let Q=u?b:b+M;Q<j;Q++){const pe=_[Q];if(Q<D&&s===pe||Q>=D&&pe.type===s)return Q}if(f){const Q=_[D];if(Q&&mr(Q)&&Q.type===s)return D}return null}function eo(t,n,s,u){let f=t[s];const g=n.data;if(function(t){return t instanceof Ks}(f)){const _=f;_.resolving&&function(t,n){throw new he("200",`Circular dependency in DI detected for ${t}`)}(xe(g[s]));const b=jn(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?nt(_.injectImpl):null;ps(t,u,ft.Default);try{f=t[s]=_.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const _=ul(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,_)}f&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,f),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g))}(s,g[s],n)}finally{null!==D&&nt(D),jn(b),_.resolving=!1,qs()}}return f}function El(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function kr(t,n){return!(t&ft.Self||t&ft.Host&&n)}class Dn{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Ko(this._tNode,this._lView,n,u,s)}}function Br(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const g=s[f];if(Yo(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(ln(),t)}const mi="__parameters__";function Ts(t,n,s){return _n(()=>{const u=function(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const _=new f(...g);return b.annotation=_,b;function b(D,C,M){const N=D.hasOwnProperty(mi)?D[mi]:Object.defineProperty(D,mi,{value:[]})[mi];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(_),D}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}class qt{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=It({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ac=new qt("AnalyzeForEntryComponents");function fn(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let u=t[s];Array.isArray(u)?(n===t&&(n=t.slice(0,s)),fn(u,n)):n!==t&&n.push(u)}return n}function Kn(t,n){t.forEach(s=>Array.isArray(s)?Kn(s,n):n(s))}function ea(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ta(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const yi={},aa="__NG_DI_FLAG__",Kr="ngTempTokenPath",jr=/\n/gm,la="__source",ca=re({provide:String,useValue:re});let so;function mn(t){const n=so;return so=t,n}function Er(t,n=ft.Default){if(void 0===so)throw new Error("inject() must be called from an injection context");return null===so?Co(t,void 0,n):so.get(t,n&ft.Optional?null:void 0,n)}function Zt(t,n=ft.Default){return(sn||Er)(Le(t),n)}function _i(t){const n=[];for(let s=0;s<t.length;s++){const u=Le(t[s]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let f,g=ft.Default;for(let _=0;_<u.length;_++){const b=u[_],D=gu(b);"number"==typeof D?-1===D?f=b.token:g|=D:f=b}n.push(Zt(f,g))}else n.push(Zt(u))}return n}function ha(t,n){return t[aa]=n,t.prototype[aa]=n,t}function gu(t){return t[aa]}const Ss=ha(Ts("Inject",t=>({token:t})),-1),Hr=ha(Ts("Optional"),8),pt=ha(Ts("SkipSelf"),4);class Gr{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Uc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var dn=(()=>((dn=dn||{})[dn.NONE=0]="NONE",dn[dn.HTML=1]="HTML",dn[dn.STYLE=2]="STYLE",dn[dn.SCRIPT=3]="SCRIPT",dn[dn.URL=4]="URL",dn[dn.RESOURCE_URL=5]="RESOURCE_URL",dn))();function mo(t){const n=function(){const t=be();return t&&t[12]}();return n?n.sanitize(dn.URL,t)||"":function(t,n){const s=function(t){return t instanceof Gr&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?function(t){return t instanceof Gr?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(Uc)||t.match(qi)?t:"unsafe:"+t}(le(t))}const xa="__ngContext__";function Fn(t,n){t[xa]=n}function Nl(t){const n=function(t){return t[xa]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function ju(t){return t.ngOriginalError}function Pa(t,...n){t.error(...n)}class _o{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),u=(t=n)&&t.ngErrorLogger||Pa;var t;u(this._console,"ERROR",n),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&ju(n);for(;s&&ju(s);)s=ju(s);return s||null}}const Bl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function ni(t){return t instanceof Function?t():t}var hr=(()=>((hr=hr||{})[hr.Important=1]="Important",hr[hr.DashCase=2]="DashCase",hr))();function zu(t,n){return undefined(t,n)}function Re(t){const n=t[3];return vr(n)?n[3]:n}function Vl(t){return i(t[13])}function a(t){return i(t[4])}function i(t){for(;null!==t&&!vr(t);)t=t[4];return t}function r(t,n,s,u,f){if(null!=u){let g,_=!1;vr(u)?g=u:on(u)&&(_=!0,u=u[0]);const b=un(u);0===t&&null!==s?null==f?yt(n,s,b):me(n,s,b,f||null,!0):1===t&&null!==s?me(n,s,b,f||null,!0):2===t?function(t,n,s){const u=We(t,n);u&&function(t,n,s,u){Qt(t)?t.removeChild(n,s,u):n.removeChild(s)}(t,u,n,s)}(n,b,_):3===t&&n.destroyNode(b),null!=g&&function(t,n,s,u,f){const g=s[7];g!==un(s)&&r(n,t,u,g,f);for(let b=10;b<s.length;b++){const D=s[b];dr(D[1],D,t,n,u,g)}}(n,t,g,s,f)}}function m(t,n,s){return Qt(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function L(t,n){const s=t[9],u=s.indexOf(n),f=n[3];1024&n[2]&&(n[2]&=-1025,Fo(f,-1)),s.splice(u,1)}function B(t,n){if(t.length<=10)return;const s=10+n,u=t[s];if(u){const f=u[17];null!==f&&f!==t&&L(f,u),n>0&&(t[s-1][4]=u[4]);const g=ta(t,10+n);!function(t,n){dr(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(u[1],u);const _=g[19];null!==_&&_.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function X(t,n){if(!(256&n[2])){const s=n[11];Qt(s)&&s.destroyNode&&dr(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return ue(t[1],t);for(;n;){let s=null;if(on(n))s=n[13];else{const u=n[10];u&&(s=u)}if(!s){for(;n&&!n[4]&&n!==t;)on(n)&&ue(n[1],n),n=n[3];null===n&&(n=t),on(n)&&ue(n[1],n),s=n&&n[4]}n=s}}(n)}}function ue(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof Ks)){const g=s[u+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=f[g[_]],D=g[_+1];try{D.call(b)}finally{}}else try{g.call(f)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,u=n[7];let f=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const _=s[g+1],b="function"==typeof _?_(n):un(n[_]),D=u[f=s[g+2]],C=s[g+3];"boolean"==typeof C?b.removeEventListener(s[g],D,C):C>=0?u[f=C]():u[f=-C].unsubscribe(),g+=2}else{const _=u[f=s[g+1]];s[g].call(_)}if(null!==u){for(let g=f+1;g<u.length;g++)u[g]();n[7]=null}}(t,n),1===n[1].type&&Qt(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&vr(n[3])){s!==n[3]&&L(s,n);const u=n[19];null!==u&&u.detachView(t)}}}function Ge(t,n,s){return function(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[0];if(2&u.flags){const f=t.data[u.directiveStart].encapsulation;if(f===Lt.None||f===Lt.Emulated)return null}return An(u,s)}(t,n.parent,s)}function me(t,n,s,u,f){Qt(t)?t.insertBefore(n,s,u,f):n.insertBefore(s,u,f)}function yt(t,n,s){Qt(t)?t.appendChild(n,s):n.appendChild(s)}function At(t,n,s,u,f){null!==u?me(t,n,s,u,f):yt(t,n,s)}function We(t,n){return Qt(t)?t.parentNode(n):n.parentNode}let Di=function(t,n,s){return 40&t.type?An(t,s):null};function Ye(t,n,s,u){const f=Ge(t,u,n),g=n[11],b=function(t,n,s){return Di(t,n,s)}(u.parent||n[6],u,n);if(null!=f)if(Array.isArray(s))for(let D=0;D<s.length;D++)At(g,f,s[D],b,!1);else At(g,f,s,b,!1)}function ri(t,n){if(null!==n){const s=n.type;if(3&s)return An(n,t);if(4&s)return xi(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return ri(t,u);{const f=t[n.index];return vr(f)?xi(-1,f):un(f)}}if(32&s)return zu(n,t)()||un(t[n.index]);{const u=Ti(t,n);return null!==u?Array.isArray(u)?u[0]:ri(Re(t[16]),u):ri(t,n.next)}}return null}function Ti(t,n){return null!==n?t[16][6].projection[n.projection]:null}function xi(t,n){const s=10+t+1;if(s<n.length){const u=n[s],f=u[1].firstChild;if(null!==f)return ri(u,f)}return n[7]}function fr(t,n,s,u,f,g,_){for(;null!=s;){const b=u[s.index],D=s.type;if(_&&0===n&&(b&&Fn(un(b),u),s.flags|=4),64!=(64&s.flags))if(8&D)fr(t,n,s.child,u,f,g,!1),r(n,t,f,b,g);else if(32&D){const C=zu(s,u);let M;for(;M=C();)r(n,t,f,M,g);r(n,t,f,b,g)}else 16&D?Ki(t,n,u,s,f,g):r(n,t,f,b,g);s=_?s.projectionNext:s.next}}function dr(t,n,s,u,f,g){fr(s,u,t.firstChild,n,f,g,!1)}function Ki(t,n,s,u,f,g){const _=s[16],D=_[6].projection[u.projection];if(Array.isArray(D))for(let C=0;C<D.length;C++)r(n,t,f,D[C],g);else fr(t,n,D,_[3],f,g,!0)}function si(t,n,s){Qt(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Dt(t,n,s){Qt(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function zn(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}s=f+1}}const Et="ng-template";function pr(t,n,s){let u=0;for(;u<t.length;){let f=t[u++];if(s&&"class"===f){if(f=t[u],-1!==zn(f.toLowerCase(),n,0))return!0}else if(1===f){for(;u<t.length&&"string"==typeof(f=t[u++]);)if(f.toLowerCase()===n)return!0;return!1}}return!1}function Qi(t){return 4===t.type&&t.value!==Et}function Ji(t,n,s){return n===(4!==t.type||s?t.value:Et)}function Xu(t,n,s){let u=4;const f=t.attrs||[],g=function(t){for(let n=0;n<t.length;n++)if(Yo(t[n]))return n;return t.length}(f);let _=!1;for(let b=0;b<n.length;b++){const D=n[b];if("number"!=typeof D){if(!_)if(4&u){if(u=2|1&u,""!==D&&!Ji(t,D,s)||""===D&&1===n.length){if(er(u))return!1;_=!0}}else{const C=8&u?D:n[++b];if(8&u&&null!==t.attrs){if(!pr(t.attrs,C,s)){if(er(u))return!1;_=!0}continue}const N=$u(8&u?"class":D,f,Qi(t),s);if(-1===N){if(er(u))return!1;_=!0;continue}if(""!==C){let j;j=N>g?"":f[N+1].toLowerCase();const Q=8&u?j:null;if(Q&&-1!==zn(Q,C,0)||2&u&&C!==j){if(er(u))return!1;_=!0}}}}else{if(!_&&!er(u)&&!er(D))return!1;if(_&&er(D))continue;_=!1,u=D|1&u}}return er(u)||_}function er(t){return 0==(1&t)}function $u(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let g=!1;for(;f<n.length;){const _=n[f];if(_===t)return f;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=n[++f];for(;"string"==typeof b;)b=n[++f];continue}if(4===_)break;if(0===_){f+=4;continue}}f+=g?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function Gl(t,n,s=!1){for(let u=0;u<n.length;u++)if(Xu(t,n[u],s))return!0;return!1}function th(t,n){return t?":not("+n.trim()+")":n}function Sf(t){let n=t[0],s=1,u=2,f="",g=!1;for(;s<t.length;){let _=t[s];if("string"==typeof _)if(2&u){const b=t[++s];f+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?f+="."+_:4&u&&(f+=" "+_);else""!==f&&!er(_)&&(n+=th(g,f),f=""),u=_,g=g||!er(u);s++}return""!==f&&(n+=th(g,f)),n}const ct={};function If(t){Af(wt(),be(),Pn()+t,Uo())}function Af(t,n,s,u){if(!u)if(3==(3&n[2])){const g=t.preOrderCheckHooks;null!==g&&Go(n,g,s)}else{const g=t.preOrderHooks;null!==g&&zo(n,g,0,s)}Ui(s)}function gp(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const f=s[u],g=s[u+1];if(-1!==g){const _=t.data[g];gl(f),_.contentQueries(2,n[g],g)}}}function oh(t,n,s,u,f,g,_,b,D,C){const M=n.blueprint.slice();return M[0]=f,M[2]=140|u,Za(M),M[3]=M[15]=t,M[8]=s,M[10]=_||t&&t[10],M[11]=b||t&&t[11],M[12]=D||t&&t[12]||null,M[9]=C||t&&t[9]||null,M[6]=g,M[16]=2==n.type?t[16]:M,M}function $l(t,n,s,u,f){let g=t.data[n];if(null===g)g=function(t,n,s,u,f){const g=Bo(),_=Li(),D=t.data[n]=function(t,n,s,u,f,g){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=D),null!==g&&(_?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(t,n,s,u,f),ot.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=u,g.attrs=f;const _=function(){const t=ot.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return _r(g,!0),g}function Wl(t,n,s,u){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function ah(t,n,s){Un(n);try{const u=t.viewQuery;null!==u&&Wf(1,u,s);const f=t.template;null!==f&&vp(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gp(t,n),t.staticViewQueries&&Wf(2,t.viewQuery,s);const g=t.components;null!==g&&function(t,n){for(let s=0;s<n.length;s++)Xy(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[2]&=-5,Zs()}}function Yl(t,n,s,u){const f=n[2];if(256==(256&f))return;Un(n);const g=Uo();try{Za(n),function(t){ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&vp(t,n,s,2,u);const _=3==(3&f);if(!g)if(_){const C=t.preOrderCheckHooks;null!==C&&Go(n,C,null)}else{const C=t.preOrderHooks;null!==C&&zo(n,C,0,null),tu(n,0)}if(function(t){for(let n=Vl(t);null!==n;n=a(n)){if(!n[2])continue;const s=n[9];for(let u=0;u<s.length;u++){const f=s[u],g=f[3];0==(1024&f[2])&&Fo(g,1),f[2]|=1024}}}(n),function(t){for(let n=Vl(t);null!==n;n=a(n))for(let s=10;s<n.length;s++){const u=n[s],f=u[1];Ys(u)&&Yl(f,u,f.template,u[8])}}(n),null!==t.contentQueries&&gp(t,n),!g)if(_){const C=t.contentCheckHooks;null!==C&&Go(n,C)}else{const C=t.contentHooks;null!==C&&zo(n,C,1),tu(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const f=s[u];if(f<0)Ui(~f);else{const g=f,_=s[++u],b=s[++u];Fh(_,g),b(2,n[g])}}}finally{Ui(-1)}}(t,n);const b=t.components;null!==b&&function(t,n){for(let s=0;s<n.length;s++)zy(t,n[s])}(n,b);const D=t.viewQuery;if(null!==D&&Wf(2,D,u),!g)if(_){const C=t.viewCheckHooks;null!==C&&Go(n,C)}else{const C=t.viewHooks;null!==C&&zo(n,C,2),tu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),g||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Fo(n[3],-1))}finally{Zs()}}function xy(t,n,s,u){const f=n[10],g=!Uo(),_=Fr(n);try{g&&!_&&f.begin&&f.begin(),_&&ah(t,n,u),Yl(t,n,s,u)}finally{g&&!_&&f.end&&f.end()}}function vp(t,n,s,u,f){const g=Pn(),_=2&u;try{Ui(-1),_&&n.length>20&&Af(t,n,20,Uo()),s(u,f)}finally{Ui(g)}}function Uf(t,n,s){!fs()||(function(t,n,s,u){const f=s.directiveStart,g=s.directiveEnd;t.firstCreatePass||Es(s,n),Fn(u,n);const _=s.initialInputs;for(let b=f;b<g;b++){const D=t.data[b],C=mr(D);C&&Uy(n,s,D);const M=eo(n,t,b,s);Fn(M,n),null!==_&&jy(0,b-f,M,D,0,_),C&&(Bn(s.index,n)[8]=M)}}(t,n,s,An(s,n)),128==(128&s.flags)&&function(t,n,s){const u=s.directiveStart,f=s.directiveEnd,_=s.index,b=ot.lFrame.currentDirectiveIndex;try{Ui(_);for(let D=u;D<f;D++){const C=t.data[D],M=n[D];Bi(D),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&xp(C,M)}}finally{Ui(-1),Bi(b)}}(t,n,s))}function jf(t,n,s=An){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const _=u[g+1],b=-1===_?s(n,t):t[_];t[f++]=b}}}function yp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Kh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Kh(t,n,s,u,f,g,_,b,D,C){const M=20+u,N=M+f,j=function(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:ct);return s}(M,N),Q="function"==typeof C?C():C;return j[1]={type:t,blueprint:j,template:s,queries:null,viewQuery:b,declTNode:n,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:Q,incompleteFirstPass:!1}}function Ep(t,n,s,u){const f=Mp(n);null===s?f.push(u):(f.push(s),t.firstCreatePass&&Op(t).push(u,f.length-1))}function wp(t,n,s){for(let u in t)if(t.hasOwnProperty(u)){const f=t[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(n,f):s[u]=[n,f]}return s}function Hf(t,n,s,u){let f=!1;if(fs()){const g=function(t,n,s){const u=t.directiveRegistry;let f=null;if(u)for(let g=0;g<u.length;g++){const _=u[g];Gl(s,_.selectors,!1)&&(f||(f=[]),lr(Es(s,n),t,_.type),mr(_)?(Cp(t,s),f.unshift(_)):f.push(_))}return f}(t,n,s),_=null===u?null:{"":-1};if(null!==g){f=!0,Sp(s,t.data.length,g.length);for(let M=0;M<g.length;M++){const N=g[M];N.providersResolver&&N.providersResolver(N)}let b=!1,D=!1,C=Wl(t,n,g.length,null);for(let M=0;M<g.length;M++){const N=g[M];s.mergedAttrs=_s(s.mergedAttrs,N.hostAttrs),Ip(t,s,n,C,N),By(C,N,_),null!==N.contentQueries&&(s.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=128);const j=N.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),b=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),D=!0),C++}!function(t,n){const u=n.directiveEnd,f=t.data,g=n.attrs,_=[];let b=null,D=null;for(let C=n.directiveStart;C<u;C++){const M=f[C],N=M.inputs,j=null===g||Qi(n)?null:Hy(N,g);_.push(j),b=wp(N,C,b),D=wp(M.outputs,C,D)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=16),b.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=_,n.inputs=b,n.outputs=D}(t,s)}_&&function(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new he("301",`Export of name '${n[f+1]}' not found!`);u.push(n[f],g)}}}(s,u,_)}return s.mergedAttrs=_s(s.mergedAttrs,s.attrs),f}function Tp(t,n,s,u,f,g){const _=g.hostBindings;if(_){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const D=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(b)!=D&&b.push(D),b.push(u,f,_)}}function xp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Cp(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function By(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;mr(n)&&(s[""]=t)}}function Sp(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Ip(t,n,s,u,f){t.data[u]=f;const g=f.factory||(f.factory=di(f.type)),_=new Ks(g,mr(f),null);t.blueprint[u]=_,s[u]=_,Tp(t,n,0,u,Wl(t,s,f.hostVars,ct),f)}function Uy(t,n,s){const u=An(n,t),f=yp(s),g=t[10],_=Qh(t,oh(t,f,null,s.onPush?64:16,u,n,g,g.createRenderer(u,s),null,null));t[n.index]=_}function Ls(t,n,s,u,f,g){const _=An(t,n);!function(t,n,s,u,f,g,_){if(null==g)Qt(t)?t.removeAttribute(n,f,s):n.removeAttribute(f);else{const b=null==_?le(g):_(g,u||"",f);Qt(t)?t.setAttribute(n,f,b,s):s?n.setAttributeNS(s,f,b):n.setAttribute(f,b)}}(n[11],_,g,t.value,s,u,f)}function jy(t,n,s,u,f,g){const _=g[n];if(null!==_){const b=u.setInput;for(let D=0;D<_.length;){const C=_[D++],M=_[D++],N=_[D++];null!==b?u.setInput(s,N,C,M):s[M]=N}}}function Hy(t,n){let s=null,u=0;for(;u<n.length;){const f=n[u];if(0!==f)if(5!==f){if("number"==typeof f)break;t.hasOwnProperty(f)&&(null===s&&(s=[]),s.push(f,t[f],n[u+1])),u+=2}else u+=2;else u+=4}return s}function Ap(t,n,s,u){return new Array(t,!0,!1,n,null,0,u,s,null,null)}function zy(t,n){const s=Bn(n,t);if(Ys(s)){const u=s[1];80&s[2]?Yl(u,s,u.template,s[8]):s[5]>0&&Gf(s)}}function Gf(t){for(let u=Vl(t);null!==u;u=a(u))for(let f=10;f<u.length;f++){const g=u[f];if(1024&g[2]){const _=g[1];Yl(_,g,_.template,g[8])}else g[5]>0&&Gf(g)}const s=t[1].components;if(null!==s)for(let u=0;u<s.length;u++){const f=Bn(s[u],t);Ys(f)&&f[5]>0&&Gf(f)}}function Xy(t,n){const s=Bn(n,t),u=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(u,s),ah(u,s,s[8])}function Qh(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function zf(t){for(;t;){t[2]|=64;const n=Re(t);if(nl(t)&&!n)return t;t=n}return null}function $f(t,n,s){const u=n[10];u.begin&&u.begin();try{Yl(t,n,t.template,s)}catch(f){throw Fp(n,f),f}finally{u.end&&u.end()}}function Pp(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],u=Nl(s),f=u[1];xy(f,u,f.template,s)}}(t[8])}function Wf(t,n,s){gl(0),n(t,s)}const Zy=(()=>Promise.resolve(null))();function Mp(t){return t[7]||(t[7]=[])}function Op(t){return t.cleanup||(t.cleanup=[])}function Fp(t,n){const s=t[9],u=s?s.get(_o,null):null;u&&u.handleError(n)}function To(t,n,s){const u=function(t,n){return un(n[t])}(n,t);!function(t,n,s){Qt(t)?t.setValue(n,s):n.textContent=s}(t[11],u,s)}function Jh(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let _=0;_<n.length;_++){const b=n[_];"number"==typeof b?g=b:1==g?f=Pe(f,b):2==g&&(u=Pe(u,b+": "+n[++_]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}const Yf=new qt("INJECTOR",-1);class Lp{get(n,s=yi){if(s===yi){const u=new Error(`NullInjectorError: No provider for ${ae(n)}!`);throw u.name="NullInjectorError",u}return s}}const qf=new qt("Set Injector scope."),uh={},Jy={};let Zf;function kp(){return void 0===Zf&&(Zf=new Lp),Zf}function Bp(t,n=null,s=null,u){const f=Up(t,n,s,u);return f._resolveInjectorDefTypes(),f}function Up(t,n=null,s=null,u){return new e_(t,s,n||kp(),u)}class e_{constructor(n,s,u,f=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];s&&Kn(s,b=>this.processProvider(b,n,s)),Kn([n],b=>this.processInjectorType(b,[],g)),this.records.set(Yf,ql(void 0,this));const _=this.records.get(qf);this.scope=null!=_?_.value:null,this.source=f||("object"==typeof n?null:ae(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=yi,u=ft.Default){this.assertNotDestroyed();const f=mn(this),g=nt(void 0);try{if(!(u&ft.SkipSelf)){let b=this.records.get(n);if(void 0===b){const D=("function"==typeof(t=n)||"object"==typeof t&&t instanceof qt)&&$n(n);b=D&&this.injectableDefInScope(D)?ql(Kf(n),uh):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(u&ft.Self?kp():this.parent).get(n,s=u&ft.Optional&&s===yi?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Kr]=_[Kr]||[]).unshift(ae(n)),f)throw _;return function(t,n,s,u){const f=t[Kr];throw n[la]&&f.unshift(n[la]),t.message=function(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let f=ae(n);if(Array.isArray(n))f=n.map(ae).join(" -> ");else if("object"==typeof n){let g=[];for(let _ in n)if(n.hasOwnProperty(_)){let b=n[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):ae(b)))}f=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(jr,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[Kr]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{nt(g),mn(f)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((u,f)=>n.push(ae(f))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,u){if(!(n=Le(n)))return!1;let f=Qu(n);const g=null==f&&n.ngModule||void 0,_=void 0===g?n:g,b=-1!==u.indexOf(_);if(void 0!==g&&(f=Qu(g)),null==f)return!1;if(null!=f.imports&&!b){let M;u.push(_);try{Kn(f.imports,N=>{this.processInjectorType(N,s,u)&&(void 0===M&&(M=[]),M.push(N))})}finally{}if(void 0!==M)for(let N=0;N<M.length;N++){const{ngModule:j,providers:Q}=M[N];Kn(Q,pe=>this.processProvider(pe,j,Q||Mt))}}this.injectorDefTypes.add(_);const D=di(_)||(()=>new _);this.records.set(_,ql(D,uh));const C=f.providers;if(null!=C&&!b){const M=n;Kn(C,N=>this.processProvider(N,M,C))}return void 0!==g&&void 0!==n.providers}processProvider(n,s,u){let f=Zl(n=Le(n))?n:Le(n&&n.provide);const g=(t=n,Hp(t)?ql(void 0,t.useValue):ql(jp(t),uh));var t;if(Zl(n)||!0!==n.multi)this.records.get(f);else{let _=this.records.get(f);_||(_=ql(void 0,uh,!0),_.factory=()=>_i(_.multi),this.records.set(f,_)),f=n,_.multi.push(n)}this.records.set(f,g)}hydrate(n,s){return s.value===uh&&(s.value=Jy,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Le(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Kf(t){const n=$n(t),s=null!==n?n.factory:di(t);if(null!==s)return s;if(t instanceof qt)throw new Error(`Token ${ae(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const u=function(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?");throw new Error(`Can't resolve all parameters for ${ae(t)}: (${u.join(", ")}).`)}const s=function(t){const n=t&&(t[is]||t[Mi]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function jp(t,n,s){let u;if(Zl(t)){const f=Le(t);return di(f)||Kf(f)}if(Hp(t))u=()=>Le(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(..._i(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))u=()=>Zt(Le(t.useExisting));else{const f=Le(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return di(f)||Kf(f);u=()=>new f(..._i(t.deps))}return u}function ql(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Hp(t){return null!==t&&"object"==typeof t&&ca in t}function Zl(t){return"function"==typeof t}let Ii=(()=>{class t{static create(s,u){var f;if(Array.isArray(s))return Bp({name:""},u,s,"");{const g=null!==(f=s.name)&&void 0!==f?f:"";return Bp({name:g},s.parent,s.providers,g)}}}return t.THROW_IF_NOT_FOUND=yi,t.NULL=new Lp,t.\u0275prov=It({token:t,providedIn:"any",factory:()=>Zt(Yf)}),t.__NG_ELEMENT_ID__=-1,t})();function v_(t,n){Vo(Nl(t)[1],ln())}let ef=null;function Kl(){if(!ef){const t=Bt.Symbol;if(t&&t.iterator)ef=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const u=n[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ef=u)}}}return ef}function lh(t){return!!td(t)&&(Array.isArray(t)||!(t instanceof Map)&&Kl()in t)}function td(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function gr(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function nd(t,n,s,u){const f=be();return gr(f,ds(),n)&&(wt(),Ls(function(){const t=ot.lFrame;return Ro(t.tView,t.selectedIndex)}(),f,t,n,s,u)),nd}function cg(t,n,s,u,f,g,_,b){const D=be(),C=wt(),M=t+20,N=C.firstCreatePass?function(t,n,s,u,f,g,_,b,D){const C=n.consts,M=$l(n,t,4,_||null,or(C,b));Hf(n,s,M,or(C,D)),Vo(n,M);const N=M.tViews=Kh(2,M,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,C);return null!==n.queries&&(n.queries.template(n,M),N.queries=n.queries.embeddedTView(M)),M}(M,C,D,n,s,u,f,g,_):C.data[M];_r(N,!1);const j=D[11].createComment("");Ye(C,D,j,N),Fn(j,D),Qh(D,D[M]=Ap(j,D,j,N)),an(N)&&Uf(C,D,N),null!=_&&jf(D,N,b)}function hg(t){return yr(ot.lFrame.contextLView,20+t)}function hh(t,n=ft.Default){const s=be();return null===s?Zt(t,n):Ko(ln(),s,Le(t),n)}function wg(){throw new Error("invalid")}function ad(t,n,s,u,f){const _=f?"class":"style";!function(t,n,s,u,f){for(let g=0;g<s.length;){const _=s[g++],b=s[g++],D=n[_],C=t.data[_];null!==C.setInput?C.setInput(D,f,u,b):D[b]=f}}(t,s,n.inputs[_],_,u)}function ud(t,n,s,u){const f=be(),g=wt(),_=20+t,b=f[11],D=f[_]=m(b,n,ot.lFrame.currentNamespace),C=g.firstCreatePass?function(t,n,s,u,f,g,_){const b=n.consts,C=$l(n,t,2,f,or(b,g));return Hf(n,s,C,or(b,_)),null!==C.attrs&&Jh(C,C.attrs,!1),null!==C.mergedAttrs&&Jh(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(_,g,f,0,n,s,u):g.data[_];_r(C,!0);const M=C.mergedAttrs;null!==M&&Wo(b,D,M);const N=C.classes;null!==N&&Dt(b,D,N);const j=C.styles;null!==j&&si(b,D,j),64!=(64&C.flags)&&Ye(g,f,D,C),0===ot.lFrame.elementDepthCount&&Fn(D,f),ot.lFrame.elementDepthCount++,an(C)&&(Uf(g,f,C),function(t,n,s){if(ir(n)){const f=n.directiveEnd;for(let g=n.directiveStart;g<f;g++){const _=t.data[g];_.contentQueries&&_.contentQueries(1,s[g],g)}}}(g,C,f)),null!==u&&jf(f,C)}function ld(){let t=ln();Li()?ot.lFrame.isParent=!1:(t=t.parent,_r(t,!1));const n=t;ot.lFrame.elementDepthCount--;const s=wt();s.firstCreatePass&&(Vo(s,t),ir(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&ad(s,n,be(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&ad(s,n,be(),n.stylesWithoutHost,!1)}function Tg(t,n,s,u){ud(t,n,s,u),ld()}function Sg(){return be()}function cd(t){return!!t&&"function"==typeof t.then}function Ig(t){return!!t&&"function"==typeof t.subscribe}const Ag=Ig;function hd(t,n,s,u){const f=be(),g=wt(),_=ln();return function(t,n,s,u,f,g,_,b){const D=an(u),M=t.firstCreatePass&&Op(t),N=n[8],j=Mp(n);let Q=!0;if(3&u.type||b){const Ne=An(u,n),$e=b?b(Ne):Ne,_e=j.length,et=b?Tt=>b(un(Tt[u.index])):u.index;if(Qt(s)){let Tt=null;if(!b&&D&&(Tt=function(t,n,s,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const _=f[g];if(_===s&&f[g+1]===u){const b=n[7],D=f[g+2];return b.length>D?b[D]:null}"string"==typeof _&&(g+=2)}return null}(t,n,f,u.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=g,Tt.__ngLastListenerFn__=g,Q=!1;else{g=fd(u,n,N,g,!1);const Vt=s.listen($e,f,g);j.push(g,Vt),M&&M.push(f,et,_e,_e+1)}}else g=fd(u,n,N,g,!0),$e.addEventListener(f,g,_),j.push(g),M&&M.push(f,et,_e,_)}else g=fd(u,n,N,g,!1);const pe=u.outputs;let Se;if(Q&&null!==pe&&(Se=pe[f])){const Ne=Se.length;if(Ne)for(let $e=0;$e<Ne;$e+=2){const ci=n[Se[$e]][Se[$e+1]].subscribe(g),Ku=j.length;j.push(g,ci),M&&M.push(f,u.index,Ku,-(Ku+1))}}}(g,f,f[11],_,t,n,!!s,u),hd}function Og(t,n,s,u){try{return!1!==s(u)}catch(f){return Fp(t,f),!1}}function fd(t,n,s,u,f){return function g(_){if(_===Function)return u;const b=2&t.flags?Bn(t.index,n):n;0==(32&n[2])&&zf(b);let D=Og(n,0,u,_),C=g.__ngNextListenerFn__;for(;C;)D=Og(n,0,C,_)&&D,C=C.__ngNextListenerFn__;return f&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function rv(t,n=""){const s=be(),u=wt(),f=t+20,g=u.firstCreatePass?$l(u,f,1,n,null):u.data[f],_=s[f]=function(t,n){return Qt(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Ye(u,s,_,g),_r(g,!1)}function sf(t,n,s){const u=be(),f=function(t,n,s,u){return gr(t,ds(),s)?n+le(s)+u:ct}(u,t,n,s);return f!==ct&&To(u,Pn(),f),sf}const qu=void 0;var j0=["en",[["a","p"],["AM","PM"],qu],[["AM","PM"],qu,qu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qu,"{1} 'at' {0}",qu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let lc={};function gd(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=xv(n);if(s)return s;const u=n.split("-")[0];if(s=xv(u),s)return s;if("en"===u)return j0;throw new Error(`Missing locale data for the locale "${t}".`)}function Tv(t){return gd(t)[st.PluralCase]}function xv(t){return t in lc||(lc[t]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[t]),lc[t]}var st=(()=>((st=st||{})[st.LocaleId=0]="LocaleId",st[st.DayPeriodsFormat=1]="DayPeriodsFormat",st[st.DayPeriodsStandalone=2]="DayPeriodsStandalone",st[st.DaysFormat=3]="DaysFormat",st[st.DaysStandalone=4]="DaysStandalone",st[st.MonthsFormat=5]="MonthsFormat",st[st.MonthsStandalone=6]="MonthsStandalone",st[st.Eras=7]="Eras",st[st.FirstDayOfWeek=8]="FirstDayOfWeek",st[st.WeekendRange=9]="WeekendRange",st[st.DateFormat=10]="DateFormat",st[st.TimeFormat=11]="TimeFormat",st[st.DateTimeFormat=12]="DateTimeFormat",st[st.NumberSymbols=13]="NumberSymbols",st[st.NumberFormats=14]="NumberFormats",st[st.CurrencyCode=15]="CurrencyCode",st[st.CurrencySymbol=16]="CurrencySymbol",st[st.CurrencyName=17]="CurrencyName",st[st.Currencies=18]="Currencies",st[st.Directionality=19]="Directionality",st[st.PluralCase=20]="PluralCase",st[st.ExtraData=21]="ExtraData",st))();const of="en-US";let Cv=of;function yd(t,n,s,u,f){if(t=Le(t),Array.isArray(t))for(let g=0;g<t.length;g++)yd(t[g],n,s,u,f);else{const g=wt(),_=be();let b=Zl(t)?t:Le(t.provide),D=jp(t);const C=ln(),M=1048575&C.providerIndexes,N=C.directiveStart,j=C.providerIndexes>>20;if(Zl(t)||!t.multi){const Q=new Ks(D,f,hh),pe=bd(b,n,f?M:M+j,N);-1===pe?(lr(Es(C,_),g,b),_d(g,t,n.length),n.push(b),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push(Q),_.push(Q)):(s[pe]=Q,_[pe]=Q)}else{const Q=bd(b,n,M+j,N),pe=bd(b,n,M,M+j),Se=Q>=0&&s[Q],Ne=pe>=0&&s[pe];if(f&&!Ne||!f&&!Se){lr(Es(C,_),g,b);const $e=function(t,n,s,u,f){const g=new Ks(t,s,hh);return g.multi=[],g.index=n,g.componentProviders=0,Zv(g,f,u&&!s),g}(f?Bb:kb,s.length,f,u,D);!f&&Ne&&(s[pe].providerFactory=$e),_d(g,t,n.length,0),n.push(b),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push($e),_.push($e)}else _d(g,t,Q>-1?Q:pe,Zv(s[f?pe:Q],D,!f&&u));!f&&u&&Ne&&s[pe].componentProviders++}}}function _d(t,n,s,u){const f=Zl(n),g=function(t){return!!t.useClass}(n);if(f||g){const D=(g?Le(n.useClass):n).prototype.ngOnDestroy;if(D){const C=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const M=C.indexOf(s);-1===M?C.push(s,[u,D]):C[M+1].push(u,D)}else C.push(s,D)}}}function Zv(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function bd(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function kb(t,n,s,u){return Ed(this.multi,[])}function Bb(t,n,s,u){const f=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=eo(s,s[1],this.providerFactory.index,u);g=b.slice(0,_),Ed(f,g);for(let D=_;D<b.length;D++)g.push(b[D])}else g=[],Ed(f,g);return g}function Ed(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Kv(t,n=[]){return s=>{s.providersResolver=(u,f)=>function(t,n,s){const u=wt();if(u.firstCreatePass){const f=mr(t);yd(s,u.data,u.blueprint,f,!0),yd(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Qv{}class Vb{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${ae(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let mh=(()=>{class t{}return t.NULL=new Vb,t})();function Gb(){return hc(ln(),be())}function hc(t,n){return new yh(An(t,n))}let yh=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Gb,t})();function zb(t){return t instanceof yh?t.nativeElement:t}class em{}let Xb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=be(),s=Bn(ln().index,t);return function(t){return t[11]}(on(s)?s:t)}(),t})(),Yb=(()=>{class t{}return t.\u0275prov=It({token:t,providedIn:"root",factory:()=>null}),t})();class tm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const qb=new tm("13.1.1"),wd={};function hf(t,n,s,u,f=!1){for(;null!==s;){const g=n[s.index];if(null!==g&&u.push(un(g)),vr(g))for(let b=10;b<g.length;b++){const D=g[b],C=D[1].firstChild;null!==C&&hf(D[1],D,C,u)}const _=s.type;if(8&_)hf(t,n,s.child,u);else if(32&_){const b=zu(s,n);let D;for(;D=b();)u.push(D)}else if(16&_){const b=Ti(n,s);if(Array.isArray(b))u.push(...b);else{const D=Re(n[16]);hf(D[1],D,b,u,!0)}}s=f?s.projectionNext:s.next}return u}class _h{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return hf(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(vr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(B(n,u),ta(s,u))}this._attachedToViewContainer=!1}X(this._lView[1],this._lView)}onDestroy(n){Ep(this._lView[1],this._lView,null,n)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$f(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){ki(!0);try{$f(t,n,s)}finally{ki(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,dr(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Zb extends _h{constructor(n){super(n),this._view=n}detectChanges(){Pp(this._view)}checkNoChanges(){!function(t){ki(!0);try{Pp(t)}finally{ki(!1)}}(this._view)}get context(){return null}}class nm extends mh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=lt(n);return new Dd(s,this.ngModule)}}function rm(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const Qb=new qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bl});class Dd extends Qv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(Sf).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return rm(this.componentDef.inputs)}get outputs(){return rm(this.componentDef.outputs)}create(n,s,u,f){const g=(f=f||this.ngModule)?function(t,n){return{get:(s,u,f)=>{const g=t.get(s,wd,f);return g!==wd||u===wd?g:n.get(s,u,f)}}}(n,f.injector):n,_=g.get(em,vn),b=g.get(Yb,null),D=_.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=u?function(t,n,s){if(Qt(t))return t.selectRootElement(n,s===Lt.ShadowDom);let u="string"==typeof n?t.querySelector(n):n;return u.textContent="",u}(D,u,this.componentDef.encapsulation):m(_.createRenderer(null,this.componentDef),C,function(t){const n=t.toLowerCase();return"svg"===n?ht:"math"===n?"http://www.w3.org/1998/MathML/":null}(C)),N=this.componentDef.onPush?576:528,j=function(t,n){return{components:[],scheduler:t||Bl,clean:Zy,playerHandler:n||null,flags:0}}(),Q=Kh(0,null,null,1,0,null,null,null,null,null),pe=oh(null,Q,j,N,null,null,_,D,b,g);let Se,Ne;Un(pe);try{const $e=function(t,n,s,u,f,g){const _=s[1];s[20]=t;const D=$l(_,20,2,"#host",null),C=D.mergedAttrs=n.hostAttrs;null!==C&&(Jh(D,C,!0),null!==t&&(Wo(f,t,C),null!==D.classes&&Dt(f,t,D.classes),null!==D.styles&&si(f,t,D.styles)));const M=u.createRenderer(t,n),N=oh(s,yp(n),null,n.onPush?64:16,s[20],D,u,M,g||null,null);return _.firstCreatePass&&(lr(Es(D,s),_,n.type),Cp(_,D),Sp(D,s.length,1)),Qh(s,N),s[20]=N}(M,this.componentDef,pe,_,D);if(M)if(u)Wo(D,M,["ng-version",qb.full]);else{const{attrs:_e,classes:et}=function(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&s.push(g);else{if(!er(f))break;f=g}u++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);_e&&Wo(D,M,_e),et&&et.length>0&&Dt(D,M,et.join(" "))}if(Ne=Ro(Q,20),void 0!==s){const _e=Ne.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const Tt=s[et];_e.push(null!=Tt?Array.from(Tt):null)}}Se=function(t,n,s,u,f){const g=s[1],_=function(t,n,s){const u=ln();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Ip(t,u,n,Wl(t,n,1,null),s));const f=eo(n,t,u.directiveStart,u);Fn(f,n);const g=An(u,n);return g&&Fn(g,n),f}(g,s,n);if(u.components.push(_),t[8]=_,f&&f.forEach(D=>D(_,n)),n.contentQueries){const D=ln();n.contentQueries(1,_,D.directiveStart)}const b=ln();return!g.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ui(b.index),Tp(s[1],b,0,b.directiveStart,b.directiveEnd,n),xp(n,_)),_}($e,this.componentDef,pe,j,[v_]),ah(Q,pe,null)}finally{Zs()}return new tE(this.componentType,Se,hc(Ne,pe),pe,Ne)}}class tE extends class{}{constructor(n,s,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new Zb(f),this.componentType=n}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class fc{}class im{}const dc=new Map;class am extends fc{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nm(this);const u=Tn(n);this._bootstrapComponents=ni(u.bootstrap),this._r3Injector=Up(n,s,[{provide:fc,useValue:this},{provide:mh,useValue:this.componentFactoryResolver}],ae(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Ii.THROW_IF_NOT_FOUND,u=ft.Default){return n===Ii||n===fc||n===Yf?this:this._r3Injector.get(n,s,u)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Td extends im{constructor(n){super(),this.moduleType=n,null!==Tn(n)&&function(t){const n=new Set;!function s(u){const f=Tn(u,!0),g=f.id;null!==g&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${ae(n)} vs ${ae(n.name)}`)}(g,dc.get(g),u),dc.set(g,u));const _=ni(f.imports);for(const b of _)n.has(b)||(n.add(b),s(b))}(t)}(n)}create(n){return new am(this.moduleType,n)}}function lm(t,n,s,u,f,g,_){const b=n+s;return function(t,n,s,u){const f=gr(t,n,s);return gr(t,n+1,u)||f}(t,b,f,g)?function(t,n,s){return t[n]=s}(t,b+2,_?u.call(_,f,g):u(f,g)):function(t,n){const s=t[n];return s===ct?void 0:s}(t,b+2)}function dm(t,n){const s=wt();let u;const f=t+20;s.firstCreatePass?(u=function(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(f,u.onDestroy)):u=s.data[f];const g=u.factory||(u.factory=di(u.type)),_=nt(hh);try{const b=jn(!1),D=g();return jn(b),function(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,be(),f,D),D}finally{nt(_)}}function pm(t,n,s,u){const f=t+20,g=be(),_=yr(g,f);return function(t,n){return t[1].data[n].pure}(g,f)?lm(g,function(){const t=ot.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,_.transform,s,u,_):_.transform(s,u)}function xd(t){return n=>{setTimeout(t,void 0,n)}}const js=class extends Z.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){var f,g,_;let b=n,D=s||(()=>null),C=u;if(n&&"object"==typeof n){const N=n;b=null===(f=N.next)||void 0===f?void 0:f.bind(N),D=null===(g=N.error)||void 0===g?void 0:g.bind(N),C=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(D=xd(D),b&&(b=xd(b)),C&&(C=xd(C)));const M=super.subscribe({next:b,error:D,complete:C});return n instanceof G.w&&n.add(M),M}};function bE(){return this._results[Kl()]()}class Cd{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Kl(),u=Cd.prototype;u[s]||(u[s]=bE)}get changes(){return this._changes||(this._changes=new js)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=fn(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wh=(()=>{class t{}return t.__NG_ELEMENT_ID__=DE,t})();const EE=wh,wE=class extends EE{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(n){const s=this._declarationTContainer.tViews,u=oh(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(s)),ah(s,u,n),new _h(u)}};function DE(){return ff(ln(),be())}function ff(t,n){return 4&t.type?new wE(n,t,hc(t,n)):null}let df=(()=>{class t{}return t.__NG_ELEMENT_ID__=TE,t})();function TE(){return mm(ln(),be())}const xE=df,gm=class extends xE{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){const n=ws(this._hostTNode,this._hostLView);if(qo(n)){const s=Gi(n,this._hostLView),u=Hi(n);return new Dn(s[1].data[u+8],s)}return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=vm(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,u){const f=n.createEmbeddedView(s||{});return this.insert(f,u),f}createComponent(n,s,u,f,g){const _=n&&!("function"==typeof n);let b;if(_)b=s;else{const N=s||{};b=N.index,u=N.injector,f=N.projectableNodes,g=N.ngModuleRef}const D=_?n:new Dd(lt(n)),C=u||this.parentInjector;if(!g&&null==D.ngModule&&C){const N=C.get(fc,null);N&&(g=N)}const M=D.create(C,f,void 0,g);return this.insert(M.hostView,b),M}insert(n,s){const u=n._lView,f=u[1];if(vr(u[3])){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const N=u[3],j=new gm(N,N[6],N[3]);j.detach(j.indexOf(n))}}const g=this._adjustIndex(s),_=this._lContainer;!function(t,n,s,u){const f=10+u,g=s.length;u>0&&(s[f-1][4]=n),u<g-10?(n[4]=s[f],ea(s,10+u,n)):(s.push(n),n[4]=null),n[3]=s;const _=n[17];null!==_&&s!==_&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(_,n);const b=n[19];null!==b&&b.insertView(t),n[2]|=128}(f,u,_,g);const b=xi(g,_),D=u[11],C=We(D,_[7]);return null!==C&&function(t,n,s,u,f,g){u[0]=f,u[6]=n,dr(t,u,s,1,f,g)}(f,_[6],D,u,C,b),n.attachToViewContainerRef(),ea(Sd(_),g,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=vm(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=B(this._lContainer,s);u&&(ta(Sd(this._lContainer),s),X(u[1],u))}detach(n){const s=this._adjustIndex(n,-1),u=B(this._lContainer,s);return u&&null!=ta(Sd(this._lContainer),s)?new _h(u):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function vm(t){return t[8]}function Sd(t){return t[8]||(t[8]=[])}function mm(t,n){let s;const u=n[t.index];if(vr(u))s=u;else{let f;if(8&t.type)f=un(u);else{const g=n[11];f=g.createComment("");const _=An(t,n);me(g,We(g,_),f,function(t,n){return Qt(t)?t.nextSibling(n):n.nextSibling}(g,_),!1)}n[t.index]=s=Ap(u,n,f,t),Qh(n,s)}return new gm(s,t,n)}class Id{constructor(n){this.queryList=n,this.matches=null}clone(){return new Id(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ad{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<u;g++){const _=s.getByIndex(g);f.push(this.queries[_.indexInDeclarationView].clone())}return new Ad(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==Cm(n,s).matches&&this.queries[s].setDirty()}}class ym{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Pd{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new Pd(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Md{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Md(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,s,IE(s,g)),this.matchTNodeWithReadOption(n,s,Jo(s,n,g,!1,!1))}else u===wh?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Jo(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===yh||f===df||f===wh&&4&s.type)this.addMatch(s.index,-2);else{const g=Jo(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function IE(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function PE(t,n,s,u){return-1===s?function(t,n){return 11&t.type?hc(t,n):4&t.type?ff(t,n):null}(n,t):-2===s?function(t,n,s){return s===yh?hc(n,t):s===wh?ff(n,t):s===df?mm(n,t):void 0}(t,n,u):eo(t,t[1],s,n)}function _m(t,n,s,u){const f=n[19].queries[u];if(null===f.matches){const g=t.data,_=s.matches,b=[];for(let D=0;D<_.length;D+=2){const C=_[D];b.push(C<0?null:PE(n,g[C],_[D+1],s.metadata.read))}f.matches=b}return f.matches}function Od(t,n,s,u){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const _=_m(t,n,f,s);for(let b=0;b<g.length;b+=2){const D=g[b];if(D>0)u.push(_[b/2]);else{const C=g[b+1],M=n[-D];for(let N=10;N<M.length;N++){const j=M[N];j[17]===j[3]&&Od(j[1],j,C,u)}if(null!==M[9]){const N=M[9];for(let j=0;j<N.length;j++){const Q=N[j];Od(Q[1],Q,C,u)}}}}}return u}function bm(t){const n=be(),s=wt(),u=pl();gl(u+1);const f=Cm(s,u);if(t.dirty&&Fr(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?Od(s,n,u,[]):_m(s,n,f,u);t.reset(g,zb),t.notifyOnChanges()}return!0}return!1}function Em(t,n,s){const u=wt();u.firstCreatePass&&(xm(u,new ym(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),Tm(u,be(),n)}function wm(t,n,s,u){const f=wt();if(f.firstCreatePass){const g=ln();xm(f,new ym(n,s,u),g.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}Tm(f,be(),s)}function Dm(){return t=be(),n=pl(),t[19].queries[n].queryList;var t,n}function Tm(t,n,s){const u=new Cd(4==(4&s));Ep(t,n,u,u.destroy),null===n[19]&&(n[19]=new Ad),n[19].queries.push(new Id(u))}function xm(t,n,s){null===t.queries&&(t.queries=new Pd),t.queries.track(new Md(n,s))}function Cm(t,n){return t.queries.getByIndex(n)}function Sm(t,n){return ff(t,n)}function vf(...t){}const Bd=new qt("Application Initializer");let gc=(()=>{class t{constructor(s){this.appInits=s,this.resolve=vf,this.reject=vf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(cd(g))s.push(g);else if(Ag(g)){const _=new Promise((b,D)=>{g.subscribe({complete:b,error:D})});s.push(_)}}Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Zt(Bd,8))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();const zm=new qt("AppId"),KE={provide:zm,useFactory:function(){return`${Ud()}${Ud()}${Ud()}`},deps:[]};function Ud(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xm=new qt("Platform Initializer"),$m=new qt("Platform ID"),Wm=new qt("appBootstrapListener");let Ym=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();const mf=new qt("LocaleId"),qm=new qt("DefaultCurrencyCode");class QE{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let jd=(()=>{class t{compileModuleSync(s){return new Td(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=ni(Tn(s).declarations).reduce((_,b)=>{const D=lt(b);return D&&_.push(new Dd(D)),_},[]);return new QE(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();const ew=(()=>Promise.resolve(0))();function Hd(t){"undefined"==typeof Zone?ew.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class li{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new js(!1),this.onMicrotaskEmpty=new js(!1),this.onStable=new js(!1),this.onError=new js(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let t=Bt.requestAnimationFrame,n=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gd(t),t.isCheckStableRunning=!0,Vd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,g,_,b)=>{try{return Zm(t),s.invokeTask(f,g,_,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),Km(t)}},onInvoke:(s,u,f,g,_,b,D)=>{try{return Zm(t),s.invoke(f,g,_,b,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Km(t)}},onHasTask:(s,u,f,g)=>{s.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,Gd(t),Vd(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!li.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(li.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+f,n,nw,vf,vf);try{return g.runTask(_,s,u)}finally{g.cancelTask(_)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const nw={};function Vd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Km(t){t._nesting--,Vd(t)}class sw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js,this.onMicrotaskEmpty=new js,this.onStable=new js,this.onError=new js}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}let Qm=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{li.assertNotInAngularZone(),Hd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hd(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,f){return[]}}return t.\u0275fac=function(s){return new(s||t)(Zt(li))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})(),Jm=(()=>{class t{constructor(){this._applications=new Map,zd.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return zd.findTestabilityInTree(this,s,u)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();class ow{addToWindow(n){}findTestabilityInTree(n,s,u){return null}}function aw(t){zd=t}let rs,zd=new ow;const ey=new qt("AllowMultipleToken");class hw{constructor(n,s){this.name=n,this.token=s}}function ty(t,n,s=[]){const u=`Platform: ${n}`,f=new qt(u);return(g=[])=>{let _=ny();if(!_||_.injector.get(ey,!1))if(t)t(s.concat(g).concat({provide:f,useValue:!0}));else{const b=s.concat(g).concat({provide:f,useValue:!0},{provide:qf,useValue:"platform"});!function(t){if(rs&&!rs.destroyed&&!rs.injector.get(ey,!1))throw new he("400","");rs=t.get(ry);const n=t.get(Xm,null);n&&n.forEach(s=>s())}(Ii.create({providers:b,name:u}))}return function(t){const n=ny();if(!n)throw new he("401","");return n}()}}function ny(){return rs&&!rs.destroyed?rs:null}let ry=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const b=function(t,n){let s;return s="noop"===t?new sw:("zone.js"===t?void 0:t)||new li({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:li,useValue:b}];return b.run(()=>{const C=Ii.create({providers:D,parent:this.injector,name:s.moduleType.name}),M=s.create(C),N=M.injector.get(_o,null);if(!N)throw new he("402","");return b.runOutsideAngular(()=>{const j=b.onError.subscribe({next:Q=>{N.handleError(Q)}});M.onDestroy(()=>{Xd(this._modules,M),j.unsubscribe()})}),function(t,n,s){try{const u=s();return cd(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(N,b,()=>{const j=M.injector.get(gc);return j.runInitializers(),j.donePromise.then(()=>(function(t){Oe(t,"Expected localeId to be defined"),"string"==typeof t&&(Cv=t.toLowerCase().replace(/_/g,"-"))}(M.injector.get(mf,of)||of),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,u=[]){const f=iy({},u);return function(t,n,s){const u=new Td(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const u=s.injector.get(Th);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new he("403","");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Zt(Ii))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();function iy(t,n){return Array.isArray(n)?n.reduce(iy,t):Object.assign(Object.assign({},t),n)}let Th=(()=>{class t{constructor(s,u,f,g,_){this._zone=s,this._injector=u,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new E.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),D=new E.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{li.assertNotInAngularZone(),Hd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{li.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),N.unsubscribe()}});this.isStable=function(...t){let n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return(0,oe.K)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof E.y?t[0]:(0,ve.J)(n)((0,q.n)(t,s))}(b,D.pipe(t=>(0,V.x)()(function(t,n){return function(u){let f;f="function"==typeof t?t:function(){return t};const g=Object.create(u,J.N);return g.source=u,g.subjectFactory=f,g}}(Y)(t))))}bootstrap(s,u){if(!this._initStatus.done)throw new he("405","");let f;f=s instanceof Qv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(f.componentType);const g=function(t){return t.isBoundToModule}(f)?void 0:this._injector.get(fc),b=f.create(Ii.NULL,[],u||f.selector,g),D=b.location.nativeElement,C=b.injector.get(Qm,null),M=C&&b.injector.get(Jm);return C&&M&&M.registerApplication(D,C),b.onDestroy(()=>{this.detachView(b.hostView),Xd(this.components,b),M&&M.unregisterApplication(D)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new he("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;Xd(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Wm,[]).concat(this._bootstrapListeners).forEach(f=>f(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Zt(li),Zt(Ii),Zt(_o),Zt(mh),Zt(gc))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();function Xd(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let oy=!0;function mw(){oy=!1}let yw=(()=>{class t{}return t.__NG_ELEMENT_ID__=_w,t})();function _w(t){return function(t,n,s){if(cs(t)&&!s){const u=Bn(t.index,n);return new _h(u,u)}return 47&t.type?new _h(n[16],n):null}(ln(),be(),16==(16&t))}class dy{constructor(){}supports(n){return lh(n)}create(n){return new Cw(n)}}const xw=(t,n)=>n;class Cw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||xw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,g=null;for(;s||u;){const _=!u||s&&s.currentIndex<gy(u,f,g)?s:u,b=gy(_,f,g),D=_.currentIndex;if(_===u)f--,u=u._nextRemoved;else if(s=s._next,null==_.previousIndex)f++;else{g||(g=[]);const C=b-f,M=D-f;if(C!=M){for(let j=0;j<C;j++){const Q=j<g.length?g[j]:g[j]=0,pe=Q+j;M<=pe&&pe<C&&(g[j]=Q+1)}g[_.previousIndex]=M-C}}b!==D&&n(_,b,D)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!lh(n))throw new Error(`Error trying to diff '${ae(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,_,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)g=n[b],_=this._trackByFn(b,g),null!==s&&Object.is(s.trackById,_)?(u&&(s=this._verifyReinsertion(s,g,_,b)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,_,b),u=!0),s=s._next}else f=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Kl()]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,b=>{_=this._trackByFn(f,b),null!==s&&Object.is(s.trackById,_)?(u&&(s=this._verifyReinsertion(s,b,_,f)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,_,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new Sw(s,u),g,f),n}_verifyReinsertion(n,s,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new py),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new py),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Sw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Iw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class py{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new Iw,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gy(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class vy{constructor(){}supports(n){return n instanceof Map||td(n)}create(){return new Aw}}class Aw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||td(n)))throw new Error(`Error trying to diff '${ae(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,_=f._next;return g&&(g._next=_),_&&(_._prev=g),f._next=null,f._prev=null,f}const u=new Pw(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class Pw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function my(){return new _f([new dy])}let _f=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||my()),deps:[[t,new pt,new Hr]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=It({token:t,providedIn:"root",factory:my}),t})();function yy(){return new bf([new vy])}let bf=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||yy()),deps:[[t,new pt,new Hr]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=It({token:t,providedIn:"root",factory:yy}),t})();const Ow=[new vy],Fw=new _f([new dy]),Nw=new bf(Ow),Lw=ty(null,"core",[{provide:$m,useValue:"unknown"},{provide:ry,deps:[Ii]},{provide:Jm,deps:[]},{provide:Ym,deps:[]}]),Hw=[{provide:Th,useClass:Th,deps:[li,Ii,_o,mh,gc]},{provide:Qb,deps:[li],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:gc,useClass:gc,deps:[[new Hr,Bd]]},{provide:jd,useClass:jd,deps:[]},KE,{provide:_f,useFactory:function(){return Fw},deps:[]},{provide:bf,useFactory:function(){return Nw},deps:[]},{provide:mf,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||of},deps:[[new Ss(mf),new Hr,new pt]]},{provide:qm,useValue:"USD"}];let Gw=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Zt(Th))},t.\u0275mod=Ir({type:t}),t.\u0275inj=kt({providers:Hw}),t})()}},He=>{He(He.s=2113)}]);