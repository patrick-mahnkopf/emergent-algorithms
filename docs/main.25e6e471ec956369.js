(self.webpackChunkangular_portfolio=self.webpackChunkangular_portfolio||[]).push([[179],{2862:(Ve,ge,j)=>{"use strict";j.d(ge,{d:()=>pe});var E=j(1142);class pe{static getRandomInt(ie,he){return ie=Math.ceil(ie),he=Math.floor(he),Math.floor(Math.random()*(he-ie)+ie)}static getRandomIntInclusive(ie,he){return ie=Math.ceil(ie),he=Math.floor(he),Math.floor(Math.random()*(he-ie+1)+ie)}static get randomInsideUnitCircle(){const he=this.getRandomIntInclusive(-500,500)/1e3,ne=this.getRandomIntInclusive(-500,500)/1e3;return new E.W(he,ne)}static isIpad(){return/Macintosh/i.test(navigator.userAgent)&&null!=navigator.maxTouchPoints&&navigator.maxTouchPoints>1}static isMobile(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}static convertRgbToHex(ie){if(!/rgb/i.test(ie))throw new Error("Color string has wrong format! The string should have the format: 'rgb(r, g, b)'.");const he=/rgb\((\d.+?), (\d.+?), (\d.+?)\)/gm.exec(ie).slice(1,4);let ne="";for(const W of he){const oe=Number.parseInt(W).toString(16);ne+=1==oe.length?"0"+oe:oe}return Number.parseInt("0x"+ne,16)}}},1142:(Ve,ge,j)=>{"use strict";j.d(ge,{W:()=>pe});var E=j(4520);class pe{constructor(ie,he){this.x=ie,this.y=he}get angle(){let ie=Math.atan2(this.y,this.x)*E.jl;return ie<0&&(ie+=360),ie}addVector2D(ie){return new pe(this.x+ie.x,this.y+ie.y)}subtractVector2D(ie){return new pe(this.x-ie.x,this.y-ie.y)}distanceTo(ie){const he=this.subtractVector2D(ie);return Math.hypot(he.x,he.y)}multiplyByScalar(ie){return new pe(this.x*ie,this.y*ie)}dotProduct(ie){return this.x*ie.x+this.y*ie.y}angleToVector(ie){return ie.angle-this.angle}divideByScalar(ie){if(0===ie)throw new Error("Cannot divide by 0!");return new pe(this.x/ie,this.y/ie)}get magnitude(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}get normalized(){const ie=this.magnitude;return ie>0?this.divideByScalar(ie):this}toString(){return"x: "+this.x+", y: "+this.y}isEqual(ie){return this.x===ie.x&&this.y===ie.y}clampMagnitude(ie){return this.magnitude>ie?this.normalized.multiplyByScalar(ie):this}}},8359:(Ve,ge,j)=>{"use strict";var E=j(2096);let pe=null;function De(){return pe}const W=new E.OlP("DocumentToken");let oe=(()=>{class h{historyGo(l){throw new Error("Not implemented")}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:function(){return(0,E.LFG)(Q)},providedIn:"platform"}),h})();const K=new E.OlP("Location Initialized");let Q=(()=>{class h extends oe{constructor(l){super(),this._doc=l,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return De().getBaseHref(this._doc)}onPopState(l){const v=De().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",l,!1),()=>v.removeEventListener("popstate",l)}onHashChange(l){const v=De().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",l,!1),()=>v.removeEventListener("hashchange",l)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(l){this.location.pathname=l}pushState(l,v,_){re()?this._history.pushState(l,v,_):this.location.hash=_}replaceState(l,v,_){re()?this._history.replaceState(l,v,_):this.location.hash=_}forward(){this._history.forward()}back(){this._history.back()}historyGo(l=0){this._history.go(l)}getState(){return this._history.state}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(W))},h.\u0275prov=E.Yz7({token:h,factory:function(){return new Q((0,E.LFG)(W))},providedIn:"platform"}),h})();function re(){return!!window.history.pushState}function le(h,f){if(0==h.length)return f;if(0==f.length)return h;let l=0;return h.endsWith("/")&&l++,f.startsWith("/")&&l++,2==l?h+f.substring(1):1==l?h+f:h+"/"+f}function Se(h){const f=h.match(/#|\?|$/),l=f&&f.index||h.length;return h.slice(0,l-("/"===h[l-1]?1:0))+h.slice(l)}function ae(h){return h&&"?"!==h[0]?"?"+h:h}let Ne=(()=>{class h{historyGo(l){throw new Error("Not implemented")}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:function(){return function(h){const f=(0,E.LFG)(W).location;return new Ue((0,E.LFG)(oe),f&&f.origin||"")}()},providedIn:"root"}),h})();const je=new E.OlP("appBaseHref");let Ue=(()=>{class h extends Ne{constructor(l,v){if(super(),this._platformLocation=l,this._removeListenerFns=[],null==v&&(v=this._platformLocation.getBaseHrefFromDOM()),null==v)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=v}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(l){this._removeListenerFns.push(this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l))}getBaseHref(){return this._baseHref}prepareExternalUrl(l){return le(this._baseHref,l)}path(l=!1){const v=this._platformLocation.pathname+ae(this._platformLocation.search),_=this._platformLocation.hash;return _&&l?`${v}${_}`:v}pushState(l,v,_,T){const P=this.prepareExternalUrl(_+ae(T));this._platformLocation.pushState(l,v,P)}replaceState(l,v,_,T){const P=this.prepareExternalUrl(_+ae(T));this._platformLocation.replaceState(l,v,P)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(l=0){var v,_;null===(_=(v=this._platformLocation).historyGo)||void 0===_||_.call(v,l)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(oe),E.LFG(je,8))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),_t=(()=>{class h extends Ne{constructor(l,v){super(),this._platformLocation=l,this._baseHref="",this._removeListenerFns=[],null!=v&&(this._baseHref=v)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(l){this._removeListenerFns.push(this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l))}getBaseHref(){return this._baseHref}path(l=!1){let v=this._platformLocation.hash;return null==v&&(v="#"),v.length>0?v.substring(1):v}prepareExternalUrl(l){const v=le(this._baseHref,l);return v.length>0?"#"+v:v}pushState(l,v,_,T){let P=this.prepareExternalUrl(_+ae(T));0==P.length&&(P=this._platformLocation.pathname),this._platformLocation.pushState(l,v,P)}replaceState(l,v,_,T){let P=this.prepareExternalUrl(_+ae(T));0==P.length&&(P=this._platformLocation.pathname),this._platformLocation.replaceState(l,v,P)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(l=0){var v,_;null===(_=(v=this._platformLocation).historyGo)||void 0===_||_.call(v,l)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(oe),E.LFG(je,8))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),Yt=(()=>{class h{constructor(l,v){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=l;const _=this._platformStrategy.getBaseHref();this._platformLocation=v,this._baseHref=Se(U(_)),this._platformStrategy.onPopState(T=>{this._subject.emit({url:this.path(!0),pop:!0,state:T.state,type:T.type})})}path(l=!1){return this.normalize(this._platformStrategy.path(l))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(l,v=""){return this.path()==this.normalize(l+ae(v))}normalize(l){return h.stripTrailingSlash(function(h,f){return h&&f.startsWith(h)?f.substring(h.length):f}(this._baseHref,U(l)))}prepareExternalUrl(l){return l&&"/"!==l[0]&&(l="/"+l),this._platformStrategy.prepareExternalUrl(l)}go(l,v="",_=null){this._platformStrategy.pushState(_,"",l,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(l+ae(v)),_)}replaceState(l,v="",_=null){this._platformStrategy.replaceState(_,"",l,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(l+ae(v)),_)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(l=0){var v,_;null===(_=(v=this._platformStrategy).historyGo)||void 0===_||_.call(v,l)}onUrlChange(l){this._urlChangeListeners.push(l),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}))}_notifyUrlChangeListeners(l="",v){this._urlChangeListeners.forEach(_=>_(l,v))}subscribe(l,v,_){return this._subject.subscribe({next:l,error:v,complete:_})}}return h.normalizeQueryParams=ae,h.joinWithSlash=le,h.stripTrailingSlash=Se,h.\u0275fac=function(l){return new(l||h)(E.LFG(Ne),E.LFG(oe))},h.\u0275prov=E.Yz7({token:h,factory:function(){return new Yt((0,E.LFG)(Ne),(0,E.LFG)(oe))},providedIn:"root"}),h})();function U(h){return h.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))(),_e=(()=>((_e=_e||{})[_e.Format=0]="Format",_e[_e.Standalone=1]="Standalone",_e))(),$=(()=>(($=$||{})[$.Narrow=0]="Narrow",$[$.Abbreviated=1]="Abbreviated",$[$.Wide=2]="Wide",$[$.Short=3]="Short",$))(),O=(()=>((O=O||{})[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O))(),k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Group=1]="Group",k[k.List=2]="List",k[k.PercentSign=3]="PercentSign",k[k.PlusSign=4]="PlusSign",k[k.MinusSign=5]="MinusSign",k[k.Exponential=6]="Exponential",k[k.SuperscriptingExponent=7]="SuperscriptingExponent",k[k.PerMille=8]="PerMille",k[k.Infinity=9]="Infinity",k[k.NaN=10]="NaN",k[k.TimeSeparator=11]="TimeSeparator",k[k.CurrencyDecimal=12]="CurrencyDecimal",k[k.CurrencyGroup=13]="CurrencyGroup",k))();function Pe(h,f){return vn((0,E.cg1)(h)[E.wAp.DateFormat],f)}function ze(h,f){return vn((0,E.cg1)(h)[E.wAp.TimeFormat],f)}function Ze(h,f){return vn((0,E.cg1)(h)[E.wAp.DateTimeFormat],f)}function Ae(h,f){const l=(0,E.cg1)(h),v=l[E.wAp.NumberSymbols][f];if(void 0===v){if(f===k.CurrencyDecimal)return l[E.wAp.NumberSymbols][k.Decimal];if(f===k.CurrencyGroup)return l[E.wAp.NumberSymbols][k.Group]}return v}const St=E.kL8;function Qt(h){if(!h[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${h[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vn(h,f){for(let l=f;l>-1;l--)if(void 0!==h[l])return h[l];throw new Error("Locale data API: locale data undefined")}function wo(h){const[f,l]=h.split(":");return{hours:+f,minutes:+l}}const Ai=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ts={},ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.ShortGMT=1]="ShortGMT",tn[tn.Long=2]="Long",tn[tn.Extended=3]="Extended",tn))(),Je=(()=>((Je=Je||{})[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je))(),et=(()=>((et=et||{})[et.DayPeriods=0]="DayPeriods",et[et.Days=1]="Days",et[et.Months=2]="Months",et[et.Eras=3]="Eras",et))();function Do(h,f,l,v){let _=function(h){if(Qu(h))return h;if("number"==typeof h&&!isNaN(h))return new Date(h);if("string"==typeof h){if(h=h.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(h)){const[_,T=1,P=1]=h.split("-").map(F=>+F);return La(_,T-1,P)}const l=parseFloat(h);if(!isNaN(h-l))return new Date(l);let v;if(v=h.match(Ai))return function(h){const f=new Date(0);let l=0,v=0;const _=h[8]?f.setUTCFullYear:f.setFullYear,T=h[8]?f.setUTCHours:f.setHours;h[9]&&(l=Number(h[9]+h[10]),v=Number(h[9]+h[11])),_.call(f,Number(h[1]),Number(h[2])-1,Number(h[3]));const P=Number(h[4]||0)-l,F=Number(h[5]||0)-v,J=Number(h[6]||0),Ce=Math.floor(1e3*parseFloat("0."+(h[7]||0)));return T.call(f,P,F,J,Ce),f}(v)}const f=new Date(h);if(!Qu(f))throw new Error(`Unable to convert "${h}" into a date`);return f}(h);f=mn(l,f)||f;let F,P=[];for(;f;){if(F=ht.exec(f),!F){P.push(f);break}{P=P.concat(F.slice(1));const qe=P.pop();if(!qe)break;f=qe}}let J=_.getTimezoneOffset();v&&(J=Yn(v,J),_=function(h,f,l){const _=h.getTimezoneOffset();return function(h,f){return(h=new Date(h.getTime())).setMinutes(h.getMinutes()+f),h}(h,-1*(Yn(f,_)-_))}(_,v));let Ce="";return P.forEach(qe=>{const Me=function(h){if(ns[h])return ns[h];let f;switch(h){case"G":case"GG":case"GGG":f=Ot(et.Eras,$.Abbreviated);break;case"GGGG":f=Ot(et.Eras,$.Wide);break;case"GGGGG":f=Ot(et.Eras,$.Narrow);break;case"y":f=Nt(Je.FullYear,1,0,!1,!0);break;case"yy":f=Nt(Je.FullYear,2,0,!0,!0);break;case"yyy":f=Nt(Je.FullYear,3,0,!1,!0);break;case"yyyy":f=Nt(Je.FullYear,4,0,!1,!0);break;case"Y":f=Ln(1);break;case"YY":f=Ln(2,!0);break;case"YYY":f=Ln(3);break;case"YYYY":f=Ln(4);break;case"M":case"L":f=Nt(Je.Month,1,1);break;case"MM":case"LL":f=Nt(Je.Month,2,1);break;case"MMM":f=Ot(et.Months,$.Abbreviated);break;case"MMMM":f=Ot(et.Months,$.Wide);break;case"MMMMM":f=Ot(et.Months,$.Narrow);break;case"LLL":f=Ot(et.Months,$.Abbreviated,_e.Standalone);break;case"LLLL":f=Ot(et.Months,$.Wide,_e.Standalone);break;case"LLLLL":f=Ot(et.Months,$.Narrow,_e.Standalone);break;case"w":f=Pt(1);break;case"ww":f=Pt(2);break;case"W":f=Pt(1,!0);break;case"d":f=Nt(Je.Date,1);break;case"dd":f=Nt(Je.Date,2);break;case"c":case"cc":f=Nt(Je.Day,1);break;case"ccc":f=Ot(et.Days,$.Abbreviated,_e.Standalone);break;case"cccc":f=Ot(et.Days,$.Wide,_e.Standalone);break;case"ccccc":f=Ot(et.Days,$.Narrow,_e.Standalone);break;case"cccccc":f=Ot(et.Days,$.Short,_e.Standalone);break;case"E":case"EE":case"EEE":f=Ot(et.Days,$.Abbreviated);break;case"EEEE":f=Ot(et.Days,$.Wide);break;case"EEEEE":f=Ot(et.Days,$.Narrow);break;case"EEEEEE":f=Ot(et.Days,$.Short);break;case"a":case"aa":case"aaa":f=Ot(et.DayPeriods,$.Abbreviated);break;case"aaaa":f=Ot(et.DayPeriods,$.Wide);break;case"aaaaa":f=Ot(et.DayPeriods,$.Narrow);break;case"b":case"bb":case"bbb":f=Ot(et.DayPeriods,$.Abbreviated,_e.Standalone,!0);break;case"bbbb":f=Ot(et.DayPeriods,$.Wide,_e.Standalone,!0);break;case"bbbbb":f=Ot(et.DayPeriods,$.Narrow,_e.Standalone,!0);break;case"B":case"BB":case"BBB":f=Ot(et.DayPeriods,$.Abbreviated,_e.Format,!0);break;case"BBBB":f=Ot(et.DayPeriods,$.Wide,_e.Format,!0);break;case"BBBBB":f=Ot(et.DayPeriods,$.Narrow,_e.Format,!0);break;case"h":f=Nt(Je.Hours,1,-12);break;case"hh":f=Nt(Je.Hours,2,-12);break;case"H":f=Nt(Je.Hours,1);break;case"HH":f=Nt(Je.Hours,2);break;case"m":f=Nt(Je.Minutes,1);break;case"mm":f=Nt(Je.Minutes,2);break;case"s":f=Nt(Je.Seconds,1);break;case"ss":f=Nt(Je.Seconds,2);break;case"S":f=Nt(Je.FractionalSeconds,1);break;case"SS":f=Nt(Je.FractionalSeconds,2);break;case"SSS":f=Nt(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":f=To(tn.Short);break;case"ZZZZZ":f=To(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":f=To(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":f=To(tn.Long);break;default:return null}return ns[h]=f,f}(qe);Ce+=Me?Me(_,l,J):"''"===qe?"'":qe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ce}function La(h,f,l){const v=new Date(0);return v.setFullYear(h,f,l),v.setHours(0,0,0),v}function mn(h,f){const l=function(h){return(0,E.cg1)(h)[E.wAp.LocaleId]}(h);if(ts[l]=ts[l]||{},ts[l][f])return ts[l][f];let v="";switch(f){case"shortDate":v=Pe(h,O.Short);break;case"mediumDate":v=Pe(h,O.Medium);break;case"longDate":v=Pe(h,O.Long);break;case"fullDate":v=Pe(h,O.Full);break;case"shortTime":v=ze(h,O.Short);break;case"mediumTime":v=ze(h,O.Medium);break;case"longTime":v=ze(h,O.Long);break;case"fullTime":v=ze(h,O.Full);break;case"short":const _=mn(h,"shortTime"),T=mn(h,"shortDate");v=xn(Ze(h,O.Short),[_,T]);break;case"medium":const P=mn(h,"mediumTime"),F=mn(h,"mediumDate");v=xn(Ze(h,O.Medium),[P,F]);break;case"long":const J=mn(h,"longTime"),Ce=mn(h,"longDate");v=xn(Ze(h,O.Long),[J,Ce]);break;case"full":const qe=mn(h,"fullTime"),Me=mn(h,"fullDate");v=xn(Ze(h,O.Full),[qe,Me])}return v&&(ts[l][f]=v),v}function xn(h,f){return f&&(h=h.replace(/\{([^}]+)}/g,function(l,v){return null!=f&&v in f?f[v]:l})),h}function Sr(h,f,l="-",v,_){let T="";(h<0||_&&h<=0)&&(_?h=1-h:(h=-h,T=l));let P=String(h);for(;P.length<f;)P="0"+P;return v&&(P=P.substr(P.length-f)),T+P}function Nt(h,f,l=0,v=!1,_=!1){return function(T,P){let F=function(h,f){switch(h){case Je.FullYear:return f.getFullYear();case Je.Month:return f.getMonth();case Je.Date:return f.getDate();case Je.Hours:return f.getHours();case Je.Minutes:return f.getMinutes();case Je.Seconds:return f.getSeconds();case Je.FractionalSeconds:return f.getMilliseconds();case Je.Day:return f.getDay();default:throw new Error(`Unknown DateType value "${h}".`)}}(h,T);if((l>0||F>-l)&&(F+=l),h===Je.Hours)0===F&&-12===l&&(F=12);else if(h===Je.FractionalSeconds)return function(h,f){return Sr(h,3).substr(0,f)}(F,f);const J=Ae(P,k.MinusSign);return Sr(F,f,J,v,_)}}function Ot(h,f,l=_e.Format,v=!1){return function(_,T){return function(h,f,l,v,_,T){switch(l){case et.Months:return function(h,f,l){const v=(0,E.cg1)(h),T=vn([v[E.wAp.MonthsFormat],v[E.wAp.MonthsStandalone]],f);return vn(T,l)}(f,_,v)[h.getMonth()];case et.Days:return function(h,f,l){const v=(0,E.cg1)(h),T=vn([v[E.wAp.DaysFormat],v[E.wAp.DaysStandalone]],f);return vn(T,l)}(f,_,v)[h.getDay()];case et.DayPeriods:const P=h.getHours(),F=h.getMinutes();if(T){const Ce=function(h){const f=(0,E.cg1)(h);return Qt(f),(f[E.wAp.ExtraData][2]||[]).map(v=>"string"==typeof v?wo(v):[wo(v[0]),wo(v[1])])}(f),qe=function(h,f,l){const v=(0,E.cg1)(h);Qt(v);const T=vn([v[E.wAp.ExtraData][0],v[E.wAp.ExtraData][1]],f)||[];return vn(T,l)||[]}(f,_,v),Me=Ce.findIndex(ut=>{if(Array.isArray(ut)){const[nt,hn]=ut,fr=P>=nt.hours&&F>=nt.minutes,yn=P<hn.hours||P===hn.hours&&F<hn.minutes;if(nt.hours<hn.hours){if(fr&&yn)return!0}else if(fr||yn)return!0}else if(ut.hours===P&&ut.minutes===F)return!0;return!1});if(-1!==Me)return qe[Me]}return function(h,f,l){const v=(0,E.cg1)(h),T=vn([v[E.wAp.DayPeriodsFormat],v[E.wAp.DayPeriodsStandalone]],f);return vn(T,l)}(f,_,v)[P<12?0:1];case et.Eras:return function(h,f){return vn((0,E.cg1)(h)[E.wAp.Eras],f)}(f,v)[h.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${l}`)}}(_,T,h,f,l,v)}}function To(h){return function(f,l,v){const _=-1*v,T=Ae(l,k.MinusSign),P=_>0?Math.floor(_/60):Math.ceil(_/60);switch(h){case tn.Short:return(_>=0?"+":"")+Sr(P,2,T)+Sr(Math.abs(_%60),2,T);case tn.ShortGMT:return"GMT"+(_>=0?"+":"")+Sr(P,1,T);case tn.Long:return"GMT"+(_>=0?"+":"")+Sr(P,2,T)+":"+Sr(Math.abs(_%60),2,T);case tn.Extended:return 0===v?"Z":(_>=0?"+":"")+Sr(P,2,T)+":"+Sr(Math.abs(_%60),2,T);default:throw new Error(`Unknown zone width "${h}"`)}}}function er(h){return La(h.getFullYear(),h.getMonth(),h.getDate()+(4-h.getDay()))}function Pt(h,f=!1){return function(l,v){let _;if(f){const T=new Date(l.getFullYear(),l.getMonth(),1).getDay()-1,P=l.getDate();_=1+Math.floor((P+T)/7)}else{const T=er(l),P=function(h){const f=La(h,0,1).getDay();return La(h,0,1+(f<=4?4:11)-f)}(T.getFullYear()),F=T.getTime()-P.getTime();_=1+Math.round(F/6048e5)}return Sr(_,h,Ae(v,k.MinusSign))}}function Ln(h,f=!1){return function(l,v){return Sr(er(l).getFullYear(),h,Ae(v,k.MinusSign),f)}}const ns={};function Yn(h,f){h=h.replace(/:/g,"");const l=Date.parse("Jan 01, 1970 00:00:00 "+h)/6e4;return isNaN(l)?f:l}function Qu(h){return h instanceof Date&&!isNaN(h.valueOf())}class Mr{}let Be=(()=>{class h extends Mr{constructor(l){super(),this.locale=l}getPluralCategory(l,v){switch(St(v||this.locale)(l)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(E.soG))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const tl=new E.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let pc=(()=>{class h{constructor(l,v){this.locale=l,this.defaultTimezone=v}transform(l,v="mediumDate",_,T){var P;if(null==l||""===l||l!=l)return null;try{return Do(l,v,T||this.locale,null!==(P=null!=_?_:this.defaultTimezone)&&void 0!==P?P:void 0)}catch(F){throw function(h,f){return Error(`InvalidPipeArgument: '${f}' for pipe '${(0,E.AaK)(h)}'`)}(h,F.message)}}}return h.\u0275fac=function(l){return new(l||h)(E.Y36(E.soG,16),E.Y36(tl,24))},h.\u0275pipe=E.Yjl({name:"date",type:h,pure:!0}),h})(),gc=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({providers:[{provide:Mr,useClass:Be}]}),h})();let ol=(()=>{class h{}return h.\u0275prov=(0,E.Yz7)({token:h,providedIn:"root",factory:()=>new Xa((0,E.LFG)(W),window)}),h})();class Xa{constructor(f,l){this.document=f,this.window=l,this.offset=()=>[0,0]}setOffset(f){this.offset=Array.isArray(f)?()=>f:f}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(f){this.supportsScrolling()&&this.window.scrollTo(f[0],f[1])}scrollToAnchor(f){if(!this.supportsScrolling())return;const l=function(h,f){const l=h.getElementById(f)||h.getElementsByName(f)[0];if(l)return l;if("function"==typeof h.createTreeWalker&&h.body&&(h.body.createShadowRoot||h.body.attachShadow)){const v=h.createTreeWalker(h.body,NodeFilter.SHOW_ELEMENT);let _=v.currentNode;for(;_;){const T=_.shadowRoot;if(T){const P=T.getElementById(f)||T.querySelector(`[name="${f}"]`);if(P)return P}_=v.nextNode()}}return null}(this.document,f);l&&(this.scrollToElement(l),this.attemptFocus(l))}setHistoryScrollRestoration(f){if(this.supportScrollRestoration()){const l=this.window.history;l&&l.scrollRestoration&&(l.scrollRestoration=f)}}scrollToElement(f){const l=f.getBoundingClientRect(),v=l.left+this.window.pageXOffset,_=l.top+this.window.pageYOffset,T=this.offset();this.window.scrollTo(v-T[0],_-T[1])}attemptFocus(f){return f.focus(),this.document.activeElement===f}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const f=Oi(this.window.history)||Oi(Object.getPrototypeOf(this.window.history));return!(!f||!f.writable&&!f.set)}catch(f){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(f){return!1}}}function Oi(h){return Object.getOwnPropertyDescriptor(h,"scrollRestoration")}class di extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var h;h=new di,pe||(pe=h)}onAndCancel(f,l,v){return f.addEventListener(l,v,!1),()=>{f.removeEventListener(l,v,!1)}}dispatchEvent(f,l){f.dispatchEvent(l)}remove(f){f.parentNode&&f.parentNode.removeChild(f)}createElement(f,l){return(l=l||this.getDefaultDocument()).createElement(f)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(f){return f.nodeType===Node.ELEMENT_NODE}isShadowRoot(f){return f instanceof DocumentFragment}getGlobalEventTarget(f,l){return"window"===l?window:"document"===l?f:"body"===l?f.body:null}getBaseHref(f){const l=(Rr=Rr||document.querySelector("base"),Rr?Rr.getAttribute("href"):null);return null==l?null:function(h){Ao=Ao||document.createElement("a"),Ao.setAttribute("href",h);const f=Ao.pathname;return"/"===f.charAt(0)?f:`/${f}`}(l)}resetBaseElement(){Rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(f){return function(h,f){f=encodeURIComponent(f);for(const l of h.split(";")){const v=l.indexOf("="),[_,T]=-1==v?[l,""]:[l.slice(0,v),l.slice(v+1)];if(_.trim()===f)return decodeURIComponent(T)}return null}(document.cookie,f)}}let Ao,Rr=null;const pn=new E.OlP("TRANSITION_ID"),sn=[{provide:E.ip1,useFactory:function(h,f,l){return()=>{l.get(E.CZH).donePromise.then(()=>{const v=De(),_=f.querySelectorAll(`style[ng-transition="${h}"]`);for(let T=0;T<_.length;T++)v.remove(_[T])})}},deps:[pn,W,E.zs3],multi:!0}];class Ya{static init(){(0,E.VLi)(new Ya)}addToWindow(f){E.dqk.getAngularTestability=(v,_=!0)=>{const T=f.findTestabilityInTree(v,_);if(null==T)throw new Error("Could not find testability for element.");return T},E.dqk.getAllAngularTestabilities=()=>f.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>f.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(v=>{const _=E.dqk.getAllAngularTestabilities();let T=_.length,P=!1;const F=function(J){P=P||J,T--,0==T&&v(P)};_.forEach(function(J){J.whenStable(F)})})}findTestabilityInTree(f,l,v){if(null==l)return null;const _=f.getTestability(l);return null!=_?_:v?De().isShadowRoot(l)?this.findTestabilityInTree(f,l.host,!0):this.findTestabilityInTree(f,l.parentElement,!0):null}}let mc=(()=>{class h{build(){return new XMLHttpRequest}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const Ri=new E.OlP("EventManagerPlugins");let In=(()=>{class h{constructor(l,v){this._zone=v,this._eventNameToPlugin=new Map,l.forEach(_=>_.manager=this),this._plugins=l.slice().reverse()}addEventListener(l,v,_){return this._findPluginFor(v).addEventListener(l,v,_)}addGlobalEventListener(l,v,_){return this._findPluginFor(v).addGlobalEventListener(l,v,_)}getZone(){return this._zone}_findPluginFor(l){const v=this._eventNameToPlugin.get(l);if(v)return v;const _=this._plugins;for(let T=0;T<_.length;T++){const P=_[T];if(P.supports(l))return this._eventNameToPlugin.set(l,P),P}throw new Error(`No event manager plugin found for event ${l}`)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(Ri),E.LFG(E.R0b))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();class as{constructor(f){this._doc=f}addGlobalEventListener(f,l,v){const _=De().getGlobalEventTarget(this._doc,f);if(!_)throw new Error(`Unsupported event target ${_} for event ${l}`);return this.addEventListener(_,l,v)}}let Po=(()=>{class h{constructor(){this._stylesSet=new Set}addStyles(l){const v=new Set;l.forEach(_=>{this._stylesSet.has(_)||(this._stylesSet.add(_),v.add(_))}),this.onStylesAdded(v)}onStylesAdded(l){}getAllStyles(){return Array.from(this._stylesSet)}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),mr=(()=>{class h extends Po{constructor(l){super(),this._doc=l,this._hostNodes=new Map,this._hostNodes.set(l.head,[])}_addStylesToHost(l,v,_){l.forEach(T=>{const P=this._doc.createElement("style");P.textContent=T,_.push(v.appendChild(P))})}addHost(l){const v=[];this._addStylesToHost(this._stylesSet,l,v),this._hostNodes.set(l,v)}removeHost(l){const v=this._hostNodes.get(l);v&&v.forEach(kn),this._hostNodes.delete(l)}onStylesAdded(l){this._hostNodes.forEach((v,_)=>{this._addStylesToHost(l,_,v)})}ngOnDestroy(){this._hostNodes.forEach(l=>l.forEach(kn))}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(W))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();function kn(h){De().remove(h)}const Fr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xs=/%COMP%/g;function Oo(h,f,l){for(let v=0;v<f.length;v++){let _=f[v];Array.isArray(_)?Oo(h,_,l):(_=_.replace(Xs,h),l.push(_))}return l}function Za(h){return f=>{if("__ngUnwrap__"===f)return h;!1===h(f)&&(f.preventDefault(),f.returnValue=!1)}}let us=(()=>{class h{constructor(l,v,_){this.eventManager=l,this.sharedStylesHost=v,this.appId=_,this.rendererByCompId=new Map,this.defaultRenderer=new Ro(l)}createRenderer(l,v){if(!l||!v)return this.defaultRenderer;switch(v.encapsulation){case E.ifc.Emulated:{let _=this.rendererByCompId.get(v.id);return _||(_=new Et(this.eventManager,this.sharedStylesHost,v,this.appId),this.rendererByCompId.set(v.id,_)),_.applyToHost(l),_}case 1:case E.ifc.ShadowDom:return new Fo(this.eventManager,this.sharedStylesHost,l,v);default:if(!this.rendererByCompId.has(v.id)){const _=Oo(v.id,v.styles,[]);this.sharedStylesHost.addStyles(_),this.rendererByCompId.set(v.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(In),E.LFG(mr),E.LFG(E.AFp))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();class Ro{constructor(f){this.eventManager=f,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(f,l){return l?document.createElementNS(Fr[l]||l,f):document.createElement(f)}createComment(f){return document.createComment(f)}createText(f){return document.createTextNode(f)}appendChild(f,l){f.appendChild(l)}insertBefore(f,l,v){f&&f.insertBefore(l,v)}removeChild(f,l){f&&f.removeChild(l)}selectRootElement(f,l){let v="string"==typeof f?document.querySelector(f):f;if(!v)throw new Error(`The selector "${f}" did not match any elements`);return l||(v.textContent=""),v}parentNode(f){return f.parentNode}nextSibling(f){return f.nextSibling}setAttribute(f,l,v,_){if(_){l=_+":"+l;const T=Fr[_];T?f.setAttributeNS(T,l,v):f.setAttribute(l,v)}else f.setAttribute(l,v)}removeAttribute(f,l,v){if(v){const _=Fr[v];_?f.removeAttributeNS(_,l):f.removeAttribute(`${v}:${l}`)}else f.removeAttribute(l)}addClass(f,l){f.classList.add(l)}removeClass(f,l){f.classList.remove(l)}setStyle(f,l,v,_){_&(E.JOm.DashCase|E.JOm.Important)?f.style.setProperty(l,v,_&E.JOm.Important?"important":""):f.style[l]=v}removeStyle(f,l,v){v&E.JOm.DashCase?f.style.removeProperty(l):f.style[l]=""}setProperty(f,l,v){f[l]=v}setValue(f,l){f.nodeValue=l}listen(f,l,v){return"string"==typeof f?this.eventManager.addGlobalEventListener(f,l,Za(v)):this.eventManager.addEventListener(f,l,Za(v))}}class Et extends Ro{constructor(f,l,v,_){super(f),this.component=v;const T=Oo(_+"-"+v.id,v.styles,[]);l.addStyles(T),this.contentAttr="_ngcontent-%COMP%".replace(Xs,_+"-"+v.id),this.hostAttr="_nghost-%COMP%".replace(Xs,_+"-"+v.id)}applyToHost(f){super.setAttribute(f,this.hostAttr,"")}createElement(f,l){const v=super.createElement(f,l);return super.setAttribute(v,this.contentAttr,""),v}}class Fo extends Ro{constructor(f,l,v,_){super(f),this.sharedStylesHost=l,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=Oo(_.id,_.styles,[]);for(let P=0;P<T.length;P++){const F=document.createElement("style");F.textContent=T[P],this.shadowRoot.appendChild(F)}}nodeOrShadowRoot(f){return f===this.hostEl?this.shadowRoot:f}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(f,l){return super.appendChild(this.nodeOrShadowRoot(f),l)}insertBefore(f,l,v){return super.insertBefore(this.nodeOrShadowRoot(f),l,v)}removeChild(f,l){return super.removeChild(this.nodeOrShadowRoot(f),l)}parentNode(f){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(f)))}}let on=(()=>{class h extends as{constructor(l){super(l)}supports(l){return!0}addEventListener(l,v,_){return l.addEventListener(v,_,!1),()=>this.removeEventListener(l,v,_)}removeEventListener(l,v,_){return l.removeEventListener(v,_)}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(W))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const No=["alt","control","meta","shift"],yr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ka={alt:h=>h.altKey,control:h=>h.ctrlKey,meta:h=>h.metaKey,shift:h=>h.shiftKey};let _c=(()=>{class h extends as{constructor(l){super(l)}supports(l){return null!=h.parseEventName(l)}addEventListener(l,v,_){const T=h.parseEventName(v),P=h.eventCallback(T.fullKey,_,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>De().onAndCancel(l,T.domEventName,P))}static parseEventName(l){const v=l.toLowerCase().split("."),_=v.shift();if(0===v.length||"keydown"!==_&&"keyup"!==_)return null;const T=h._normalizeKey(v.pop());let P="";if(No.forEach(J=>{const Ce=v.indexOf(J);Ce>-1&&(v.splice(Ce,1),P+=J+".")}),P+=T,0!=v.length||0===T.length)return null;const F={};return F.domEventName=_,F.fullKey=P,F}static getEventFullKey(l){let v="",_=function(h){let f=h.key;if(null==f){if(f=h.keyIdentifier,null==f)return"Unidentified";f.startsWith("U+")&&(f=String.fromCharCode(parseInt(f.substring(2),16)),3===h.location&&Fi.hasOwnProperty(f)&&(f=Fi[f]))}return yr[f]||f}(l);return _=_.toLowerCase()," "===_?_="space":"."===_&&(_="dot"),No.forEach(T=>{T!=_&&Ka[T](l)&&(v+=T+".")}),v+=_,v}static eventCallback(l,v,_){return T=>{h.getEventFullKey(T)===l&&_.runGuarded(()=>v(T))}}static _normalizeKey(l){return"esc"===l?"escape":l}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(W))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const ko=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:"browser"},{provide:E.g9A,useValue:function(){di.makeCurrent(),Ya.init()},multi:!0},{provide:W,useFactory:function(){return(0,E.RDi)(document),document},deps:[]}]),ls=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function(){return new E.qLn},deps:[]},{provide:Ri,useClass:on,multi:!0,deps:[W,E.R0b,E.Lbi]},{provide:Ri,useClass:_c,multi:!0,deps:[W]},{provide:us,useClass:us,deps:[In,mr,E.AFp]},{provide:E.FYo,useExisting:us},{provide:Po,useExisting:mr},{provide:mr,useClass:mr,deps:[W]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:In,useClass:In,deps:[Ri,E.R0b]},{provide:class{},useClass:mc,deps:[]}];let Wr=(()=>{class h{constructor(l){if(l)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(l){return{ngModule:h,providers:[{provide:E.AFp,useValue:l.appId},{provide:pn,useExisting:E.AFp},sn]}}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(h,12))},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({providers:ls,imports:[gc,E.hGG]}),h})();"undefined"!=typeof window&&window;var or=j(5254),tu=j(2866),ds=j(3009),Go=j(6454);function ft(...h){let f=h[h.length-1];return(0,tu.K)(f)?(h.pop(),(0,Go.r)(h,f)):(0,ds.n)(h)}var ps=j(5529),Ah=j(5279);class Lr extends ps.xQ{constructor(f){super(),this._value=f}get value(){return this.getValue()}_subscribe(f){const l=super._subscribe(f);return l&&!l.closed&&f.next(this._value),l}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ah.N;return this._value}next(f){super.next(this._value=f)}}var zo=j(6688),Xo=j(826),qs=j(9054);const gs={};class $o{constructor(f){this.resultSelector=f}call(f,l){return l.subscribe(new Ui(f,this.resultSelector))}}class Ui extends Xo.L{constructor(f,l){super(f),this.resultSelector=l,this.active=0,this.values=[],this.observables=[]}_next(f){this.values.push(gs),this.observables.push(f)}_complete(){const f=this.observables,l=f.length;if(0===l)this.destination.complete();else{this.active=l,this.toRespond=l;for(let v=0;v<l;v++){const _=f[v];this.add((0,qs.D)(this,_,_,v))}}}notifyComplete(f){0==(this.active-=1)&&this.destination.complete()}notifyNext(f,l,v,_,T){const P=this.values,J=this.toRespond?P[v]===gs?--this.toRespond:this.toRespond:0;P[v]=l,0===J&&(this.resultSelector?this._tryResultSelector(P):this.destination.next(P.slice()))}_tryResultSelector(f){let l;try{l=this.resultSelector.apply(this,f)}catch(v){return void this.destination.error(v)}this.destination.next(l)}}var ji=j(2916);const vs=(()=>{function h(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return h.prototype=Object.create(Error.prototype),h})();var Un=j(9146);function Yo(...h){return(0,Un.J)(1)(ft(...h))}const gi=new ji.y(h=>h.complete());function Zs(h){return h?function(h){return new ji.y(f=>h.schedule(()=>f.complete()))}(h):gi}function ms(h){return new ji.y(f=>{let l;try{l=h()}catch(_){return void f.error(_)}return(l?(0,or.D)(l):Zs()).subscribe(f)})}var iu=j(1762),jt=j(4850),ys=j(1869);function ar(h,f){return"function"==typeof f?l=>l.pipe(ar((v,_)=>(0,or.D)(h(v,_)).pipe((0,jt.U)((T,P)=>f(v,T,_,P))))):l=>l.lift(new gl(h))}class gl{constructor(f){this.project=f}call(f,l){return l.subscribe(new vl(f,this.project))}}class vl extends Xo.L{constructor(f,l){super(f),this.project=l,this.index=0}_next(f){let l;const v=this.index++;try{l=this.project(f,v)}catch(_){return void this.destination.error(_)}this._innerSub(l,f,v)}_innerSub(f,l,v){const _=this.innerSubscription;_&&_.unsubscribe();const T=new ys.d(this,l,v),P=this.destination;P.add(T),this.innerSubscription=(0,qs.D)(this,f,void 0,void 0,T),this.innerSubscription!==T&&P.add(this.innerSubscription)}_complete(){const{innerSubscription:f}=this;(!f||f.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(f){this.destination.remove(f),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(f,l,v,_,T){this.destination.next(l)}}var qr=j(3489);const su=(()=>{function h(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return h.prototype=Object.create(Error.prototype),h})();function qo(h){return f=>0===h?Zs():f.lift(new ml(h))}class ml{constructor(f){if(this.total=f,this.total<0)throw new su}call(f,l){return l.subscribe(new Zo(f,this.total))}}class Zo extends qr.L{constructor(f,l){super(f),this.total=l,this.count=0}_next(f){const l=this.total,v=++this.count;v<=l&&(this.destination.next(f),v===l&&(this.destination.complete(),this.unsubscribe()))}}function ou(h,f){let l=!1;return arguments.length>=2&&(l=!0),function(_){return _.lift(new yl(h,f,l))}}class yl{constructor(f,l,v=!1){this.accumulator=f,this.seed=l,this.hasSeed=v}call(f,l){return l.subscribe(new kr(f,this.accumulator,this.seed,this.hasSeed))}}class kr extends qr.L{constructor(f,l,v,_){super(f),this.accumulator=l,this._seed=v,this.hasSeed=_,this.index=0}get seed(){return this._seed}set seed(f){this.hasSeed=!0,this._seed=f}_next(f){if(this.hasSeed)return this._tryNext(f);this.seed=f,this.destination.next(f)}_tryNext(f){const l=this.index++;let v;try{v=this.accumulator(this.seed,f,l)}catch(_){this.destination.error(_)}this.seed=v,this.destination.next(v)}}function wn(h,f){return function(v){return v.lift(new au(h,f))}}class au{constructor(f,l){this.predicate=f,this.thisArg=l}call(f,l){return l.subscribe(new uu(f,this.predicate,this.thisArg))}}class uu extends qr.L{constructor(f,l,v){super(f),this.predicate=l,this.thisArg=v,this.count=0}_next(f){let l;try{l=this.predicate.call(this.thisArg,f,this.count++)}catch(v){return void this.destination.error(v)}l&&this.destination.next(f)}}function Br(h){return function(l){const v=new Qs(h),_=l.lift(v);return v.caught=_}}class Qs{constructor(f){this.selector=f}call(f,l){return l.subscribe(new vi(f,this.selector,this.caught))}}class vi extends Xo.L{constructor(f,l,v){super(f),this.selector=l,this.caught=v}error(f){if(!this.isStopped){let l;try{l=this.selector(f,this.caught)}catch(T){return void super.error(T)}this._unsubscribeAndRecycle();const v=new ys.d(this,void 0,void 0);this.add(v);const _=(0,qs.D)(this,l,void 0,void 0,v);_!==v&&this.add(_)}}}var an=j(1709);function Vi(h,f){return(0,an.zg)(h,f,1)}function _s(h){return function(l){return 0===h?Zs():l.lift(new bs(h))}}class bs{constructor(f){if(this.total=f,this.total<0)throw new su}call(f,l){return l.subscribe(new lu(f,this.total))}}class lu extends qr.L{constructor(f,l){super(f),this.total=l,this.ring=new Array,this.count=0}_next(f){const l=this.ring,v=this.total,_=this.count++;l.length<v?l.push(f):l[_%v]=f}_complete(){const f=this.destination;let l=this.count;if(l>0){const v=this.count>=this.total?this.total:this.count,_=this.ring;for(let T=0;T<v;T++){const P=l++%v;f.next(_[P])}}f.complete()}}function _l(h=Mh){return f=>f.lift(new Wt(h))}class Wt{constructor(f){this.errorFactory=f}call(f,l){return l.subscribe(new Dc(f,this.errorFactory))}}class Dc extends qr.L{constructor(f,l){super(f),this.errorFactory=l,this.hasValue=!1}_next(f){this.hasValue=!0,this.destination.next(f)}_complete(){if(this.hasValue)return this.destination.complete();{let f;try{f=this.errorFactory()}catch(l){f=l}this.destination.error(f)}}}function Mh(){return new vs}function Tc(h=null){return f=>f.lift(new Oh(h))}class Oh{constructor(f){this.defaultValue=f}call(f,l){return l.subscribe(new tt(f,this.defaultValue))}}class tt extends qr.L{constructor(f,l){super(f),this.defaultValue=l,this.isEmpty=!0}_next(f){this.isEmpty=!1,this.destination.next(f)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var bl=j(5379);function Ur(h,f){const l=arguments.length>=2;return v=>v.pipe(h?wn((_,T)=>h(_,T,v)):bl.y,qo(1),l?Tc(f):_l(()=>new vs))}function Gi(){}var un=j(7043);function Pn(h,f,l){return function(_){return _.lift(new Js(h,f,l))}}class Js{constructor(f,l,v){this.nextOrObserver=f,this.error=l,this.complete=v}call(f,l){return l.subscribe(new wl(f,this.nextOrObserver,this.error,this.complete))}}class wl extends qr.L{constructor(f,l,v,_){super(f),this._tapNext=Gi,this._tapError=Gi,this._tapComplete=Gi,this._tapError=v||Gi,this._tapComplete=_||Gi,(0,un.m)(l)?(this._context=this,this._tapNext=l):l&&(this._context=l,this._tapNext=l.next||Gi,this._tapError=l.error||Gi,this._tapComplete=l.complete||Gi)}_next(f){try{this._tapNext.call(this._context,f)}catch(l){return void this.destination.error(l)}this.destination.next(f)}_error(f){try{this._tapError.call(this._context,f)}catch(l){return void this.destination.error(l)}this.destination.error(f)}_complete(){try{this._tapComplete.call(this._context)}catch(f){return void this.destination.error(f)}return this.destination.complete()}}var xc=j(4327),ln=j(2654);class Ko{constructor(f){this.callback=f}call(f,l){return l.subscribe(new Qo(f,this.callback))}}class Qo extends qr.L{constructor(f,l){super(f),this.add(new ln.w(l))}}class Qn{constructor(f,l){this.id=f,this.url=l}}class Zr extends Qn{constructor(f,l,v="imperative",_=null){super(f,l),this.navigationTrigger=v,this.restoredState=_}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eo extends Qn{constructor(f,l,v){super(f,l),this.urlAfterRedirects=v}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jo extends Qn{constructor(f,l,v){super(f,l),this.reason=v}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cc extends Qn{constructor(f,l,v){super(f,l),this.error=v}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uf extends Qn{constructor(f,l,v,_){super(f,l),this.urlAfterRedirects=v,this.state=_}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cu extends Qn{constructor(f,l,v,_){super(f,l),this.urlAfterRedirects=v,this.state=_}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Qn{constructor(f,l,v,_,T){super(f,l),this.urlAfterRedirects=v,this.state=_,this.shouldActivate=T}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hu extends Qn{constructor(f,l,v,_){super(f,l),this.urlAfterRedirects=v,this.state=_}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es extends Qn{constructor(f,l,v,_){super(f,l),this.urlAfterRedirects=v,this.state=_}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr{constructor(f){this.route=f}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(f){this.route=f}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class to{constructor(f){this.snapshot=f}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dl{constructor(f){this.snapshot=f}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fu{constructor(f){this.snapshot=f}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(f){this.snapshot=f}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(f,l,v){this.routerEvent=f,this.position=l,this.anchor=v}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gt="primary";class na{constructor(f){this.params=f||{}}has(f){return Object.prototype.hasOwnProperty.call(this.params,f)}get(f){if(this.has(f)){const l=this.params[f];return Array.isArray(l)?l[0]:l}return null}getAll(f){if(this.has(f)){const l=this.params[f];return Array.isArray(l)?l:[l]}return[]}get keys(){return Object.keys(this.params)}}function jn(h){return new na(h)}const ra="ngNavigationCancelingError";function mi(h){const f=Error("NavigationCancelingError: "+h);return f[ra]=!0,f}function Qr(h,f,l){const v=l.path.split("/");if(v.length>h.length||"full"===l.pathMatch&&(f.hasChildren()||v.length<h.length))return null;const _={};for(let T=0;T<v.length;T++){const P=v[T],F=h[T];if(P.startsWith(":"))_[P.substring(1)]=F;else if(P!==F.path)return null}return{consumed:h.slice(0,v.length),posParams:_}}function jr(h,f){const l=h?Object.keys(h):void 0,v=f?Object.keys(f):void 0;if(!l||!v||l.length!=v.length)return!1;let _;for(let T=0;T<l.length;T++)if(_=l[T],!sa(h[_],f[_]))return!1;return!0}function sa(h,f){if(Array.isArray(h)&&Array.isArray(f)){if(h.length!==f.length)return!1;const l=[...h].sort(),v=[...f].sort();return l.every((_,T)=>v[T]===_)}return h===f}function oa(h){return Array.prototype.concat.apply([],h)}function aa(h){return h.length>0?h[h.length-1]:null}function gn(h,f){for(const l in h)h.hasOwnProperty(l)&&f(h[l],l)}function br(h){return(0,E.CqO)(h)?h:(0,E.QGY)(h)?(0,or.D)(Promise.resolve(h)):ft(h)}const ro={exact:function pu(h,f,l){if(!Jr(h.segments,f.segments)||!Hr(h.segments,f.segments,l)||h.numberOfChildren!==f.numberOfChildren)return!1;for(const v in f.children)if(!h.children[v]||!pu(h.children[v],f.children[v],l))return!1;return!0},subset:Tl},du={exact:function(h,f){return jr(h,f)},subset:function(h,f){return Object.keys(f).length<=Object.keys(h).length&&Object.keys(f).every(l=>sa(h[l],f[l]))},ignored:()=>!0};function yi(h,f,l){return ro[l.paths](h.root,f.root,l.matrixParams)&&du[l.queryParams](h.queryParams,f.queryParams)&&!("exact"===l.fragment&&h.fragment!==f.fragment)}function Tl(h,f,l){return Ds(h,f,f.segments,l)}function Ds(h,f,l,v){if(h.segments.length>l.length){const _=h.segments.slice(0,l.length);return!(!Jr(_,l)||f.hasChildren()||!Hr(_,l,v))}if(h.segments.length===l.length){if(!Jr(h.segments,l)||!Hr(h.segments,l,v))return!1;for(const _ in f.children)if(!h.children[_]||!Tl(h.children[_],f.children[_],v))return!1;return!0}{const _=l.slice(0,h.segments.length),T=l.slice(h.segments.length);return!!(Jr(h.segments,_)&&Hr(h.segments,_,v)&&h.children[gt])&&Ds(h.children[gt],f,T,v)}}function Hr(h,f,l){return f.every((v,_)=>du[l](h[_].parameters,v.parameters))}class _i{constructor(f,l,v){this.root=f,this.queryParams=l,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return vu.serialize(this)}}class dt{constructor(f,l){this.segments=f,this.children=l,this.parent=null,gn(l,(v,_)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ei(this)}}class zi{constructor(f,l){this.path=f,this.parameters=l}get parameterMap(){return this._parameterMap||(this._parameterMap=jn(this.parameters)),this._parameterMap}toString(){return fa(this)}}function Jr(h,f){return h.length===f.length&&h.every((l,v)=>l.path===f[v].path)}class gu{}class Ts{parse(f){const l=new bu(f);return new _i(l.parseRootSegment(),l.parseQueryParams(),l.parseFragment())}serialize(f){const l=`/${Hn(f.root,!0)}`,v=function(h){const f=Object.keys(h).map(l=>{const v=h[l];return Array.isArray(v)?v.map(_=>`${mu(l)}=${mu(_)}`).join("&"):`${mu(l)}=${mu(v)}`}).filter(l=>!!l);return f.length?`?${f.join("&")}`:""}(f.queryParams);var h;return`${l}${v}${"string"==typeof f.fragment?`#${h=f.fragment,encodeURI(h)}`:""}`}}const vu=new Ts;function ei(h){return h.segments.map(f=>fa(f)).join("/")}function Hn(h,f){if(!h.hasChildren())return ei(h);if(f){const l=h.children[gt]?Hn(h.children[gt],!1):"",v=[];return gn(h.children,(_,T)=>{T!==gt&&v.push(`${T}:${Hn(_,!1)}`)}),v.length>0?`${l}(${v.join("//")})`:l}{const l=function(h,f){let l=[];return gn(h.children,(v,_)=>{_===gt&&(l=l.concat(f(v,_)))}),gn(h.children,(v,_)=>{_!==gt&&(l=l.concat(f(v,_)))}),l}(h,(v,_)=>_===gt?[Hn(h.children[gt],!1)]:[`${_}:${Hn(v,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[gt]?`${ei(h)}/${l[0]}`:`${ei(h)}/(${l.join("//")})`}}function ca(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mu(h){return ca(h).replace(/%3B/gi,";")}function ha(h){return ca(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function io(h){return decodeURIComponent(h)}function xl(h){return io(h.replace(/\+/g,"%20"))}function fa(h){return`${ha(h.path)}${function(h){return Object.keys(h).map(f=>`;${ha(f)}=${ha(h[f])}`).join("")}(h.parameters)}`}const yu=/^[^\/()?;=#]+/;function Vr(h){const f=h.match(yu);return f?f[0]:""}const _u=/^[^=?&#]+/,Rh=/^[^&#]+/;class bu{constructor(f){this.url=f,this.remaining=f}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const f={};if(this.consumeOptional("?"))do{this.parseQueryParam(f)}while(this.consumeOptional("&"));return f}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const f=[];for(this.peekStartsWith("(")||f.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),f.push(this.parseSegment());let l={};this.peekStartsWith("/(")&&(this.capture("/"),l=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(f.length>0||Object.keys(l).length>0)&&(v[gt]=new dt(f,l)),v}parseSegment(){const f=Vr(this.remaining);if(""===f&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(f),new zi(io(f),this.parseMatrixParams())}parseMatrixParams(){const f={};for(;this.consumeOptional(";");)this.parseParam(f);return f}parseParam(f){const l=Vr(this.remaining);if(!l)return;this.capture(l);let v="";if(this.consumeOptional("=")){const _=Vr(this.remaining);_&&(v=_,this.capture(v))}f[io(l)]=io(v)}parseQueryParam(f){const l=function(h){const f=h.match(_u);return f?f[0]:""}(this.remaining);if(!l)return;this.capture(l);let v="";if(this.consumeOptional("=")){const P=function(h){const f=h.match(Rh);return f?f[0]:""}(this.remaining);P&&(v=P,this.capture(v))}const _=xl(l),T=xl(v);if(f.hasOwnProperty(_)){let P=f[_];Array.isArray(P)||(P=[P],f[_]=P),P.push(T)}else f[_]=T}parseParens(f){const l={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=Vr(this.remaining),_=this.remaining[v.length];if("/"!==_&&")"!==_&&";"!==_)throw new Error(`Cannot parse url '${this.url}'`);let T;v.indexOf(":")>-1?(T=v.substr(0,v.indexOf(":")),this.capture(T),this.capture(":")):f&&(T=gt);const P=this.parseChildren();l[T]=1===Object.keys(P).length?P[gt]:new dt([],P),this.consumeOptional("//")}return l}peekStartsWith(f){return this.remaining.startsWith(f)}consumeOptional(f){return!!this.peekStartsWith(f)&&(this.remaining=this.remaining.substring(f.length),!0)}capture(f){if(!this.consumeOptional(f))throw new Error(`Expected "${f}".`)}}class Eu{constructor(f){this._root=f}get root(){return this._root.value}parent(f){const l=this.pathFromRoot(f);return l.length>1?l[l.length-2]:null}children(f){const l=pa(f,this._root);return l?l.children.map(v=>v.value):[]}firstChild(f){const l=pa(f,this._root);return l&&l.children.length>0?l.children[0].value:null}siblings(f){const l=ga(f,this._root);return l.length<2?[]:l[l.length-2].children.map(_=>_.value).filter(_=>_!==f)}pathFromRoot(f){return ga(f,this._root).map(l=>l.value)}}function pa(h,f){if(h===f.value)return f;for(const l of f.children){const v=pa(h,l);if(v)return v}return null}function ga(h,f){if(h===f.value)return[f];for(const l of f.children){const v=ga(h,l);if(v.length)return v.unshift(f),v}return[]}class Gr{constructor(f,l){this.value=f,this.children=l}toString(){return`TreeNode(${this.value})`}}function xs(h){const f={};return h&&h.children.forEach(l=>f[l.value.outlet]=l),f}class Cl extends Eu{constructor(f,l){super(f),this.snapshot=l,ya(this,f)}toString(){return this.snapshot.toString()}}function wu(h,f){const l=function(h,f){const P=new ma([],{},{},"",{},gt,f,null,h.root,-1,{});return new Pc("",new Gr(P,[]))}(h,f),v=new Lr([new zi("",{})]),_=new Lr({}),T=new Lr({}),P=new Lr({}),F=new Lr(""),J=new Cs(v,_,P,F,T,gt,f,l.root);return J.snapshot=l.root,new Cl(new Gr(J,[]),l)}class Cs{constructor(f,l,v,_,T,P,F,J){this.url=f,this.params=l,this.queryParams=v,this.fragment=_,this.data=T,this.outlet=P,this.component=F,this._futureSnapshot=J}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(f=>jn(f)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(f=>jn(f)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ti(h,f="emptyOnly"){const l=h.pathFromRoot;let v=0;if("always"!==f)for(v=l.length-1;v>=1;){const _=l[v],T=l[v-1];if(_.routeConfig&&""===_.routeConfig.path)v--;else{if(T.component)break;v--}}return function(h){return h.reduce((f,l)=>({params:Object.assign(Object.assign({},f.params),l.params),data:Object.assign(Object.assign({},f.data),l.data),resolve:Object.assign(Object.assign({},f.resolve),l._resolvedData)}),{params:{},data:{},resolve:{}})}(l.slice(v))}class ma{constructor(f,l,v,_,T,P,F,J,Ce,qe,Me){this.url=f,this.params=l,this.queryParams=v,this.fragment=_,this.data=T,this.outlet=P,this.component=F,this.routeConfig=J,this._urlSegment=Ce,this._lastPathIndex=qe,this._resolve=Me}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pc extends Eu{constructor(f,l){super(l),this.url=f,ya(this,l)}toString(){return Sl(this._root)}}function ya(h,f){f.value._routerState=h,f.children.forEach(l=>ya(h,l))}function Sl(h){const f=h.children.length>0?` { ${h.children.map(Sl).join(", ")} } `:"";return`${h.value}${f}`}function Ss(h){if(h.snapshot){const f=h.snapshot,l=h._futureSnapshot;h.snapshot=l,jr(f.queryParams,l.queryParams)||h.queryParams.next(l.queryParams),f.fragment!==l.fragment&&h.fragment.next(l.fragment),jr(f.params,l.params)||h.params.next(l.params),function(h,f){if(h.length!==f.length)return!1;for(let l=0;l<h.length;++l)if(!jr(h[l],f[l]))return!1;return!0}(f.url,l.url)||h.url.next(l.url),jr(f.data,l.data)||h.data.next(l.data)}else h.snapshot=h._futureSnapshot,h.data.next(h._futureSnapshot.data)}function Mc(h,f){const l=jr(h.params,f.params)&&function(h,f){return Jr(h,f)&&h.every((l,v)=>jr(l.parameters,f[v].parameters))}(h.url,f.url);return l&&!(!h.parent!=!f.parent)&&(!h.parent||Mc(h.parent,f.parent))}function so(h,f,l){if(l&&h.shouldReuseRoute(f.value,l.value.snapshot)){const v=l.value;v._futureSnapshot=f.value;const _=function(h,f,l){return f.children.map(v=>{for(const _ of l.children)if(h.shouldReuseRoute(v.value,_.value.snapshot))return so(h,v,_);return so(h,v)})}(h,f,l);return new Gr(v,_)}{if(h.shouldAttach(f.value)){const T=h.retrieve(f.value);if(null!==T){const P=T.route;return P.value._futureSnapshot=f.value,P.children=f.children.map(F=>so(h,F)),P}}const v=function(h){return new Cs(new Lr(h.url),new Lr(h.params),new Lr(h.queryParams),new Lr(h.fragment),new Lr(h.data),h.outlet,h.component,h)}(f.value),_=f.children.map(T=>so(h,T));return new Gr(v,_)}}function oo(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function Yi(h){return"object"==typeof h&&null!=h&&h.outlets}function Is(h,f,l,v,_){let T={};return v&&gn(v,(P,F)=>{T[F]=Array.isArray(P)?P.map(J=>`${J}`):`${P}`}),new _i(l.root===h?f:ao(l.root,h,f),T,_)}function ao(h,f,l){const v={};return gn(h.children,(_,T)=>{v[T]=_===f?l:ao(_,f,l)}),new dt(h.segments,v)}class ur{constructor(f,l,v){if(this.isAbsolute=f,this.numberOfDoubleDots=l,this.commands=v,f&&v.length>0&&oo(v[0]))throw new Error("Root segment cannot have matrix parameters");const _=v.find(Yi);if(_&&_!==aa(v))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ba{constructor(f,l,v){this.segmentGroup=f,this.processChildren=l,this.index=v}}function xu(h,f,l){if(h||(h=new dt([],{})),0===h.segments.length&&h.hasChildren())return Cu(h,f,l);const v=function(h,f,l){let v=0,_=f;const T={match:!1,pathIndex:0,commandIndex:0};for(;_<h.segments.length;){if(v>=l.length)return T;const P=h.segments[_],F=l[v];if(Yi(F))break;const J=`${F}`,Ce=v<l.length-1?l[v+1]:null;if(_>0&&void 0===J)break;if(J&&Ce&&"object"==typeof Ce&&void 0===Ce.outlets){if(!Su(J,Ce,P))return T;v+=2}else{if(!Su(J,{},P))return T;v++}_++}return{match:!0,pathIndex:_,commandIndex:v}}(h,f,l),_=l.slice(v.commandIndex);if(v.match&&v.pathIndex<h.segments.length){const T=new dt(h.segments.slice(0,v.pathIndex),{});return T.children[gt]=new dt(h.segments.slice(v.pathIndex),h.children),Cu(T,0,_)}return v.match&&0===_.length?new dt(h.segments,{}):v.match&&!h.hasChildren()?lo(h,f,l):v.match?Cu(h,0,_):lo(h,f,l)}function Cu(h,f,l){if(0===l.length)return new dt(h.segments,{});{const v=function(h){return Yi(h[0])?h[0].outlets:{[gt]:h}}(l),_={};return gn(v,(T,P)=>{"string"==typeof T&&(T=[T]),null!==T&&(_[P]=xu(h.children[P],f,T))}),gn(h.children,(T,P)=>{void 0===v[P]&&(_[P]=T)}),new dt(h.segments,_)}}function lo(h,f,l){const v=h.segments.slice(0,f);let _=0;for(;_<l.length;){const T=l[_];if(Yi(T)){const J=co(T.outlets);return new dt(v,J)}if(0===_&&oo(l[0])){v.push(new zi(h.segments[f].path,Fc(l[0]))),_++;continue}const P=Yi(T)?T.outlets[gt]:`${T}`,F=_<l.length-1?l[_+1]:null;P&&F&&oo(F)?(v.push(new zi(P,Fc(F))),_+=2):(v.push(new zi(P,{})),_++)}return new dt(v,{})}function co(h){const f={};return gn(h,(l,v)=>{"string"==typeof l&&(l=[l]),null!==l&&(f[v]=lo(new dt([],{}),0,l))}),f}function Fc(h){const f={};return gn(h,(l,v)=>f[v]=`${l}`),f}function Su(h,f,l){return h==l.path&&jr(f,l.parameters)}class Al{constructor(f,l,v,_){this.routeReuseStrategy=f,this.futureState=l,this.currState=v,this.forwardEvent=_}activate(f){const l=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(l,v,f),Ss(this.futureState.root),this.activateChildRoutes(l,v,f)}deactivateChildRoutes(f,l,v){const _=xs(l);f.children.forEach(T=>{const P=T.value.outlet;this.deactivateRoutes(T,_[P],v),delete _[P]}),gn(_,(T,P)=>{this.deactivateRouteAndItsChildren(T,v)})}deactivateRoutes(f,l,v){const _=f.value,T=l?l.value:null;if(_===T)if(_.component){const P=v.getContext(_.outlet);P&&this.deactivateChildRoutes(f,l,P.children)}else this.deactivateChildRoutes(f,l,v);else T&&this.deactivateRouteAndItsChildren(l,v)}deactivateRouteAndItsChildren(f,l){f.value.component&&this.routeReuseStrategy.shouldDetach(f.value.snapshot)?this.detachAndStoreRouteSubtree(f,l):this.deactivateRouteAndOutlet(f,l)}detachAndStoreRouteSubtree(f,l){const v=l.getContext(f.value.outlet),_=v&&f.value.component?v.children:l,T=xs(f);for(const P of Object.keys(T))this.deactivateRouteAndItsChildren(T[P],_);if(v&&v.outlet){const P=v.outlet.detach(),F=v.children.onOutletDeactivated();this.routeReuseStrategy.store(f.value.snapshot,{componentRef:P,route:f,contexts:F})}}deactivateRouteAndOutlet(f,l){const v=l.getContext(f.value.outlet),_=v&&f.value.component?v.children:l,T=xs(f);for(const P of Object.keys(T))this.deactivateRouteAndItsChildren(T[P],_);v&&v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated(),v.attachRef=null,v.resolver=null,v.route=null)}activateChildRoutes(f,l,v){const _=xs(l);f.children.forEach(T=>{this.activateRoutes(T,_[T.value.outlet],v),this.forwardEvent(new ea(T.value.snapshot))}),f.children.length&&this.forwardEvent(new Dl(f.value.snapshot))}activateRoutes(f,l,v){const _=f.value,T=l?l.value:null;if(Ss(_),_===T)if(_.component){const P=v.getOrCreateContext(_.outlet);this.activateChildRoutes(f,l,P.children)}else this.activateChildRoutes(f,l,v);else if(_.component){const P=v.getOrCreateContext(_.outlet);if(this.routeReuseStrategy.shouldAttach(_.snapshot)){const F=this.routeReuseStrategy.retrieve(_.snapshot);this.routeReuseStrategy.store(_.snapshot,null),P.children.onOutletReAttached(F.contexts),P.attachRef=F.componentRef,P.route=F.route.value,P.outlet&&P.outlet.attach(F.componentRef,F.route.value),Ss(F.route.value),this.activateChildRoutes(f,null,P.children)}else{const F=function(h){for(let f=h.parent;f;f=f.parent){const l=f.routeConfig;if(l&&l._loadedConfig)return l._loadedConfig;if(l&&l.component)return null}return null}(_.snapshot),J=F?F.module.componentFactoryResolver:null;P.attachRef=null,P.route=_,P.resolver=J,P.outlet&&P.outlet.activateWith(_,J),this.activateChildRoutes(f,null,P.children)}}else this.activateChildRoutes(f,null,v)}}class Au{constructor(f,l){this.routes=f,this.module=l}}function Vn(h){return"function"==typeof h}function wr(h){return h instanceof _i}const ho=Symbol("INITIAL_VALUE");function fo(){return ar(h=>function(...h){let f=null,l=null;return(0,tu.K)(h[h.length-1])&&(l=h.pop()),"function"==typeof h[h.length-1]&&(f=h.pop()),1===h.length&&(0,zo.k)(h[0])&&(h=h[0]),(0,ds.n)(h,l).lift(new $o(f))}(h.map(f=>f.pipe(qo(1),function(...h){const f=h[h.length-1];return(0,tu.K)(f)?(h.pop(),l=>Yo(h,l,f)):l=>Yo(h,l)}(ho)))).pipe(ou((f,l)=>{let v=!1;return l.reduce((_,T,P)=>_!==ho?_:(T===ho&&(v=!0),v||!1!==T&&P!==l.length-1&&!wr(T)?_:T),f)},ho),wn(f=>f!==ho),(0,jt.U)(f=>wr(f)?f:!0===f),qo(1)))}class po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wi,this.attachRef=null}}class Wi{constructor(){this.contexts=new Map}onChildOutletCreated(f,l){const v=this.getOrCreateContext(f);v.outlet=l,this.contexts.set(f,v)}onChildOutletDestroyed(f){const l=this.getContext(f);l&&(l.outlet=null,l.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let l=this.getContext(f);return l||(l=new po,this.contexts.set(f,l)),l}getContext(f){return this.contexts.get(f)||null}}let Ru=(()=>{class h{constructor(l,v,_,T,P){this.parentContexts=l,this.location=v,this.resolver=_,this.changeDetector=P,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=T||gt,l.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const l=this.parentContexts.getContext(this.name);l&&l.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,v){this.activated=l,this._activatedRoute=v,this.location.insert(l.hostView),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){const l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=l;const P=(v=v||this.resolver).resolveComponentFactory(l._futureSnapshot.routeConfig.component),F=this.parentContexts.getOrCreateContext(this.name).children,J=new Lc(l,F,this.location.injector);this.activated=this.location.createComponent(P,this.location.length,J),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(l){return new(l||h)(E.Y36(Wi),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},h.\u0275dir=E.lG2({type:h,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),h})();class Lc{constructor(f,l,v){this.route=f,this.childContexts=l,this.parent=v}get(f,l){return f===Cs?this.route:f===Wi?this.childContexts:this.parent.get(f,l)}}let Pl=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["ng-component"]],decls:1,vars:0,template:function(l,v){1&l&&E._UZ(0,"router-outlet")},directives:[Ru],encapsulation:2}),h})();function Ml(h,f=""){for(let l=0;l<h.length;l++){const v=h[l];kc(v,lf(f,v))}}function kc(h,f){h.children&&Ml(h.children,f)}function lf(h,f){return f?h||f.path?h&&!f.path?`${h}/`:!h&&f.path?f.path:`${h}/${f.path}`:"":h}function Bc(h){const f=h.children&&h.children.map(Bc),l=f?Object.assign(Object.assign({},h),{children:f}):Object.assign({},h);return!l.component&&(f||l.loadChildren)&&l.outlet&&l.outlet!==gt&&(l.component=Pl),l}function Mn(h){return h.outlet||gt}function On(h,f){const l=h.filter(v=>Mn(v)===f);return l.push(...h.filter(v=>Mn(v)!==f)),l}const Fu={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ea(h,f,l){var v;if(""===f.path)return"full"===f.pathMatch&&(h.hasChildren()||l.length>0)?Object.assign({},Fu):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const T=(f.matcher||Qr)(l,h,f);if(!T)return Object.assign({},Fu);const P={};gn(T.posParams,(J,Ce)=>{P[Ce]=J.path});const F=T.consumed.length>0?Object.assign(Object.assign({},P),T.consumed[T.consumed.length-1].parameters):P;return{matched:!0,consumedSegments:T.consumed,lastChild:T.consumed.length,parameters:F,positionalParamSegments:null!==(v=T.posParams)&&void 0!==v?v:{}}}function wa(h,f,l,v,_="corrected"){if(l.length>0&&function(h,f,l){return l.some(v=>Nu(h,f,v)&&Mn(v)!==gt)}(h,l,v)){const P=new dt(f,function(h,f,l,v){const _={};_[gt]=v,v._sourceSegment=h,v._segmentIndexShift=f.length;for(const T of l)if(""===T.path&&Mn(T)!==gt){const P=new dt([],{});P._sourceSegment=h,P._segmentIndexShift=f.length,_[Mn(T)]=P}return _}(h,f,v,new dt(l,h.children)));return P._sourceSegment=h,P._segmentIndexShift=f.length,{segmentGroup:P,slicedSegments:[]}}if(0===l.length&&function(h,f,l){return l.some(v=>Nu(h,f,v))}(h,l,v)){const P=new dt(h.segments,function(h,f,l,v,_,T){const P={};for(const F of v)if(Nu(h,l,F)&&!_[Mn(F)]){const J=new dt([],{});J._sourceSegment=h,J._segmentIndexShift="legacy"===T?h.segments.length:f.length,P[Mn(F)]=J}return Object.assign(Object.assign({},_),P)}(h,f,l,v,h.children,_));return P._sourceSegment=h,P._segmentIndexShift=f.length,{segmentGroup:P,slicedSegments:l}}const T=new dt(h.segments,h.children);return T._sourceSegment=h,T._segmentIndexShift=f.length,{segmentGroup:T,slicedSegments:l}}function Nu(h,f,l){return(!(h.hasChildren()||f.length>0)||"full"!==l.pathMatch)&&""===l.path}function Ei(h,f,l,v){return!!(Mn(h)===v||v!==gt&&Nu(f,l,h))&&("**"===h.path||Ea(f,h,l).matched)}function Uc(h,f,l){return 0===f.length&&!h.children[l]}class go{constructor(f){this.segmentGroup=f||null}}class jc{constructor(f){this.urlTree=f}}function Ta(h){return new ji.y(f=>f.error(new go(h)))}function xa(h){return new ji.y(f=>f.error(new jc(h)))}function Hc(h){return new ji.y(f=>f.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${h}'`)))}class Vc{constructor(f,l,v,_,T){this.configLoader=l,this.urlSerializer=v,this.urlTree=_,this.config=T,this.allowRedirects=!0,this.ngModule=f.get(E.h0i)}apply(){const f=wa(this.urlTree.root,[],[],this.config).segmentGroup,l=new dt(f.segments,f.children);return this.expandSegmentGroup(this.ngModule,this.config,l,gt).pipe((0,jt.U)(T=>this.createUrlTree(Ca(T),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Br(T=>{if(T instanceof jc)return this.allowRedirects=!1,this.match(T.urlTree);throw T instanceof go?this.noMatchError(T):T}))}match(f){return this.expandSegmentGroup(this.ngModule,this.config,f.root,gt).pipe((0,jt.U)(_=>this.createUrlTree(Ca(_),f.queryParams,f.fragment))).pipe(Br(_=>{throw _ instanceof go?this.noMatchError(_):_}))}noMatchError(f){return new Error(`Cannot match any routes. URL Segment: '${f.segmentGroup}'`)}createUrlTree(f,l,v){const _=f.segments.length>0?new dt([],{[gt]:f}):f;return new _i(_,l,v)}expandSegmentGroup(f,l,v,_){return 0===v.segments.length&&v.hasChildren()?this.expandChildren(f,l,v).pipe((0,jt.U)(T=>new dt([],T))):this.expandSegment(f,v,l,v.segments,_,!0)}expandChildren(f,l,v){const _=[];for(const T of Object.keys(v.children))"primary"===T?_.unshift(T):_.push(T);return(0,or.D)(_).pipe(Vi(T=>{const P=v.children[T],F=On(l,T);return this.expandSegmentGroup(f,F,P,T).pipe((0,jt.U)(J=>({segment:J,outlet:T})))}),ou((T,P)=>(T[P.outlet]=P.segment,T),{}),function(h,f){const l=arguments.length>=2;return v=>v.pipe(h?wn((_,T)=>h(_,T,v)):bl.y,_s(1),l?Tc(f):_l(()=>new vs))}())}expandSegment(f,l,v,_,T,P){return(0,or.D)(v).pipe(Vi(F=>this.expandSegmentAgainstRoute(f,l,v,F,_,T,P).pipe(Br(Ce=>{if(Ce instanceof go)return ft(null);throw Ce}))),Ur(F=>!!F),Br((F,J)=>{if(F instanceof vs||"EmptyError"===F.name){if(Uc(l,_,T))return ft(new dt([],{}));throw new go(l)}throw F}))}expandSegmentAgainstRoute(f,l,v,_,T,P,F){return Ei(_,l,T,P)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(f,l,_,T,P):F&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(f,l,v,_,T,P):Ta(l):Ta(l)}expandSegmentAgainstRouteUsingRedirect(f,l,v,_,T,P){return"**"===_.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(f,v,_,P):this.expandRegularSegmentAgainstRouteUsingRedirect(f,l,v,_,T,P)}expandWildCardWithParamsAgainstRouteUsingRedirect(f,l,v,_){const T=this.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?xa(T):this.lineralizeSegments(v,T).pipe((0,an.zg)(P=>{const F=new dt(P,{});return this.expandSegment(f,F,l,P,_,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(f,l,v,_,T,P){const{matched:F,consumedSegments:J,lastChild:Ce,positionalParamSegments:qe}=Ea(l,_,T);if(!F)return Ta(l);const Me=this.applyRedirectCommands(J,_.redirectTo,qe);return _.redirectTo.startsWith("/")?xa(Me):this.lineralizeSegments(_,Me).pipe((0,an.zg)(ut=>this.expandSegment(f,l,v,ut.concat(T.slice(Ce)),P,!1)))}matchSegmentAgainstRoute(f,l,v,_,T){if("**"===v.path)return v.loadChildren?(v._loadedConfig?ft(v._loadedConfig):this.configLoader.load(f.injector,v)).pipe((0,jt.U)(ut=>(v._loadedConfig=ut,new dt(_,{})))):ft(new dt(_,{}));const{matched:P,consumedSegments:F,lastChild:J}=Ea(l,v,_);if(!P)return Ta(l);const Ce=_.slice(J);return this.getChildConfig(f,v,_).pipe((0,an.zg)(Me=>{const ut=Me.module,nt=Me.routes,{segmentGroup:hn,slicedSegments:fr}=wa(l,F,Ce,nt),yn=new dt(hn.segments,hn.children);if(0===fr.length&&yn.hasChildren())return this.expandChildren(ut,nt,yn).pipe((0,jt.U)(Xr=>new dt(F,Xr)));if(0===nt.length&&0===fr.length)return ft(new dt(F,{}));const Xn=Mn(v)===T;return this.expandSegment(ut,yn,nt,fr,Xn?gt:T,!0).pipe((0,jt.U)(dr=>new dt(F.concat(dr.segments),dr.children)))}))}getChildConfig(f,l,v){return l.children?ft(new Au(l.children,f)):l.loadChildren?void 0!==l._loadedConfig?ft(l._loadedConfig):this.runCanLoadGuards(f.injector,l,v).pipe((0,an.zg)(_=>{return _?this.configLoader.load(f.injector,l).pipe((0,jt.U)(T=>(l._loadedConfig=T,T))):(h=l,new ji.y(f=>f.error(mi(`Cannot load children because the guard of the route "path: '${h.path}'" returned false`))));var h})):ft(new Au([],f))}runCanLoadGuards(f,l,v){const _=l.canLoad;return _&&0!==_.length?ft(_.map(P=>{const F=f.get(P);let J;if((h=F)&&Vn(h.canLoad))J=F.canLoad(l,v);else{if(!Vn(F))throw new Error("Invalid CanLoad guard");J=F(l,v)}var h;return br(J)})).pipe(fo(),Pn(P=>{if(!wr(P))return;const F=mi(`Redirecting to "${this.urlSerializer.serialize(P)}"`);throw F.url=P,F}),(0,jt.U)(P=>!0===P)):ft(!0)}lineralizeSegments(f,l){let v=[],_=l.root;for(;;){if(v=v.concat(_.segments),0===_.numberOfChildren)return ft(v);if(_.numberOfChildren>1||!_.children[gt])return Hc(f.redirectTo);_=_.children[gt]}}applyRedirectCommands(f,l,v){return this.applyRedirectCreatreUrlTree(l,this.urlSerializer.parse(l),f,v)}applyRedirectCreatreUrlTree(f,l,v,_){const T=this.createSegmentGroup(f,l.root,v,_);return new _i(T,this.createQueryParams(l.queryParams,this.urlTree.queryParams),l.fragment)}createQueryParams(f,l){const v={};return gn(f,(_,T)=>{if("string"==typeof _&&_.startsWith(":")){const F=_.substring(1);v[T]=l[F]}else v[T]=_}),v}createSegmentGroup(f,l,v,_){const T=this.createSegments(f,l.segments,v,_);let P={};return gn(l.children,(F,J)=>{P[J]=this.createSegmentGroup(f,F,v,_)}),new dt(T,P)}createSegments(f,l,v,_){return l.map(T=>T.path.startsWith(":")?this.findPosParam(f,T,_):this.findOrReturn(T,v))}findPosParam(f,l,v){const _=v[l.path.substring(1)];if(!_)throw new Error(`Cannot redirect to '${f}'. Cannot find '${l.path}'.`);return _}findOrReturn(f,l){let v=0;for(const _ of l){if(_.path===f.path)return l.splice(v),_;v++}return f}}function Ca(h){const f={};for(const v of Object.keys(h.children)){const T=Ca(h.children[v]);(T.segments.length>0||T.hasChildren())&&(f[v]=T)}return function(h){if(1===h.numberOfChildren&&h.children[gt]){const f=h.children[gt];return new dt(h.segments.concat(f.segments),f.children)}return h}(new dt(h.segments,f))}class Rl{constructor(f){this.path=f,this.route=this.path[this.path.length-1]}}class Sa{constructor(f,l){this.component=f,this.route=l}}function vo(h,f,l){const v=h._root;return mo(v,f?f._root:null,l,[v.value])}function Ia(h,f,l){const v=function(h){if(!h)return null;for(let f=h.parent;f;f=f.parent){const l=f.routeConfig;if(l&&l._loadedConfig)return l._loadedConfig}return null}(f);return(v?v.module.injector:l).get(h)}function mo(h,f,l,v,_={canDeactivateChecks:[],canActivateChecks:[]}){const T=xs(f);return h.children.forEach(P=>{(function(h,f,l,v,_={canDeactivateChecks:[],canActivateChecks:[]}){const T=h.value,P=f?f.value:null,F=l?l.getContext(h.value.outlet):null;if(P&&T.routeConfig===P.routeConfig){const J=function(h,f,l){if("function"==typeof l)return l(h,f);switch(l){case"pathParamsChange":return!Jr(h.url,f.url);case"pathParamsOrQueryParamsChange":return!Jr(h.url,f.url)||!jr(h.queryParams,f.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mc(h,f)||!jr(h.queryParams,f.queryParams);default:return!Mc(h,f)}}(P,T,T.routeConfig.runGuardsAndResolvers);J?_.canActivateChecks.push(new Rl(v)):(T.data=P.data,T._resolvedData=P._resolvedData),mo(h,f,T.component?F?F.children:null:l,v,_),J&&F&&F.outlet&&F.outlet.isActivated&&_.canDeactivateChecks.push(new Sa(F.outlet.component,P))}else P&&yo(f,F,_),_.canActivateChecks.push(new Rl(v)),mo(h,null,T.component?F?F.children:null:l,v,_)})(P,T[P.value.outlet],l,v.concat([P.value]),_),delete T[P.value.outlet]}),gn(T,(P,F)=>yo(P,l.getContext(F),_)),_}function yo(h,f,l){const v=xs(h),_=h.value;gn(v,(T,P)=>{yo(T,_.component?f?f.children.getContext(P):null:f,l)}),l.canDeactivateChecks.push(new Sa(_.component&&f&&f.outlet&&f.outlet.isActivated?f.outlet.component:null,_))}class ri{}function Wc(h){return new ji.y(f=>f.error(h))}class _o{constructor(f,l,v,_,T,P){this.rootComponentType=f,this.config=l,this.urlTree=v,this.url=_,this.paramsInheritanceStrategy=T,this.relativeLinkResolution=P}recognize(){const f=wa(this.urlTree.root,[],[],this.config.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution).segmentGroup,l=this.processSegmentGroup(this.config,f,gt);if(null===l)return null;const v=new ma([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),_=new Gr(v,l),T=new Pc(this.url,_);return this.inheritParamsAndData(T._root),T}inheritParamsAndData(f){const l=f.value,v=ti(l,this.paramsInheritanceStrategy);l.params=Object.freeze(v.params),l.data=Object.freeze(v.data),f.children.forEach(_=>this.inheritParamsAndData(_))}processSegmentGroup(f,l,v){return 0===l.segments.length&&l.hasChildren()?this.processChildren(f,l):this.processSegment(f,l,l.segments,v)}processChildren(f,l){const v=[];for(const T of Object.keys(l.children)){const P=l.children[T],F=On(f,T),J=this.processSegmentGroup(F,P,T);if(null===J)return null;v.push(...J)}const _=Gu(v);return _.sort((f,l)=>f.value.outlet===gt?-1:l.value.outlet===gt?1:f.value.outlet.localeCompare(l.value.outlet)),_}processSegment(f,l,v,_){for(const T of f){const P=this.processSegmentAgainstRoute(T,l,v,_);if(null!==P)return P}return Uc(l,v,_)?[]:null}processSegmentAgainstRoute(f,l,v,_){if(f.redirectTo||!Ei(f,l,v,_))return null;let T,P=[],F=[];if("**"===f.path){const nt=v.length>0?aa(v).parameters:{};T=new ma(v,nt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kl(f),Mn(f),f.component,f,Pa(l),Re(l)+v.length,Bl(f))}else{const nt=Ea(l,f,v);if(!nt.matched)return null;P=nt.consumedSegments,F=v.slice(nt.lastChild),T=new ma(P,nt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kl(f),Mn(f),f.component,f,Pa(l),Re(l)+P.length,Bl(f))}const J=(h=f).children?h.children:h.loadChildren?h._loadedConfig.routes:[],{segmentGroup:Ce,slicedSegments:qe}=wa(l,P,F,J.filter(nt=>void 0===nt.redirectTo),this.relativeLinkResolution);var h;if(0===qe.length&&Ce.hasChildren()){const nt=this.processChildren(J,Ce);return null===nt?null:[new Gr(T,nt)]}if(0===J.length&&0===qe.length)return[new Gr(T,[])];const Me=Mn(f)===_,ut=this.processSegment(J,Ce,qe,Me?gt:_);return null===ut?null:[new Gr(T,ut)]}}function Vu(h){const f=h.value.routeConfig;return f&&""===f.path&&void 0===f.redirectTo}function Gu(h){const f=[],l=new Set;for(const v of h){if(!Vu(v)){f.push(v);continue}const _=f.find(T=>v.value.routeConfig===T.value.routeConfig);void 0!==_?(_.children.push(...v.children),l.add(_)):f.push(v)}for(const v of l){const _=Gu(v.children);f.push(new Gr(v.value,_))}return f.filter(v=>!l.has(v))}function Pa(h){let f=h;for(;f._sourceSegment;)f=f._sourceSegment;return f}function Re(h){let f=h,l=f._segmentIndexShift?f._segmentIndexShift:0;for(;f._sourceSegment;)f=f._sourceSegment,l+=f._segmentIndexShift?f._segmentIndexShift:0;return l-1}function kl(h){return h.data||{}}function Bl(h){return h.resolve||{}}function o(h){return ar(f=>{const l=h(f);return l?(0,or.D)(l).pipe((0,jt.U)(()=>f)):ft(f)})}class m extends class{shouldDetach(f){return!1}store(f,l){}shouldAttach(f){return!1}retrieve(f){return null}shouldReuseRoute(f,l){return f.routeConfig===l.routeConfig}}{}const w=new E.OlP("ROUTES");class x{constructor(f,l,v,_){this.injector=f,this.compiler=l,this.onLoadStartListener=v,this.onLoadEndListener=_}load(f,l){if(l._loader$)return l._loader$;this.onLoadStartListener&&this.onLoadStartListener(l);const _=this.loadModuleFactory(l.loadChildren).pipe((0,jt.U)(T=>{this.onLoadEndListener&&this.onLoadEndListener(l);const P=T.create(f);return new Au(oa(P.injector.get(w,void 0,E.XFs.Self|E.XFs.Optional)).map(Bc),P)}),Br(T=>{throw l._loader$=void 0,T}));return l._loader$=new iu.c(_,()=>new ps.xQ).pipe((0,xc.x)()),l._loader$}loadModuleFactory(f){return br(f()).pipe((0,an.zg)(l=>l instanceof E.YKP?ft(l):(0,or.D)(this.compiler.compileModuleAsync(l))))}}class I{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,l){return f}}function S(h){throw h}function R(h,f,l){return f.parse("/")}function L(h,f){return ft(null)}const B={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let se=(()=>{class h{constructor(l,v,_,T,P,F,J){this.rootComponentType=l,this.urlSerializer=v,this.rootContexts=_,this.location=T,this.config=J,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ps.xQ,this.errorHandler=S,this.malformedUriErrorHandler=R,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:L,afterPreactivation:L},this.urlHandlingStrategy=new I,this.routeReuseStrategy=new m,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=P.get(E.h0i),this.console=P.get(E.c2e);const Me=P.get(E.R0b);this.isNgZoneEnabled=Me instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(J),this.currentUrlTree=new _i(new dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new x(P,F,ut=>this.triggerEvent(new Kr(ut)),ut=>this.triggerEvent(new _r(ut))),this.routerState=wu(this.currentUrlTree,this.rootComponentType),this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var l;return null===(l=this.location.getState())||void 0===l?void 0:l.\u0275routerPageId}setupNavigations(l){const v=this.events;return l.pipe(wn(_=>0!==_.id),(0,jt.U)(_=>Object.assign(Object.assign({},_),{extractedUrl:this.urlHandlingStrategy.extract(_.rawUrl)})),ar(_=>{let T=!1,P=!1;return ft(_).pipe(Pn(F=>{this.currentNavigation={id:F.id,initialUrl:F.currentRawUrl,extractedUrl:F.extractedUrl,trigger:F.source,extras:F.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ar(F=>{const J=this.browserUrlTree.toString(),Ce=!this.navigated||F.extractedUrl.toString()!==J||J!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ce)&&this.urlHandlingStrategy.shouldProcessUrl(F.rawUrl))return ye(F.source)&&(this.browserUrlTree=F.extractedUrl),ft(F).pipe(ar(Me=>{const ut=this.transitions.getValue();return v.next(new Zr(Me.id,this.serializeUrl(Me.extractedUrl),Me.source,Me.restoredState)),ut!==this.transitions.getValue()?gi:Promise.resolve(Me)}),function(h,f,l,v){return ar(_=>function(h,f,l,v,_){return new Vc(h,f,l,v,_).apply()}(h,f,l,_.extractedUrl,v).pipe((0,jt.U)(T=>Object.assign(Object.assign({},_),{urlAfterRedirects:T}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Pn(Me=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Me.urlAfterRedirects})}),function(h,f,l,v,_){return(0,an.zg)(T=>function(h,f,l,v,_="emptyOnly",T="legacy"){try{const P=new _o(h,f,l,v,_,T).recognize();return null===P?Wc(new ri):ft(P)}catch(P){return Wc(P)}}(h,f,T.urlAfterRedirects,l(T.urlAfterRedirects),v,_).pipe((0,jt.U)(P=>Object.assign(Object.assign({},T),{targetSnapshot:P}))))}(this.rootComponentType,this.config,Me=>this.serializeUrl(Me),this.paramsInheritanceStrategy,this.relativeLinkResolution),Pn(Me=>{if("eager"===this.urlUpdateStrategy){if(!Me.extras.skipLocationChange){const nt=this.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl);this.setBrowserUrl(nt,Me)}this.browserUrlTree=Me.urlAfterRedirects}const ut=new uf(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);v.next(ut)}));if(Ce&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ut,extractedUrl:nt,source:hn,restoredState:fr,extras:yn}=F,Xn=new Zr(ut,this.serializeUrl(nt),hn,fr);v.next(Xn);const xr=wu(nt,this.rootComponentType).snapshot;return ft(Object.assign(Object.assign({},F),{targetSnapshot:xr,urlAfterRedirects:nt,extras:Object.assign(Object.assign({},yn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=F.rawUrl,F.resolve(null),gi}),o(F=>{const{targetSnapshot:J,id:Ce,extractedUrl:qe,rawUrl:Me,extras:{skipLocationChange:ut,replaceUrl:nt}}=F;return this.hooks.beforePreactivation(J,{navigationId:Ce,appliedUrlTree:qe,rawUrlTree:Me,skipLocationChange:!!ut,replaceUrl:!!nt})}),Pn(F=>{const J=new cu(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);this.triggerEvent(J)}),(0,jt.U)(F=>Object.assign(Object.assign({},F),{guards:vo(F.targetSnapshot,F.currentSnapshot,this.rootContexts)})),function(h,f){return(0,an.zg)(l=>{const{targetSnapshot:v,currentSnapshot:_,guards:{canActivateChecks:T,canDeactivateChecks:P}}=l;return 0===P.length&&0===T.length?ft(Object.assign(Object.assign({},l),{guardsResult:!0})):function(h,f,l,v){return(0,or.D)(h).pipe((0,an.zg)(_=>function(h,f,l,v,_){const T=f&&f.routeConfig?f.routeConfig.canDeactivate:null;return T&&0!==T.length?ft(T.map(F=>{const J=Ia(F,f,_);let Ce;if(function(h){return h&&Vn(h.canDeactivate)}(J))Ce=br(J.canDeactivate(h,f,l,v));else{if(!Vn(J))throw new Error("Invalid CanDeactivate guard");Ce=br(J(h,f,l,v))}return Ce.pipe(Ur())})).pipe(fo()):ft(!0)}(_.component,_.route,l,f,v)),Ur(_=>!0!==_,!0))}(P,v,_,h).pipe((0,an.zg)(F=>F&&function(h){return"boolean"==typeof h}(F)?function(h,f,l,v){return(0,or.D)(f).pipe(Vi(_=>Yo(function(h,f){return null!==h&&f&&f(new to(h)),ft(!0)}(_.route.parent,v),function(h,f){return null!==h&&f&&f(new fu(h)),ft(!0)}(_.route,v),function(h,f,l){const v=f[f.length-1],T=f.slice(0,f.length-1).reverse().map(P=>function(h){const f=h.routeConfig?h.routeConfig.canActivateChild:null;return f&&0!==f.length?{node:h,guards:f}:null}(P)).filter(P=>null!==P).map(P=>ms(()=>ft(P.guards.map(J=>{const Ce=Ia(J,P.node,l);let qe;if(function(h){return h&&Vn(h.canActivateChild)}(Ce))qe=br(Ce.canActivateChild(v,h));else{if(!Vn(Ce))throw new Error("Invalid CanActivateChild guard");qe=br(Ce(v,h))}return qe.pipe(Ur())})).pipe(fo())));return ft(T).pipe(fo())}(h,_.path,l),function(h,f,l){const v=f.routeConfig?f.routeConfig.canActivate:null;if(!v||0===v.length)return ft(!0);const _=v.map(T=>ms(()=>{const P=Ia(T,f,l);let F;if(function(h){return h&&Vn(h.canActivate)}(P))F=br(P.canActivate(f,h));else{if(!Vn(P))throw new Error("Invalid CanActivate guard");F=br(P(f,h))}return F.pipe(Ur())}));return ft(_).pipe(fo())}(h,_.route,l))),Ur(_=>!0!==_,!0))}(v,T,h,f):ft(F)),(0,jt.U)(F=>Object.assign(Object.assign({},l),{guardsResult:F})))})}(this.ngModule.injector,F=>this.triggerEvent(F)),Pn(F=>{if(wr(F.guardsResult)){const Ce=mi(`Redirecting to "${this.serializeUrl(F.guardsResult)}"`);throw Ce.url=F.guardsResult,Ce}const J=new Jn(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot,!!F.guardsResult);this.triggerEvent(J)}),wn(F=>!!F.guardsResult||(this.restoreHistory(F),this.cancelNavigationTransition(F,""),!1)),o(F=>{if(F.guards.canActivateChecks.length)return ft(F).pipe(Pn(J=>{const Ce=new hu(J.id,this.serializeUrl(J.extractedUrl),this.serializeUrl(J.urlAfterRedirects),J.targetSnapshot);this.triggerEvent(Ce)}),ar(J=>{let Ce=!1;return ft(J).pipe(function(h,f){return(0,an.zg)(l=>{const{targetSnapshot:v,guards:{canActivateChecks:_}}=l;if(!_.length)return ft(l);let T=0;return(0,or.D)(_).pipe(Vi(P=>function(h,f,l,v){return function(h,f,l,v){const _=Object.keys(h);if(0===_.length)return ft({});const T={};return(0,or.D)(_).pipe((0,an.zg)(P=>function(h,f,l,v){const _=Ia(h,f,v);return br(_.resolve?_.resolve(f,l):_(f,l))}(h[P],f,l,v).pipe(Pn(F=>{T[P]=F}))),_s(1),(0,an.zg)(()=>Object.keys(T).length===_.length?ft(T):gi))}(h._resolve,h,f,v).pipe((0,jt.U)(T=>(h._resolvedData=T,h.data=Object.assign(Object.assign({},h.data),ti(h,l).resolve),null)))}(P.route,v,h,f)),Pn(()=>T++),_s(1),(0,an.zg)(P=>T===_.length?ft(l):gi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Pn({next:()=>Ce=!0,complete:()=>{Ce||(this.restoreHistory(J),this.cancelNavigationTransition(J,"At least one route resolver didn't emit any value."))}}))}),Pn(J=>{const Ce=new Es(J.id,this.serializeUrl(J.extractedUrl),this.serializeUrl(J.urlAfterRedirects),J.targetSnapshot);this.triggerEvent(Ce)}))}),o(F=>{const{targetSnapshot:J,id:Ce,extractedUrl:qe,rawUrl:Me,extras:{skipLocationChange:ut,replaceUrl:nt}}=F;return this.hooks.afterPreactivation(J,{navigationId:Ce,appliedUrlTree:qe,rawUrlTree:Me,skipLocationChange:!!ut,replaceUrl:!!nt})}),(0,jt.U)(F=>{const J=function(h,f,l){const v=so(h,f._root,l?l._root:void 0);return new Cl(v,f)}(this.routeReuseStrategy,F.targetSnapshot,F.currentRouterState);return Object.assign(Object.assign({},F),{targetRouterState:J})}),Pn(F=>{this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects)}),((h,f,l)=>(0,jt.U)(v=>(new Al(f,v.targetRouterState,v.currentRouterState,l).activate(h),v)))(this.rootContexts,this.routeReuseStrategy,F=>this.triggerEvent(F)),Pn({next(){T=!0},complete(){T=!0}}),function(h){return f=>f.lift(new Ko(h))}(()=>{var F;T||P||this.cancelNavigationTransition(_,`Navigation ID ${_.id} is not equal to the current navigation id ${this.navigationId}`),(null===(F=this.currentNavigation)||void 0===F?void 0:F.id)===_.id&&(this.currentNavigation=null)}),Br(F=>{if(P=!0,function(h){return h&&h[ra]}(F)){const J=wr(F.url);J||(this.navigated=!0,this.restoreHistory(_,!0));const Ce=new Jo(_.id,this.serializeUrl(_.extractedUrl),F.message);v.next(Ce),J?setTimeout(()=>{const qe=this.urlHandlingStrategy.merge(F.url,this.rawUrlTree),Me={skipLocationChange:_.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ye(_.source)};this.scheduleNavigation(qe,"imperative",null,Me,{resolve:_.resolve,reject:_.reject,promise:_.promise})},0):_.resolve(!1)}else{this.restoreHistory(_,!0);const J=new Cc(_.id,this.serializeUrl(_.extractedUrl),F);v.next(J);try{_.resolve(this.errorHandler(F))}catch(Ce){_.reject(Ce)}}return gi}))}))}resetRootComponentType(l){this.rootComponentType=l,this.routerState.root.component=this.rootComponentType}setTransition(l){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),l))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(l=>{const v="popstate"===l.type?"popstate":"hashchange";"popstate"===v&&setTimeout(()=>{var _;const T={replaceUrl:!0},P=(null===(_=l.state)||void 0===_?void 0:_.navigationId)?l.state:null;if(P){const J=Object.assign({},P);delete J.navigationId,delete J.\u0275routerPageId,0!==Object.keys(J).length&&(T.state=J)}const F=this.parseUrl(l.url);this.scheduleNavigation(F,v,P,T)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(l){this.events.next(l)}resetConfig(l){Ml(l),this.config=l.map(Bc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(l,v={}){const{relativeTo:_,queryParams:T,fragment:P,queryParamsHandling:F,preserveFragment:J}=v,Ce=_||this.routerState.root,qe=J?this.currentUrlTree.fragment:P;let Me=null;switch(F){case"merge":Me=Object.assign(Object.assign({},this.currentUrlTree.queryParams),T);break;case"preserve":Me=this.currentUrlTree.queryParams;break;default:Me=T||null}return null!==Me&&(Me=this.removeEmptyProps(Me)),function(h,f,l,v,_){if(0===l.length)return Is(f.root,f.root,f,v,_);const T=function(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new ur(!0,0,h);let f=0,l=!1;const v=h.reduce((_,T,P)=>{if("object"==typeof T&&null!=T){if(T.outlets){const F={};return gn(T.outlets,(J,Ce)=>{F[Ce]="string"==typeof J?J.split("/"):J}),[..._,{outlets:F}]}if(T.segmentPath)return[..._,T.segmentPath]}return"string"!=typeof T?[..._,T]:0===P?(T.split("/").forEach((F,J)=>{0==J&&"."===F||(0==J&&""===F?l=!0:".."===F?f++:""!=F&&_.push(F))}),_):[..._,T]},[]);return new ur(l,f,v)}(l);if(T.toRoot())return Is(f.root,new dt([],{}),f,v,_);const P=function(h,f,l){if(h.isAbsolute)return new ba(f.root,!0,0);if(-1===l.snapshot._lastPathIndex){const T=l.snapshot._urlSegment;return new ba(T,T===f.root,0)}const v=oo(h.commands[0])?0:1;return function(h,f,l){let v=h,_=f,T=l;for(;T>_;){if(T-=_,v=v.parent,!v)throw new Error("Invalid number of '../'");_=v.segments.length}return new ba(v,!1,_-T)}(l.snapshot._urlSegment,l.snapshot._lastPathIndex+v,h.numberOfDoubleDots)}(T,f,h),F=P.processChildren?Cu(P.segmentGroup,P.index,T.commands):xu(P.segmentGroup,P.index,T.commands);return Is(P.segmentGroup,F,f,v,_)}(Ce,this.currentUrlTree,l,Me,null!=qe?qe:null)}navigateByUrl(l,v={skipLocationChange:!1}){const _=wr(l)?l:this.parseUrl(l),T=this.urlHandlingStrategy.merge(_,this.rawUrlTree);return this.scheduleNavigation(T,"imperative",null,v)}navigate(l,v={skipLocationChange:!1}){return function(h){for(let f=0;f<h.length;f++){const l=h[f];if(null==l)throw new Error(`The requested path contains ${l} segment at index ${f}`)}}(l),this.navigateByUrl(this.createUrlTree(l,v),v)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){let v;try{v=this.urlSerializer.parse(l)}catch(_){v=this.malformedUriErrorHandler(_,this.urlSerializer,l)}return v}isActive(l,v){let _;if(_=!0===v?Object.assign({},B):!1===v?Object.assign({},X):v,wr(l))return yi(this.currentUrlTree,l,_);const T=this.parseUrl(l);return yi(this.currentUrlTree,T,_)}removeEmptyProps(l){return Object.keys(l).reduce((v,_)=>{const T=l[_];return null!=T&&(v[_]=T),v},{})}processNavigations(){this.navigations.subscribe(l=>{this.navigated=!0,this.lastSuccessfulId=l.id,this.currentPageId=l.targetPageId,this.events.next(new eo(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,l.resolve(!0)},l=>{this.console.warn(`Unhandled Navigation Error: ${l}`)})}scheduleNavigation(l,v,_,T,P){var F,J,Ce;if(this.disposed)return Promise.resolve(!1);const qe=this.transitions.value,Me=ye(v)&&qe&&!ye(qe.source),ut=qe.rawUrl.toString()===l.toString(),nt=qe.id===(null===(F=this.currentNavigation)||void 0===F?void 0:F.id);if(Me&&ut&&nt)return Promise.resolve(!0);let fr,yn,Xn;P?(fr=P.resolve,yn=P.reject,Xn=P.promise):Xn=new Promise((Xr,qc)=>{fr=Xr,yn=qc});const xr=++this.navigationId;let dr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(_=this.location.getState()),dr=_&&_.\u0275routerPageId?_.\u0275routerPageId:T.replaceUrl||T.skipLocationChange?null!==(J=this.browserPageId)&&void 0!==J?J:0:(null!==(Ce=this.browserPageId)&&void 0!==Ce?Ce:0)+1):dr=0,this.setTransition({id:xr,targetPageId:dr,source:v,restoredState:_,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:l,extras:T,resolve:fr,reject:yn,promise:Xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xn.catch(Xr=>Promise.reject(Xr))}setBrowserUrl(l,v){const _=this.urlSerializer.serialize(l),T=Object.assign(Object.assign({},v.extras.state),this.generateNgRouterState(v.id,v.targetPageId));this.location.isCurrentPathEqualTo(_)||v.extras.replaceUrl?this.location.replaceState(_,"",T):this.location.go(_,"",T)}restoreHistory(l,v=!1){var _,T;if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-l.targetPageId;"popstate"!==l.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(_=this.currentNavigation)||void 0===_?void 0:_.finalUrl)||0===P?this.currentUrlTree===(null===(T=this.currentNavigation)||void 0===T?void 0:T.finalUrl)&&0===P&&(this.resetState(l),this.browserUrlTree=l.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(l),this.resetUrlToCurrentUrlTree())}resetState(l){this.routerState=l.currentRouterState,this.currentUrlTree=l.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(l,v){const _=new Jo(l.id,this.serializeUrl(l.extractedUrl),v);this.triggerEvent(_),l.resolve(!1)}generateNgRouterState(l,v){return"computed"===this.canceledNavigationResolution?{navigationId:l,\u0275routerPageId:v}:{navigationId:l}}}return h.\u0275fac=function(l){E.$Z()},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();function ye(h){return"imperative"!==h}class Xe{}class Tt{preload(f,l){return ft(null)}}let xt=(()=>{class h{constructor(l,v,_,T){this.router=l,this.injector=_,this.preloadingStrategy=T,this.loader=new x(_,v,J=>l.triggerEvent(new Kr(J)),J=>l.triggerEvent(new _r(J)))}setUpPreloading(){this.subscription=this.router.events.pipe(wn(l=>l instanceof eo),Vi(()=>this.preload())).subscribe(()=>{})}preload(){const l=this.injector.get(E.h0i);return this.processRoutes(l,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(l,v){const _=[];for(const T of v)if(T.loadChildren&&!T.canLoad&&T._loadedConfig){const P=T._loadedConfig;_.push(this.processRoutes(P.module,P.routes))}else T.loadChildren&&!T.canLoad?_.push(this.preloadConfig(l,T)):T.children&&_.push(this.processRoutes(l,T.children));return(0,or.D)(_).pipe((0,Un.J)(),(0,jt.U)(T=>{}))}preloadConfig(l,v){return this.preloadingStrategy.preload(v,()=>(v._loadedConfig?ft(v._loadedConfig):this.loader.load(l.injector,v)).pipe((0,an.zg)(T=>(v._loadedConfig=T,this.processRoutes(T.module,T.routes)))))}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(se),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(Xe))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})(),en=(()=>{class h{constructor(l,v,_={}){this.router=l,this.viewportScroller=v,this.options=_,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_.scrollPositionRestoration=_.scrollPositionRestoration||"disabled",_.anchorScrolling=_.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(l=>{l instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=l.navigationTrigger,this.restoredId=l.restoredState?l.restoredState.navigationId:0):l instanceof eo&&(this.lastId=l.id,this.scheduleScrollEvent(l,this.router.parseUrl(l.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(l=>{l instanceof ta&&(l.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(l.position):l.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(l.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(l,v){this.router.triggerEvent(new ta(l,"popstate"===this.lastSource?this.store[this.restoredId]:null,v))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return h.\u0275fac=function(l){E.$Z()},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();const Ke=new E.OlP("ROUTER_CONFIGURATION"),rt=new E.OlP("ROUTER_FORROOT_GUARD"),We=[Yt,{provide:gu,useClass:Ts},{provide:se,useFactory:function(h,f,l,v,_,T,P={},F,J){const Ce=new se(null,h,f,l,v,_,oa(T));return F&&(Ce.urlHandlingStrategy=F),J&&(Ce.routeReuseStrategy=J),function(h,f){h.errorHandler&&(f.errorHandler=h.errorHandler),h.malformedUriErrorHandler&&(f.malformedUriErrorHandler=h.malformedUriErrorHandler),h.onSameUrlNavigation&&(f.onSameUrlNavigation=h.onSameUrlNavigation),h.paramsInheritanceStrategy&&(f.paramsInheritanceStrategy=h.paramsInheritanceStrategy),h.relativeLinkResolution&&(f.relativeLinkResolution=h.relativeLinkResolution),h.urlUpdateStrategy&&(f.urlUpdateStrategy=h.urlUpdateStrategy),h.canceledNavigationResolution&&(f.canceledNavigationResolution=h.canceledNavigationResolution)}(P,Ce),P.enableTracing&&Ce.events.subscribe(qe=>{var Me,ut;null===(Me=console.group)||void 0===Me||Me.call(console,`Router Event: ${qe.constructor.name}`),console.log(qe.toString()),console.log(qe),null===(ut=console.groupEnd)||void 0===ut||ut.call(console)}),Ce},deps:[gu,Wi,Yt,E.zs3,E.Sil,w,Ke,[class{},new E.FiY],[class{},new E.FiY]]},Wi,{provide:Cs,useFactory:function(h){return h.routerState.root},deps:[se]},xt,Tt,class{preload(f,l){return l().pipe(Br(()=>ft(null)))}},{provide:Ke,useValue:{enableTracing:!1}}];function ii(){return new E.PXZ("Router",se)}let Di=(()=>{class h{constructor(l,v){}static forRoot(l,v){return{ngModule:h,providers:[We,hr(l),{provide:rt,useFactory:cr,deps:[[se,new E.FiY,new E.tp0]]},{provide:Ke,useValue:v||{}},{provide:Ne,useFactory:si,deps:[oe,[new E.tBr(je),new E.FiY],Ke]},{provide:en,useFactory:Ti,deps:[se,ol,Ke]},{provide:Xe,useExisting:v&&v.preloadingStrategy?v.preloadingStrategy:Tt},{provide:E.PXZ,multi:!0,useFactory:ii},[Dr,{provide:E.ip1,multi:!0,useFactory:oi,deps:[Dr]},{provide:Gn,useFactory:wt,deps:[Dr]},{provide:E.tb,multi:!0,useExisting:Gn}]]}}static forChild(l){return{ngModule:h,providers:[hr(l)]}}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(rt,8),E.LFG(se,8))},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({}),h})();function Ti(h,f,l){return l.scrollOffset&&f.setOffset(l.scrollOffset),new en(h,f,l)}function si(h,f,l={}){return l.useHash?new _t(h,f):new Ue(h,f)}function cr(h){return"guarded"}function hr(h){return[{provide:E.deG,multi:!0,useValue:h},{provide:w,multi:!0,useValue:h}]}let Dr=(()=>{class h{constructor(l){this.injector=l,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ps.xQ}appInitializer(){return this.injector.get(K,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let v=null;const _=new Promise(F=>v=F),T=this.injector.get(se),P=this.injector.get(Ke);return"disabled"===P.initialNavigation?(T.setUpLocationChangeListener(),v(!0)):"enabled"===P.initialNavigation||"enabledBlocking"===P.initialNavigation?(T.hooks.afterPreactivation=()=>this.initNavigation?ft(null):(this.initNavigation=!0,v(!0),this.resultOfPreactivationDone),T.initialNavigation()):v(!0),_})}bootstrapListener(l){const v=this.injector.get(Ke),_=this.injector.get(xt),T=this.injector.get(en),P=this.injector.get(se),F=this.injector.get(E.z2F);l===F.components[0]&&(("enabledNonBlocking"===v.initialNavigation||void 0===v.initialNavigation)&&P.initialNavigation(),_.setUpPreloading(),T.init(),P.resetRootComponentType(F.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return h.\u0275fac=function(l){return new(l||h)(E.LFG(E.zs3))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac}),h})();function oi(h){return h.appInitializer.bind(h)}function wt(h){return h.bootstrapListener.bind(h)}const Gn=new E.OlP("Router Initializer");var zr=j(655),Tr=j(2862);let Os=(()=>{class h{ngAfterViewInit(){this.header=document.getElementById("header"),this.background=document.getElementById("hero-bg"),(Tr.d.isMobile()||Tr.d.isIpad())&&(this.background.style.marginTop=`${this.header.clientHeight}px`),this.setResizeListeners()}setResizeListeners(){this.maximizeHeroBackground(),window.addEventListener("orientationchange",()=>this.maximizeHeroBackground()),!Tr.d.isMobile()&&!Tr.d.isIpad()&&(window.onresize=()=>this.maximizeHeroBackground())}maximizeHeroBackground(){const l=parseInt(window.getComputedStyle(this.background).getPropertyValue("min-height")),v=window.innerHeight-this.header.clientHeight,_=Math.max(l,v);this.background.style.height=`${_}px`}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-hero"]],decls:16,vars:0,consts:[["id","hero-bg",1,"flex","items-center","bg-emergent-pattern","w-full","h-screen","min-h-[28rem]","bg-center","bg-cover","bg-no-repeat"],[1,"container","mx-auto","w-full"],[1,"mx-auto"],[1,"lg:m-20","md:my-48","z-10","text-center"],[1,"font-bold","text-5xl","md:text-[4rem]","lg:text-[6rem]"],[1,"text-sm","md:text-base","lg:xl","text-center","mt-2"],[1,"mx-auto","flex","justify-center","mt-16"],["href","#emergence-explainer"],[1,"button-primary"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"button-icon"],["d","M12.015 7c4.751 0 8.063 3.012 9.504 4.636-1.401 1.837-4.713 5.364-9.504 5.364-4.42 0-7.93-3.536-9.478-5.407 1.493-1.647 4.817-4.593 9.478-4.593zm0-2c-7.569 0-12.015 6.551-12.015 6.551s4.835 7.449 12.015 7.449c7.733 0 11.985-7.449 11.985-7.449s-4.291-6.551-11.985-6.551zm-.015 3c-2.21 0-4 1.791-4 4s1.79 4 4 4c2.209 0 4-1.791 4-4s-1.791-4-4-4zm-.004 3.999c-.564.564-1.479.564-2.044 0s-.565-1.48 0-2.044c.564-.564 1.479-.564 2.044 0s.565 1.479 0 2.044z"]],template:function(l,v){1&l&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"div",3),E.TgZ(4,"h1",4),E._uU(5," Emergent Behavior "),E.qZA(),E.TgZ(6,"div"),E.TgZ(7,"p",5),E._uU(8,"Learn about one of the most fundamental laws governing our reality"),E.qZA(),E.qZA(),E.TgZ(9,"div",6),E.TgZ(10,"a",7),E.TgZ(11,"button",8),E.O4$(),E.TgZ(12,"svg",9),E._UZ(13,"path",10),E.qZA(),E.kcU(),E.TgZ(14,"span"),E._uU(15,"What is emergence?"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA())},styles:[""]}),h})();const Ma=["pixi"],zn=["demo"],Oa=["startButton"];function zu(h,f){}const ff=[{path:"",component:(()=>{class h{constructor(l){this.viewContainerRef=l}onDemoButtonClicked(l){const v=l.id;if(!v.includes("-button"))throw new Error("Malformed Emergent demo button id!");const _=v.split("-")[0];this.demo.instance.activateDemo(_)}onStartButtonClicked(){return(0,zr.mG)(this,void 0,void 0,function*(){document.getElementById("start-button-wrapper").style.display="none";const{DemoComponent:l}=yield j.e(86).then(j.bind(j,9086));this.demo=this.viewContainerRef.createComponent(l),this.demo.instance.init(this.pixiContainer,this.demoContainer)})}ngOnDestroy(){this.demo.instance.onDestroy()}}return h.\u0275fac=function(l){return new(l||h)(E.Y36(E.s_b))},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-emergent-manager"]],viewQuery:function(l,v){if(1&l&&(E.Gf(Ma,5),E.Gf(zn,5,E.s_b),E.Gf(Oa,5)),2&l){let _;E.iGM(_=E.CRH())&&(v.pixiContainer=_.first),E.iGM(_=E.CRH())&&(v.demoContainer=_.first),E.iGM(_=E.CRH())&&(v.startButton=_.first)}},features:[E._Bn([])],decls:47,vars:0,consts:[["id","emergence-explainer",1,"container","mt-56","flex","justify-between","items-center","mx-auto","px-8","md:px-14","lg:px-24","2xl:px-28","w-full","mt-40"],[1,"w-full"],[1,"secondary-title"],[1,"section-paragraph"],["id","simulation",1,"relative","overflow-hidden","mt-8","w-full","h-screen","bg-simulation"],["pixi",""],["id","start-button-wrapper",1,"absolute","inline","top-1/2","left-1/2","text-center",2,"transform","translate(-50%, -50%)"],["href","#simulation"],["id","start-button",1,"button","font-bold","p-4","bg-theme","border-theme-accent","hover:bg-theme-accent",3,"click"],["id","demo-simulation-wrapper",1,"hidden"],["id","boids-button",1,"demo-simulation-button",3,"click"],["boids",""],["id","ants-button",1,"demo-simulation-button",3,"click"],["ants",""],["demo",""]],template:function(l,v){if(1&l){const _=E.EpF();E._UZ(0,"app-hero"),E.TgZ(1,"div",0),E.TgZ(2,"section",1),E.TgZ(3,"h2",2),E._uU(4,"Emergent algorithms"),E.qZA(),E.TgZ(5,"p",3),E._uU(6," Below you can try some simulations of emergent behavior. "),E.qZA(),E.TgZ(7,"h3"),E._uU(8,"What is emergent behavior?"),E.qZA(),E.TgZ(9,"p"),E._uU(10," Emergent behavior is the result of many small entities working with a simple ruleset to create something that's larger than the sum of its parts. "),E._UZ(11,"br"),E._uU(12," Each agent in these simulations acts on a very simple ruleset and can not do much on its own. When it interacts with the other agents however, new properties and behaviors emerge which were not part of either agent before. This phenomenon is so common that it might even be what combines the building blocks of nature into the very reality we perceive. "),E.qZA(),E._UZ(13,"br"),E.TgZ(14,"h3"),E._uU(15,"Where does emergent behavior occur?"),E.qZA(),E.TgZ(16,"p"),E._uU(17,"We can observe emergence in nonliving physical systems like the ripple patterns forming in sand dunes, water crystals forming into snow flakes, and even in the very fabric of space and time that governs our existence, since the laws of physics themselves likely stem from emergent behavior. "),E._UZ(18,"br"),E._uU(19," This in turn might mean that chemistry is an emergent property of the laws of physics, and biology one of the laws of chemistry. "),E._UZ(20,"br"),E._uU(21," The simulations here will focus on biological and social effects of emergence in the form of swarming behavior as observed in schooling fish, and flocking birds among others, as well as the foraging behavior of ant colonies. "),E.qZA(),E._UZ(22,"br"),E.TgZ(23,"h3"),E._uU(24,"Usage tips"),E.qZA(),E.TgZ(25,"p"),E._uU(26,"Please press the start button below to initiate the simulation. "),E._UZ(27,"br"),E._uU(28," You can switch between the models by pressing one of the buttons that will appear on the left side. "),E._UZ(29,"br"),E._uU(30," You will find some more explanations for the active simulation further down below. "),E.qZA(),E.qZA(),E.qZA(),E.TgZ(31,"div",4,5),E.TgZ(33,"div",6),E.TgZ(34,"a",7),E.TgZ(35,"button",8),E.NdJ("click",function(){return v.onStartButtonClicked()}),E.TgZ(36,"p"),E._uU(37,"Start"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.TgZ(38,"div",9),E.TgZ(39,"button",10,11),E.NdJ("click",function(){E.CHM(_);const P=E.MAs(40);return v.onDemoButtonClicked(P)}),E._uU(41,"Boids"),E.qZA(),E.TgZ(42,"button",12,13),E.NdJ("click",function(){E.CHM(_);const P=E.MAs(43);return v.onDemoButtonClicked(P)}),E._uU(44,"Ants"),E.qZA(),E.qZA(),E.YNc(45,zu,0,0,"ng-template",null,14,E.W1O),E.qZA()}},directives:[Os],styles:[""]}),h})()}];let df=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275mod=E.oAB({type:h}),h.\u0275inj=E.cJS({imports:[[Di.forRoot(ff,{relativeLinkResolution:"legacy"})],Di]}),h})(),pf=(()=>{class h{constructor(){this.hiddenClass="hidden",this.visibleClass="block"}ngAfterViewInit(){this.header=document.getElementById("header"),this.linkWrapper=document.getElementById("nav-links"),this.modal=document.getElementById("modal"),this.hamburger=document.getElementById("hamburger"),this.prevScrollPos=window.scrollY,this.prevURL=window.location.href,window.onscroll=()=>this.onScroll(),this.modal.onclick=()=>this.toggleNavLinks(!0)}onScroll(){const l=window.scrollY;if(l<=this.header.clientHeight)this.showHeader();else{if(this.hasClass(this.linkWrapper,"hidden"))return window.location.href!=this.prevURL?(this.prevURL=window.location.href,this.prevScrollPos=l,void this.hideHeader()):void(Math.abs(l-this.prevScrollPos)<10||(this.prevScrollPos>l?this.showHeader():this.hideHeader(),this.prevScrollPos=l));this.prevScrollPos=l}}showHeader(){this.header.style.top="0"}hideHeader(){this.header.style.top=`-${this.header.clientHeight}`}toggleNavLinks(l=!1){"none"!=window.getComputedStyle(this.hamburger).getPropertyValue("display")&&(this.hasClass(this.linkWrapper,this.visibleClass)?this.replaceClass(this.linkWrapper,this.visibleClass,this.hiddenClass):l||this.replaceClass(this.linkWrapper,this.hiddenClass,this.visibleClass))}hasClass(l,v){const _=new RegExp("(?:^|\\s)"+v+"(?!\\S)");return null!=l.className.match(_)}removeClass(l,v){const _=new RegExp("(?:^|\\s)"+v+"(?!\\S)");l.className=l.className.replace(_,"")}addClass(l,v){l.className+=` ${v}`}replaceClass(l,v,_){const T=new RegExp("(?:^|\\s)"+v+"(?!\\S)");l.className=l.className.replace(T,_)}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-header"]],decls:26,vars:0,consts:[["id","header",1,"fixed","bg-body","xl:static","z-50","w-full"],[1,"bg-body","relative","rounded-b","shadow-xl","py-2","px-6","md:flex","justify-between","items-center","mx-auto","w-full"],["id","logo","href","https://patrick-mahnkopf.github.io/",1,"text-lg","py-4","font-bold","link",3,"click"],["id","nav-links",1,"hidden","nav-links"],["href","https://patrick-mahnkopf.github.io/",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#projects",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#skills",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#about",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#contact",1,"md:hidden","nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#contact",1,"hidden","md:block",3,"click"],[1,"flex","button","px-2","py-1","bg-theme","border-theme-accent"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24",1,"button-icon"],["d","M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z"],["id","modal",1,"modal","md:hidden"],["id","hamburger",1,"absolute","top-0","right-0","p-5","md:hidden",3,"click"],["width","26","height","18","viewBox","0 0 26 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13 17.5H0.25V14.6667H13V17.5ZM25.75 10.4167H0.25V7.58333H25.75V10.4167ZM25.75 3.33333H13V0.5H25.75V3.33333Z","fill","white"]],template:function(l,v){1&l&&(E.TgZ(0,"header",0),E.TgZ(1,"div",1),E.TgZ(2,"a",2),E.NdJ("click",function(){return v.toggleNavLinks(!0)}),E._uU(3,"Patrick Mahnkopf"),E.qZA(),E.TgZ(4,"div",3),E.TgZ(5,"a",4),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(6,"Home"),E.qZA(),E.TgZ(7,"a",5),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(8,"Projects"),E.qZA(),E.TgZ(9,"a",6),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(10,"Skills"),E.qZA(),E.TgZ(11,"a",7),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(12,"About"),E.qZA(),E.TgZ(13,"a",8),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(14,"Contact"),E.qZA(),E.TgZ(15,"a",9),E.NdJ("click",function(){return v.toggleNavLinks()}),E.TgZ(16,"button",10),E.TgZ(17,"div"),E.O4$(),E.TgZ(18,"svg",11),E._UZ(19,"path",12),E.qZA(),E.qZA(),E.kcU(),E.TgZ(20,"span"),E._uU(21,"Contact me"),E.qZA(),E.qZA(),E.qZA(),E._UZ(22,"div",13),E.qZA(),E.TgZ(23,"div",14),E.NdJ("click",function(){return v.toggleNavLinks()}),E.O4$(),E.TgZ(24,"svg",15),E._UZ(25,"path",16),E.qZA(),E.qZA(),E.qZA(),E.qZA())},styles:[""]}),h})(),Lh=(()=>{class h{constructor(){this.myDate=new Date,this.currentDate=Do(new Date,"yyyy","en")}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-footer"]],decls:16,vars:4,consts:[[1,"mt-28","py-2","px-8","md:px-14","lg:px-24","w-full","bg-body-accent"],[1,"container","flex","justify-between","items-center","md:px-14","lg:px-24","w-full"],["id","copyright",1,"text-xs","md:text-sm"],[1,"flex","justify-center"],["href","https://www.linkedin.com/in/patrick-mahnkopf/","target","_blank","rel","noopener noreferrer",1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","aria-labelledby","footer-linkedin-title",1,"icon-link"],["id","footer-linkedin-title"],["d","M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"],["href","https://github.com/patrick-mahnkopf","target","_blank","rel","noopener noreferrer",1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","aria-labelledby","footer-github-title",1,"icon-link"],["id","footer-github-title"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"]],template:function(l,v){1&l&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"span",2),E._uU(3),E.ALo(4,"date"),E.qZA(),E.TgZ(5,"span",3),E.TgZ(6,"a",4),E.O4$(),E.TgZ(7,"svg",5),E.TgZ(8,"title",6),E._uU(9,"A link to my LinkedIn profile"),E.qZA(),E._UZ(10,"path",7),E.qZA(),E.qZA(),E.kcU(),E.TgZ(11,"a",8),E.O4$(),E.TgZ(12,"svg",9),E.TgZ(13,"title",10),E._uU(14,"A link to my GitHub profile"),E.qZA(),E._UZ(15,"path",11),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&l&&(E.xp6(3),E.hij("\xa9 ",E.xi3(4,1,v.myDate,"yyyy")," Patrick Mahnkopf"))},pipes:[pc],styles:[""]}),h})(),gf=(()=>{class h{constructor(){this.title="emergent-algorithms"}}return h.\u0275fac=function(l){return new(l||h)},h.\u0275cmp=E.Xpm({type:h,selectors:[["app-root"]],decls:3,vars:0,template:function(l,v){1&l&&(E._UZ(0,"app-header"),E._UZ(1,"router-outlet"),E._UZ(2,"app-footer"))},directives:[pf,Ru,Lh],styles:[""]}),h})(),vf=(()=>{class h{}return h.\u0275fac=function(l){return new(l||h)},h.\u0275mod=E.oAB({type:h,bootstrap:[gf]}),h.\u0275inj=E.cJS({providers:[],imports:[[Wr,df]]}),h})();(0,E.G48)(),ko().bootstrapModule(vf).catch(h=>console.error(h))},9170:Ve=>{"use strict";var ge=Object.prototype.hasOwnProperty,j="~";function E(){}function pe(ne,W,oe){this.fn=ne,this.context=W,this.once=oe||!1}function De(ne,W,oe,fe,K){if("function"!=typeof oe)throw new TypeError("The listener must be a function");var Q=new pe(oe,fe||ne,K),re=j?j+W:W;return ne._events[re]?ne._events[re].fn?ne._events[re]=[ne._events[re],Q]:ne._events[re].push(Q):(ne._events[re]=Q,ne._eventsCount++),ne}function ie(ne,W){0==--ne._eventsCount?ne._events=new E:delete ne._events[W]}function he(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),(new E).__proto__||(j=!1)),he.prototype.eventNames=function(){var oe,fe,W=[];if(0===this._eventsCount)return W;for(fe in oe=this._events)ge.call(oe,fe)&&W.push(j?fe.slice(1):fe);return Object.getOwnPropertySymbols?W.concat(Object.getOwnPropertySymbols(oe)):W},he.prototype.listeners=function(W){var fe=this._events[j?j+W:W];if(!fe)return[];if(fe.fn)return[fe.fn];for(var K=0,Q=fe.length,re=new Array(Q);K<Q;K++)re[K]=fe[K].fn;return re},he.prototype.listenerCount=function(W){var fe=this._events[j?j+W:W];return fe?fe.fn?1:fe.length:0},he.prototype.emit=function(W,oe,fe,K,Q,re){var ce=j?j+W:W;if(!this._events[ce])return!1;var ae,Ne,le=this._events[ce],Se=arguments.length;if(le.fn){switch(le.once&&this.removeListener(W,le.fn,void 0,!0),Se){case 1:return le.fn.call(le.context),!0;case 2:return le.fn.call(le.context,oe),!0;case 3:return le.fn.call(le.context,oe,fe),!0;case 4:return le.fn.call(le.context,oe,fe,K),!0;case 5:return le.fn.call(le.context,oe,fe,K,Q),!0;case 6:return le.fn.call(le.context,oe,fe,K,Q,re),!0}for(Ne=1,ae=new Array(Se-1);Ne<Se;Ne++)ae[Ne-1]=arguments[Ne];le.fn.apply(le.context,ae)}else{var je,He=le.length;for(Ne=0;Ne<He;Ne++)switch(le[Ne].once&&this.removeListener(W,le[Ne].fn,void 0,!0),Se){case 1:le[Ne].fn.call(le[Ne].context);break;case 2:le[Ne].fn.call(le[Ne].context,oe);break;case 3:le[Ne].fn.call(le[Ne].context,oe,fe);break;case 4:le[Ne].fn.call(le[Ne].context,oe,fe,K);break;default:if(!ae)for(je=1,ae=new Array(Se-1);je<Se;je++)ae[je-1]=arguments[je];le[Ne].fn.apply(le[Ne].context,ae)}}return!0},he.prototype.on=function(W,oe,fe){return De(this,W,oe,fe,!1)},he.prototype.once=function(W,oe,fe){return De(this,W,oe,fe,!0)},he.prototype.removeListener=function(W,oe,fe,K){var Q=j?j+W:W;if(!this._events[Q])return this;if(!oe)return ie(this,Q),this;var re=this._events[Q];if(re.fn)re.fn===oe&&(!K||re.once)&&(!fe||re.context===fe)&&ie(this,Q);else{for(var ce=0,le=[],Se=re.length;ce<Se;ce++)(re[ce].fn!==oe||K&&!re[ce].once||fe&&re[ce].context!==fe)&&le.push(re[ce]);le.length?this._events[Q]=1===le.length?le[0]:le:ie(this,Q)}return this},he.prototype.removeAllListeners=function(W){var oe;return W?this._events[oe=j?j+W:W]&&ie(this,oe):(this._events=new E,this._eventsCount=0),this},he.prototype.off=he.prototype.removeListener,he.prototype.addListener=he.prototype.on,he.prefixed=j,he.EventEmitter=he,Ve.exports=he},5469:Ve=>{"use strict";function ge(O,k,H){H=H||2;var Te,ke,Ee,Pe,ze,Ze,Ae,te=k&&k.length,ee=te?k[0]*H:O.length,z=j(O,0,ee,H,!0),Y=[];if(!z||z.next===z.prev)return Y;if(te&&(z=function(O,k,H,te){var z,Y,Ee,ee=[];for(z=0,Y=k.length;z<Y;z++)(Ee=j(O,k[z]*te,z<Y-1?k[z+1]*te:O.length,te,!1))===Ee.next&&(Ee.steiner=!0),ee.push(Se(Ee));for(ee.sort(oe),z=0;z<ee.length;z++)H=E(H=fe(ee[z],H),H.next);return H}(O,k,z,H)),O.length>80*H){Te=Ee=O[0],ke=Pe=O[1];for(var Oe=H;Oe<ee;Oe+=H)(ze=O[Oe])<Te&&(Te=ze),(Ze=O[Oe+1])<ke&&(ke=Ze),ze>Ee&&(Ee=ze),Ze>Pe&&(Pe=Ze);Ae=0!==(Ae=Math.max(Ee-Te,Pe-ke))?1/Ae:0}return pe(z,Y,H,Te,ke,Ae),Y}function j(O,k,H,te,ee){var z,Y;if(ee===$(O,k,H,te)>0)for(z=k;z<H;z+=te)Y=q(z,O[z],O[z+1],Y);else for(z=H-te;z>=k;z-=te)Y=q(z,O[z],O[z+1],Y);return Y&&je(Y,Y.next)&&(ue(Y),Y=Y.next),Y}function E(O,k){if(!O)return O;k||(k=O);var te,H=O;do{if(te=!1,H.steiner||!je(H,H.next)&&0!==He(H.prev,H,H.next))H=H.next;else{if(ue(H),(H=k=H.prev)===H.next)break;te=!0}}while(te||H!==k);return k}function pe(O,k,H,te,ee,z,Y){if(O){!Y&&z&&function(O,k,H,te){var ee=O;do{null===ee.z&&(ee.z=le(ee.x,ee.y,k,H,te)),ee.prevZ=ee.prev,ee.nextZ=ee.next,ee=ee.next}while(ee!==O);ee.prevZ.nextZ=null,ee.prevZ=null,function(O){var k,H,te,ee,z,Y,Te,ke,Ee=1;do{for(H=O,O=null,z=null,Y=0;H;){for(Y++,te=H,Te=0,k=0;k<Ee&&(Te++,te=te.nextZ);k++);for(ke=Ee;Te>0||ke>0&&te;)0!==Te&&(0===ke||!te||H.z<=te.z)?(ee=H,H=H.nextZ,Te--):(ee=te,te=te.nextZ,ke--),z?z.nextZ=ee:O=ee,ee.prevZ=z,z=ee;H=te}z.nextZ=null,Ee*=2}while(Y>1)}(ee)}(O,te,ee,z);for(var ke,Ee,Te=O;O.prev!==O.next;)if(ke=O.prev,Ee=O.next,z?ie(O,te,ee,z):De(O))k.push(ke.i/H),k.push(O.i/H),k.push(Ee.i/H),ue(O),O=Ee.next,Te=Ee.next;else if((O=Ee)===Te){Y?1===Y?pe(O=he(E(O),k,H),k,H,te,ee,z,2):2===Y&&ne(O,k,H,te,ee,z):pe(E(O),k,H,te,ee,z,1);break}}}function De(O){var k=O.prev,H=O,te=O.next;if(He(k,H,te)>=0)return!1;for(var ee=O.next.next;ee!==O.prev;){if(ae(k.x,k.y,H.x,H.y,te.x,te.y,ee.x,ee.y)&&He(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function ie(O,k,H,te){var ee=O.prev,z=O,Y=O.next;if(He(ee,z,Y)>=0)return!1;for(var Ee=ee.x>z.x?ee.x>Y.x?ee.x:Y.x:z.x>Y.x?z.x:Y.x,Pe=ee.y>z.y?ee.y>Y.y?ee.y:Y.y:z.y>Y.y?z.y:Y.y,ze=le(ee.x<z.x?ee.x<Y.x?ee.x:Y.x:z.x<Y.x?z.x:Y.x,ee.y<z.y?ee.y<Y.y?ee.y:Y.y:z.y<Y.y?z.y:Y.y,k,H,te),Ze=le(Ee,Pe,k,H,te),Ae=O.prevZ,Oe=O.nextZ;Ae&&Ae.z>=ze&&Oe&&Oe.z<=Ze;){if(Ae!==O.prev&&Ae!==O.next&&ae(ee.x,ee.y,z.x,z.y,Y.x,Y.y,Ae.x,Ae.y)&&He(Ae.prev,Ae,Ae.next)>=0||(Ae=Ae.prevZ,Oe!==O.prev&&Oe!==O.next&&ae(ee.x,ee.y,z.x,z.y,Y.x,Y.y,Oe.x,Oe.y)&&He(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;Ae&&Ae.z>=ze;){if(Ae!==O.prev&&Ae!==O.next&&ae(ee.x,ee.y,z.x,z.y,Y.x,Y.y,Ae.x,Ae.y)&&He(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.prevZ}for(;Oe&&Oe.z<=Ze;){if(Oe!==O.prev&&Oe!==O.next&&ae(ee.x,ee.y,z.x,z.y,Y.x,Y.y,Oe.x,Oe.y)&&He(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function he(O,k,H){var te=O;do{var ee=te.prev,z=te.next.next;!je(ee,z)&&Ue(ee,te,te.next,z)&&st(ee,z)&&st(z,ee)&&(k.push(ee.i/H),k.push(te.i/H),k.push(z.i/H),ue(te),ue(te.next),te=O=z),te=te.next}while(te!==O);return E(te)}function ne(O,k,H,te,ee,z){var Y=O;do{for(var Te=Y.next.next;Te!==Y.prev;){if(Y.i!==Te.i&&Ne(Y,Te)){var ke=G(Y,Te);return Y=E(Y,Y.next),ke=E(ke,ke.next),pe(Y,k,H,te,ee,z),void pe(ke,k,H,te,ee,z)}Te=Te.next}Y=Y.next}while(Y!==O)}function oe(O,k){return O.x-k.x}function fe(O,k){var H=function(O,k){var Y,H=k,te=O.x,ee=O.y,z=-1/0;do{if(ee<=H.y&&ee>=H.next.y&&H.next.y!==H.y){var Te=H.x+(ee-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(Te<=te&&Te>z){if(z=Te,Te===te){if(ee===H.y)return H;if(ee===H.next.y)return H.next}Y=H.x<H.next.x?H:H.next}}H=H.next}while(H!==k);if(!Y)return null;if(te===z)return Y;var Ze,ke=Y,Ee=Y.x,Pe=Y.y,ze=1/0;H=Y;do{te>=H.x&&H.x>=Ee&&te!==H.x&&ae(ee<Pe?te:z,ee,Ee,Pe,ee<Pe?z:te,ee,H.x,H.y)&&(Ze=Math.abs(ee-H.y)/(te-H.x),st(H,O)&&(Ze<ze||Ze===ze&&(H.x>Y.x||H.x===Y.x&&Q(Y,H)))&&(Y=H,ze=Ze)),H=H.next}while(H!==ke);return Y}(O,k);if(!H)return k;var te=G(H,O),ee=E(H,H.next);return E(te,te.next),k===H?ee:k}function Q(O,k){return He(O.prev,O,k.prev)<0&&He(k.next,O,O.next)<0}function le(O,k,H,te,ee){return(O=1431655765&((O=858993459&((O=252645135&((O=16711935&((O=32767*(O-H)*ee)|O<<8))|O<<4))|O<<2))|O<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-te)*ee)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function Se(O){var k=O,H=O;do{(k.x<H.x||k.x===H.x&&k.y<H.y)&&(H=k),k=k.next}while(k!==O);return H}function ae(O,k,H,te,ee,z,Y,Te){return(ee-Y)*(k-Te)-(O-Y)*(z-Te)>=0&&(O-Y)*(te-Te)-(H-Y)*(k-Te)>=0&&(H-Y)*(z-Te)-(ee-Y)*(te-Te)>=0}function Ne(O,k){return O.next.i!==k.i&&O.prev.i!==k.i&&!function(O,k){var H=O;do{if(H.i!==O.i&&H.next.i!==O.i&&H.i!==k.i&&H.next.i!==k.i&&Ue(H,H.next,O,k))return!0;H=H.next}while(H!==O);return!1}(O,k)&&(st(O,k)&&st(k,O)&&function(O,k){var H=O,te=!1,ee=(O.x+k.x)/2,z=(O.y+k.y)/2;do{H.y>z!=H.next.y>z&&H.next.y!==H.y&&ee<(H.next.x-H.x)*(z-H.y)/(H.next.y-H.y)+H.x&&(te=!te),H=H.next}while(H!==O);return te}(O,k)&&(He(O.prev,O,k.prev)||He(O,k.prev,k))||je(O,k)&&He(O.prev,O,O.next)>0&&He(k.prev,k,k.next)>0)}function He(O,k,H){return(k.y-O.y)*(H.x-k.x)-(k.x-O.x)*(H.y-k.y)}function je(O,k){return O.x===k.x&&O.y===k.y}function Ue(O,k,H,te){var ee=Yt(He(O,k,H)),z=Yt(He(O,k,te)),Y=Yt(He(H,te,O)),Te=Yt(He(H,te,k));return!!(ee!==z&&Y!==Te||0===ee&&_t(O,H,k)||0===z&&_t(O,te,k)||0===Y&&_t(H,O,te)||0===Te&&_t(H,k,te))}function _t(O,k,H){return k.x<=Math.max(O.x,H.x)&&k.x>=Math.min(O.x,H.x)&&k.y<=Math.max(O.y,H.y)&&k.y>=Math.min(O.y,H.y)}function Yt(O){return O>0?1:O<0?-1:0}function st(O,k){return He(O.prev,O,O.next)<0?He(O,k,O.next)>=0&&He(O,O.prev,k)>=0:He(O,k,O.prev)<0||He(O,O.next,k)<0}function G(O,k){var H=new _e(O.i,O.x,O.y),te=new _e(k.i,k.x,k.y),ee=O.next,z=k.prev;return O.next=k,k.prev=O,H.next=ee,ee.prev=H,te.next=H,H.prev=te,z.next=te,te.prev=z,te}function q(O,k,H,te){var ee=new _e(O,k,H);return te?(ee.next=te.next,ee.prev=te,te.next.prev=ee,te.next=ee):(ee.prev=ee,ee.next=ee),ee}function ue(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function _e(O,k,H){this.i=O,this.x=k,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $(O,k,H,te){for(var ee=0,z=k,Y=H-te;z<H;z+=te)ee+=(O[Y]-O[z])*(O[z+1]+O[Y+1]),Y=z;return ee}Ve.exports=ge,Ve.exports.default=ge,ge.deviation=function(O,k,H,te){var ee=k&&k.length,Y=Math.abs($(O,0,ee?k[0]*H:O.length,H));if(ee)for(var Te=0,ke=k.length;Te<ke;Te++)Y-=Math.abs($(O,k[Te]*H,Te<ke-1?k[Te+1]*H:O.length,H));var ze=0;for(Te=0;Te<te.length;Te+=3){var Ze=te[Te]*H,Ae=te[Te+1]*H,Oe=te[Te+2]*H;ze+=Math.abs((O[Ze]-O[Oe])*(O[Ae+1]-O[Ze+1])-(O[Ze]-O[Ae])*(O[Oe+1]-O[Ze+1]))}return 0===Y&&0===ze?0:Math.abs((ze-Y)/Y)},ge.flatten=function(O){for(var k=O[0][0].length,H={vertices:[],holes:[],dimensions:k},te=0,ee=0;ee<O.length;ee++){for(var z=0;z<O[ee].length;z++)for(var Y=0;Y<k;Y++)H.vertices.push(O[ee][z][Y]);ee>0&&H.holes.push(te+=O[ee-1].length)}return H}},7793:function(Ve,ge,j){var E;!function(pe){var G,De=pe.Promise,ie=De&&"resolve"in De&&"reject"in De&&"all"in De&&"race"in De&&(new De(function(q){G=q}),"function"==typeof G);ge?(ge.Promise=ie?De:U,ge.Polyfill=U):void 0!==(E=function(){return ie?De:U}.call(ge,j,ge,Ve))&&(Ve.exports=E);var he="pending",W="fulfilled",oe="rejected",fe=function(){};function K(G){return"[object Array]"===Object.prototype.toString.call(G)}var ce,Q="undefined"!=typeof setImmediate?setImmediate:setTimeout,re=[];function le(){for(var G=0;G<re.length;G++)re[G][0](re[G][1]);re=[],ce=!1}function Se(G,q){re.push([G,q]),ce||(ce=!0,Q(le,0))}function Ne(G){var q=G.owner,ue=q.state_,_e=q.data_,$=G[ue],O=G.then;if("function"==typeof $){ue=W;try{_e=$(_e)}catch(k){_t(O,k)}}He(O,_e)||(ue===W&&je(O,_e),ue===oe&&_t(O,_e))}function He(G,q){var ue;try{if(G===q)throw new TypeError("A promises callback cannot return that same promise.");if(q&&("function"==typeof q||"object"==typeof q)){var _e=q.then;if("function"==typeof _e)return _e.call(q,function($){ue||(ue=!0,q!==$?je(G,$):Ue(G,$))},function($){ue||(ue=!0,_t(G,$))}),!0}}catch($){return ue||_t(G,$),!0}return!1}function je(G,q){(G===q||!He(G,q))&&Ue(G,q)}function Ue(G,q){G.state_===he&&(G.state_="sealed",G.data_=q,Se(de,G))}function _t(G,q){G.state_===he&&(G.state_="sealed",G.data_=q,Se(st,G))}function Yt(G){var q=G.then_;G.then_=void 0;for(var ue=0;ue<q.length;ue++)Ne(q[ue])}function de(G){G.state_=W,Yt(G)}function st(G){G.state_=oe,Yt(G)}function U(G){if("function"!=typeof G)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof U))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(G,q){function _e($){_t(q,$)}try{G(function($){je(q,$)},_e)}catch($){_e($)}}(G,this)}U.prototype={constructor:U,state_:he,then_:null,data_:void 0,then:function(G,q){var ue={owner:this,then:new this.constructor(fe),fulfilled:G,rejected:q};return this.state_===W||this.state_===oe?Se(Ne,ue):this.then_.push(ue),ue.then},catch:function(G){return this.then(null,G)}},U.all=function(G){if(!K(G))throw new TypeError("You must pass an array to Promise.all().");return new this(function(ue,_e){var $=[],O=0;function k(ee){return O++,function(z){$[ee]=z,--O||ue($)}}for(var te,H=0;H<G.length;H++)(te=G[H])&&"function"==typeof te.then?te.then(k(H),_e):$[H]=te;O||ue($)})},U.race=function(G){if(!K(G))throw new TypeError("You must pass an array to Promise.race().");return new this(function(ue,_e){for(var O,$=0;$<G.length;$++)(O=G[$])&&"function"==typeof O.then?O.then(ue,_e):ue(O)})},U.resolve=function(G){return G&&"object"==typeof G&&G.constructor===this?G:new this(function(ue){ue(G)})},U.reject=function(G){return new this(function(ue,_e){_e(G)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)},936:(Ve,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});var j=function(){function he(ne,W){for(var oe=0;oe<W.length;oe++){var fe=W[oe];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(ne,fe.key,fe)}}return function(ne,W,oe){return W&&he(ne.prototype,W),oe&&he(ne,oe),ne}}();function E(he,ne){if(!(he instanceof ne))throw new TypeError("Cannot call a class as a function")}var pe=function(){function he(ne,W,oe){void 0===W&&(W=!1),E(this,he),this._fn=ne,this._once=W,this._thisArg=oe,this._next=this._prev=this._owner=null}return j(he,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),he}();function De(he,ne){return he._head?(he._tail._next=ne,ne._prev=he._tail,he._tail=ne):(he._head=ne,he._tail=ne),ne._owner=he,ne}var ie=function(){function he(){E(this,he),this._head=this._tail=void 0}return j(he,[{key:"handlers",value:function(){var W=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],oe=this._head;if(W)return!!oe;for(var fe=[];oe;)fe.push(oe),oe=oe._next;return fe}},{key:"has",value:function(W){if(!(W instanceof pe))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return W._owner===this}},{key:"dispatch",value:function(){var W=this._head;if(!W)return!1;for(;W;)W._once&&this.detach(W),W._fn.apply(W._thisArg,arguments),W=W._next;return!0}},{key:"add",value:function(W){var oe=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof W)throw new Error("MiniSignal#add(): First arg must be a Function.");return De(this,new pe(W,!1,oe))}},{key:"once",value:function(W){var oe=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof W)throw new Error("MiniSignal#once(): First arg must be a Function.");return De(this,new pe(W,!0,oe))}},{key:"detach",value:function(W){if(!(W instanceof pe))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return W._owner!==this||(W._prev&&(W._prev._next=W._next),W._next&&(W._next._prev=W._prev),W===this._head?(this._head=W._next,null===W._next&&(this._tail=null)):W===this._tail&&(this._tail=W._prev,this._tail._next=null),W._owner=null),this}},{key:"detachAll",value:function(){var W=this._head;if(!W)return this;for(this._head=this._tail=null;W;)W._owner=null,W=W._next;return this}}]),he}();ie.MiniSignalBinding=pe,ge.default=ie,Ve.exports=ge.default},5943:Ve=>{"use strict";var ge=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function pe(ie){if(null==ie)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ie)}Ve.exports=function(){try{if(!Object.assign)return!1;var ie=new String("abc");if(ie[5]="de","5"===Object.getOwnPropertyNames(ie)[0])return!1;for(var he={},ne=0;ne<10;ne++)he["_"+String.fromCharCode(ne)]=ne;if("0123456789"!==Object.getOwnPropertyNames(he).map(function(fe){return he[fe]}).join(""))return!1;var oe={};return"abcdefghijklmnopqrst".split("").forEach(function(fe){oe[fe]=fe}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},oe)).join("")}catch(fe){return!1}}()?Object.assign:function(ie,he){for(var ne,oe,W=pe(ie),fe=1;fe<arguments.length;fe++){for(var K in ne=Object(arguments[fe]))j.call(ne,K)&&(W[K]=ne[K]);if(ge){oe=ge(ne);for(var Q=0;Q<oe.length;Q++)E.call(ne,oe[Q])&&(W[oe[Q]]=ne[oe[Q]])}}return W}},9750:Ve=>{"use strict";Ve.exports=function(j,E){if(j){for(var pe={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},De=pe.parser[(E=E||{}).strictMode?"strict":"loose"].exec(j),ie={},he=14;he--;)ie[pe.key[he]]=De[he]||"";return ie[pe.q.name]={},ie[pe.key[12]].replace(pe.q.parser,function(ne,W,oe){W&&(ie[pe.q.name][W]=oe)}),ie}}},4520:(Ve,ge,j)=>{"use strict";j.d(ge,{ZX:()=>js,TC:()=>zi,jl:()=>Ba});var E=j(7793),pe=j(5943),De=j.n(pe);if(window.Promise||(window.Promise=E.Polyfill),Object.assign||(Object.assign=De()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var he=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-he}}for(var ne=Date.now(),W=["ms","moz","webkit","o"],oe=0;oe<W.length&&!window.requestAnimationFrame;++oe){var fe=W[oe];window.requestAnimationFrame=window[fe+"RequestAnimationFrame"],window.cancelAnimationFrame=window[fe+"CancelAnimationFrame"]||window[fe+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(a){if("function"!=typeof a)throw new TypeError(a+"is not a function");var i=Date.now(),e=16+ne-i;return e<0&&(e=0),ne=i,window.setTimeout(function(){ne=Date.now(),a(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){return clearTimeout(a)}),Math.sign||(Math.sign=function(i){return 0===(i=Number(i))||isNaN(i)?i:i>0?1:-1}),Number.isInteger||(Number.isInteger=function(i){return"number"==typeof i&&isFinite(i)&&Math.floor(i)===i}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var K=/iPhone/i,Q=/iPod/i,re=/iPad/i,ce=/\biOS-universal(?:.+)Mac\b/i,le=/\bAndroid(?:.+)Mobile\b/i,Se=/Android/i,ae=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ne=/Silk/i,He=/Windows Phone/i,je=/\bWindows(?:.+)ARM\b/i,Ue=/BlackBerry/i,_t=/BB10/i,Yt=/Opera Mini/i,de=/\b(CriOS|Chrome)(?:.+)Mobile/i,st=/Mobile(?:.+)Firefox\b/i,U=function(a){return void 0!==a&&"MacIntel"===a.platform&&"number"==typeof a.maxTouchPoints&&a.maxTouchPoints>1&&"undefined"==typeof MSStream},ue=function(a){var i={userAgent:"",platform:"",maxTouchPoints:0};a||"undefined"==typeof navigator?"string"==typeof a?i.userAgent=a:a&&a.userAgent&&(i={userAgent:a.userAgent,platform:a.platform,maxTouchPoints:a.maxTouchPoints||0}):i={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=i.userAgent,r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var o=function(a){return function(i){return i.test(a)}}(e),d={apple:{phone:o(K)&&!o(He),ipod:o(Q),tablet:!o(K)&&(o(re)||U(i))&&!o(He),universal:o(ce),device:(o(K)||o(Q)||o(re)||o(ce)||U(i))&&!o(He)},amazon:{phone:o(ae),tablet:!o(ae)&&o(Ne),device:o(ae)||o(Ne)},android:{phone:!o(He)&&o(ae)||!o(He)&&o(le),tablet:!o(He)&&!o(ae)&&!o(le)&&(o(Ne)||o(Se)),device:!o(He)&&(o(ae)||o(Ne)||o(le)||o(Se))||o(/\bokhttp\b/i)},windows:{phone:o(He),tablet:o(je),device:o(He)||o(je)},other:{blackberry:o(Ue),blackberry10:o(_t),opera:o(Yt),firefox:o(st),chrome:o(de),device:o(Ue)||o(_t)||o(Yt)||o(st)||o(de)},any:!1,phone:!1,tablet:!1};return d.any=d.apple.device||d.android.device||d.windows.device||d.other.device,d.phone=d.apple.phone||d.android.phone||d.windows.phone,d.tablet=d.apple.tablet||d.android.tablet||d.windows.tablet,d}(window.navigator),O={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(a){var e,i=!0;(ue.tablet||ue.phone)&&(ue.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(i=!1),ue.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(i=!1));return i?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:ue.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!ue.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},k=j(9170),H=j.n(k),te=j(5469),ee=j.n(te),z=j(8762),Y=(()=>{return(a=Y||(Y={}))[a.WEBGL_LEGACY=0]="WEBGL_LEGACY",a[a.WEBGL=1]="WEBGL",a[a.WEBGL2=2]="WEBGL2",Y;var a})(),Te=(()=>{return(a=Te||(Te={}))[a.UNKNOWN=0]="UNKNOWN",a[a.WEBGL=1]="WEBGL",a[a.CANVAS=2]="CANVAS",Te;var a})(),ke=(()=>{return(a=ke||(ke={}))[a.COLOR=16384]="COLOR",a[a.DEPTH=256]="DEPTH",a[a.STENCIL=1024]="STENCIL",ke;var a})(),Ee=(()=>{return(a=Ee||(Ee={}))[a.NORMAL=0]="NORMAL",a[a.ADD=1]="ADD",a[a.MULTIPLY=2]="MULTIPLY",a[a.SCREEN=3]="SCREEN",a[a.OVERLAY=4]="OVERLAY",a[a.DARKEN=5]="DARKEN",a[a.LIGHTEN=6]="LIGHTEN",a[a.COLOR_DODGE=7]="COLOR_DODGE",a[a.COLOR_BURN=8]="COLOR_BURN",a[a.HARD_LIGHT=9]="HARD_LIGHT",a[a.SOFT_LIGHT=10]="SOFT_LIGHT",a[a.DIFFERENCE=11]="DIFFERENCE",a[a.EXCLUSION=12]="EXCLUSION",a[a.HUE=13]="HUE",a[a.SATURATION=14]="SATURATION",a[a.COLOR=15]="COLOR",a[a.LUMINOSITY=16]="LUMINOSITY",a[a.NORMAL_NPM=17]="NORMAL_NPM",a[a.ADD_NPM=18]="ADD_NPM",a[a.SCREEN_NPM=19]="SCREEN_NPM",a[a.NONE=20]="NONE",a[a.SRC_OVER=0]="SRC_OVER",a[a.SRC_IN=21]="SRC_IN",a[a.SRC_OUT=22]="SRC_OUT",a[a.SRC_ATOP=23]="SRC_ATOP",a[a.DST_OVER=24]="DST_OVER",a[a.DST_IN=25]="DST_IN",a[a.DST_OUT=26]="DST_OUT",a[a.DST_ATOP=27]="DST_ATOP",a[a.ERASE=26]="ERASE",a[a.SUBTRACT=28]="SUBTRACT",a[a.XOR=29]="XOR",Ee;var a})(),Pe=(()=>{return(a=Pe||(Pe={}))[a.POINTS=0]="POINTS",a[a.LINES=1]="LINES",a[a.LINE_LOOP=2]="LINE_LOOP",a[a.LINE_STRIP=3]="LINE_STRIP",a[a.TRIANGLES=4]="TRIANGLES",a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN",Pe;var a})(),ze=(()=>{return(a=ze||(ze={}))[a.RGBA=6408]="RGBA",a[a.RGB=6407]="RGB",a[a.ALPHA=6406]="ALPHA",a[a.LUMINANCE=6409]="LUMINANCE",a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",a[a.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL",ze;var a})(),Ze=(()=>{return(a=Ze||(Ze={}))[a.TEXTURE_2D=3553]="TEXTURE_2D",a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",a[a.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",a[a.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Ze;var a})(),Ae=(()=>{return(a=Ae||(Ae={}))[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",a[a.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",a[a.FLOAT=5126]="FLOAT",a[a.HALF_FLOAT=36193]="HALF_FLOAT",Ae;var a})(),Oe=(()=>{return(a=Oe||(Oe={}))[a.NEAREST=0]="NEAREST",a[a.LINEAR=1]="LINEAR",Oe;var a})(),at=(()=>{return(a=at||(at={}))[a.CLAMP=33071]="CLAMP",a[a.REPEAT=10497]="REPEAT",a[a.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",at;var a})(),At=(()=>{return(a=At||(At={}))[a.OFF=0]="OFF",a[a.POW2=1]="POW2",a[a.ON=2]="ON",At;var a})(),Ct=(()=>{return(a=Ct||(Ct={}))[a.NPM=0]="NPM",a[a.UNPACK=1]="UNPACK",a[a.PMA=2]="PMA",a[a.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",a[a.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",a[a.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",Ct;var a})(),Mt=(()=>{return(a=Mt||(Mt={}))[a.NO=0]="NO",a[a.YES=1]="YES",a[a.AUTO=2]="AUTO",a[a.BLEND=0]="BLEND",a[a.CLEAR=1]="CLEAR",a[a.BLIT=2]="BLIT",Mt;var a})(),St=(()=>{return(a=St||(St={}))[a.AUTO=0]="AUTO",a[a.MANUAL=1]="MANUAL",St;var a})(),Qt=(()=>{return(a=Qt||(Qt={})).LOW="lowp",a.MEDIUM="mediump",a.HIGH="highp",Qt;var a})(),Lt=(()=>{return(a=Lt||(Lt={}))[a.NONE=0]="NONE",a[a.SCISSOR=1]="SCISSOR",a[a.STENCIL=2]="STENCIL",a[a.SPRITE=3]="SPRITE",Lt;var a})(),$n=(()=>{return(a=$n||($n={}))[a.NONE=0]="NONE",a[a.LOW=2]="LOW",a[a.MEDIUM=4]="MEDIUM",a[a.HIGH=8]="HIGH",$n;var a})();O.RETINA_PREFIX=/@([0-9\.]+)x/,O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var es,Ii=!1;function Ai(a,i){return void 0===i&&(i=[]),i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(255&a)/255,i}function ts(a){var i=a.toString(16);return"#"+("000000".substr(0,6-i.length)+i)}function ht(a){return"string"==typeof a&&"#"===a[0]&&(a=a.substr(1)),parseInt(a,16)}var et=function(){for(var a=[],i=[],e=0;e<32;e++)a[e]=e,i[e]=e;a[Ee.NORMAL_NPM]=Ee.NORMAL,a[Ee.ADD_NPM]=Ee.ADD,a[Ee.SCREEN_NPM]=Ee.SCREEN,i[Ee.NORMAL]=Ee.NORMAL_NPM,i[Ee.ADD]=Ee.ADD_NPM,i[Ee.SCREEN]=Ee.SCREEN_NPM;var r=[];return r.push(i),r.push(a),r}();function Do(a,i){return et[i?1:0][a]}function mn(a,i){if(1===i)return(255*i<<24)+a;if(0===i)return 0;var e=a>>16&255,r=a>>8&255,o=255&a;return(255*i<<24)+((e=e*i+.5|0)<<16)+((r=r*i+.5|0)<<8)+(o*i+.5|0)}function xn(a,i,e,r){return(e=e||new Float32Array(4))[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(255&a)/255,(r||void 0===r)&&(e[0]*=i,e[1]*=i,e[2]*=i),e[3]=i,e}function Ot(a){return a+=0===a?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,1+(a|=a>>>16)}function Zu(a){return!(a&a-1||!a)}function To(a){var i=(a>65535?1:0)<<4,e=((a>>>=i)>255?1:0)<<3;return i|=e,i|=e=((a>>>=e)>15?1:0)<<2,(i|=e=((a>>>=e)>3?1:0)<<1)|(a>>>=e)>>1}function kt(a,i,e){var o,r=a.length;if(!(i>=r||0===e)){var d=r-(e=i+e>r?r-i:e);for(o=i;o<d;++o)a[o]=a[o+e];a.length=d}}function ci(a){return 0===a?0:a<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var mh=0;function er(){return++mh}var Pt={};function Ln(a,i,e){if(void 0===e&&(e=3),!Pt[i]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+a):(r=r.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i+"\nDeprecated since v"+a),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+a),console.warn(r))),Pt[i]=!0}}var rs,ns={},Cn=Object.create(null),Yn=Object.create(null),Ku=function(){function a(i,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||O.RESOLUTION,this.resize(i,e)}return a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},a.prototype.resize=function(i,e){this.canvas.width=i*this.resolution,this.canvas.height=e*this.resolution},a.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(a.prototype,"width",{get:function(){return this.canvas.width},set:function(i){this.canvas.width=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.canvas.height},set:function(i){this.canvas.height=i},enumerable:!1,configurable:!0}),a}();function Ir(a,i){var e=O.RETINA_PREFIX.exec(a);return e?parseFloat(e[1]):void 0!==i?i:1}var Us=2*Math.PI,Ba=180/Math.PI,js=Math.PI/180,Gt=(()=>{return(a=Gt||(Gt={}))[a.POLY=0]="POLY",a[a.RECT=1]="RECT",a[a.CIRC=2]="CIRC",a[a.ELIP=3]="ELIP",a[a.RREC=4]="RREC",Gt;var a})(),lt=function(){function a(i,e,r,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=Number(i),this.y=Number(e),this.width=Number(r),this.height=Number(o),this.type=Gt.RECT}return Object.defineProperty(a.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(a,"EMPTY",{get:function(){return new a(0,0,0,0)},enumerable:!1,configurable:!0}),a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copyFrom=function(i){return this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height,this},a.prototype.copyTo=function(i){return i.x=this.x,i.y=this.y,i.width=this.width,i.height=this.height,i},a.prototype.contains=function(i,e){return!(this.width<=0||this.height<=0)&&i>=this.x&&i<this.x+this.width&&e>=this.y&&e<this.y+this.height},a.prototype.pad=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),this.x-=i,this.y-=e,this.width+=2*i,this.height+=2*e,this},a.prototype.fit=function(i){var e=Math.max(this.x,i.x),r=Math.min(this.x+this.width,i.x+i.width),o=Math.max(this.y,i.y),d=Math.min(this.y+this.height,i.y+i.height);return this.x=e,this.width=Math.max(r-e,0),this.y=o,this.height=Math.max(d-o,0),this},a.prototype.ceil=function(i,e){void 0===i&&(i=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*i)/i,o=Math.ceil((this.y+this.height-e)*i)/i;return this.x=Math.floor((this.x+e)*i)/i,this.y=Math.floor((this.y+e)*i)/i,this.width=r-this.x,this.height=o-this.y,this},a.prototype.enlarge=function(i){var e=Math.min(this.x,i.x),r=Math.max(this.x+this.width,i.x+i.width),o=Math.min(this.y,i.y),d=Math.max(this.y+this.height,i.y+i.height);return this.x=e,this.width=r-e,this.y=o,this.height=d-o,this},a}(),Ar=function(){function a(i,e,r){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=i,this.y=e,this.radius=r,this.type=Gt.CIRC}return a.prototype.clone=function(){return new a(this.x,this.y,this.radius)},a.prototype.contains=function(i,e){if(this.radius<=0)return!1;var o=this.x-i,d=this.y-e;return(o*=o)+(d*=d)<=this.radius*this.radius},a.prototype.getBounds=function(){return new lt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},a}(),Pi=function(){function a(i,e,r,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=i,this.y=e,this.width=r,this.height=o,this.type=Gt.ELIP}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.contains=function(i,e){if(this.width<=0||this.height<=0)return!1;var r=(i-this.x)/this.width,o=(e-this.y)/this.height;return(r*=r)+(o*=o)<=1},a.prototype.getBounds=function(){return new lt(this.x-this.width,this.y-this.height,this.width,this.height)},a}(),Dn=function(){function a(){for(var i=arguments,e=[],r=0;r<arguments.length;r++)e[r]=i[r];var o=Array.isArray(e[0])?e[0]:e;if("number"!=typeof o[0]){for(var d=[],p=0,m=o.length;p<m;p++)d.push(o[p].x,o[p].y);o=d}this.points=o,this.type=Gt.POLY,this.closeStroke=!0}return a.prototype.clone=function(){var e=new a(this.points.slice());return e.closeStroke=this.closeStroke,e},a.prototype.contains=function(i,e){for(var r=!1,o=this.points.length/2,d=0,p=o-1;d<o;p=d++){var m=this.points[2*d],w=this.points[2*d+1],A=this.points[2*p+1];w>e!=A>e&&i<(e-w)/(A-w)*(this.points[2*p]-m)+m&&(r=!r)}return r},a}(),Co=function(){function a(i,e,r,o,d){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===d&&(d=20),this.x=i,this.y=e,this.width=r,this.height=o,this.radius=d,this.type=Gt.RREC}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)},a.prototype.contains=function(i,e){if(this.width<=0||this.height<=0)return!1;if(i>=this.x&&i<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||i>=this.x+this.radius&&i<=this.x+this.width-this.radius)return!0;var r=i-(this.x+this.radius),o=e-(this.y+this.radius),d=this.radius*this.radius;if(r*r+o*o<=d||(r=i-(this.x+this.width-this.radius))*r+o*o<=d||r*r+(o=e-(this.y+this.height-this.radius))*o<=d||(r=i-(this.x+this.radius))*r+o*o<=d)return!0}return!1},a}(),Jt=function(){function a(i,e){void 0===i&&(i=0),void 0===e&&(e=0),this.x=i,this.y=e}return a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.copyFrom=function(i){return this.set(i.x,i.y),this},a.prototype.copyTo=function(i){return i.set(this.x,this.y),i},a.prototype.equals=function(i){return i.x===this.x&&i.y===this.y},a.prototype.set=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),this.x=i,this.y=e,this},a}(),Pr=function(){function a(i,e,r,o){void 0===r&&(r=0),void 0===o&&(o=0),this._x=r,this._y=o,this.cb=i,this.scope=e}return a.prototype.clone=function(i,e){return void 0===i&&(i=this.cb),void 0===e&&(e=this.scope),new a(i,e,this._x,this._y)},a.prototype.set=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),(this._x!==i||this._y!==e)&&(this._x=i,this._y=e,this.cb.call(this.scope)),this},a.prototype.copyFrom=function(i){return(this._x!==i.x||this._y!==i.y)&&(this._x=i.x,this._y=i.y,this.cb.call(this.scope)),this},a.prototype.copyTo=function(i){return i.set(this._x,this._y),i},a.prototype.equals=function(i){return i.x===this._x&&i.y===this._y},Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(i){this._x!==i&&(this._x=i,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(i){this._y!==i&&(this._y=i,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),a}(),Zt=function(){function a(i,e,r,o,d,p){void 0===i&&(i=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===d&&(d=0),void 0===p&&(p=0),this.array=null,this.a=i,this.b=e,this.c=r,this.d=o,this.tx=d,this.ty=p}return a.prototype.fromArray=function(i){this.a=i[0],this.b=i[1],this.c=i[3],this.d=i[4],this.tx=i[2],this.ty=i[5]},a.prototype.set=function(i,e,r,o,d,p){return this.a=i,this.b=e,this.c=r,this.d=o,this.tx=d,this.ty=p,this},a.prototype.toArray=function(i,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return i?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},a.prototype.apply=function(i,e){e=e||new Jt;var r=i.x,o=i.y;return e.x=this.a*r+this.c*o+this.tx,e.y=this.b*r+this.d*o+this.ty,e},a.prototype.applyInverse=function(i,e){e=e||new Jt;var r=1/(this.a*this.d+this.c*-this.b),o=i.x,d=i.y;return e.x=this.d*r*o+-this.c*r*d+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*d+-this.b*r*o+(-this.ty*this.a+this.tx*this.b)*r,e},a.prototype.translate=function(i,e){return this.tx+=i,this.ty+=e,this},a.prototype.scale=function(i,e){return this.a*=i,this.d*=e,this.c*=i,this.b*=e,this.tx*=i,this.ty*=e,this},a.prototype.rotate=function(i){var e=Math.cos(i),r=Math.sin(i),o=this.a,d=this.c,p=this.tx;return this.a=o*e-this.b*r,this.b=o*r+this.b*e,this.c=d*e-this.d*r,this.d=d*r+this.d*e,this.tx=p*e-this.ty*r,this.ty=p*r+this.ty*e,this},a.prototype.append=function(i){var e=this.a,r=this.b,o=this.c,d=this.d;return this.a=i.a*e+i.b*o,this.b=i.a*r+i.b*d,this.c=i.c*e+i.d*o,this.d=i.c*r+i.d*d,this.tx=i.tx*e+i.ty*o+this.tx,this.ty=i.tx*r+i.ty*d+this.ty,this},a.prototype.setTransform=function(i,e,r,o,d,p,m,w,x){return this.a=Math.cos(m+x)*d,this.b=Math.sin(m+x)*d,this.c=-Math.sin(m-w)*p,this.d=Math.cos(m-w)*p,this.tx=i-(r*this.a+o*this.c),this.ty=e-(r*this.b+o*this.d),this},a.prototype.prepend=function(i){var e=this.tx;if(1!==i.a||0!==i.b||0!==i.c||1!==i.d){var r=this.a,o=this.c;this.a=r*i.a+this.b*i.c,this.b=r*i.b+this.b*i.d,this.c=o*i.a+this.d*i.c,this.d=o*i.b+this.d*i.d}return this.tx=e*i.a+this.ty*i.c+i.tx,this.ty=e*i.b+this.ty*i.d+i.ty,this},a.prototype.decompose=function(i){var e=this.a,r=this.b,o=this.c,d=this.d,p=-Math.atan2(-o,d),m=Math.atan2(r,e),w=Math.abs(p+m);return w<1e-5||Math.abs(Us-w)<1e-5?(i.rotation=m,i.skew.x=i.skew.y=0):(i.rotation=0,i.skew.x=p,i.skew.y=m),i.scale.x=Math.sqrt(e*e+r*r),i.scale.y=Math.sqrt(o*o+d*d),i.position.x=this.tx,i.position.y=this.ty,i},a.prototype.invert=function(){var i=this.a,e=this.b,r=this.c,o=this.d,d=this.tx,p=i*o-e*r;return this.a=o/p,this.b=-e/p,this.c=-r/p,this.d=i/p,this.tx=(r*this.ty-o*d)/p,this.ty=-(i*this.ty-e*d)/p,this},a.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},a.prototype.clone=function(){var i=new a;return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},a.prototype.copyTo=function(i){return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},a.prototype.copyFrom=function(i){return this.a=i.a,this.b=i.b,this.c=i.c,this.d=i.d,this.tx=i.tx,this.ty=i.ty,this},Object.defineProperty(a,"IDENTITY",{get:function(){return new a},enumerable:!1,configurable:!0}),Object.defineProperty(a,"TEMP_MATRIX",{get:function(){return new a},enumerable:!1,configurable:!0}),a}(),Wn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Mr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],fn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Be=[],mt=[],Bt=Math.sign;!function(){for(var a=0;a<16;a++){var i=[];Be.push(i);for(var e=0;e<16;e++)for(var r=Bt(Wn[a]*Wn[e]+Mr[a]*zt[e]),o=Bt(zt[a]*Wn[e]+fn[a]*zt[e]),d=Bt(Wn[a]*Mr[e]+Mr[a]*fn[e]),p=Bt(zt[a]*Mr[e]+fn[a]*fn[e]),m=0;m<16;m++)if(Wn[m]===r&&zt[m]===o&&Mr[m]===d&&fn[m]===p){i.push(m);break}}for(a=0;a<16;a++){var w=new Zt;w.set(Wn[a],zt[a],Mr[a],fn[a],0,0),mt.push(w)}}();var Rt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(a){return Wn[a]},uY:function(a){return zt[a]},vX:function(a){return Mr[a]},vY:function(a){return fn[a]},inv:function(a){return 8&a?15&a:7&-a},add:function(a,i){return Be[a][i]},sub:function(a,i){return Be[a][Rt.inv(i)]},rotate180:function(a){return 4^a},isVertical:function(a){return 2==(3&a)},byDirection:function(a,i){return 2*Math.abs(a)<=Math.abs(i)?i>=0?Rt.S:Rt.N:2*Math.abs(i)<=Math.abs(a)?a>0?Rt.E:Rt.W:i>0?a>0?Rt.SE:Rt.SW:a>0?Rt.NE:Rt.NW},matrixAppendRotationInv:function(a,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=mt[Rt.inv(i)];o.tx=e,o.ty=r,a.append(o)}},dn=function(){function a(){this.worldTransform=new Zt,this.localTransform=new Zt,this.position=new Pr(this.onChange,this,0,0),this.scale=new Pr(this.onChange,this,1,1),this.pivot=new Pr(this.onChange,this,0,0),this.skew=new Pr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return a.prototype.onChange=function(){this._localID++},a.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},a.prototype.updateLocalTransform=function(){var i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)},a.prototype.updateTransform=function(i){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){var r=i.worldTransform,o=this.worldTransform;o.a=e.a*r.a+e.b*r.c,o.b=e.a*r.b+e.b*r.d,o.c=e.c*r.a+e.d*r.c,o.d=e.c*r.b+e.d*r.d,o.tx=e.tx*r.a+e.ty*r.c+r.tx,o.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=i._worldID,this._worldID++}},a.prototype.setFromMatrix=function(i){i.decompose(this),this._localID++},Object.defineProperty(a.prototype,"rotation",{get:function(){return this._rotation},set:function(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())},enumerable:!1,configurable:!0}),a.IDENTITY=new a,a}();O.SORTABLE_CHILDREN=!1;var Or=function(){function a(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return a.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},a.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},a.prototype.getRectangle=function(i){return this.minX>this.maxX||this.minY>this.maxY?lt.EMPTY:((i=i||new lt(0,0,1,1)).x=this.minX,i.y=this.minY,i.width=this.maxX-this.minX,i.height=this.maxY-this.minY,i)},a.prototype.addPoint=function(i){this.minX=Math.min(this.minX,i.x),this.maxX=Math.max(this.maxX,i.x),this.minY=Math.min(this.minY,i.y),this.maxY=Math.max(this.maxY,i.y)},a.prototype.addQuad=function(i){var e=this.minX,r=this.minY,o=this.maxX,d=this.maxY,p=i[0],m=i[1];e=p<e?p:e,r=m<r?m:r,o=p>o?p:o,d=m>d?m:d,e=(p=i[2])<e?p:e,r=(m=i[3])<r?m:r,o=p>o?p:o,d=m>d?m:d,e=(p=i[4])<e?p:e,r=(m=i[5])<r?m:r,o=p>o?p:o,d=m>d?m:d,r=(m=i[7])<r?m:r,o=(p=i[6])>o?p:o,d=m>d?m:d,this.minX=e=p<e?p:e,this.minY=r,this.maxX=o,this.maxY=d},a.prototype.addFrame=function(i,e,r,o,d){this.addFrameMatrix(i.worldTransform,e,r,o,d)},a.prototype.addFrameMatrix=function(i,e,r,o,d){var p=i.a,m=i.b,w=i.c,x=i.d,A=i.tx,I=i.ty,S=this.minX,R=this.minY,L=this.maxX,B=this.maxY,X=p*e+w*r+A,se=m*e+x*r+I;S=X<S?X:S,R=se<R?se:R,L=X>L?X:L,B=se>B?se:B,S=(X=p*o+w*r+A)<S?X:S,R=(se=m*o+x*r+I)<R?se:R,L=X>L?X:L,B=se>B?se:B,S=(X=p*e+w*d+A)<S?X:S,R=(se=m*e+x*d+I)<R?se:R,L=X>L?X:L,B=se>B?se:B,R=(se=m*o+x*d+I)<R?se:R,L=(X=p*o+w*d+A)>L?X:L,B=se>B?se:B,this.minX=S=X<S?X:S,this.minY=R,this.maxX=L,this.maxY=B},a.prototype.addVertexData=function(i,e,r){for(var o=this.minX,d=this.minY,p=this.maxX,m=this.maxY,w=e;w<r;w+=2){var x=i[w],A=i[w+1];o=x<o?x:o,d=A<d?A:d,p=x>p?x:p,m=A>m?A:m}this.minX=o,this.minY=d,this.maxX=p,this.maxY=m},a.prototype.addVertices=function(i,e,r,o){this.addVerticesMatrix(i.worldTransform,e,r,o)},a.prototype.addVerticesMatrix=function(i,e,r,o,d,p){void 0===d&&(d=0),void 0===p&&(p=d);for(var m=i.a,w=i.b,x=i.c,A=i.d,I=i.tx,S=i.ty,R=this.minX,L=this.minY,B=this.maxX,X=this.maxY,se=r;se<o;se+=2){var Fe=e[se],ye=e[se+1],Ge=m*Fe+x*ye+I,xe=A*ye+w*Fe+S;R=Math.min(R,Ge-d),B=Math.max(B,Ge+d),L=Math.min(L,xe-p),X=Math.max(X,xe+p)}this.minX=R,this.minY=L,this.maxX=B,this.maxY=X},a.prototype.addBounds=function(i){var e=this.minX,r=this.minY,o=this.maxX,d=this.maxY;this.minX=i.minX<e?i.minX:e,this.minY=i.minY<r?i.minY:r,this.maxX=i.maxX>o?i.maxX:o,this.maxY=i.maxY>d?i.maxY:d},a.prototype.addBoundsMask=function(i,e){var r=i.minX>e.minX?i.minX:e.minX,o=i.minY>e.minY?i.minY:e.minY,d=i.maxX<e.maxX?i.maxX:e.maxX,p=i.maxY<e.maxY?i.maxY:e.maxY;if(r<=d&&o<=p){var m=this.minX,w=this.minY,x=this.maxX,A=this.maxY;this.minX=r<m?r:m,this.minY=o<w?o:w,this.maxX=d>x?d:x,this.maxY=p>A?p:A}},a.prototype.addBoundsMatrix=function(i,e){this.addFrameMatrix(e,i.minX,i.minY,i.maxX,i.maxY)},a.prototype.addBoundsArea=function(i,e){var r=i.minX>e.x?i.minX:e.x,o=i.minY>e.y?i.minY:e.y,d=i.maxX<e.x+e.width?i.maxX:e.x+e.width,p=i.maxY<e.y+e.height?i.maxY:e.y+e.height;if(r<=d&&o<=p){var m=this.minX,w=this.minY,x=this.maxX,A=this.maxY;this.minX=r<m?r:m,this.minY=o<w?o:w,this.maxX=d>x?d:x,this.maxY=p>A?p:A}},a.prototype.pad=function(i,e){void 0===i&&(i=0),void 0===e&&(e=i),this.isEmpty()||(this.minX-=i,this.maxX+=i,this.minY-=e,this.maxY+=e)},a.prototype.addFramePad=function(i,e,r,o,d,p){e-=p,r+=d,o+=p,this.minX=this.minX<(i-=d)?this.minX:i,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>o?this.maxY:o},a}(),Xt=function(a,i){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function is(a,i){function e(){this.constructor=a}Xt(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var $t=function(a){function i(){var e=a.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new dn,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Or,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return is(i,a),i.mixin=function(e){for(var r=Object.keys(e),o=0;o<r.length;++o){var d=r[o];Object.defineProperty(i.prototype,d,Object.getOwnPropertyDescriptor(e,d))}},i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.prototype.getBounds=function(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new lt),r=this._boundsRect),this._bounds.getRectangle(r)},i.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Or);var r=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var d=this._bounds,p=this._boundsID;this._bounds=this._localBounds;var m=this.getBounds(!1,e);return this.parent=o,this.transform=r,this._bounds=d,this._bounds.updateID+=this._boundsID-p,m},i.prototype.toGlobal=function(e,r,o){return void 0===o&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)},i.prototype.toLocal=function(e,r,o,d){return r&&(e=r.toGlobal(e,o,d)),d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,o)},i.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},i.prototype.setTransform=function(e,r,o,d,p,m,w,x,A){return void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===d&&(d=1),void 0===p&&(p=0),void 0===m&&(m=0),void 0===w&&(w=0),void 0===x&&(x=0),void 0===A&&(A=0),this.position.x=e,this.position.y=r,this.scale.x=o||1,this.scale.y=d||1,this.rotation=p,this.skew.x=m,this.skew.y=w,this.pivot.x=x,this.pivot.y=A,this},i.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(i.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new pt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),i.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},i.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(i.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.transform.rotation*Ba},set:function(e){this.transform.rotation=e*js},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._mask},set:function(e){var r;this._mask&&((r=this._mask.maskObject||this._mask).renderable=!0,r.isMask=!1),this._mask=e,this._mask&&((r=this._mask.maskObject||this._mask).renderable=!1,r.isMask=!0)},enumerable:!1,configurable:!0}),i}(H()),pt=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.sortDirty=null,e}return is(i,a),i}($t);function Hs(a,i){return a.zIndex===i.zIndex?a._lastSortedIndex-i._lastSortedIndex:a.zIndex-i.zIndex}$t.prototype.displayObjectUpdateTransform=$t.prototype.updateTransform;var bn=function(a){function i(){var e=a.call(this)||this;return e.children=[],e.sortableChildren=O.SORTABLE_CHILDREN,e.sortDirty=!1,e}return is(i,a),i.prototype.onChildrenChange=function(e){},i.prototype.addChild=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];if(r.length>1)for(var d=0;d<r.length;d++)this.addChild(r[d]);else{var p=r[0];p.parent&&p.parent.removeChild(p),p.parent=this,this.sortDirty=!0,p.transform._parentID=-1,this.children.push(p),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",p,this,this.children.length-1),p.emit("added",this)}return r[0]},i.prototype.addChildAt=function(e,r){if(r<0||r>this.children.length)throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e},i.prototype.swapChildren=function(e,r){if(e!==r){var o=this.getChildIndex(e),d=this.getChildIndex(r);this.children[o]=r,this.children[d]=e,this.onChildrenChange(o<d?o:d)}},i.prototype.getChildIndex=function(e){var r=this.children.indexOf(e);if(-1===r)throw new Error("The supplied DisplayObject must be a child of the caller");return r},i.prototype.setChildIndex=function(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(e);kt(this.children,o,1),this.children.splice(r,0,e),this.onChildrenChange(r)},i.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},i.prototype.removeChild=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];if(r.length>1)for(var d=0;d<r.length;d++)this.removeChild(r[d]);else{var p=r[0],m=this.children.indexOf(p);if(-1===m)return null;p.parent=null,p.transform._parentID=-1,kt(this.children,m,1),this._boundsID++,this.onChildrenChange(m),p.emit("removed",this),this.emit("childRemoved",p,this,m)}return r[0]},i.prototype.removeChildAt=function(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,kt(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r},i.prototype.removeChildren=function(e,r){void 0===e&&(e=0),void 0===r&&(r=this.children.length);var m,p=r-e;if(p>0&&p<=r){m=this.children.splice(e,p);for(var w=0;w<m.length;++w)m[w].parent=null,m[w].transform&&(m[w].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),w=0;w<m.length;++w)m[w].emit("removed",this),this.emit("childRemoved",m[w],this,w);return m}if(0===p&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.sortChildren=function(){for(var e=!1,r=0,o=this.children.length;r<o;++r){var d=this.children[r];d._lastSortedIndex=r,!e&&0!==d.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Hs),this.sortDirty=!1},i.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var o=this.children[e];o.visible&&o.updateTransform()}},i.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];if(r.visible&&r.renderable)if(r.calculateBounds(),r._mask){var o=r._mask.maskObject||r._mask;o.calculateBounds(),this._bounds.addBoundsMask(r._bounds,o._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},i.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var o=a.prototype.getLocalBounds.call(this,e);if(!r)for(var d=0,p=this.children.length;d<p;++d){var m=this.children[d];m.visible&&m.updateTransform()}return o},i.prototype._calculateBounds=function(){},i.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var r=0,o=this.children.length;r<o;++r)this.children[r].render(e)}},i.prototype.renderAdvanced=function(e){e.batch.flush();var r=this.filters,o=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var d=0;d<r.length;d++)r[d].enabled&&this._enabledFilters.push(r[d]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}o&&e.mask.push(this,this._mask),this._render(e),d=0;for(var p=this.children.length;d<p;d++)this.children[d].render(e);e.batch.flush(),o&&e.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},i.prototype._render=function(e){},i.prototype.destroy=function(e){a.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,o=this.removeChildren(0,this.children.length);if(r)for(var d=0;d<o.length;++d)o[d].destroy(e)},Object.defineProperty(i.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var r=this.getLocalBounds().width;this.scale.x=0!==r?e/r:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var r=this.getLocalBounds().height;this.scale.y=0!==r?e/r:1,this._height=e},enumerable:!1,configurable:!0}),i}($t);bn.prototype.containerUpdateTransform=bn.prototype.updateTransform,$t.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var gr=function(){function a(i){this._hookDiv=null,(ue.tablet||ue.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=i,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(a.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),a.prototype.createTouchHook=function(){var i=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){i._isMobileAccessibility=!0,i.activate(),i.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},a.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},a.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},a.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},a.prototype.updateAccessibleObjects=function(i){if(i.visible&&i.accessibleChildren){i.accessible&&i.interactive&&(i._accessibleActive||this.addChild(i),i.renderId=this.renderId);for(var e=i.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},a.prototype.update=function(){var i=performance.now();if(!(ue.android.device&&i<this.androidUpdateCount)&&(this.androidUpdateCount=i+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,o=e.width/this.renderer.width*r,d=e.height/this.renderer.height*r,p=this.div;p.style.left=e.left+"px",p.style.top=e.top+"px",p.style.width=this.renderer.width+"px",p.style.height=this.renderer.height+"px";for(var m=0;m<this.children.length;m++){var w=this.children[m];if(w.renderId!==this.renderId)w._accessibleActive=!1,kt(this.children,m,1),this.div.removeChild(w._accessibleDiv),this.pool.push(w._accessibleDiv),w._accessibleDiv=null,m--;else{p=w._accessibleDiv;var x=w.hitArea,A=w.worldTransform;w.hitArea?(p.style.left=(A.tx+x.x*A.a)*o+"px",p.style.top=(A.ty+x.y*A.d)*d+"px",p.style.width=x.width*A.a*o+"px",p.style.height=x.height*A.d*d+"px"):(x=w.getBounds(),this.capHitArea(x),p.style.left=x.x*o+"px",p.style.top=x.y*d+"px",p.style.width=x.width*o+"px",p.style.height=x.height*d+"px",p.title!==w.accessibleTitle&&null!==w.accessibleTitle&&(p.title=w.accessibleTitle),p.getAttribute("aria-label")!==w.accessibleHint&&null!==w.accessibleHint&&p.setAttribute("aria-label",w.accessibleHint)),(w.accessibleTitle!==p.title||w.tabIndex!==p.tabIndex)&&(p.title=w.accessibleTitle,p.tabIndex=w.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},a.prototype.updateDebugHTML=function(i){i.innerHTML="type: "+i.type+"</br> title : "+i.title+"</br> tabIndex: "+i.tabIndex},a.prototype.capHitArea=function(i){i.x<0&&(i.width+=i.x,i.x=0),i.y<0&&(i.height+=i.y,i.y=0),i.x+i.width>this.renderer.width&&(i.width=this.renderer.width-i.x),i.y+i.height>this.renderer.height&&(i.height=this.renderer.height-i.y)},a.prototype.addChild=function(i){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=i.accessiblePointerEvents,e.type=i.accessibleType,i.accessibleTitle&&null!==i.accessibleTitle?e.title=i.accessibleTitle:(!i.accessibleHint||null===i.accessibleHint)&&(e.title="displayObject "+i.tabIndex),i.accessibleHint&&null!==i.accessibleHint&&e.setAttribute("aria-label",i.accessibleHint),this.debug&&this.updateDebugHTML(e),i._accessibleActive=!0,i._accessibleDiv=e,e.displayObject=i,this.children.push(i),this.div.appendChild(i._accessibleDiv),i._accessibleDiv.tabIndex=i.tabIndex},a.prototype._onClick=function(i){var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"click",e.eventData),e.dispatchEvent(i.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(i.target.displayObject,"tap",e.eventData)},a.prototype._onFocus=function(i){i.target.getAttribute("aria-live")||i.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"mouseover",e.eventData)},a.prototype._onFocusOut=function(i){i.target.getAttribute("aria-live")||i.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"mouseout",e.eventData)},a.prototype._onKeyDown=function(i){9===i.keyCode&&this.activate()},a.prototype._onMouseMove=function(i){0===i.movementX&&0===i.movementY||this.deactivate()},a.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},a}();O.TARGET_FPMS=.06;var nr=(()=>{return(a=nr||(nr={}))[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",nr;var a})(),os=function(){function a(i,e,r,o){void 0===e&&(e=null),void 0===r&&(r=0),void 0===o&&(o=!1),this.fn=i,this.context=e,this.priority=r,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return a.prototype.match=function(i,e){return void 0===e&&(e=null),this.fn===i&&this.context===e},a.prototype.emit=function(i){this.fn&&(this.context?this.fn.call(this.context,i):this.fn(i));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},a.prototype.connect=function(i){this.previous=i,i.next&&(i.next.previous=this),this.next=i.next,i.next=this},a.prototype.destroy=function(i){void 0===i&&(i=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=i?null:e,this.previous=null,e},a}(),rn=function(){function a(){var i=this;this._head=new os(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/O.TARGET_FPMS,this.elapsedMS=1/O.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){i._requestId=null,i.started&&(i.update(e),i.started&&null===i._requestId&&i._head.next&&(i._requestId=requestAnimationFrame(i._tick)))}}return a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},a.prototype.add=function(i,e,r){return void 0===r&&(r=nr.NORMAL),this._addListener(new os(i,e,r))},a.prototype.addOnce=function(i,e,r){return void 0===r&&(r=nr.NORMAL),this._addListener(new os(i,e,r,!0))},a.prototype._addListener=function(i){var e=this._head.next,r=this._head;if(e){for(;e;){if(i.priority>e.priority){i.connect(r);break}r=e,e=e.next}i.previous||i.connect(r)}else i.connect(r);return this._startIfPossible(),this},a.prototype.remove=function(i,e){for(var r=this._head.next;r;)r=r.match(i,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(a.prototype,"count",{get:function(){if(!this._head)return 0;for(var i=0,e=this._head;e=e.next;)i++;return i},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},a.prototype.destroy=function(){if(!this._protected){this.stop();for(var i=this._head.next;i;)i=i.destroy(!0);this._head.destroy(),this._head=null}},a.prototype.update=function(i){var e;if(void 0===i&&(i=performance.now()),i>this.lastTime){if((e=this.elapsedMS=i-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=i-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=i-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*O.TARGET_FPMS;for(var o=this._head,d=o.next;d;)d=d.emit(this.deltaTime);o.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=i},Object.defineProperty(a.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(i){var e=Math.min(this.maxFPS,i),r=Math.min(Math.max(0,e)/1e3,O.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(i){if(0===i)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,i);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(a,"shared",{get:function(){if(!a._shared){var i=a._shared=new a;i.autoStart=!0,i._protected=!0}return a._shared},enumerable:!1,configurable:!0}),Object.defineProperty(a,"system",{get:function(){if(!a._system){var i=a._system=new a;i.autoStart=!0,i._protected=!0}return a._system},enumerable:!1,configurable:!0}),a}(),vr=function(){function a(){}return a.init=function(i){var e=this;i=Object.assign({autoStart:!0,sharedTicker:!1},i),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,nr.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=i.sharedTicker?rn.shared:new rn,i.autoStart&&this.start()},a.destroy=function(){if(this._ticker){var i=this._ticker;this.ticker=null,i.destroy()}},a}(),Ju=function(){function a(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Jt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(a.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),a.prototype.getLocalPosition=function(i,e,r){return i.worldTransform.applyInverse(r||this.global,e)},a.prototype.copyEvent=function(i){"isPrimary"in i&&i.isPrimary&&(this.isPrimary=!0),this.button="button"in i&&i.button;var e="buttons"in i&&i.buttons;this.buttons=Number.isInteger(e)?e:"which"in i&&i.which,this.width="width"in i&&i.width,this.height="height"in i&&i.height,this.tiltX="tiltX"in i&&i.tiltX,this.tiltY="tiltY"in i&&i.tiltY,this.pointerType="pointerType"in i&&i.pointerType,this.pressure="pressure"in i&&i.pressure,this.rotationAngle="rotationAngle"in i&&i.rotationAngle,this.twist="twist"in i&&i.twist||0,this.tangentialPressure="tangentialPressure"in i&&i.tangentialPressure||0},a.prototype.reset=function(){this.isPrimary=!1},a}(),el=function(a,i){return(el=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},dc=function(){function a(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return a.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},a.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},a}(),tl=function(){function a(i){this._pointerId=i,this._flags=a.FLAGS.NONE}return a.prototype._doSet=function(i,e){this._flags=e?this._flags|i:this._flags&~i},Object.defineProperty(a.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"flags",{get:function(){return this._flags},set:function(i){this._flags=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"none",{get:function(){return this._flags===a.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"over",{get:function(){return 0!=(this._flags&a.FLAGS.OVER)},set:function(i){this._doSet(a.FLAGS.OVER,i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rightDown",{get:function(){return 0!=(this._flags&a.FLAGS.RIGHT_DOWN)},set:function(i){this._doSet(a.FLAGS.RIGHT_DOWN,i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leftDown",{get:function(){return 0!=(this._flags&a.FLAGS.LEFT_DOWN)},set:function(i){this._doSet(a.FLAGS.LEFT_DOWN,i)},enumerable:!1,configurable:!0}),a.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),a}(),pc=function(){function a(){this._tempPoint=new Jt}return a.prototype.recursiveFindHit=function(i,e,r,o,d){if(!e||!e.visible)return!1;var p=i.data.global,m=!1,w=d=e.interactive||d,x=!0;if(e.hitArea?(o&&(e.worldTransform.applyInverse(p,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?m=!0:(o=!1,x=!1)),w=!1):e._mask&&o&&(e._mask.containsPoint&&e._mask.containsPoint(p)||(o=!1)),x&&e.interactiveChildren&&e.children)for(var A=e.children,I=A.length-1;I>=0;I--){var S=A[I],R=this.recursiveFindHit(i,S,r,o,w);if(R){if(!S.parent)continue;w=!1,R&&(i.target&&(o=!1),m=!0)}}return d&&(o&&!i.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(p)&&(m=!0),e.interactive&&(m&&!i.target&&(i.target=e),r&&r(i,e,!!m))),m},a.prototype.findHit=function(i,e,r,o){this.recursiveFindHit(i,e,r,o,!1)},a}();$t.mixin({interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(a){a?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0});var ja={target:null,data:{global:null}},bh=function(a){function i(e,r){var o=a.call(this)||this;return r=r||{},o.renderer=e,o.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,o.interactionFrequency=r.interactionFrequency||10,o.mouse=new Ju,o.mouse.identifier=1,o.mouse.global.set(-999999),o.activeInteractionData={},o.activeInteractionData[1]=o.mouse,o.interactionDataPool=[],o.eventData=new dc,o.interactionDOMElement=null,o.moveWhenInside=!1,o.eventsAdded=!1,o.tickerAdded=!1,o.mouseOverRenderer=!1,o.supportsTouchEvents="ontouchstart"in window,o.supportsPointerEvents=!!window.PointerEvent,o.onPointerUp=o.onPointerUp.bind(o),o.processPointerUp=o.processPointerUp.bind(o),o.onPointerCancel=o.onPointerCancel.bind(o),o.processPointerCancel=o.processPointerCancel.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.processPointerDown=o.processPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.processPointerMove=o.processPointerMove.bind(o),o.onPointerOut=o.onPointerOut.bind(o),o.processPointerOverOut=o.processPointerOverOut.bind(o),o.onPointerOver=o.onPointerOver.bind(o),o.cursorStyles={default:"inherit",pointer:"pointer"},o.currentCursorMode=null,o.cursor=null,o.resolution=1,o.delayedEvents=[],o.search=new pc,o._tempDisplayObject=new pt,o._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,o.setTargetElement(o.renderer.view,o.renderer.resolution),o}return function(a,i){function e(){this.constructor=a}el(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),Object.defineProperty(i.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),i.prototype.hitTest=function(e,r){return ja.target=null,ja.data.global=e,r||(r=this.lastObjectRendered),this.processInteractive(ja,r,null,!0),ja.target},i.prototype.setTargetElement=function(e,r){void 0===r&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=r,this.addEvents(),this.addTickerListener()},i.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(rn.system.add(this.tickerUpdate,this,nr.INTERACTION),this.tickerAdded=!0)},i.prototype.removeTickerListener=function(){!this.tickerAdded||(rn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},i.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},i.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},i.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},i.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var o=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(e){if(this.currentCursorMode!==(e=e||"default")){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(e);break;case"object":Object.assign(this.interactionDOMElement.style,r)}else"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},i.prototype.dispatchEvent=function(e,r,o){(!o.stopPropagationHint||e===o.stopsPropagatingAt)&&(o.currentTarget=e,o.type=r,e.emit(r,o),e[r]&&e[r](o))},i.prototype.delayDispatchEvent=function(e,r,o){this.delayedEvents.push({displayObject:e,eventString:r,eventData:o})},i.prototype.mapPositionToPoint=function(e,r,o){var d;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var p=1/this.resolution;e.x=this.interactionDOMElement.width/d.width*(r-d.left)*p,e.y=this.interactionDOMElement.height/d.height*(o-d.top)*p},i.prototype.processInteractive=function(e,r,o,d){var p=this.search.findHit(e,r,o,d),m=this.delayedEvents;if(!m.length)return p;e.stopPropagationHint=!1;var w=m.length;this.delayedEvents=[];for(var x=0;x<w;x++){var A=m[x],I=A.displayObject,S=A.eventString,R=A.eventData;R.stopsPropagatingAt===I&&(R.stopPropagationHint=!0),this.dispatchEvent(I,S,R)}return p},i.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var d=r.length,p=0;p<d;p++){var m=r[p],w=this.getInteractionDataForPointerId(m),x=this.configureInteractionEventForDOMEvent(this.eventData,m,w);x.data.originalEvent=e,this.processInteractive(x,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",x),"touch"===m.pointerType?this.emit("touchstart",x):"mouse"!==m.pointerType&&"pen"!==m.pointerType||this.emit(2===m.button?"rightdown":"mousedown",this.eventData)}}},i.prototype.processPointerDown=function(e,r,o){var d=e.data,p=e.data.identifier;if(o)if(r.trackedPointers[p]||(r.trackedPointers[p]=new tl(p)),this.dispatchEvent(r,"pointerdown",e),"touch"===d.pointerType)this.dispatchEvent(r,"touchstart",e);else if("mouse"===d.pointerType||"pen"===d.pointerType){var m=2===d.button;m?r.trackedPointers[p].rightDown=!0:r.trackedPointers[p].leftDown=!0,this.dispatchEvent(r,m?"rightdown":"mousedown",e)}},i.prototype.onPointerComplete=function(e,r,o){for(var d=this.normalizeToPointerData(e),p=d.length,m=e.target!==this.interactionDOMElement?"outside":"",w=0;w<p;w++){var x=d[w],A=this.getInteractionDataForPointerId(x),I=this.configureInteractionEventForDOMEvent(this.eventData,x,A);I.data.originalEvent=e,this.processInteractive(I,this.lastObjectRendered,o,r||!m),this.emit(r?"pointercancel":"pointerup"+m,I),"mouse"===x.pointerType||"pen"===x.pointerType?this.emit(2===x.button?"rightup"+m:"mouseup"+m,I):"touch"===x.pointerType&&(this.emit(r?"touchcancel":"touchend"+m,I),this.releaseInteractionDataForPointerId(x.pointerId))}},i.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(e,r){var o=e.data,d=e.data.identifier;void 0!==r.trackedPointers[d]&&(delete r.trackedPointers[d],this.dispatchEvent(r,"pointercancel",e),"touch"===o.pointerType&&this.dispatchEvent(r,"touchcancel",e))},i.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},i.prototype.processPointerUp=function(e,r,o){var d=e.data,p=e.data.identifier,m=r.trackedPointers[p],w="touch"===d.pointerType,x="mouse"===d.pointerType||"pen"===d.pointerType,A=!1;if(x){var I=2===d.button,S=tl.FLAGS,L=void 0!==m&&m.flags&(I?S.RIGHT_DOWN:S.LEFT_DOWN);o?(this.dispatchEvent(r,I?"rightup":"mouseup",e),L&&(this.dispatchEvent(r,I?"rightclick":"click",e),A=!0)):L&&this.dispatchEvent(r,I?"rightupoutside":"mouseupoutside",e),m&&(I?m.rightDown=!1:m.leftDown=!1)}o?(this.dispatchEvent(r,"pointerup",e),w&&this.dispatchEvent(r,"touchend",e),m&&((!x||A)&&this.dispatchEvent(r,"pointertap",e),w&&(this.dispatchEvent(r,"tap",e),m.over=!1))):m&&(this.dispatchEvent(r,"pointerupoutside",e),w&&this.dispatchEvent(r,"touchendoutside",e)),m&&m.none&&delete r.trackedPointers[p]},i.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);("mouse"===r[0].pointerType||"pen"===r[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var o=r.length,d=0;d<o;d++){var p=r[d],m=this.getInteractionDataForPointerId(p),w=this.configureInteractionEventForDOMEvent(this.eventData,p,m);w.data.originalEvent=e,this.processInteractive(w,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",w),"touch"===p.pointerType&&this.emit("touchmove",w),("mouse"===p.pointerType||"pen"===p.pointerType)&&this.emit("mousemove",w)}"mouse"===r[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(e,r,o){var d=e.data,p="touch"===d.pointerType,m="mouse"===d.pointerType||"pen"===d.pointerType;m&&this.processPointerOverOut(e,r,o),(!this.moveWhenInside||o)&&(this.dispatchEvent(r,"pointermove",e),p&&this.dispatchEvent(r,"touchmove",e),m&&this.dispatchEvent(r,"mousemove",e))},i.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var o=this.normalizeToPointerData(e)[0];"mouse"===o.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var d=this.getInteractionDataForPointerId(o),p=this.configureInteractionEventForDOMEvent(this.eventData,o,d);p.data.originalEvent=o,this.processInteractive(p,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",p),"mouse"===o.pointerType||"pen"===o.pointerType?this.emit("mouseout",p):this.releaseInteractionDataForPointerId(d.identifier)}},i.prototype.processPointerOverOut=function(e,r,o){var d=e.data,p=e.data.identifier,m="mouse"===d.pointerType||"pen"===d.pointerType,w=r.trackedPointers[p];o&&!w&&(w=r.trackedPointers[p]=new tl(p)),void 0!==w&&(o&&this.mouseOverRenderer?(w.over||(w.over=!0,this.delayDispatchEvent(r,"pointerover",e),m&&this.delayDispatchEvent(r,"mouseover",e)),m&&null===this.cursor&&(this.cursor=r.cursor)):w.over&&(w.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),m&&this.dispatchEvent(r,"mouseout",e),w.none&&delete r.trackedPointers[p]))},i.prototype.onPointerOver=function(e){var o=this.normalizeToPointerData(e)[0],d=this.getInteractionDataForPointerId(o),p=this.configureInteractionEventForDOMEvent(this.eventData,o,d);p.data.originalEvent=o,"mouse"===o.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",p),("mouse"===o.pointerType||"pen"===o.pointerType)&&this.emit("mouseover",p)},i.prototype.getInteractionDataForPointerId=function(e){var o,r=e.pointerId;return 1===r||"mouse"===e.pointerType?o=this.mouse:this.activeInteractionData[r]?o=this.activeInteractionData[r]:((o=this.interactionDataPool.pop()||new Ju).identifier=r,this.activeInteractionData[r]=o),o.copyEvent(e),o},i.prototype.releaseInteractionDataForPointerId=function(e){var r=this.activeInteractionData[e];r&&(delete this.activeInteractionData[e],r.reset(),this.interactionDataPool.push(r))},i.prototype.configureInteractionEventForDOMEvent=function(e,r,o){return e.data=o,this.mapPositionToPoint(o.global,r.clientX,r.clientY),"touch"===r.pointerType&&(r.globalX=o.global.x,r.globalY=o.global.y),o.originalEvent=r,e.reset(),e},i.prototype.normalizeToPointerData=function(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var o=0,d=e.changedTouches.length;o<d;o++){var p=e.changedTouches[o];void 0===p.button&&(p.button=e.touches.length?1:0),void 0===p.buttons&&(p.buttons=e.touches.length?1:0),void 0===p.isPrimary&&(p.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===p.width&&(p.width=p.radiusX||1),void 0===p.height&&(p.height=p.radiusY||1),void 0===p.tiltX&&(p.tiltX=0),void 0===p.tiltY&&(p.tiltY=0),void 0===p.pointerType&&(p.pointerType="touch"),void 0===p.pointerId&&(p.pointerId=p.identifier||0),void 0===p.pressure&&(p.pressure=p.force||.5),void 0===p.twist&&(p.twist=0),void 0===p.tangentialPressure&&(p.tangentialPressure=0),void 0===p.layerX&&(p.layerX=p.offsetX=p.clientX),void 0===p.layerY&&(p.layerY=p.offsetY=p.clientY),p.isNormalized=!0,r.push(p)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)r.push(e);else{var m=e;void 0===m.isPrimary&&(m.isPrimary=!0),void 0===m.width&&(m.width=1),void 0===m.height&&(m.height=1),void 0===m.tiltX&&(m.tiltX=0),void 0===m.tiltY&&(m.tiltY=0),void 0===m.pointerType&&(m.pointerType="mouse"),void 0===m.pointerId&&(m.pointerId=1),void 0===m.pressure&&(m.pressure=.5),void 0===m.twist&&(m.twist=0),void 0===m.tangentialPressure&&(m.tangentialPressure=0),m.isNormalized=!0,r.push(m)}return r},i.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},i}(H()),Sn=function(){function a(i){this.items=[],this._name=i,this._aliasCount=0}return a.prototype.emit=function(i,e,r,o,d,p,m,w){if(arguments.length>8)throw new Error("max arguments reached");var x=this,A=x.name,I=x.items;this._aliasCount++;for(var S=0,R=I.length;S<R;S++)I[S][A](i,e,r,o,d,p,m,w);return I===this.items&&this._aliasCount--,this},a.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},a.prototype.add=function(i){return i[this._name]&&(this.ensureNonAliasedItems(),this.remove(i),this.items.push(i)),this},a.prototype.remove=function(i){var e=this.items.indexOf(i);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},a.prototype.contains=function(i){return-1!==this.items.indexOf(i)},a.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},a.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(a.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),a}();Object.defineProperties(Sn.prototype,{dispatch:{value:Sn.prototype.emit},run:{value:Sn.prototype.emit}}),O.PREFER_ENV=ue.any?Y.WEBGL:Y.WEBGL2,O.STRICT_TEXTURE_CACHE=!1;var Ha=[];function Va(a,i){if(!a)return null;var e="";if("string"==typeof a){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(a);r&&(e=r[1].toLowerCase())}for(var o=Ha.length-1;o>=0;--o){var d=Ha[o];if(d.test&&d.test(a,e))return new d(a,i)}throw new Error("Unrecognized source type to auto-detect Resource")}var nl=function(a,i){return(nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function yt(a,i){function e(){this.constructor=a}nl(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Gs=function(){function a(i,e){void 0===i&&(i=0),void 0===e&&(e=0),this._width=i,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Sn("setRealSize"),this.onUpdate=new Sn("update"),this.onError=new Sn("onError")}return a.prototype.bind=function(i){this.onResize.add(i),this.onUpdate.add(i),this.onError.add(i),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},a.prototype.unbind=function(i){this.onResize.remove(i),this.onUpdate.remove(i),this.onError.remove(i)},a.prototype.resize=function(i,e){(i!==this._width||e!==this._height)&&(this._width=i,this._height=e,this.onResize.emit(i,e))},Object.defineProperty(a.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),a.prototype.update=function(){this.destroyed||this.onUpdate.emit()},a.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(a.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),a.prototype.style=function(i,e,r){return!1},a.prototype.dispose=function(){},a.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},a.test=function(i,e){return!1},a}(),zs=function(a){function i(e,r){var o=this,d=r||{},p=d.width,m=d.height;if(!p||!m)throw new Error("BufferResource width or height invalid");return(o=a.call(this,p,m)||this).data=e,o}return yt(i,a),i.prototype.upload=function(e,r,o){var d=e.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ct.UNPACK),o.width===r.width&&o.height===r.height?d.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(o.width=r.width,o.height=r.height,d.texImage2D(r.target,0,o.internalFormat,r.width,r.height,0,r.format,o.type,this.data)),!0},i.prototype.dispose=function(){this.data=null},i.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},i}(Gs),rl={scaleMode:Oe.NEAREST,format:ze.RGBA,alphaMode:Ct.NPM},Vt=function(a){function i(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var o=a.call(this)||this,d=(r=r||{}).alphaMode,p=r.mipmap,m=r.anisotropicLevel,w=r.scaleMode,x=r.width,A=r.height,I=r.wrapMode,S=r.format,R=r.type,L=r.target,B=r.resolution;return e&&!(e instanceof Gs)&&((e=Va(e,r.resourceOptions)).internal=!0),o.width=x||0,o.height=A||0,o.resolution=B||O.RESOLUTION,o.mipmap=void 0!==p?p:O.MIPMAP_TEXTURES,o.anisotropicLevel=void 0!==m?m:O.ANISOTROPIC_LEVEL,o.wrapMode=I||O.WRAP_MODE,o.scaleMode=void 0!==w?w:O.SCALE_MODE,o.format=S||ze.RGBA,o.type=R||Ae.UNSIGNED_BYTE,o.target=L||Ze.TEXTURE_2D,o.alphaMode=void 0!==d?d:Ct.UNPACK,void 0!==r.premultiplyAlpha&&(o.premultiplyAlpha=r.premultiplyAlpha),o.uid=er(),o.touched=0,o.isPowerOfTwo=!1,o._refreshPOT(),o._glTextures={},o.dirtyId=0,o.dirtyStyleId=0,o.cacheId=null,o.valid=x>0&&A>0,o.textureCacheIds=[],o.destroyed=!1,o.resource=null,o._batchEnabled=0,o._batchLocation=0,o.parentTextureArray=null,o.setResource(e),o}return yt(i,a),Object.defineProperty(i.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),i.prototype.setStyle=function(e,r){var o;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,o=!0),void 0!==r&&r!==this.mipmap&&(this.mipmap=r,o=!0),o&&this.dirtyStyleId++,this},i.prototype.setSize=function(e,r,o){return this.resolution=o||this.resolution,this.width=e,this.height=r,this._refreshPOT(),this.update(),this},i.prototype.setRealSize=function(e,r,o){return this.resolution=o||this.resolution,this.width=e/this.resolution,this.height=r/this.resolution,this._refreshPOT(),this.update(),this},i.prototype._refreshPOT=function(){this.isPowerOfTwo=Zu(this.realWidth)&&Zu(this.realHeight)},i.prototype.setResolution=function(e){var r=this.resolution;return r===e||(this.resolution=e,this.valid&&(this.width=this.width*r/e,this.height=this.height*r/e,this.emit("update",this)),this._refreshPOT()),this},i.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},i.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},i.prototype.onError=function(e){this.emit("error",this,e)},i.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Yn[this.cacheId],delete Cn[this.cacheId],this.cacheId=null),this.dispose(),i.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},i.prototype.dispose=function(){this.emit("dispose",this)},i.prototype.castToBaseTexture=function(){return this},i.from=function(e,r,o){void 0===o&&(o=O.STRICT_TEXTURE_CACHE);var d="string"==typeof e,p=null;d?p=e:(e._pixiId||(e._pixiId="pixiid_"+er()),p=e._pixiId);var m=Yn[p];if(d&&o&&!m)throw new Error('The cacheId "'+p+'" does not exist in BaseTextureCache.');return m||((m=new i(e,r)).cacheId=p,i.addToCache(m,p)),m},i.fromBuffer=function(e,r,o,d){e=e||new Float32Array(r*o*4);var p=new zs(e,{width:r,height:o}),m=e instanceof Float32Array?Ae.FLOAT:Ae.UNSIGNED_BYTE;return new i(p,Object.assign(rl,d||{width:r,height:o,type:m}))},i.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Yn[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Yn[r]=e)},i.removeFromCache=function(e){if("string"==typeof e){var r=Yn[e];if(r){var o=r.textureCacheIds.indexOf(e);return o>-1&&r.textureCacheIds.splice(o,1),delete Yn[e],r}}else if(e&&e.textureCacheIds){for(var d=0;d<e.textureCacheIds.length;++d)delete Yn[e.textureCacheIds[d]];return e.textureCacheIds.length=0,e}return null},i._globalBatch=0,i}(H()),Io=function(a){function i(e,r){var o=this,d=r||{};(o=a.call(this,d.width,d.height)||this).items=[],o.itemDirtyIds=[];for(var w=0;w<e;w++){var x=new Vt;o.items.push(x),o.itemDirtyIds.push(-2)}return o.length=e,o._load=null,o.baseTexture=null,o}return yt(i,a),i.prototype.initFromArray=function(e,r){for(var o=0;o<this.length;o++)!e[o]||(e[o].castToBaseTexture?this.addBaseTextureAt(e[o].castToBaseTexture(),o):this.addResourceAt(e[o]instanceof Gs?e[o]:Va(e[o],r),o))},i.prototype.dispose=function(){for(var e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},i.prototype.addResourceAt=function(e,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this},i.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");a.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},i.prototype.unbind=function(e){a.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},i.prototype.load=function(){var e=this;if(this._load)return this._load;var o=this.items.map(function(d){return d.resource}).filter(function(d){return d}).map(function(d){return d.load()});return this._load=Promise.all(o).then(function(){var d=e.items[0];return e.resize(d.realWidth,d.realHeight),Promise.resolve(e)}),this._load},i}(Gs),gc=function(a){function i(e,r){var w,x,o=this,d=r||{},p=d.width,m=d.height;return Array.isArray(e)?(w=e,x=e.length):x=e,o=a.call(this,x,{width:p,height:m})||this,w&&o.initFromArray(w,r),o}return yt(i,a),i.prototype.addBaseTextureAt=function(e,r){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,r),this},i.prototype.bind=function(e){a.prototype.bind.call(this,e),e.target=Ze.TEXTURE_2D_ARRAY},i.prototype.upload=function(e,r,o){var d=this,p=d.length,m=d.itemDirtyIds,w=d.items,x=e.gl;o.dirtyId<0&&x.texImage3D(x.TEXTURE_2D_ARRAY,0,r.format,this._width,this._height,p,0,r.format,r.type,null);for(var A=0;A<p;A++){var I=w[A];m[A]<I.dirtyId&&(m[A]=I.dirtyId,I.valid&&x.texSubImage3D(x.TEXTURE_2D_ARRAY,0,0,0,A,I.resource.width,I.resource.height,1,r.format,r.type,I.resource.source))}return!0},i}(Io),$r=function(a){function i(e){var r=this;return(r=a.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,r.noSubImage=!1,r}return yt(i,a),i.crossOrigin=function(e,r,o){void 0===o&&0!==r.indexOf("data:")?e.crossOrigin=function(a,i){if(void 0===i&&(i=window.location),0===a.indexOf("data:"))return"";i=i||window.location,rs||(rs=document.createElement("a")),rs.href=a;var e=(0,z.parse)(rs.href);return e.hostname!==i.hostname||(e.port||""!==i.port)&&e.port!==i.port||e.protocol!==i.protocol?"anonymous":""}(r):!1!==o&&(e.crossOrigin="string"==typeof o?o:"anonymous")},i.prototype.upload=function(e,r,o,d){var p=e.gl,m=r.realWidth,w=r.realHeight;return d=d||this.source,p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ct.UNPACK),this.noSubImage||r.target!==p.TEXTURE_2D||o.width!==m||o.height!==w?(o.width=m,o.height=w,p.texImage2D(r.target,0,r.format,r.format,r.type,d)):p.texSubImage2D(p.TEXTURE_2D,0,0,0,r.format,r.type,d),!0},i.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),a.prototype.update.call(this)}},i.prototype.dispose=function(){this.source=null},i}(Gs),il=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return yt(i,a),i.test=function(e){var r=window.OffscreenCanvas;return!!(r&&e instanceof r)||e instanceof HTMLCanvasElement},i}($r),fi=function(a){function i(e,r){var o=this,d=r||{},p=d.width,m=d.height,w=d.autoLoad,x=d.linkBaseTexture;if(e&&e.length!==i.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");o=a.call(this,6,{width:p,height:m})||this;for(var A=0;A<i.SIDES;A++)o.items[A].target=Ze.TEXTURE_CUBE_MAP_POSITIVE_X+A;return o.linkBaseTexture=!1!==x,e&&o.initFromArray(e,r),!1!==w&&o.load(),o}return yt(i,a),i.prototype.bind=function(e){a.prototype.bind.call(this,e),e.target=Ze.TEXTURE_CUBE_MAP},i.prototype.addBaseTextureAt=function(e,r,o){if(void 0===o&&(o=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=Ze.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},i.prototype.upload=function(e,r,o){for(var d=this.itemDirtyIds,p=0;p<i.SIDES;p++){var m=this.items[p];d[p]<m.dirtyId&&(m.valid&&m.resource?(m.resource.upload(e,m,o),d[p]=m.dirtyId):d[p]<-1&&(e.gl.texImage2D(m.target,0,o.internalFormat,r.realWidth,r.realHeight,0,r.format,o.type,null),d[p]=-1))}return!0},i.test=function(e){return Array.isArray(e)&&e.length===i.SIDES},i.SIDES=6,i}(Io),Ga=function(a){function i(e,r){var o=this;if(r=r||{},!(e instanceof HTMLImageElement)){var d=new Image;$r.crossOrigin(d,e,r.crossorigin),d.src=e,e=d}return o=a.call(this,e)||this,!e.complete&&!!o._width&&!!o._height&&(o._width=0,o._height=0),o.url=e.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(void 0!==r.createBitmap?r.createBitmap:O.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,o.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(o.premultiplyAlpha=r.premultiplyAlpha),o.bitmap=null,o._load=null,!1!==r.autoLoad&&o.load(),o}return yt(i,a),i.prototype.load=function(e){var r=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(o,d){var p=r.source;r.url=p.src;var m=function(){r.destroyed||(p.onload=null,p.onerror=null,r.resize(p.width,p.height),r._load=null,o(r.createBitmap?r.process():r))};p.complete&&p.src?m():(p.onload=m,p.onerror=function(w){d(w),r.onError.emit(w)})})),this._load},i.prototype.process=function(){var e=this,r=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===Ct.UNPACK?"premultiply":"none"}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},i.prototype.upload=function(e,r,o){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return a.prototype.upload.call(this,e,r,o);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(a.prototype.upload.call(this,e,r,o,this.bitmap),!this.preserveBitmap){var d=!0,p=r._glTextures;for(var m in p){var w=p[m];if(w!==o&&w.dirtyId!==r.dirtyId){d=!1;break}}d&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},i.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,a.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},i.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},i}($r),za=function(a){function i(e,r){var o=this;return r=r||{},(o=a.call(this,document.createElement("canvas"))||this)._width=0,o._height=0,o.svg=e,o.scale=r.scale||1,o._overrideWidth=r.width,o._overrideHeight=r.height,o._resolve=null,o._crossorigin=r.crossorigin,o._load=null,!1!==r.autoLoad&&o.load(),o}return yt(i,a),i.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},i.prototype._loadSvg=function(){var e=this,r=new Image;$r.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(o){!e._resolve||(r.onerror=null,e.onError.emit(o))},r.onload=function(){if(e._resolve){var o=r.width,d=r.height;if(!o||!d)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var p=o*e.scale,m=d*e.scale;(e._overrideWidth||e._overrideHeight)&&(p=e._overrideWidth||e._overrideHeight/d*o,m=e._overrideHeight||e._overrideWidth/o*d),p=Math.round(p),m=Math.round(m);var w=e.source;w.width=p,w.height=m,w._pixiId="canvas_"+er(),w.getContext("2d").drawImage(r,0,0,o,d,0,0,p,m),e._resolve(),e._resolve=null}}},i.getSize=function(e){var r=i.SVG_SIZE.exec(e),o={};return r&&(o[r[1]]=Math.round(parseFloat(r[3])),o[r[5]]=Math.round(parseFloat(r[7]))),o},i.prototype.dispose=function(){a.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},i.test=function(e,r){return"svg"===r||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i}($r),sl=function(a){function i(e,r){var o=this;if(r=r||{},!(e instanceof HTMLVideoElement)){var d=document.createElement("video");d.setAttribute("preload","auto"),d.setAttribute("webkit-playsinline",""),d.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),$r.crossOrigin(d,e[0].src||e[0],r.crossorigin);for(var m=0;m<e.length;++m){var w=document.createElement("source"),x=e[m],A=x.src,I=x.mime,S=(A=A||e[m]).split("?").shift().toLowerCase(),R=S.substr(S.lastIndexOf(".")+1);I=I||i.MIME_TYPES[R]||"video/"+R,w.src=A,w.type=I,d.appendChild(w)}e=d}return(o=a.call(this,e)||this).noSubImage=!0,o._autoUpdate=!0,o._isConnectedToTicker=!1,o._updateFPS=r.updateFPS||0,o._msToNextUpdate=0,o.autoPlay=!1!==r.autoPlay,o._load=null,o._resolve=null,o._onCanPlay=o._onCanPlay.bind(o),o._onError=o._onError.bind(o),!1!==r.autoLoad&&o.load(),o}return yt(i,a),i.prototype.update=function(e){void 0===e&&(e=0),this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-rn.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(a.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},i.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){e.valid?o(e):(e._resolve=o,r.load())}),this._load},i.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},i.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},i.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},i.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(rn.shared.add(this.update,this),this._isConnectedToTicker=!0)},i.prototype._onPlayStop=function(){this._isConnectedToTicker&&(rn.shared.remove(this.update,this),this._isConnectedToTicker=!1)},i.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(e.videoWidth,e.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},i.prototype.dispose=function(){this._isConnectedToTicker&&rn.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),a.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(rn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(rn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),i.test=function(e,r){return e instanceof HTMLVideoElement||i.TYPES.indexOf(r)>-1},i.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],i.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},i}($r),vc=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return yt(i,a),i.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},i}($r);Ha.push(Ga,vc,il,sl,za,zs,fi,gc);var Zn=function(){function a(i){this.renderer=i}return a.prototype.destroy=function(){this.renderer=null},a}(),ol=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return yt(i,a),i.prototype.upload=function(e,r,o){var d=e.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ct.UNPACK),o.width===r.width&&o.height===r.height?d.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(o.width=r.width,o.height=r.height,d.texImage2D(r.target,0,1===e.context.webGLVersion?d.DEPTH_COMPONENT:d.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},i}(zs),Xa=function(){function a(i,e){this.width=Math.ceil(i||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Sn("disposeFramebuffer"),this.multisample=$n.NONE}return Object.defineProperty(a.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),a.prototype.addColorTexture=function(i,e){return void 0===i&&(i=0),this.colorTextures[i]=e||new Vt(null,{scaleMode:Oe.NEAREST,resolution:1,mipmap:At.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},a.prototype.addDepthTexture=function(i){return this.depthTexture=i||new Vt(new ol(null,{width:this.width,height:this.height}),{scaleMode:Oe.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:At.OFF,format:ze.DEPTH_COMPONENT,type:Ae.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},a.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},a.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},a.prototype.resize=function(i,e){if(i=Math.ceil(i),e=Math.ceil(e),i!==this.width||e!==this.height){this.width=i,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var o=this.colorTextures[r];o.setSize(i/(d=o.resolution),e/d)}var d;this.depthTexture&&this.depthTexture.setSize(i/(d=this.depthTexture.resolution),e/d)}},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},a}(),Oi=function(a){function i(e){var r=this;if("number"==typeof e){var o=arguments[0],d=arguments[1],p=arguments[2],m=arguments[3];e={width:o,height:d,scaleMode:p,resolution:m}}r=a.call(this,null,e)||this;var w=e||{},x=w.width,A=w.height;return r.mipmap=0,r.width=Math.ceil(x)||100,r.height=Math.ceil(A)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Xa(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return yt(i,a),i.prototype.resize=function(e,r){e=Math.ceil(e),r=Math.ceil(r),this.framebuffer.resize(e*this.resolution,r*this.resolution)},i.prototype.dispose=function(){this.framebuffer.dispose(),a.prototype.dispose.call(this)},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},i}(Vt),al=function(){function a(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return a.prototype.set=function(i,e,r){var o=e.width,d=e.height;if(r){var p=i.width/2/o,m=i.height/2/d,w=i.x/o+p,x=i.y/d+m;r=Rt.add(r,Rt.NW),this.x0=w+p*Rt.uX(r),this.y0=x+m*Rt.uY(r),r=Rt.add(r,2),this.x1=w+p*Rt.uX(r),this.y1=x+m*Rt.uY(r),r=Rt.add(r,2),this.x2=w+p*Rt.uX(r),this.y2=x+m*Rt.uY(r),r=Rt.add(r,2),this.x3=w+p*Rt.uX(r),this.y3=x+m*Rt.uY(r)}else this.x0=i.x/o,this.y0=i.y/d,this.x1=(i.x+i.width)/o,this.y1=i.y/d,this.x2=(i.x+i.width)/o,this.y2=(i.y+i.height)/d,this.x3=i.x/o,this.y3=(i.y+i.height)/d;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},a}(),rr=new al,ct=function(a){function i(e,r,o,d,p,m){var w=a.call(this)||this;if(w.noFrame=!1,r||(w.noFrame=!0,r=new lt(0,0,1,1)),e instanceof i&&(e=e.baseTexture),w.baseTexture=e,w._frame=r,w.trim=d,w.valid=!1,w._uvs=rr,w.uvMatrix=null,w.orig=o||r,w._rotate=Number(p||0),!0===p)w._rotate=2;else if(w._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return w.defaultAnchor=m?new Jt(m.x,m.y):new Jt(0,0),w._updateID=0,w.textureCacheIds=[],e.valid?w.noFrame?e.valid&&w.onBaseTextureUpdated(e):w.frame=r:e.once("loaded",w.onBaseTextureUpdated,w),w.noFrame&&e.on("update",w.onBaseTextureUpdated,w),w}return yt(i,a),i.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},i.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},i.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture;r&&r.url&&Cn[r.url]&&i.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,i.removeFromCache(this),this.textureCacheIds=null},i.prototype.clone=function(){return new i(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},i.prototype.updateUvs=function(){this._uvs===rr&&(this._uvs=new al),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},i.from=function(e,r,o){void 0===r&&(r={}),void 0===o&&(o=O.STRICT_TEXTURE_CACHE);var d="string"==typeof e,p=null;d?p=e:(e._pixiId||(e._pixiId="pixiid_"+er()),p=e._pixiId);var m=Cn[p];if(d&&o&&!m)throw new Error('The cacheId "'+p+'" does not exist in TextureCache.');return m||(r.resolution||(r.resolution=Ir(e)),(m=new i(new Vt(e,r))).baseTexture.cacheId=p,Vt.addToCache(m.baseTexture,p),i.addToCache(m,p)),m},i.fromURL=function(e,r){var o=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),d=i.from(e,Object.assign({resourceOptions:o},r),!1),p=d.baseTexture.resource;return d.baseTexture.valid?Promise.resolve(d):p.load().then(function(){return Promise.resolve(d)})},i.fromBuffer=function(e,r,o,d){return new i(Vt.fromBuffer(e,r,o,d))},i.fromLoader=function(e,r,o){var d=new Ga(e);d.url=r;var m=new i(new Vt(d,{scaleMode:O.SCALE_MODE,resolution:Ir(r)}));return o||(o=r),Vt.addToCache(m.baseTexture,o),i.addToCache(m,o),o!==r&&(Vt.addToCache(m.baseTexture,r),i.addToCache(m,r)),m},i.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Cn[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),Cn[r]=e)},i.removeFromCache=function(e){if("string"==typeof e){var r=Cn[e];if(r){var o=r.textureCacheIds.indexOf(e);return o>-1&&r.textureCacheIds.splice(o,1),delete Cn[e],r}}else if(e&&e.textureCacheIds){for(var d=0;d<e.textureCacheIds.length;++d)Cn[e.textureCacheIds[d]]===e&&delete Cn[e.textureCacheIds[d]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(i.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var r=e.x,o=e.y,d=e.width,p=e.height,m=r+d>this.baseTexture.width,w=o+p>this.baseTexture.height;if(m||w)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+r+" + "+d+" = "+(r+d)+" > "+this.baseTexture.width+" "+(m&&w?"and":"or")+" Y: "+o+" + "+p+" = "+(o+p)+" > "+this.baseTexture.height);this.valid=d&&p&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),i.prototype.castToBaseTexture=function(){return this.baseTexture},i}(H());function di(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}ct.EMPTY=new ct(new Vt),di(ct.EMPTY),di(ct.EMPTY.baseTexture),ct.WHITE=function(){var a=document.createElement("canvas");a.width=16,a.height=16;var i=a.getContext("2d");return i.fillStyle="white",i.fillRect(0,0,16,16),new ct(new Vt(new il(a)))}(),di(ct.WHITE),di(ct.WHITE.baseTexture);var Rr=function(a){function i(e,r){var o=this,d=null;if(!(e instanceof Oi)){var p=arguments[1],m=arguments[2],w=arguments[3],x=arguments[4];console.warn("Please use RenderTexture.create("+p+", "+m+") instead of the ctor directly."),d=arguments[0],r=null,e=new Oi({width:p,height:m,scaleMode:w,resolution:x})}return(o=a.call(this,e,r)||this).legacyRenderer=d,o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}return yt(i,a),Object.defineProperty(i.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),i.prototype.resize=function(e,r,o){void 0===o&&(o=!0),e=Math.ceil(e),r=Math.ceil(r),this.valid=e>0&&r>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=r,o&&this.baseTexture.resize(e,r),this.updateUvs()},i.prototype.setResolution=function(e){var r=this.baseTexture;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))},i.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new i(new Oi(e))},i}(ct),$a=function(){function a(i){this.texturePool={},this.textureOptions=i||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return a.prototype.createTexture=function(i,e){var r=new Oi(Object.assign({width:i,height:e,resolution:1},this.textureOptions));return new Rr(r)},a.prototype.getOptimalTexture=function(i,e,r){void 0===r&&(r=1);var o=a.SCREEN_KEY;i*=r,e*=r,(!this.enableFullScreen||i!==this._pixelsWidth||e!==this._pixelsHeight)&&(o=(65535&(i=Ot(i)))<<16|65535&(e=Ot(e))),this.texturePool[o]||(this.texturePool[o]=[]);var d=this.texturePool[o].pop();return d||(d=this.createTexture(i,e)),d.filterPoolKey=o,d.setResolution(r),d},a.prototype.getFilterTexture=function(i,e){var r=this.getOptimalTexture(i.width,i.height,e||i.resolution);return r.filterFrame=i.filterFrame,r},a.prototype.returnTexture=function(i){var e=i.filterPoolKey;i.filterFrame=null,this.texturePool[e].push(i)},a.prototype.returnFilterTexture=function(i){this.returnTexture(i)},a.prototype.clear=function(i){if(i=!1!==i)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var o=0;o<r.length;o++)r[o].destroy(!0)}this.texturePool={}},a.prototype.setScreenSize=function(i){if(i.width!==this._pixelsWidth||i.height!==this._pixelsHeight){var e=a.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=i.width>0&&i.height>0,r)for(var o=0;o<r.length;o++)r[o].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=i.width,this._pixelsHeight=i.height}},a.SCREEN_KEY="screen",a}(),Ao=function(){function a(i,e,r,o,d,p,m){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===o&&(o=5126),this.buffer=i,this.size=e,this.normalized=r,this.type=o,this.stride=d,this.start=p,this.instance=m}return a.prototype.destroy=function(){this.buffer=null},a.from=function(i,e,r,o,d){return new a(i,e,r,o,d)},a}(),Kt=0,pn=function(){function a(i,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=i||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Kt++,this.disposeRunner=new Sn("disposeBuffer")}return a.prototype.update=function(i){this.data=i||this.data,this._updateID++},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroy=function(){this.dispose(),this.data=null},a.from=function(i){return i instanceof Array&&(i=new Float32Array(i)),new a(i)},a}();function ll(a){if(4===a.BYTES_PER_ELEMENT)return a instanceof Float32Array?"Float32Array":a instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===a.BYTES_PER_ELEMENT){if(a instanceof Uint16Array)return"Uint16Array"}else if(1===a.BYTES_PER_ELEMENT&&a instanceof Uint8Array)return"Uint8Array";return null}var sn={Float32Array,Uint32Array,Int32Array,Uint8Array},mc={5126:4,5123:2,5121:1},Ri=0,In={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},as=function(){function a(i,e){void 0===i&&(i=[]),void 0===e&&(e={}),this.buffers=i,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ri++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Sn("disposeGeometry"),this.refCount=0}return a.prototype.addAttribute=function(i,e,r,o,d,p,m,w){if(void 0===r&&(r=0),void 0===o&&(o=!1),void 0===w&&(w=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof pn||(e instanceof Array&&(e=new Float32Array(e)),e=new pn(e));var x=i.split("|");if(x.length>1){for(var A=0;A<x.length;A++)this.addAttribute(x[A],e,r,o,d);return this}var I=this.buffers.indexOf(e);return-1===I&&(this.buffers.push(e),I=this.buffers.length-1),this.attributes[i]=new Ao(I,r,o,d,p,m,w),this.instanced=this.instanced||w,this},a.prototype.getAttribute=function(i){return this.attributes[i]},a.prototype.getBuffer=function(i){return this.buffers[this.getAttribute(i).buffer]},a.prototype.addIndex=function(i){return i instanceof pn||(i instanceof Array&&(i=new Uint16Array(i)),i=new pn(i)),i.index=!0,this.indexBuffer=i,-1===this.buffers.indexOf(i)&&this.buffers.push(i),this},a.prototype.getIndex=function(){return this.indexBuffer},a.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var o,i=[],e=[],r=new pn;for(o in this.attributes){var d=this.attributes[o];i.push(this.buffers[d.buffer].data),e.push(d.size*mc[d.type]/4),d.buffer=0}for(r.data=function(a,i){for(var e=0,r=0,o={},d=0;d<a.length;d++)r+=i[d],e+=a[d].length;var p=new ArrayBuffer(4*e),m=null,w=0;for(d=0;d<a.length;d++){var x=i[d],A=a[d],I=ll(A);o[I]||(o[I]=new sn[I](p)),m=o[I];for(var S=0;S<A.length;S++)m[(S/x|0)*r+w+S%x]=A[S];w+=x}return new Float32Array(p)}(i,e),o=0;o<this.buffers.length;o++)this.buffers[o]!==this.indexBuffer&&this.buffers[o].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},a.prototype.getSize=function(){for(var i in this.attributes){var e=this.attributes[i];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},a.prototype.clone=function(){for(var i=new a,e=0;e<this.buffers.length;e++)i.buffers[e]=new pn(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];i.attributes[e]=new Ao(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(i.indexBuffer=i.buffers[this.buffers.indexOf(this.indexBuffer)],i.indexBuffer.index=!0),i},a.merge=function(i){for(var p,e=new a,r=[],o=[],d=[],m=0;m<i.length;m++){p=i[m];for(var w=0;w<p.buffers.length;w++)o[w]=o[w]||0,o[w]+=p.buffers[w].data.length,d[w]=0}for(m=0;m<p.buffers.length;m++)r[m]=new(In[ll(p.buffers[m].data)])(o[m]),e.buffers[m]=new pn(r[m]);for(m=0;m<i.length;m++)for(p=i[m],w=0;w<p.buffers.length;w++)r[w].set(p.buffers[w].data,d[w]),d[w]+=p.buffers[w].data.length;if(e.attributes=p.attributes,p.indexBuffer){e.indexBuffer=e.buffers[p.buffers.indexOf(p.indexBuffer)],e.indexBuffer.index=!0;var x=0,A=0,I=0,S=0;for(m=0;m<p.buffers.length;m++)if(p.buffers[m]!==p.indexBuffer){S=m;break}for(var m in p.attributes){var R=p.attributes[m];(0|R.buffer)===S&&(A+=R.size*mc[R.type]/4)}for(m=0;m<i.length;m++){var L=i[m].indexBuffer.data;for(w=0;w<L.length;w++)e.indexBuffer.data[w+I]+=x;x+=p.buffers[S].data.length/A,I+=L.length}}return e},a}(),Po=function(a){function i(){var e=a.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return yt(i,a),i}(as),mr=function(a){function i(){var e=a.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new pn(e.vertices),e.uvBuffer=new pn(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return yt(i,a),i.prototype.map=function(e,r){var o=0,d=0;return this.uvs[0]=o,this.uvs[1]=d,this.uvs[2]=o+r.width/e.width,this.uvs[3]=d,this.uvs[4]=o+r.width/e.width,this.uvs[5]=d+r.height/e.height,this.uvs[6]=o,this.uvs[7]=d+r.height/e.height,d=r.y,this.vertices[0]=o=r.x,this.vertices[1]=d,this.vertices[2]=o+r.width,this.vertices[3]=d,this.vertices[4]=o+r.width,this.vertices[5]=d+r.height,this.vertices[6]=o,this.vertices[7]=d+r.height,this.invalidate(),this},i.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},i}(as),kn=0,Fr=function(){function a(i,e){this.uniforms=i,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=kn++,this.static=!!e}return a.prototype.update=function(){this.dirtyId++},a.prototype.add=function(i,e,r){this.uniforms[i]=new a(e,r)},a.from=function(i,e){return new a(i,e)},a}(),Xs=function(){function a(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new lt,this.destinationFrame=new lt,this.filters=[]}return a.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},a}(),Wa=function(a){function i(e){var r=a.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new $a,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Po,r.quadUv=new mr,r.tempRect=new lt,r.activeState={},r.globalUniforms=new Fr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return yt(i,a),i.prototype.push=function(e,r){for(var o=this.renderer,d=this.defaultFilterStack,p=this.statePool.pop()||new Xs,m=r[0].resolution,w=r[0].padding,x=r[0].autoFit,A=r[0].legacy,I=1;I<r.length;I++){var S=r[I];m=Math.min(m,S.resolution),w=this.useMaxPadding?Math.max(w,S.padding):w+S.padding,x=x&&S.autoFit,A=A||S.legacy}1===d.length&&(this.defaultFilterStack[0].renderTexture=o.renderTexture.current),d.push(p),p.resolution=m,p.legacy=A,p.target=e,p.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),p.sourceFrame.pad(w),x&&p.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),p.sourceFrame.ceil(m),p.renderTexture=this.getOptimalFilterTexture(p.sourceFrame.width,p.sourceFrame.height,m),p.filters=r,p.destinationFrame.width=p.renderTexture.width,p.destinationFrame.height=p.renderTexture.height;var R=this.tempRect;R.width=p.sourceFrame.width,R.height=p.sourceFrame.height,p.renderTexture.filterFrame=p.sourceFrame,o.renderTexture.bind(p.renderTexture,p.sourceFrame,R),o.renderTexture.clear()},i.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),o=r.filters;this.activeState=r;var d=this.globalUniforms.uniforms;d.outputFrame=r.sourceFrame,d.resolution=r.resolution;var p=d.inputSize,m=d.inputPixel,w=d.inputClamp;if(p[0]=r.destinationFrame.width,p[1]=r.destinationFrame.height,p[2]=1/p[0],p[3]=1/p[1],m[0]=p[0]*r.resolution,m[1]=p[1]*r.resolution,m[2]=1/m[0],m[3]=1/m[1],w[0]=.5*m[2],w[1]=.5*m[3],w[2]=r.sourceFrame.width*p[2]-.5*m[2],w[3]=r.sourceFrame.height*p[3]-.5*m[3],r.legacy){var x=d.filterArea;x[0]=r.destinationFrame.width,x[1]=r.destinationFrame.height,x[2]=r.sourceFrame.x,x[3]=r.sourceFrame.y,d.filterClamp=d.inputClamp}this.globalUniforms.update();var A=e[e.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===o.length)o[0].apply(this,r.renderTexture,A.renderTexture,Mt.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var I=r.renderTexture,S=this.getOptimalFilterTexture(I.width,I.height,r.resolution);S.filterFrame=I.filterFrame;var R=0;for(R=0;R<o.length-1;++R){o[R].apply(this,I,S,Mt.CLEAR,r);var L=I;I=S,S=L}o[R].apply(this,I,A.renderTexture,Mt.BLEND,r),this.returnFilterTexture(I),this.returnFilterTexture(S)}r.clear(),this.statePool.push(r)},i.prototype.bindAndClear=function(e,r){if(void 0===r&&(r=Mt.CLEAR),e&&e.filterFrame){var o=this.tempRect;o.width=e.filterFrame.width,o.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,o)}else this.renderer.renderTexture.bind(e);"boolean"==typeof r&&(r=r?Mt.CLEAR:Mt.BLEND,Ln("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(r===Mt.CLEAR||r===Mt.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},i.prototype.applyFilter=function(e,r,o,d){var p=this.renderer;this.bindAndClear(o,d),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,p.state.set(e.state),p.shader.bind(e),e.legacy?(this.quadUv.map(r._frame,r.filterFrame),p.geometry.bind(this.quadUv),p.geometry.draw(Pe.TRIANGLES)):(p.geometry.bind(this.quad),p.geometry.draw(Pe.TRIANGLE_STRIP))},i.prototype.calculateSpriteMatrix=function(e,r){var o=this.activeState,d=o.sourceFrame,p=o.destinationFrame,m=r._texture.orig,w=e.set(p.width,0,0,p.height,d.x,d.y),x=r.worldTransform.copyTo(Zt.TEMP_MATRIX);return x.invert(),w.prepend(x),w.scale(1/m.width,1/m.height),w.translate(r.anchor.x,r.anchor.y),w},i.prototype.destroy=function(){this.texturePool.clear(!1)},i.prototype.getOptimalFilterTexture=function(e,r,o){return void 0===o&&(o=1),this.texturePool.getOptimalTexture(e,r,o)},i.prototype.getFilterTexture=function(e,r){if("number"==typeof e){var o=e;e=r,r=o}var d=this.texturePool.getOptimalTexture((e=e||this.activeState.renderTexture).width,e.height,r||e.resolution);return d.filterFrame=e.filterFrame,d},i.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},i.prototype.emptyPool=function(){this.texturePool.clear(!0)},i.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},i}(Zn),ir=function(){function a(i){this.renderer=i}return a.prototype.flush=function(){},a.prototype.destroy=function(){this.renderer=null},a.prototype.start=function(){},a.prototype.stop=function(){this.flush()},a.prototype.render=function(i){},a}(),qa=function(a){function i(e){var r=a.call(this,e)||this;return r.emptyRenderer=new ir(e),r.currentRenderer=r.emptyRenderer,r}return yt(i,a),i.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},i.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.copyBoundTextures=function(e,r){for(var o=this.renderer.texture.boundTextures,d=r-1;d>=0;--d)e[d]=o[d]||null,e[d]&&(e[d]._batchLocation=d)},i.prototype.boundArray=function(e,r,o,d){for(var p=e.elements,m=e.ids,w=e.count,x=0,A=0;A<w;A++){var I=p[A],S=I._batchLocation;if(S>=0&&S<d&&r[S]===I)m[A]=S;else for(;x<d;){var R=r[x];if(!R||R._batchEnabled!==o||R._batchLocation!==x){m[A]=x,I._batchLocation=x,r[x]=I;break}x++}}},i}(Zn),Mo=0,ot=function(a){function i(e){var r=a.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return yt(i,a),Object.defineProperty(i.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),i.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Mo++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},i.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Mo++,this.renderer.runners.contextChange.emit(e)},i.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},i.prototype.createContext=function(e,r){var o;if(O.PREFER_ENV>=Y.WEBGL2&&(o=e.getContext("webgl2",r)),o)this.webGLVersion=2;else if(this.webGLVersion=1,!(o=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=o,this.getExtensions(),this.gl},i.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},i.prototype.handleContextLost=function(e){e.preventDefault()},i.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},i.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},i.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},i.prototype.validateContext=function(e){var r=e.getContextAttributes(),o="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;o&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var d=o||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=d,d||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},i}(Zn),Eh=function(i){this.framebuffer=i,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=$n.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},Oo=new lt,Za=function(a){function i(e){var r=a.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Xa(10,10),r.msaaSamples=null,r}return yt(i,a),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var r=this.renderer.context.extensions.drawBuffers,o=this.renderer.context.extensions.depthTexture;O.PREFER_ENV===Y.WEBGL_LEGACY&&(r=null,o=null),r?e.drawBuffers=function(d){return r.drawBuffersWEBGL(d)}:(this.hasMRT=!1,e.drawBuffers=function(){}),o||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},i.prototype.bind=function(e,r){var o=this.gl;if(e){var d=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,o.bindFramebuffer(o.FRAMEBUFFER,d.framebuffer)),d.dirtyId!==e.dirtyId&&(d.dirtyId=e.dirtyId,d.dirtyFormat!==e.dirtyFormat?(d.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):d.dirtySize!==e.dirtySize&&(d.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var p=0;p<e.colorTextures.length;p++){var m=e.colorTextures[p];this.renderer.texture.unbind(m.parentTextureArray||m)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,o.bindFramebuffer(o.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},i.prototype.setViewport=function(e,r,o,d){var p=this.viewport;(p.width!==o||p.height!==d||p.x!==e||p.y!==r)&&(p.x=e,p.y=r,p.width=o,p.height=d,this.gl.viewport(e,r,o,d))},Object.defineProperty(i.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),i.prototype.clear=function(e,r,o,d,p){void 0===p&&(p=ke.COLOR|ke.DEPTH);var m=this.gl;m.clearColor(e,r,o,d),m.clear(p)},i.prototype.initFramebuffer=function(e){var o=new Eh(this.gl.createFramebuffer());return o.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=o,this.managedFramebuffers.push(e),e.disposeRunner.add(this),o},i.prototype.resizeFramebuffer=function(e){var r=this.gl,o=e.glFramebuffers[this.CONTEXT_UID];o.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));for(var d=e.colorTextures,p=0;p<d.length;p++)this.renderer.texture.bind(d[p],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},i.prototype.updateFramebuffer=function(e){var r=this.gl,o=e.glFramebuffers[this.CONTEXT_UID],p=e.colorTextures.length;r.drawBuffers||(p=Math.min(p,1)),o.multisample>1&&(o.msaaBuffer=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,o.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,o.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,o.msaaBuffer));for(var m=[],w=0;w<p;w++)if(!(0===w&&o.multisample>1)){var x=e.colorTextures[w],A=x.parentTextureArray||x;this.renderer.texture.bind(A,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+w,x.target,A._glTextures[this.CONTEXT_UID].texture,0),m.push(r.COLOR_ATTACHMENT0+w)}if(m.length>1&&r.drawBuffers(m),e.depthTexture&&this.writeDepthTexture){var S=e.depthTexture;this.renderer.texture.bind(S,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,S._glTextures[this.CONTEXT_UID].texture,0)}!o.stencil&&(e.stencil||e.depth)&&(o.stencil=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),e.depthTexture||r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o.stencil))},i.prototype.detectSamples=function(e){var r=this.msaaSamples,o=$n.NONE;if(e<=1||null===r)return o;for(var d=0;d<r.length;d++)if(r[d]<=e){o=r[d];break}return 1===o&&(o=$n.NONE),o},i.prototype.blit=function(e,r,o){var d=this,p=d.current,w=d.gl;if(2===d.renderer.context.webGLVersion&&p){var A=p.glFramebuffers[d.CONTEXT_UID];if(A){if(!e){if(A.multisample<=1)return;A.blitFramebuffer||(A.blitFramebuffer=new Xa(p.width,p.height),A.blitFramebuffer.addColorTexture(0,p.colorTextures[0])),(e=A.blitFramebuffer).width=p.width,e.height=p.height}r||((r=Oo).width=p.width,r.height=p.height),o||(o=r);var I=r.width===o.width&&r.height===o.height;this.bind(e),w.bindFramebuffer(w.READ_FRAMEBUFFER,A.framebuffer),w.blitFramebuffer(r.x,r.y,r.width,r.height,o.x,o.y,o.width,o.height,w.COLOR_BUFFER_BIT,I?w.NEAREST:w.LINEAR)}}},i.prototype.disposeFramebuffer=function(e,r){var o=e.glFramebuffers[this.CONTEXT_UID],d=this.gl;if(o){delete e.glFramebuffers[this.CONTEXT_UID];var p=this.managedFramebuffers.indexOf(e);p>=0&&this.managedFramebuffers.splice(p,1),e.disposeRunner.remove(this),r||(d.deleteFramebuffer(o.framebuffer),o.stencil&&d.deleteRenderbuffer(o.stencil))}},i.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var o=0;o<r.length;o++)this.disposeFramebuffer(r[o],e)},i.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(r&&!r.stencil){e.enableStencil();var o=e.width,d=e.height,p=this.gl,m=p.createRenderbuffer();p.bindRenderbuffer(p.RENDERBUFFER,m),p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,o,d),r.stencil=m,p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,m)}}},i.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new lt},i}(Zn),wh=function(i){this.buffer=i||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},us={5126:4,5123:2,5121:1},Ro=function(a){function i(e){var r=a.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return yt(i,a),i.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion){var o=this.renderer.context.extensions.vertexArrayObject;O.PREFER_ENV===Y.WEBGL_LEGACY&&(o=null),o?(e.createVertexArray=function(){return o.createVertexArrayOES()},e.bindVertexArray=function(p){return o.bindVertexArrayOES(p)},e.deleteVertexArray=function(p){return o.deleteVertexArrayOES(p)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==r.webGLVersion){var d=e.getExtension("ANGLE_instanced_arrays");d?(e.vertexAttribDivisor=function(p,m){return d.vertexAttribDivisorANGLE(p,m)},e.drawElementsInstanced=function(p,m,w,x,A){return d.drawElementsInstancedANGLE(p,m,w,x,A)},e.drawArraysInstanced=function(p,m,w,x){return d.drawArraysInstancedANGLE(p,m,w,x)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},i.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var o=this.gl,d=e.glVertexArrayObjects[this.CONTEXT_UID],p=!1;d||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=d={},p=!0);var m=d[r.program.id]||this.initGeometryVao(e,r.program,p);this._activeGeometry=e,this._activeVao!==m&&(this._activeVao=m,this.hasVao?o.bindVertexArray(m):this.activateVao(e,r.program)),this.updateBuffers()},i.prototype.reset=function(){this.unbind()},i.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.gl,o=0;o<e.buffers.length;o++){var d=e.buffers[o],p=d._glBuffers[this.CONTEXT_UID];if(d._updateID!==p.updateID){p.updateID=d._updateID;var m=d.index?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER;if(r.bindBuffer(m,p.buffer),this._boundBuffer=p,p.byteLength>=d.data.byteLength)r.bufferSubData(m,0,d.data);else{var w=d.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;p.byteLength=d.data.byteLength,r.bufferData(m,d.data,w)}}}},i.prototype.checkCompatibility=function(e,r){var o=e.attributes,d=r.attributeData;for(var p in d)if(!o[p])throw new Error('shader and geometry incompatible, geometry missing the "'+p+'" attribute')},i.prototype.getSignature=function(e,r){var o=e.attributes,d=r.attributeData,p=["g",e.id];for(var m in o)d[m]&&p.push(m);return p.join("-")},i.prototype.initGeometryVao=function(e,r,o){void 0===o&&(o=!0),this.checkCompatibility(e,r);var d=this.gl,p=this.CONTEXT_UID,m=this.getSignature(e,r),w=e.glVertexArrayObjects[this.CONTEXT_UID],x=w[m];if(x)return w[r.id]=x,x;var A=e.buffers,I=e.attributes,S={},R={};for(var L in A)S[L]=0,R[L]=0;for(var L in I)!I[L].size&&r.attributeData[L]?I[L].size=r.attributeData[L].size:I[L].size||console.warn("PIXI Geometry attribute '"+L+"' size cannot be determined (likely the bound shader does not have the attribute)"),S[I[L].buffer]+=I[L].size*us[I[L].type];for(var L in I){var B=I[L],X=B.size;void 0===B.stride&&(B.stride=S[B.buffer]===X*us[B.type]?0:S[B.buffer]),void 0===B.start&&(B.start=R[B.buffer],R[B.buffer]+=X*us[B.type])}x=d.createVertexArray(),d.bindVertexArray(x);for(var se=0;se<A.length;se++){var Fe=A[se];Fe._glBuffers[p]||(Fe._glBuffers[p]=new wh(d.createBuffer()),this.managedBuffers[Fe.id]=Fe,Fe.disposeRunner.add(this)),o&&Fe._glBuffers[p].refCount++}return this.activateVao(e,r),this._activeVao=x,w[r.id]=x,w[m]=x,x},i.prototype.disposeBuffer=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var o=e._glBuffers[this.CONTEXT_UID],d=this.gl;e.disposeRunner.remove(this),o&&(r||d.deleteBuffer(o.buffer),delete e._glBuffers[this.CONTEXT_UID])}},i.prototype.disposeGeometry=function(e,r){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var o=e.glVertexArrayObjects[this.CONTEXT_UID],d=this.gl,p=e.buffers;if(e.disposeRunner.remove(this),o){for(var m=0;m<p.length;m++){var w=p[m]._glBuffers[this.CONTEXT_UID];w.refCount--,0===w.refCount&&!r&&this.disposeBuffer(p[m],r)}if(!r)for(var x in o)if("g"===x[0]){var A=o[x];this._activeVao===A&&this.unbind(),d.deleteVertexArray(A)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},i.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),o=0;o<r.length;o++)this.disposeGeometry(this.managedGeometries[r[o]],e);for(r=Object.keys(this.managedBuffers),o=0;o<r.length;o++)this.disposeBuffer(this.managedBuffers[r[o]],e)},i.prototype.activateVao=function(e,r){var o=this.gl,d=this.CONTEXT_UID,p=e.buffers,m=e.attributes;e.indexBuffer&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[d].buffer);var w=null;for(var x in m){var A=m[x],S=p[A.buffer]._glBuffers[d];if(r.attributeData[x]){w!==S&&(o.bindBuffer(o.ARRAY_BUFFER,S.buffer),w=S);var R=r.attributeData[x].location;if(o.enableVertexAttribArray(R),o.vertexAttribPointer(R,A.size,A.type||o.FLOAT,A.normalized,A.stride,A.start),A.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");o.vertexAttribDivisor(R,1)}}}},i.prototype.draw=function(e,r,o,d){var p=this.gl,m=this._activeGeometry;if(m.indexBuffer){var w=m.indexBuffer.data.BYTES_PER_ELEMENT,x=2===w?p.UNSIGNED_SHORT:p.UNSIGNED_INT;2===w||4===w&&this.canUseUInt32ElementIndex?m.instanced?p.drawElementsInstanced(e,r||m.indexBuffer.data.length,x,(o||0)*w,d||1):p.drawElements(e,r||m.indexBuffer.data.length,x,(o||0)*w):console.warn("unsupported index buffer type: uint32")}else m.instanced?p.drawArraysInstanced(e,o,r||m.getSize(),d||1):p.drawArrays(e,o,r||m.getSize());return this},i.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},i}(Zn),yc=function(){function a(i){void 0===i&&(i=null),this.type=Lt.NONE,this.autoDetect=!0,this.maskObject=i||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return a.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Lt.NONE,this.autoDetect=!0),this._target=null},a.prototype.copyCountersOrReset=function(i){i?(this._stencilCounter=i._stencilCounter,this._scissorCounter=i._scissorCounter,this._scissorRect=i._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},a}();function we(a,i,e){var r=a.createShader(i);return a.shaderSource(r,e),a.compileShader(r),r}function Et(a,i,e,r){var o=we(a,a.VERTEX_SHADER,i),d=we(a,a.FRAGMENT_SHADER,e),p=a.createProgram();if(a.attachShader(p,o),a.attachShader(p,d),r)for(var m in r)a.bindAttribLocation(p,r[m],m);return a.linkProgram(p),a.getProgramParameter(p,a.LINK_STATUS)||(a.getShaderParameter(o,a.COMPILE_STATUS)||(console.warn(i),console.error(a.getShaderInfoLog(o))),a.getShaderParameter(d,a.COMPILE_STATUS)||(console.warn(e),console.error(a.getShaderInfoLog(d))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(p,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(p)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(p)),a.deleteProgram(p),p=null),a.deleteShader(o),a.deleteShader(d),p}function Fo(a){for(var i=new Array(a),e=0;e<i.length;e++)i[e]=!1;return i}function on(a,i){switch(a){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*i);case"vec3":return new Float32Array(3*i);case"vec4":return new Float32Array(4*i);case"ivec2":return new Int32Array(2*i);case"ivec3":return new Int32Array(3*i);case"ivec4":return new Int32Array(4*i);case"bool":return!1;case"bvec2":return Fo(2*i);case"bvec3":return Fo(3*i);case"bvec4":return Fo(4*i);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Fi,No={},Yr=No;function yr(){if(Yr===No||Yr&&Yr.isContextLost()){var a=document.createElement("canvas"),i=void 0;O.PREFER_ENV>=Y.WEBGL2&&(i=a.getContext("webgl2",{})),i||((i=a.getContext("webgl",{})||a.getContext("experimental-webgl",{}))?i.getExtension("WEBGL_draw_buffers"):i=null),Yr=i}return Yr}function _c(a,i,e){if("precision"!==a.substring(0,9)){var r=i;return i===Qt.HIGH&&e!==Qt.HIGH&&(r=Qt.MEDIUM),"precision "+r+" float;\n"+a}return e!==Qt.HIGH&&"precision highp"===a.substring(0,15)?a.replace("precision highp","precision mediump"):a}var bc={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Lo(a){return bc[a]}var Ni=null,Tn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Nr(a,i){if(!Ni){var e=Object.keys(Tn);Ni={};for(var r=0;r<e.length;++r){var o=e[r];Ni[a[o]]=Tn[o]}}return Ni[i]}var Li,ko=[{test:function(a){return"float"===a.type&&1===a.size},code:function(a){return'\n            if(uv["'+a+'"] !== ud["'+a+'"].value)\n            {\n                ud["'+a+'"].value = uv["'+a+'"]\n                gl.uniform1f(ud["'+a+'"].location, uv["'+a+'"])\n            }\n            '}},{test:function(a){return("sampler2D"===a.type||"samplerCube"===a.type||"sampler2DArray"===a.type)&&1===a.size&&!a.isArray},code:function(a){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+a+'"], t);\n\n            if(ud["'+a+'"].value !== t)\n            {\n                ud["'+a+'"].value = t;\n                gl.uniform1i(ud["'+a+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(a,i){return"mat3"===a.type&&1===a.size&&void 0!==i.a},code:function(a){return'\n            gl.uniformMatrix3fv(ud["'+a+'"].location, false, uv["'+a+'"].toArray(true));\n            '}},{test:function(a,i){return"vec2"===a.type&&1===a.size&&void 0!==i.x},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+a+'"].location, v.x, v.y);\n                }'}},{test:function(a){return"vec2"===a.type&&1===a.size},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+a+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(a,i){return"vec4"===a.type&&1===a.size&&void 0!==i.width},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+a+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(a){return"vec4"===a.type&&1===a.size},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+a+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],ls={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Wr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},cl=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Th(a){for(var i="",e=0;e<a;++e)e>0&&(i+="\nelse "),e<a-1&&(i+="if(test == "+e+".0){}");return i}var Ch=0,cs={},Bn=function(){function a(i,e,r){void 0===r&&(r="pixi-shader"),this.id=Ch++,this.vertexSrc=i||a.defaultVertexSrc,this.fragmentSrc=e||a.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),cs[r]?(cs[r]++,r+="-"+cs[r]):cs[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=_c(this.vertexSrc,O.PRECISION_VERTEX,Qt.HIGH),this.fragmentSrc=_c(this.fragmentSrc,O.PRECISION_FRAGMENT,function(){if(!Fi){Fi=Qt.MEDIUM;var a=yr();if(a&&a.getShaderPrecisionFormat){var i=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT);Fi=i.precision?Qt.HIGH:Qt.MEDIUM}}return Fi}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return a.prototype.extractData=function(i,e){var r=yr();if(r){var o=Et(r,i,e);this.attributeData=this.getAttributeData(o,r),this.uniformData=this.getUniformData(o,r),r.deleteProgram(o)}else this.uniformData={},this.attributeData={}},a.prototype.getAttributeData=function(i,e){for(var r={},o=[],d=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES),p=0;p<d;p++){var m=e.getActiveAttrib(i,p),w=Nr(e,m.type),x={type:w,name:m.name,size:Lo(w),location:0};r[m.name]=x,o.push(x)}for(o.sort(function(A,I){return A.name>I.name?1:-1}),p=0;p<o.length;p++)o[p].location=p;return r},a.prototype.getUniformData=function(i,e){for(var r={},o=e.getProgramParameter(i,e.ACTIVE_UNIFORMS),d=0;d<o;d++){var p=e.getActiveUniform(i,d),m=p.name.replace(/\[.*?\]$/,""),w=p.name.match(/\[.*?\]$/),x=Nr(e,p.type);r[m]={type:x,size:p.size,isArray:w,value:on(x,p.size)}}return r},Object.defineProperty(a,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(a,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),a.from=function(i,e,r){var o=i+e,d=ns[o];return d||(ns[o]=d=new a(i,e,r)),d},a}(),pi=function(){function a(i,e){for(var r in this.program=i,this.uniformGroup=e?e instanceof Fr?e:new Fr(e):new Fr({}),i.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return a.prototype.checkUniformExists=function(i,e){if(e.uniforms[i])return!0;for(var r in e.uniforms){var o=e.uniforms[r];if(o.group&&this.checkUniformExists(i,o))return!0}return!1},a.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(a.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),a.from=function(i,e,r){return new a(Bn.from(i,e),r)},a}(),fs=function(){function a(){this.data=0,this.blendMode=Ee.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(a.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(i){!!(1&this.data)!==i&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(i){!!(2&this.data)!==i&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(i){!!(4&this.data)!==i&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(i){!!(8&this.data)!==i&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(i){!!(16&this.data)!==i&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"blendMode",{get:function(){return this._blendMode},set:function(i){this.blend=i!==Ee.NONE,this._blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(i){this.offsets=!!i,this._polygonOffset=i},enumerable:!1,configurable:!0}),a.for2d=function(){var i=new a;return i.depthTest=!1,i.blend=!0,i},a}(),Ft=function(a){function i(e,r,o){var d=this,p=Bn.from(e||i.defaultVertexSrc,r||i.defaultFragmentSrc);return(d=a.call(this,p,o)||this).padding=0,d.resolution=O.FILTER_RESOLUTION,d.enabled=!0,d.autoFit=!0,d.legacy=!!d.program.attributeData.aTextureCoord,d.state=new fs,d}return yt(i,a),i.prototype.apply=function(e,r,o,d,p){e.applyFilter(this,r,o,d)},Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),i}(pi),pl=new Zt,Ja=function(){function a(i,e){this._texture=i,this.mapCoord=new Zt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(a.prototype,"texture",{get:function(){return this._texture},set:function(i){this._texture=i,this._textureID=-1},enumerable:!1,configurable:!0}),a.prototype.multiplyUvs=function(i,e){void 0===e&&(e=i);for(var r=this.mapCoord,o=0;o<i.length;o+=2){var d=i[o],p=i[o+1];e[o]=d*r.a+p*r.c+r.tx,e[o+1]=d*r.b+p*r.d+r.ty}return e},a.prototype.update=function(i){var e=this._texture;if(!e||!e.valid||!i&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var o=e.orig,d=e.trim;d&&(pl.set(o.width/d.width,0,0,o.height/d.height,-d.x/d.width,-d.y/d.height),this.mapCoord.append(pl));var p=e.baseTexture,m=this.uClampFrame,w=this.clampMargin/p.resolution,x=this.clampOffset;return m[0]=(e._frame.x+w+x)/p.width,m[1]=(e._frame.y+w+x)/p.height,m[2]=(e._frame.x+e._frame.width-w+x)/p.width,m[3]=(e._frame.y+e._frame.height-w+x)/p.height,this.uClampOffset[0]=x/p.realWidth,this.uClampOffset[1]=x/p.realHeight,this.isSimple=e._frame.width===p.width&&e._frame.height===p.height&&0===e.rotate,!0},a}(),Ih=function(a){function i(e){var r=this,o=new Zt;return r=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=o,r}return yt(i,a),i.prototype.apply=function(e,r,o,d){var p=this.maskSprite,m=p._texture;!m.valid||(m.uvMatrix||(m.uvMatrix=new Ja(m,0)),m.uvMatrix.update(),this.uniforms.npmAlpha=m.baseTexture.alphaMode?0:1,this.uniforms.mask=m,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,p).prepend(m.uvMatrix.mapCoord),this.uniforms.alpha=p.worldAlpha,this.uniforms.maskClamp=m.uvMatrix.uClampFrame,e.applyFilter(this,r,o,d))},i}(Ft),wc=function(a){function i(e){var r=a.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return yt(i,a),i.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},i.prototype.push=function(e,r){var o=r;if(!o.isMaskData){var d=this.maskDataPool.pop()||new yc;d.pooled=!0,d.maskObject=r,o=d}switch(o.autoDetect&&this.detect(o),o.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),o._target=e,o.type){case Lt.SCISSOR:this.maskStack.push(o),this.renderer.scissor.push(o);break;case Lt.STENCIL:this.maskStack.push(o),this.renderer.stencil.push(o);break;case Lt.SPRITE:o.copyCountersOrReset(null),this.pushSpriteMask(o),this.maskStack.push(o)}},i.prototype.pop=function(e){var r=this.maskStack.pop();if(r&&r._target===e){switch(r.type){case Lt.SCISSOR:this.renderer.scissor.pop();break;case Lt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Lt.SPRITE:this.popSpriteMask()}r.reset(),r.pooled&&this.maskDataPool.push(r)}},i.prototype.detect=function(e){var r=e.maskObject;if(r.isSprite)e.type=Lt.SPRITE;else if(e.type=Lt.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var o=r.worldTransform,d=Math.atan2(o.b,o.a),p=Math.atan2(o.d,o.c);d=Math.round(d*(180/Math.PI)*100),p=((p=Math.round(p*(180/Math.PI)*100)-d)%18e3+18e3)%18e3,0==(d=(d%9e3+9e3)%9e3)&&9e3===p&&(e.type=Lt.SCISSOR)}},i.prototype.pushSpriteMask=function(e){var r=e.maskObject,o=e._target,d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new Ih(r)]),d[0].resolution=this.renderer.resolution,d[0].maskSprite=r;var p=o.filterArea;o.filterArea=r.getBounds(!0),this.renderer.filter.push(o,d),o.filterArea=p,this.alphaMaskIndex++},i.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},i}(Zn),Uo=function(a){function i(e){var r=a.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return yt(i,a),i.prototype.getStackLength=function(){return this.maskStack.length},i.prototype.setMaskStack=function(e){var r=this.renderer.gl,o=this.getStackLength();this.maskStack=e;var d=this.getStackLength();d!==o&&(0===d?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},i.prototype._useCurrent=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.maskStack=null},i}(Zn),jo=function(a){function i(e){var r=a.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return yt(i,a),i.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},i.prototype.push=function(e){var r=e.maskObject;r.renderable=!0;var o=e._scissorRect,d=r.getBounds(!0),p=this.renderer.gl;r.renderable=!1,o?d.fit(o):p.enable(p.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=d,this._useCurrent()},i.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},i.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,r=this.renderer.renderTexture.current,o=this.renderer.projection,d=o.transform,p=o.sourceFrame,m=o.destinationFrame,w=r?r.resolution:this.renderer.resolution,x=(e.x-p.x)*w+m.x,A=(e.y-p.y)*w+m.y,S=e.height*w;d&&(x+=d.tx*w,A+=d.ty*w),r||(A=this.renderer.height-S-A),this.renderer.gl.scissor(x,A,e.width*w,S)},i}(Uo),Ho=function(a){function i(e){var r=a.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return yt(i,a),i.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},i.prototype.push=function(e){var r=e.maskObject,o=this.renderer.gl,d=e._stencilCounter;0===d&&(this.renderer.framebuffer.forceStencil(),o.enable(o.STENCIL_TEST)),e._stencilCounter++,o.colorMask(!1,!1,!1,!1),o.stencilFunc(o.EQUAL,d,this._getBitwiseMask()),o.stencilOp(o.KEEP,o.KEEP,o.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},i.prototype.pop=function(e){var r=this.renderer.gl;0===this.getStackLength()?(r.disable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.clearStencil(0)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},i.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},i.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},i}(Uo),eu=function(a){function i(e){var r=a.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Zt,r.transform=null,r}return yt(i,a),i.prototype.update=function(e,r,o,d){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,o,d),this.transform&&this.projectionMatrix.append(this.transform);var p=this.renderer;p.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,p.globalUniforms.update(),p.shader.shader&&p.shader.syncUniformGroup(p.shader.shader.uniforms.globals)},i.prototype.calculateProjection=function(e,r,o,d){var p=this.projectionMatrix,m=d?-1:1;p.identity(),p.a=1/r.width*2,p.d=m*(1/r.height*2),p.tx=-1-r.x*p.a,p.ty=-m-r.y*p.d},i.prototype.setTransform=function(e){},i}(Zn),Bi=new lt,Vo=new lt,sr=new lt,Ws=function(a){function i(e){var r=a.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new lt,r.destinationFrame=new lt,r}return yt(i,a),i.prototype.bind=function(e,r,o){void 0===e&&(e=null);var p,m,w,d=this.renderer;this.current=e,e?(w=(p=e.baseTexture).resolution,r||(Bi.width=e.frame.width,Bi.height=e.frame.height,r=Bi),o||(Vo.x=e.frame.x,Vo.y=e.frame.y,Vo.width=r.width,Vo.height=r.height,o=Vo),m=p.framebuffer):(w=d.resolution,r||(Bi.width=d.screen.width,Bi.height=d.screen.height,r=Bi),o||((o=Bi).width=r.width,o.height=r.height)),sr.x=o.x*w,sr.y=o.y*w,sr.width=o.width*w,sr.height=o.height*w,this.renderer.framebuffer.bind(m,sr),this.renderer.projection.update(o,r,w,!m),this.renderer.mask.setMaskStack(e?p.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(o)},i.prototype.clear=function(e,r){this.renderer.framebuffer.clear((e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor)[0],e[1],e[2],e[3],r)},i.prototype.resize=function(){this.bind(null)},i.prototype.reset=function(){this.bind(null)},i}(Zn),tu=function(){function a(i,e){this.program=i,this.uniformData=e,this.uniformGroups={}}return a.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},a}(),ds=0,Go={textureCount:0},ft=function(a){function i(e){var r=a.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=ds++,r}return yt(i,a),i.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Li)return Li;try{var a=new Function("param1","param2","param3","return param1[param2] === param3;");Li=!0===a({a:"b"},"a","b")}catch(i){Li=!1}return Li}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},i.prototype.contextChange=function(e){this.gl=e,this.reset()},i.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var o=e.program,d=o.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==o&&(this.program=o,this.gl.useProgram(d.program)),r||(Go.textureCount=0,this.syncUniformGroup(e.uniformGroup,Go)),d},i.prototype.setUniforms=function(e){var r=this.shader.program;r.syncUniforms(r.glPrograms[this.renderer.CONTEXT_UID].uniformData,e,this.renderer)},i.prototype.syncUniformGroup=function(e,r){var o=this.getglProgram();(!e.static||e.dirtyId!==o.uniformGroups[e.id])&&(o.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,o,r))},i.prototype.syncUniforms=function(e,r,o){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,o)},i.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData);return this.cache[r]||(this.cache[r]=function(a,i){var e=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in a.uniforms){var o=i[r];if(o){for(var d=a.uniforms[r],p=!1,m=0;m<ko.length;m++)if(ko[m].test(o,d)){e.push(ko[m].code(r,d)),p=!0;break}if(!p){var x=(1===o.size?ls:Wr)[o.type].replace("location",'ud["'+r+'"].location');e.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+x+";")}}else a.uniforms[r].group&&e.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",e.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},i.prototype.getSignature=function(e,r){var o=e.uniforms,d=[];for(var p in o)d.push(p),r[p]&&d.push(r[p].type);return d.join("-")},i.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},i.prototype.generateShader=function(e){var r=this.gl,o=e.program,d={};for(var p in o.attributeData)d[p]=o.attributeData[p].location;var m=Et(r,o.vertexSrc,o.fragmentSrc,d),w={};for(var p in o.uniformData){var x=o.uniformData[p];w[p]={location:r.getUniformLocation(m,p),value:on(x.type,x.size)}}var A=new tu(m,w);return o.glPrograms[this.renderer.CONTEXT_UID]=A,A},i.prototype.reset=function(){this.program=null,this.shader=null},i.prototype.destroy=function(){this.destroyed=!0},i}(Zn),gs=function(a){function i(e){var r=a.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=Ee.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new fs,r.defaultState.blend=!0,r}return yt(i,a),i.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(a,i){return void 0===i&&(i=[]),i[Ee.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.ADD]=[a.ONE,a.ONE],i[Ee.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.NONE]=[0,0],i[Ee.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.ADD_NPM]=[a.SRC_ALPHA,a.ONE,a.ONE,a.ONE],i[Ee.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[Ee.SRC_IN]=[a.DST_ALPHA,a.ZERO],i[Ee.SRC_OUT]=[a.ONE_MINUS_DST_ALPHA,a.ZERO],i[Ee.SRC_ATOP]=[a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],i[Ee.DST_OVER]=[a.ONE_MINUS_DST_ALPHA,a.ONE],i[Ee.DST_IN]=[a.ZERO,a.SRC_ALPHA],i[Ee.DST_OUT]=[a.ZERO,a.ONE_MINUS_SRC_ALPHA],i[Ee.DST_ATOP]=[a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA],i[Ee.XOR]=[a.ONE_MINUS_DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],i[Ee.SUBTRACT]=[a.ONE,a.ONE,a.ONE,a.ONE,a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD],i}(e),this.set(this.defaultState),this.reset()},i.prototype.set=function(e){if(this.stateId!==(e=e||this.defaultState).data){for(var r=this.stateId^e.data,o=0;r;)1&r&&this.map[o].call(this,!!(e.data&1<<o)),r>>=1,o++;this.stateId=e.data}for(o=0;o<this.checks.length;o++)this.checks[o](this,e)},i.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},i.prototype.setBlend=function(e){this.updateCheck(i.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},i.prototype.setOffset=function(e){this.updateCheck(i.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},i.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},i.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},i.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},i.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],o=this.gl;2===r.length?o.blendFunc(r[0],r[1]):o.blendFuncSeparate(r[0],r[1],r[2],r[3]),6===r.length?(this._blendEq=!0,o.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD))}},i.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},i.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},i.prototype.updateCheck=function(e,r){var o=this.checks.indexOf(e);r&&-1===o?this.checks.push(e):!r&&-1!==o&&this.checks.splice(o,1)},i.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},i.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},i}(Zn),nu=function(a){function i(e){var r=a.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=O.GC_MAX_IDLE,r.checkCountMax=O.GC_MAX_CHECK_COUNT,r.mode=O.GC_MODE,r}return yt(i,a),i.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==St.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},i.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,o=!1,d=0;d<r.length;d++){var p=r[d];!p.framebuffer&&this.count-p.touched>this.maxIdle&&(e.destroyTexture(p,!0),r[d]=null,o=!0)}if(o){var m=0;for(d=0;d<r.length;d++)null!==r[d]&&(r[m++]=r[d]);r.length=m}},i.prototype.unload=function(e){var o=e._texture;o&&!o.framebuffer&&this.renderer.texture.destroyTexture(o);for(var d=e.children.length-1;d>=0;d--)this.unload(e.children[d])},i}(Zn),$o=function(i){this.texture=i,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Ui=function(a){function i(e){var r=a.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new Vt,r}return yt(i,a),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var o=0;o<r;o++)this.boundTextures[o]=null;this.emptyTextures={};var d=new $o(e.createTexture());for(e.bindTexture(e.TEXTURE_2D,d.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=d,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new $o(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture),o=0;o<6;o++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);for(e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),o=0;o<this.boundTextures.length;o++)this.bind(null,o)},i.prototype.bind=function(e,r){void 0===r&&(r=0);var o=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var d=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(e.target,d.texture)),d.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}}else this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[o.TEXTURE_2D].texture),this.boundTextures[r]=null},i.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},i.prototype.unbind=function(e){var o=this.gl,d=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var p=0;p<d.length;p++)d[p]===this.unknownTexture&&this.bind(null,p)}for(p=0;p<d.length;p++)d[p]===e&&(this.currentLocation!==p&&(o.activeTexture(o.TEXTURE0+p),this.currentLocation=p),o.bindTexture(e.target,this.emptyTextures[e.target].texture),d[p]=null)},i.prototype.initTexture=function(e){var r=new $o(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},i.prototype.initTextureType=function(e,r){if(r.internalFormat=e.format,r.type=e.type,2===this.webGLVersion){var o=this.renderer.gl;e.type===o.FLOAT&&e.format===o.RGBA&&(r.internalFormat=o.RGBA32F),e.type===Ae.HALF_FLOAT&&(r.type=o.HALF_FLOAT),r.type===o.HALF_FLOAT&&e.format===o.RGBA&&(r.internalFormat=o.RGBA16F)}},i.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var o=this.renderer;if(this.initTextureType(e,r),!e.resource||!e.resource.upload(o,e,r)){var d=e.realWidth,p=e.realHeight,m=o.gl;(r.width!==d||r.height!==p||r.dirtyId<0)&&(r.width=d,r.height=p,m.texImage2D(e.target,0,r.internalFormat,d,p,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},i.prototype.destroyTexture=function(e,r){var o=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),o.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var d=this.managedTextures.indexOf(e);-1!==d&&kt(this.managedTextures,d,1)}},i.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];!r||(r.mipmap=!!(e.mipmap!==At.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&e.mipmap>=1,r.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:at.CLAMP,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},i.prototype.setStyle=function(e,r){var o=this.gl;if(r.mipmap&&o.generateMipmap(e.target),o.texParameteri(e.target,o.TEXTURE_WRAP_S,r.wrapMode),o.texParameteri(e.target,o.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Oe.LINEAR?o.LINEAR_MIPMAP_LINEAR:o.NEAREST_MIPMAP_NEAREST);var d=this.renderer.context.extensions.anisotropicFiltering;if(d&&e.anisotropicLevel>0&&e.scaleMode===Oe.LINEAR){var p=Math.min(e.anisotropicLevel,o.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT));o.texParameterf(e.target,d.TEXTURE_MAX_ANISOTROPY_EXT,p)}}else o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Oe.LINEAR?o.LINEAR:o.NEAREST);o.texParameteri(e.target,o.TEXTURE_MAG_FILTER,e.scaleMode===Oe.LINEAR?o.LINEAR:o.NEAREST)},i}(Zn),Hi=new Zt,Un=function(a){function i(e){var r=a.call(this,Te.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Sn("destroy"),contextChange:new Sn("contextChange"),reset:new Sn("reset"),update:new Sn("update"),postrender:new Sn("postrender"),prerender:new Sn("prerender"),resize:new Sn("resize")},r.globalUniforms=new Fr({projectionMatrix:new Zt},!0),r.addSystem(wc,"mask").addSystem(ot,"context").addSystem(gs,"state").addSystem(ft,"shader").addSystem(Ui,"texture").addSystem(Ro,"geometry").addSystem(Za,"framebuffer").addSystem(jo,"scissor").addSystem(Ho,"stencil").addSystem(eu,"projection").addSystem(nu,"textureGC").addSystem(Wa,"filter").addSystem(Ws,"renderTexture").addSystem(qa,"batch"),r.initPlugins(i.__plugins),e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:e.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(a){var i;Ii||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(i=window.console).log.apply(i,["\n %c %c %c PixiJS 5.3.11 - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS 5.3.11 - "+a+" - http://www.pixijs.com/"),Ii=!0)}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return yt(i,a),i.create=function(e){if(void 0===es&&(es=function(){var i={stencil:!0,failIfMajorPerformanceCaveat:O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",i)||e.getContext("experimental-webgl",i),o=!(!r||!r.getContextAttributes().stencil);if(r){var d=r.getExtension("WEBGL_lose_context");d&&d.loseContext()}return r=null,o}catch(p){return!1}}()),es)return new i(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},i.prototype.addSystem=function(e,r){r||(r=e.name);var o=new e(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var d in this[r]=o,this.runners)this.runners[d].add(o);return this},i.prototype.render=function(e,r,o,d,p){if(this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=d,!this.context.isLost){if(r||(this._lastObjectRendered=e),!p){var m=e.enableTempParent();e.updateTransform(),e.disableTempParent(m)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},i.prototype.resize=function(e,r){a.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},i.prototype.reset=function(){return this.runners.reset.emit(),this},i.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},i.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();a.prototype.destroy.call(this,e),this.gl=null},i.registerPlugin=function(e,r){(i.__plugins=i.__plugins||{})[e]=r},i}(function(a){function i(e,r){void 0===e&&(e=Te.UNKNOWN);var o=a.call(this)||this;return(r=Object.assign({},O.RENDER_OPTIONS,r)).roundPixels&&(O.ROUND_PIXELS=r.roundPixels,Ln("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),o.options=r,o.type=e,o.screen=new lt(0,0,r.width,r.height),o.view=r.view||document.createElement("canvas"),o.resolution=r.resolution||O.RESOLUTION,o.transparent=r.transparent,o.autoDensity=r.autoDensity||r.autoResize||!1,o.preserveDrawingBuffer=r.preserveDrawingBuffer,o.clearBeforeRender=r.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,0],o._backgroundColorString="#000000",o.backgroundColor=r.backgroundColor||o._backgroundColor,o._lastObjectRendered=null,o.plugins={},o}return yt(i,a),i.prototype.initPlugins=function(e){for(var r in e)this.plugins[r]=new e[r](this)},Object.defineProperty(i.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),i.prototype.resize=function(e,r){this.screen.width=e,this.screen.height=r,this.view.width=e*this.resolution,this.view.height=r*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=r+"px"),this.emit("resize",e,r)},i.prototype.generateTexture=function(e,r,o,d){0===(d=d||e.getLocalBounds(null,!0)).width&&(d.width=1),0===d.height&&(d.height=1);var p=Rr.create({width:0|d.width,height:0|d.height,scaleMode:r,resolution:o});return Hi.tx=-d.x,Hi.ty=-d.y,this.render(e,p,!1,Hi,!!e.parent),p},i.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var o=this;o.plugins=null,o.type=Te.UNKNOWN,o.view=null,o.screen=null,o._tempDisplayObjectParent=null,o.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=ts(e),Ai(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),i}(H())),gi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Zs=function(){this.texArray=null,this.blend=0,this.type=Pe.TRIANGLES,this.start=0,this.size=0,this.data=null},ru=function(){function a(){this.elements=[],this.ids=[],this.count=0}return a.prototype.clear=function(){for(var i=0;i<this.count;i++)this.elements[i]=null;this.count=0},a}(),ms=function(){function a(i){this.rawBinaryData=new ArrayBuffer(i),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(a.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),a.prototype.view=function(i){return this[i+"View"]},a.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},a.sizeOf=function(i){switch(i){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(i+" isn't a valid view type")}},a}(),iu=function(a){function i(e){var r=a.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=fs.for2d(),r.size=4*O.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return yt(i,a),i.prototype.contextChange=function(){var e=this.renderer.gl;O.PREFER_ENV===Y.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),O.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(a,i){if(0===a)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=i.createShader(i.FRAGMENT_SHADER);;){var r=cl.replace(/%forloop%/gi,Th(a));if(i.shaderSource(e,r),i.compileShader(e),i.getShaderParameter(e,i.COMPILE_STATUS))break;a=a/2|0}return a}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},i.prototype.initFlushBuffers=function(){for(var e=i._drawCallPool,r=i._textureArrayPool,o=this.size/4,d=Math.floor(o/this.MAX_TEXTURES)+1;e.length<o;)e.push(new Zs);for(;r.length<d;)r.push(new ru);for(var p=0;p<this.MAX_TEXTURES;p++)this._tempBoundTextures[p]=null},i.prototype.onPrerender=function(){this._flushId=0},i.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},i.prototype.buildTexturesAndDrawCalls=function(){var r=this._bufferedTextures,o=this.MAX_TEXTURES,d=i._textureArrayPool,p=this.renderer.batch,m=this._tempBoundTextures,w=this.renderer.textureGC.count,x=++Vt._globalBatch,A=0,I=d[0],S=0;p.copyBoundTextures(m,o);for(var R=0;R<this._bufferSize;++R){var L=r[R];r[R]=null,L._batchEnabled!==x&&(I.count>=o&&(p.boundArray(I,m,x,o),this.buildDrawCalls(I,S,R),S=R,I=d[++A],++x),L._batchEnabled=x,L.touched=w,I.elements[I.count++]=L)}for(I.count>0&&(p.boundArray(I,m,x,o),this.buildDrawCalls(I,S,this._bufferSize),++A,++x),R=0;R<m.length;R++)m[R]=null;Vt._globalBatch=x},i.prototype.buildDrawCalls=function(e,r,o){var d=this,p=d._bufferedElements,m=d._attributeBuffer,w=d._indexBuffer,x=d.vertexSize,A=i._drawCallPool,I=this._dcIndex,S=this._aIndex,R=this._iIndex,L=A[I];L.start=this._iIndex,L.texArray=e;for(var B=r;B<o;++B){var X=p[B],Fe=et[X._texture.baseTexture.alphaMode?1:0][X.blendMode];p[B]=null,r<B&&L.blend!==Fe&&(L.size=R-L.start,r=B,(L=A[++I]).texArray=e,L.start=R),this.packInterleavedGeometry(X,m,w,S,R),S+=X.vertexData.length/2*x,R+=X.indices.length,L.blend=Fe}r<o&&(L.size=R-L.start,++I),this._dcIndex=I,this._aIndex=S,this._iIndex=R},i.prototype.bindAndClearTexArray=function(e){for(var r=this.renderer.texture,o=0;o<e.count;o++)r.bind(e.elements[o],e.ids[o]),e.elements[o]=null;e.count=0},i.prototype.updateGeometry=function(){var e=this,r=e._packedGeometries,o=e._attributeBuffer,d=e._indexBuffer;O.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(o.rawBinaryData),r[this._flushId]._indexBuffer.update(d),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(o.rawBinaryData),r[this._flushId]._indexBuffer.update(d),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},i.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,o=r.gl,d=r.state,p=i._drawCallPool,m=null,w=0;w<e;w++){var x=p[w],A=x.texArray,I=x.type,S=x.size,R=x.start,L=x.blend;m!==A&&(m=A,this.bindAndClearTexArray(A)),this.state.blendMode=L,d.set(this.state),o.drawElements(I,S,o.UNSIGNED_SHORT,2*R)}},i.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},i.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),O.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},i.prototype.stop=function(){this.flush()},i.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),a.prototype.destroy.call(this)},i.prototype.getAttributeBuffer=function(e){var r=Ot(Math.ceil(e/8)),o=To(r),d=8*r;this._aBuffers.length<=o&&(this._iBuffers.length=o+1);var p=this._aBuffers[d];return p||(this._aBuffers[d]=p=new ms(d*this.vertexSize*4)),p},i.prototype.getIndexBuffer=function(e){var r=Ot(Math.ceil(e/12)),o=To(r),d=12*r;this._iBuffers.length<=o&&(this._iBuffers.length=o+1);var p=this._iBuffers[o];return p||(this._iBuffers[o]=p=new Uint16Array(d)),p},i.prototype.packInterleavedGeometry=function(e,r,o,d,p){for(var m=r.uint32View,w=r.float32View,x=d/this.vertexSize,A=e.uvs,I=e.indices,S=e.vertexData,R=e._texture.baseTexture._batchLocation,L=Math.min(e.worldAlpha,1),B=L<1&&e._texture.baseTexture.alphaMode?mn(e._tintRGB,L):e._tintRGB+(255*L<<24),X=0;X<S.length;X+=2)w[d++]=S[X],w[d++]=S[X+1],w[d++]=A[X],w[d++]=A[X+1],m[d++]=B,w[d++]=R;for(X=0;X<I.length;X++)o[p++]=x+I[X]},i._drawCallPool=[],i._textureArrayPool=[],i}(ir),jt=function(){function a(i,e){if(this.vertexSrc=i,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return a.prototype.generateShader=function(i){if(!this.programCache[i]){for(var e=new Int32Array(i),r=0;r<i;r++)e[r]=r;this.defaultGroupCache[i]=Fr.from({uSamplers:e},!0);var o=this.fragTemplate;o=(o=o.replace(/%count%/gi,""+i)).replace(/%forloop%/gi,this.generateSampleSrc(i)),this.programCache[i]=new Bn(this.vertexSrc,o)}var d={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zt,default:this.defaultGroupCache[i]};return new pi(this.programCache[i],d)},a.prototype.generateSampleSrc=function(i){var e="";e+="\n",e+="\n";for(var r=0;r<i;r++)r>0&&(e+="\nelse "),r<i-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},a}(),ys=function(a){function i(e){void 0===e&&(e=!1);var r=a.call(this)||this;return r._buffer=new pn(null,e,!1),r._indexBuffer=new pn(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,Ae.FLOAT).addAttribute("aColor",r._buffer,4,!0,Ae.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,Ae.FLOAT).addIndex(r._indexBuffer),r}return yt(i,a),i}(as),ar="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",gl="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",qr=function(){function a(){}return a.create=function(i){var e=Object.assign({vertex:ar,fragment:gl,geometryClass:ys,vertexSize:6},i),r=e.vertex,o=e.fragment,d=e.vertexSize,p=e.geometryClass;return function(m){function w(x){var A=m.call(this,x)||this;return A.shaderGenerator=new jt(r,o),A.geometryClass=p,A.vertexSize=d,A}return yt(w,m),w}(iu)},Object.defineProperty(a,"defaultVertexSrc",{get:function(){return ar},enumerable:!1,configurable:!0}),Object.defineProperty(a,"defaultFragmentTemplate",{get:function(){return gl},enumerable:!1,configurable:!0}),a}().create(),Wo=function(){function a(i){var e=this;i=Object.assign({forceCanvas:!1},i),this.renderer=function(a){return Un.create(a)}(i),this.stage=new bn,a._plugins.forEach(function(r){r.init.call(e,i)})}return a.registerPlugin=function(i){a._plugins.push(i)},a.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(a.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),a.prototype.destroy=function(i,e){var r=this,o=a._plugins.slice(0);o.reverse(),o.forEach(function(d){d.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(i),this.renderer=null},a}();Wo._plugins=[];var su=function(){function a(){}return a.init=function(i){var e=this;Object.defineProperty(this,"resizeTo",{set:function(r){window.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var r,o;if(e.cancelResize(),e._resizeTo===window)r=window.innerWidth,o=window.innerHeight;else{var d=e._resizeTo;r=d.clientWidth,o=d.clientHeight}e.renderer.resize(r,o)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=i.resizeTo||null},a.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},a}();Wo.registerPlugin(su);var qo=new lt,Zo=function(){function a(i){this.renderer=i,i.extract=this}return a.prototype.image=function(i,e,r){var o=new Image;return o.src=this.base64(i,e,r),o},a.prototype.base64=function(i,e,r){return this.canvas(i).toDataURL(e,r)},a.prototype.canvas=function(i){var r,o,p,e=this.renderer,d=!1,m=!1;i&&(i instanceof Rr?p=i:(p=this.renderer.generateTexture(i),m=!0)),p?(r=p.baseTexture.resolution,o=p.frame,d=!1,e.renderTexture.bind(p)):(r=this.renderer.resolution,d=!0,(o=qo).width=this.renderer.width,o.height=this.renderer.height,e.renderTexture.bind(null));var w=Math.floor(o.width*r+1e-4),x=Math.floor(o.height*r+1e-4),A=new Ku(w,x,1),I=new Uint8Array(4*w*x),S=e.gl;S.readPixels(o.x*r,o.y*r,w,x,S.RGBA,S.UNSIGNED_BYTE,I);var R=A.context.getImageData(0,0,w,x);if(a.arrayPostDivide(I,R.data),A.context.putImageData(R,0,0),d){var L=new Ku(A.width,A.height,1);L.context.scale(1,-1),L.context.drawImage(A.canvas,0,-x),A.destroy(),A=L}return m&&p.destroy(!0),A.canvas},a.prototype.pixels=function(i){var r,o,d,e=this.renderer,p=!1;i&&(i instanceof Rr?d=i:(d=this.renderer.generateTexture(i),p=!0)),d?(r=d.baseTexture.resolution,o=d.frame,e.renderTexture.bind(d)):(r=e.resolution,(o=qo).width=e.width,o.height=e.height,e.renderTexture.bind(null));var m=o.width*r,w=o.height*r,x=new Uint8Array(4*m*w),A=e.gl;return A.readPixels(o.x*r,o.y*r,m,w,A.RGBA,A.UNSIGNED_BYTE,x),p&&d.destroy(!0),a.arrayPostDivide(x,x),x},a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},a.arrayPostDivide=function(i,e){for(var r=0;r<i.length;r+=4){var o=e[r+3]=i[r+3];0!==o?(e[r]=Math.round(Math.min(255*i[r]/o,255)),e[r+1]=Math.round(Math.min(255*i[r+1]/o,255)),e[r+2]=Math.round(Math.min(255*i[r+2]/o,255))):(e[r]=i[r],e[r+1]=i[r+1],e[r+2]=i[r+2])}},a}(),Ks=j(9750),ou=j.n(Ks),yl=j(936),kr=j.n(yl);function wn(){}function au(a,i,e,r){var o=0,d=a.length;!function p(m){m||o===d?e&&e(m):r?setTimeout(function(){i(a[o++],p)},1):i(a[o++],p)}()}function uu(a){return function(){if(null===a)throw new Error("Callback was already called.");var e=a;a=null,e.apply(this,arguments)}}var vi={};function Vi(a,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function _s(a,i,e){return i&&Vi(a.prototype,i),e&&Vi(a,e),a}var bs=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),lu=null;function Oh(){}var tt=function(){function a(e,r,o){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");o=o||{},this._flags=0,this._setFlag(a.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===o.crossOrigin?"anonymous":o.crossOrigin,this.timeout=o.timeout||0,this.loadType=o.loadType||this._determineLoadType(),this.xhrType=o.xhrType,this.metadata=o.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=a.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Oh,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(kr()),this.onProgress=new(kr()),this.onComplete=new(kr()),this.onAfterMiddleware=new(kr())}a.setExtensionLoadType=function(r,o){bl(a._loadTypeMap,r,o)},a.setExtensionXhrType=function(r,o){bl(a._xhrTypeMap,r,o)};var i=a.prototype;return i.complete=function(){this._clearEvents(),this._finish()},i.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},i.load=function(r){var o=this;if(!this.isLoading){if(this.isComplete)return void(r&&setTimeout(function(){return r(o)},1));switch(r&&this.onComplete.once(r),this._setFlag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE,this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO,this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO,this._loadSourceElement("video");break;default:bs&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},i._hasFlag=function(r){return 0!=(this._flags&r)},i._setFlag=function(r,o){this._flags=o?this._flags|r:this._flags&~r},i._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},i._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0),this._setFlag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},i._loadElement=function(r){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===r&&void 0!==window.Image?new Image:document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},i._loadSourceElement=function(r){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===r&&void 0!==window.Audio?new Audio:document.createElement(r),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var o=this.metadata.mimeType,d=0;d<this.url.length;++d)this.data.appendChild(this._createSource(r,this.url[d],Array.isArray(o)?o[d]:o));else{var p=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(p)?p[0]:p))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+r)},i._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,r.responseType=this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?a.XHR_RESPONSE_TYPE.TEXT:this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},i._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},i._createSource=function(r,o,d){d||(d=r+"/"+this._getExtension(o));var p=document.createElement("source");return p.src=o,p.type=d,p},i._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},i._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},i._onTimeout=function(){this.abort("Load timed out.")},i._xhrOnError=function(){var r=this.xhr;this.abort(El(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},i._xhrOnTimeout=function(){this.abort(El(this.xhr)+" Request timed out.")},i._xhrOnAbort=function(){this.abort(El(this.xhr)+" Request was aborted by the user.")},i._xhrOnLoad=function(){var r=this.xhr,o="",d=void 0===r.status?200:r.status;if((""===r.responseType||"text"===r.responseType||void 0===r.responseType)&&(o=r.responseText),0===d&&(o.length>0||r.responseType===a.XHR_RESPONSE_TYPE.BUFFER)?d=200:1223===d&&(d=204),2==(d/100|0)){if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=o,this.type=a.TYPE.TEXT;else if(this.xhrType===a.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(o),this.type=a.TYPE.JSON}catch(x){return void this.abort("Error trying to parse loaded json: "+x)}else if(this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var m=new DOMParser;this.data=m.parseFromString(o,"text/xml")}else{var w=document.createElement("div");w.innerHTML=o,this.data=w}this.type=a.TYPE.XML}catch(x){return void this.abort("Error trying to parse loaded xml: "+x)}else this.data=r.response||o;this.complete()}else this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL)},i._determineCrossOrigin=function(r,o){return 0===r.indexOf("data:")?"":window.origin!==window.location.origin?"anonymous":(o=o||window.location,lu||(lu=document.createElement("a")),lu.href=r,(r=ou()(lu.href,{strictMode:!0})).host!==o.hostname||(r.port||""!==o.port)&&r.port!==o.port||(r.protocol?r.protocol+":":"")!==o.protocol?"anonymous":"")},i._determineXhrType=function(){return a._xhrTypeMap[this.extension]||a.XHR_RESPONSE_TYPE.TEXT},i._determineLoadType=function(){return a._loadTypeMap[this.extension]||a.LOAD_TYPE.XHR},i._getExtension=function(){var r=this.url,o="";if(this.isDataUrl){var d=r.indexOf("/");o=r.substring(d+1,r.indexOf(";",d))}else{var p=r.indexOf("?"),m=r.indexOf("#"),w=Math.min(p>-1?p:r.length,m>-1?m:r.length);o=(r=r.substring(0,w)).substring(r.lastIndexOf(".")+1)}return o.toLowerCase()},i._getMimeFromXhrType=function(r){switch(r){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},_s(a,[{key:"isDataUrl",get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]),a}();function bl(a,i,e){i&&0===i.indexOf(".")&&(i=i.substring(1)),i&&(a[i]=e)}function El(a){return a.toString().replace("object ","")}tt.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},tt.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},tt.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},tt.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},tt._loadTypeMap={gif:tt.LOAD_TYPE.IMAGE,png:tt.LOAD_TYPE.IMAGE,bmp:tt.LOAD_TYPE.IMAGE,jpg:tt.LOAD_TYPE.IMAGE,jpeg:tt.LOAD_TYPE.IMAGE,tif:tt.LOAD_TYPE.IMAGE,tiff:tt.LOAD_TYPE.IMAGE,webp:tt.LOAD_TYPE.IMAGE,tga:tt.LOAD_TYPE.IMAGE,svg:tt.LOAD_TYPE.IMAGE,"svg+xml":tt.LOAD_TYPE.IMAGE,mp3:tt.LOAD_TYPE.AUDIO,ogg:tt.LOAD_TYPE.AUDIO,wav:tt.LOAD_TYPE.AUDIO,mp4:tt.LOAD_TYPE.VIDEO,webm:tt.LOAD_TYPE.VIDEO},tt._xhrTypeMap={xhtml:tt.XHR_RESPONSE_TYPE.DOCUMENT,html:tt.XHR_RESPONSE_TYPE.DOCUMENT,htm:tt.XHR_RESPONSE_TYPE.DOCUMENT,xml:tt.XHR_RESPONSE_TYPE.DOCUMENT,tmx:tt.XHR_RESPONSE_TYPE.DOCUMENT,svg:tt.XHR_RESPONSE_TYPE.DOCUMENT,tsx:tt.XHR_RESPONSE_TYPE.DOCUMENT,gif:tt.XHR_RESPONSE_TYPE.BLOB,png:tt.XHR_RESPONSE_TYPE.BLOB,bmp:tt.XHR_RESPONSE_TYPE.BLOB,jpg:tt.XHR_RESPONSE_TYPE.BLOB,jpeg:tt.XHR_RESPONSE_TYPE.BLOB,tif:tt.XHR_RESPONSE_TYPE.BLOB,tiff:tt.XHR_RESPONSE_TYPE.BLOB,webp:tt.XHR_RESPONSE_TYPE.BLOB,tga:tt.XHR_RESPONSE_TYPE.BLOB,json:tt.XHR_RESPONSE_TYPE.JSON,text:tt.XHR_RESPONSE_TYPE.TEXT,txt:tt.XHR_RESPONSE_TYPE.TEXT,ttf:tt.XHR_RESPONSE_TYPE.BUFFER,otf:tt.XHR_RESPONSE_TYPE.BUFFER},tt.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var un=window.URL||window.webkitURL,Js={caching:function(a,i){var e=this;vi[a.url]?(a.data=vi[a.url],a.complete()):a.onComplete.once(function(){return vi[e.url]=e.data}),i()},parsing:function(a,i){if(a.data){if(a.xhr&&a.xhrType===tt.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof a.data){if(0===a.data.type.indexOf("image")){var r=un.createObjectURL(a.data);return a.blob=a.data,a.data=new Image,a.data.src=r,a.type=tt.TYPE.IMAGE,void(a.data.onload=function(){un.revokeObjectURL(r),a.data.onload=null,i()})}}else{var e=a.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return a.data=new Image,a.data.src="data:"+e+";base64,"+function(a){for(var i="",e=0;e<a.length;){for(var r=[0,0,0],o=[0,0,0,0],d=0;d<r.length;++d)r[d]=e<a.length?255&a.charCodeAt(e++):0;switch(o[0]=r[0]>>2,o[1]=(3&r[0])<<4|r[1]>>4,o[2]=(15&r[1])<<2|r[2]>>6,o[3]=63&r[2],e-(a.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var m=0;m<o.length;++m)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o[m])}return i}(a.xhr.responseText),a.type=tt.TYPE.IMAGE,void(a.data.onload=function(){a.data.onload=null,i()})}i()}else i()}},xc=/(#[\w-]+)?$/,ln=function(){function a(e,r){var o=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(m,w){return o._loadResource(m,w)},this._queue=function(a,i){if(null==i)i=1;else if(0===i)throw new Error("Concurrency must not be zero");var e=0,r={_tasks:[],concurrency:i,saturated:wn,unsaturated:wn,buffer:i/4,empty:wn,drain:wn,error:wn,started:!1,paused:!1,push:function(m,w){o(m,!1,w)},kill:function(){e=0,r.drain=wn,r.started=!1,r._tasks=[]},unshift:function(m,w){o(m,!0,w)},process:function(){for(;!r.paused&&e<r.concurrency&&r._tasks.length;){var m=r._tasks.shift();0===r._tasks.length&&r.empty(),(e+=1)===r.concurrency&&r.saturated(),a(m.data,uu(d(m)))}},length:function(){return r._tasks.length},running:function(){return e},idle:function(){return r._tasks.length+e===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var m=1;m<=r.concurrency;m++)r.process()}}};function o(p,m,w){if(null!=w&&"function"!=typeof w)throw new Error("task callback must be a function");if(r.started=!0,null==p&&r.idle())setTimeout(function(){return r.drain()},1);else{var x={data:p,callback:"function"==typeof w?w:wn};m?r._tasks.unshift(x):r._tasks.push(x),setTimeout(function(){return r.process()},1)}}function d(p){return function(){e-=1,p.callback.apply(p,arguments),null!=arguments[0]&&r.error(arguments[0],p.data),e<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(kr()),this.onError=new(kr()),this.onLoad=new(kr()),this.onStart=new(kr()),this.onComplete=new(kr());for(var d=0;d<a._defaultBeforeMiddleware.length;++d)this.pre(a._defaultBeforeMiddleware[d]);for(var p=0;p<a._defaultAfterMiddleware.length;++p)this.use(a._defaultAfterMiddleware[p])}var i=a.prototype;return i.add=function(r,o,d,p){if(Array.isArray(r)){for(var m=0;m<r.length;++m)this.add(r[m]);return this}if("object"==typeof r&&(p=o||r.callback||r.onComplete,d=r,o=r.url,r=r.name||r.key||r.url),"string"!=typeof o&&(p=d,d=o,o=r),"string"!=typeof o)throw new Error("No url passed to add resource to loader.");if("function"==typeof d&&(p=d,d=null),this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(o=this._prepareUrl(o),this.resources[r]=new tt(r,o,d),"function"==typeof p&&this.resources[r].onAfterMiddleware.once(p),this.loading){for(var w=d.parentResource,x=[],A=0;A<w.children.length;++A)w.children[A].isComplete||x.push(w.children[A]);var S=w.progressChunk*(x.length+1)/(x.length+2);w.children.push(this.resources[r]),w.progressChunk=S;for(var R=0;R<x.length;++R)x[R].progressChunk=S;this.resources[r].progressChunk=S}return this._queue.push(this.resources[r]),this},i.pre=function(r){return this._beforeMiddleware.push(r),this},i.use=function(r){return this._afterMiddleware.push(r),this},i.reset=function(){for(var r in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var o=this.resources[r];o._onLoadBinding&&o._onLoadBinding.detach(),o.isLoading&&o.abort()}return this.resources={},this},i.load=function(r){if("function"==typeof r&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var d=100/this._queue._tasks.length,p=0;p<this._queue._tasks.length;++p)this._queue._tasks[p].data.progressChunk=d;this._onStart(),this._queue.resume()}return this},i._prepareUrl=function(r){var d,o=ou()(r,{strictMode:!0});if(d=o.protocol||!o.path||0===r.indexOf("//")?r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==r.charAt(0)?this.baseUrl+"/"+r:this.baseUrl+r,this.defaultQueryString){var p=xc.exec(d)[0];-1!==(d=d.substr(0,d.length-p.length)).indexOf("?")?d+="&"+this.defaultQueryString:d+="?"+this.defaultQueryString,d+=p}return d},i._loadResource=function(r,o){var d=this;r._dequeue=o,au(this._beforeMiddleware,function(p,m){p.call(d,r,function(){m(r.isComplete?{}:null)})},function(){r.isComplete?d._onLoad(r):(r._onLoadBinding=r.onComplete.once(d._onLoad,d),r.load())},!0)},i._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},i._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},i._onLoad=function(r){var o=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),au(this._afterMiddleware,function(d,p){d.call(o,r,p)},function(){r.onAfterMiddleware.dispatch(r),o.progress=Math.min(100,o.progress+r.progressChunk),o.onProgress.dispatch(o,r),r.error?o.onError.dispatch(r.error,o,r):o.onLoad.dispatch(o,r),o._resourcesParsing.splice(o._resourcesParsing.indexOf(r),1),o._queue.idle()&&0===o._resourcesParsing.length&&o._onComplete()},!0)},_s(a,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r}}]),a}();ln._defaultBeforeMiddleware=[],ln._defaultAfterMiddleware=[],ln.pre=function(i){return ln._defaultBeforeMiddleware.push(i),ln},ln.use=function(i){return ln._defaultAfterMiddleware.push(i),ln};var Kn=tt,Ko=function(a,i){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Qn=function(){function a(){}return a.use=function(i,e){i.data&&i.type===tt.TYPE.IMAGE&&(i.texture=ct.fromLoader(i.data,i.url,i.name)),e()},a}(),Zr=function(a){function i(e,r){for(var o=a.call(this,e,r)||this,d=0;d<i._plugins.length;++d){var p=i._plugins[d],m=p.pre,w=p.use;m&&o.pre(m),w&&o.use(w)}return o._protected=!1,o}return function(a,i){function e(){this.constructor=a}Ko(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(i,"shared",{get:function(){var e=i._shared;return e||((e=new i)._protected=!0,i._shared=e),e},enumerable:!1,configurable:!0}),i.registerPlugin=function(e){return i._plugins.push(e),e.add&&e.add(),i},i._plugins=[],i}(ln);Zr.registerPlugin({use:Js.parsing}),Zr.registerPlugin(Qn);var eo=function(){function a(){}return a.init=function(i){i=Object.assign({sharedLoader:!1},i),this.loader=i.sharedLoader?Zr.shared:new Zr},a.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},a}(),Jo=function(a,i){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Cc(a,i){function e(){this.constructor=a}Jo(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}!function(a){function i(e,r,o,d){void 0===e&&(e=1500),void 0===o&&(o=16384),void 0===d&&(d=!1);var p=a.call(this)||this;return o>16384&&(o=16384),p._properties=[!1,!0,!1,!1,!1],p._maxSize=e,p._batchSize=o,p._buffers=null,p._bufferUpdateIDs=[],p._updateID=0,p.interactiveChildren=!1,p.blendMode=Ee.NORMAL,p.autoResize=d,p.roundPixels=!0,p.baseTexture=null,p.setProperties(r),p._tint=0,p.tintRgb=new Float32Array(4),p.tint=16777215,p}Cc(i,a),i.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Ai(e,this.tintRgb)},enumerable:!1,configurable:!0}),i.prototype.render=function(e){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},i.prototype.onChildrenChange=function(e){for(var r=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},i.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(bn);var cu=function(){function a(i,e,r){this.geometry=new as,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<i.length;++o){var d=i[o];d={attributeName:d.attributeName,size:d.size,uploadFunction:d.uploadFunction,type:d.type||Ae.FLOAT,offset:d.offset},e[o]?this.dynamicProperties.push(d):this.staticProperties.push(d)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return a.prototype.initBuffers=function(){var i=this.geometry,e=0;this.indexBuffer=new pn(function(a,i){void 0===i&&(i=null);var e=6*a;if((i=i||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+i.length+" and expected "+e);for(var r=0,o=0;r<e;r+=6,o+=4)i[r+0]=o+0,i[r+1]=o+1,i[r+2]=o+2,i[r+3]=o+0,i[r+4]=o+2,i[r+5]=o+3;return i}(this.size),!0,!0),i.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(o=this.dynamicProperties[r]).offset=e,e+=o.size,this.dynamicStride+=o.size;var d=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(d),this.dynamicDataUint32=new Uint32Array(d),this.dynamicBuffer=new pn(this.dynamicData,!1,!1);var p=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(o=this.staticProperties[r]).offset=p,p+=o.size,this.staticStride+=o.size;var m=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(m),this.staticDataUint32=new Uint32Array(m),this.staticBuffer=new pn(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r)i.addAttribute((o=this.dynamicProperties[r]).attributeName,this.dynamicBuffer,0,o.type===Ae.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset);for(r=0;r<this.staticProperties.length;++r){var o;i.addAttribute((o=this.staticProperties[r]).attributeName,this.staticBuffer,0,o.type===Ae.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},a.prototype.uploadDynamic=function(i,e,r){for(var o=0;o<this.dynamicProperties.length;o++){var d=this.dynamicProperties[o];d.uploadFunction(i,e,r,d.type===Ae.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,d.offset)}this.dynamicBuffer._updateID++},a.prototype.uploadStatic=function(i,e,r){for(var o=0;o<this.staticProperties.length;o++){var d=this.staticProperties[o];d.uploadFunction(i,e,r,d.type===Ae.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,d.offset)}this.staticBuffer._updateID++},a.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},a}(),Es=function(a){function i(e){var r=a.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Zt,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ae.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=pi.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=fs.for2d(),r}return Cc(i,a),i.prototype.render=function(e){var r=e.children,o=e._maxSize,d=e._batchSize,p=this.renderer,m=r.length;if(0!==m){m>o&&!e.autoResize&&(m=o);var w=e._buffers;w||(w=e._buffers=this.generateBuffers(e));var x=r[0]._texture.baseTexture;this.state.blendMode=Do(e.blendMode,x.alphaMode),p.state.set(this.state);var A=p.gl,I=e.worldTransform.copyTo(this.tempMatrix);I.prepend(p.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=I.toArray(!0),this.shader.uniforms.uColor=function(a,i,e,r){return e=e||new Float32Array(4),r||void 0===r?(e[0]=a[0]*i,e[1]=a[1]*i,e[2]=a[2]*i):(e[0]=a[0],e[1]=a[1],e[2]=a[2]),e[3]=i,e}(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,x.alphaMode),this.shader.uniforms.uSampler=x,this.renderer.shader.bind(this.shader);for(var S=!1,R=0,L=0;R<m;R+=d,L+=1){var B=m-R;B>d&&(B=d),L>=w.length&&w.push(this._generateOneMoreBuffer(e));var X=w[L];X.uploadDynamic(r,R,B),(S=S||X._updateID<(e._bufferUpdateIDs[L]||0))&&(X._updateID=e._updateID,X.uploadStatic(r,R,B)),p.geometry.bind(X.geometry),A.drawElements(A.TRIANGLES,6*B,A.UNSIGNED_SHORT,0)}}},i.prototype.generateBuffers=function(e){for(var r=[],o=e._maxSize,d=e._batchSize,p=e._properties,m=0;m<o;m+=d)r.push(new cu(this.properties,p,d));return r},i.prototype._generateOneMoreBuffer=function(e){return new cu(this.properties,e._properties,e._batchSize)},i.prototype.uploadVertices=function(e,r,o,d,p,m){for(var w=0,x=0,A=0,I=0,S=0;S<o;++S){var R=e[r+S],L=R._texture,B=R.scale.x,X=R.scale.y,se=L.trim,Fe=L.orig;se?(w=(x=se.x-R.anchor.x*Fe.width)+se.width,A=(I=se.y-R.anchor.y*Fe.height)+se.height):(w=Fe.width*(1-R.anchor.x),x=Fe.width*-R.anchor.x,A=Fe.height*(1-R.anchor.y),I=Fe.height*-R.anchor.y),d[m]=x*B,d[m+1]=I*X,d[m+p]=w*B,d[m+p+1]=I*X,d[m+2*p]=w*B,d[m+2*p+1]=A*X,d[m+3*p]=x*B,d[m+3*p+1]=A*X,m+=4*p}},i.prototype.uploadPosition=function(e,r,o,d,p,m){for(var w=0;w<o;w++){var x=e[r+w].position;d[m]=x.x,d[m+1]=x.y,d[m+p]=x.x,d[m+p+1]=x.y,d[m+2*p]=x.x,d[m+2*p+1]=x.y,d[m+3*p]=x.x,d[m+3*p+1]=x.y,m+=4*p}},i.prototype.uploadRotation=function(e,r,o,d,p,m){for(var w=0;w<o;w++){var x=e[r+w].rotation;d[m]=x,d[m+p]=x,d[m+2*p]=x,d[m+3*p]=x,m+=4*p}},i.prototype.uploadUvs=function(e,r,o,d,p,m){for(var w=0;w<o;++w){var x=e[r+w]._texture._uvs;x?(d[m]=x.x0,d[m+1]=x.y0,d[m+p]=x.x1,d[m+p+1]=x.y1,d[m+2*p]=x.x2,d[m+2*p+1]=x.y2,d[m+3*p]=x.x3,d[m+3*p+1]=x.y3,m+=4*p):(d[m]=0,d[m+1]=0,d[m+p]=0,d[m+p+1]=0,d[m+2*p]=0,d[m+2*p+1]=0,d[m+3*p]=0,d[m+3*p+1]=0,m+=4*p)}},i.prototype.uploadTint=function(e,r,o,d,p,m){for(var w=0;w<o;++w){var x=e[r+w],I=x.alpha,S=I<1&&x._texture.baseTexture.alphaMode>0?mn(x._tintRGB,I):x._tintRGB+(255*I<<24);d[m]=S,d[m+p]=S,d[m+2*p]=S,d[m+3*p]=S,m+=4*p}},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},i}(ir),Kr=(()=>{return(a=Kr||(Kr={})).MITER="miter",a.BEVEL="bevel",a.ROUND="round",Kr;var a})(),_r=(()=>{return(a=_r||(_r={})).BUTT="butt",a.ROUND="round",a.SQUARE="square",_r;var a})(),to={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(a,i){if(void 0===i&&(i=20),!this.adaptive||!a||isNaN(a))return i;var e=Math.ceil(a/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},Dl=function(){function a(){this.color=16777215,this.alpha=1,this.texture=ct.WHITE,this.matrix=null,this.visible=!1,this.reset()}return a.prototype.clone=function(){var i=new a;return i.color=this.color,i.alpha=this.alpha,i.texture=this.texture,i.matrix=this.matrix,i.visible=this.visible,i},a.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ct.WHITE,this.matrix=null,this.visible=!1},a.prototype.destroy=function(){this.texture=null,this.matrix=null},a}(),fu=function(a,i){return(fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function ea(a,i){function e(){this.constructor=a}fu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var ta={build:function(a){a.points=a.shape.points.slice()},triangulate:function(a,i){var e=a.points,r=a.holes,o=i.points,d=i.indices;if(e.length>=6){for(var p=[],m=0;m<r.length;m++){var w=r[m];p.push(e.length/2),e=e.concat(w.points)}var x=ee()(e,p,2);if(!x)return;var A=o.length/2;for(m=0;m<x.length;m+=3)d.push(x[m]+A),d.push(x[m+1]+A),d.push(x[m+2]+A);for(m=0;m<e.length;m++)o.push(e[m])}}},gt={build:function(a){var d,p,i=a.shape,e=a.points,r=i.x,o=i.y;if(e.length=0,a.type===Gt.CIRC)d=i.radius,p=i.radius;else{var m=a.shape;d=m.width,p=m.height}if(0!==d&&0!==p){var w=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(d+p));w/=2.3;for(var x=2*Math.PI/w,A=0;A<w-.5;A++)e.push(r+Math.sin(-x*A)*d,o+Math.cos(-x*A)*p);e.push(e[0],e[1])}},triangulate:function(a,i){var e=a.points,r=i.points,o=i.indices,d=r.length/2,p=d,m=a.shape,w=a.matrix,x=m.x,A=m.y;r.push(a.matrix?w.a*x+w.c*A+w.tx:x,a.matrix?w.b*x+w.d*A+w.ty:A);for(var I=0;I<e.length;I+=2)r.push(e[I],e[I+1]),o.push(d++,p,d)}};function jn(a,i,e){return a+(i-a)*e}function ra(a,i,e,r,o,d,p){void 0===p&&(p=[]);for(var w=p,x=0,A=0,I=0,S=0,R=0,L=0,B=0,X=0;B<=20;++B)x=jn(a,e,X=B/20),A=jn(i,r,X),I=jn(e,o,X),S=jn(r,d,X),R=jn(x,I,X),L=jn(A,S,X),w.push(R,L);return w}var mi={build:function(a){var i=a.shape,e=a.points,r=i.x,o=i.y,d=i.width,p=i.height,m=Math.max(0,Math.min(i.radius,Math.min(d,p)/2));e.length=0,m?(ra(r,o+m,r,o,r+m,o,e),ra(r+d-m,o,r+d,o,r+d,o+m,e),ra(r+d,o+p-m,r+d,o+p,r+d-m,o+p,e),ra(r+m,o+p,r,o+p,r,o+p-m,e)):e.push(r,o,r+d,o,r+d,o+p,r,o+p)},triangulate:function(a,i){for(var e=a.points,r=i.points,o=i.indices,d=r.length/2,p=ee()(e,null,2),m=0,w=p.length;m<w;m+=3)o.push(p[m]+d),o.push(p[m+1]+d),o.push(p[m+2]+d);for(m=0,w=e.length;m<w;m++)r.push(e[m],e[++m])}};function ia(a,i,e,r,o,d,p,m){var S,R;p?(S=r,R=-e):(S=-r,R=e);var X=a+e*d+S,se=i+r*d+R;return m.push(a-e*o+S,i-r*o+R),m.push(X,se),2}function Qr(a,i,e,r,o,d,p,m){var w=e-a,x=r-i,A=Math.atan2(w,x),I=Math.atan2(o-a,d-i);m&&A<I?A+=2*Math.PI:!m&&A>I&&(I+=2*Math.PI);var S=A,R=I-A,L=Math.abs(R),B=Math.sqrt(w*w+x*x),X=1+(15*L*Math.sqrt(B)/Math.PI>>0),se=R/X;if(S+=se,m){p.push(a,i),p.push(e,r);for(var Fe=1,ye=S;Fe<X;Fe++,ye+=se)p.push(a,i),p.push(a+Math.sin(ye)*B,i+Math.cos(ye)*B);p.push(a,i),p.push(o,d)}else{for(p.push(e,r),p.push(a,i),Fe=1,ye=S;Fe<X;Fe++,ye+=se)p.push(a+Math.sin(ye)*B,i+Math.cos(ye)*B),p.push(a,i);p.push(o,d),p.push(a,i)}return 2*X}function sa(a,i){a.lineStyle.native?function(a,i){var e=0,r=a.shape,o=a.points||r.points,d=r.type!==Gt.POLY||r.closeStroke;if(0!==o.length){var p=i.points,m=i.indices,w=o.length/2,x=p.length/2,A=x;for(p.push(o[0],o[1]),e=1;e<w;e++)p.push(o[2*e],o[2*e+1]),m.push(A,A+1),A++;d&&m.push(A,x)}}(a,i):function(a,i){var e=a.shape,r=a.points||e.points.slice(),o=i.closePointEps;if(0!==r.length){var d=a.lineStyle,p=new Jt(r[0],r[1]),m=new Jt(r[r.length-2],r[r.length-1]),w=e.type!==Gt.POLY||e.closeStroke,x=Math.abs(p.x-m.x)<o&&Math.abs(p.y-m.y)<o;if(w){r=r.slice(),x&&(r.pop(),r.pop(),m.set(r[r.length-2],r[r.length-1]));var A=.5*(p.x+m.x),I=.5*(m.y+p.y);r.unshift(A,I),r.push(A,I)}var S=i.points,R=r.length/2,L=r.length,B=S.length/2,X=d.width/2,se=X*X,Fe=d.miterLimit*d.miterLimit,ye=r[0],Ge=r[1],xe=r[2],me=r[3],vt=0,It=0,Xe=-(Ge-me),Ye=ye-xe,Tt=0,xt=0,en=Math.sqrt(Xe*Xe+Ye*Ye);Xe/=en,Ye/=en,Xe*=X,Ye*=X;var wi=d.alignment,Ke=2*(1-wi),rt=2*wi;w||(d.cap===_r.ROUND?L+=Qr(ye-Xe*(Ke-rt)*.5,Ge-Ye*(Ke-rt)*.5,ye-Xe*Ke,Ge-Ye*Ke,ye+Xe*rt,Ge+Ye*rt,S,!0)+2:d.cap===_r.SQUARE&&(L+=ia(ye,Ge,Xe,Ye,Ke,rt,!0,S))),S.push(ye-Xe*Ke,Ge-Ye*Ke),S.push(ye+Xe*rt,Ge+Ye*rt);for(var We=1;We<R-1;++We){vt=r[2*(We+1)],It=r[2*(We+1)+1],Xe=-((Ge=r[2*(We-1)+1])-(me=r[2*We+1])),Ye=(ye=r[2*(We-1)])-(xe=r[2*We]),Xe/=en=Math.sqrt(Xe*Xe+Ye*Ye),Ye/=en,Xe*=X,Ye*=X,Tt=-(me-It),xt=xe-vt,Tt/=en=Math.sqrt(Tt*Tt+xt*xt),xt/=en,Tt*=X,xt*=X;var ii=xe-ye,Di=Ge-me,Ti=xe-vt,si=It-me,cr=Di*Ti-si*ii,hr=cr<0;if(Math.abs(cr)<.1)S.push(xe-Xe*Ke,me-Ye*Ke),S.push(xe+Xe*rt,me+Ye*rt);else{var bo=(-Xe+ye)*(-Ye+me)-(-Xe+xe)*(-Ye+Ge),qi=(-Tt+vt)*(-xt+me)-(-Tt+xe)*(-xt+It),xi=(ii*qi-Ti*bo)/cr,Dr=(si*bo-Di*qi)/cr,oi=(xi-xe)*(xi-xe)+(Dr-me)*(Dr-me),wt=xe+(xi-xe)*Ke,Gn=me+(Dr-me)*Ke,Fn=xe-(xi-xe)*rt,bt=me-(Dr-me)*rt,Tr=hr?Ke:rt;oi<=Math.min(ii*ii+Di*Di,Ti*Ti+si*si)+Tr*Tr*se?d.join===Kr.BEVEL||oi/se>Fe?(hr?(S.push(wt,Gn),S.push(xe+Xe*rt,me+Ye*rt),S.push(wt,Gn),S.push(xe+Tt*rt,me+xt*rt)):(S.push(xe-Xe*Ke,me-Ye*Ke),S.push(Fn,bt),S.push(xe-Tt*Ke,me-xt*Ke),S.push(Fn,bt)),L+=2):d.join===Kr.ROUND?hr?(S.push(wt,Gn),S.push(xe+Xe*rt,me+Ye*rt),L+=Qr(xe,me,xe+Xe*rt,me+Ye*rt,xe+Tt*rt,me+xt*rt,S,!0)+4,S.push(wt,Gn),S.push(xe+Tt*rt,me+xt*rt)):(S.push(xe-Xe*Ke,me-Ye*Ke),S.push(Fn,bt),L+=Qr(xe,me,xe-Xe*Ke,me-Ye*Ke,xe-Tt*Ke,me-xt*Ke,S,!1)+4,S.push(xe-Tt*Ke,me-xt*Ke),S.push(Fn,bt)):(S.push(wt,Gn),S.push(Fn,bt)):(S.push(xe-Xe*Ke,me-Ye*Ke),S.push(xe+Xe*rt,me+Ye*rt),d.join===Kr.BEVEL||oi/se>Fe||(d.join===Kr.ROUND?L+=hr?Qr(xe,me,xe+Xe*rt,me+Ye*rt,xe+Tt*rt,me+xt*rt,S,!0)+2:Qr(xe,me,xe-Xe*Ke,me-Ye*Ke,xe-Tt*Ke,me-xt*Ke,S,!1)+2:(hr?(S.push(Fn,bt),S.push(Fn,bt)):(S.push(wt,Gn),S.push(wt,Gn)),L+=2)),S.push(xe-Tt*Ke,me-xt*Ke),S.push(xe+Tt*rt,me+xt*rt),L+=2)}}Xe=-((Ge=r[2*(R-2)+1])-(me=r[2*(R-1)+1])),Ye=(ye=r[2*(R-2)])-(xe=r[2*(R-1)]),Xe/=en=Math.sqrt(Xe*Xe+Ye*Ye),Ye/=en,S.push(xe-(Xe*=X)*Ke,me-(Ye*=X)*Ke),S.push(xe+Xe*rt,me+Ye*rt),w||(d.cap===_r.ROUND?L+=Qr(xe-Xe*(Ke-rt)*.5,me-Ye*(Ke-rt)*.5,xe-Xe*Ke,me-Ye*Ke,xe+Xe*rt,me+Ye*rt,S,!1)+2:d.cap===_r.SQUARE&&(L+=ia(xe,me,Xe,Ye,Ke,rt,!1,S)));var zn=i.indices,Oa=to.epsilon*to.epsilon;for(We=B;We<L+B-2;++We)ye=S[2*We],Ge=S[2*We+1],xe=S[2*(We+1)],me=S[2*(We+1)+1],vt=S[2*(We+2)],It=S[2*(We+2)+1],!(Math.abs(ye*(me-It)+xe*(It-Ge)+vt*(Ge-me))<Oa)&&zn.push(We,We+1,We+2)}}(a,i)}var qt,oa=function(a){function i(e,r,o,d,p,m){void 0===m&&(m=0),p=p||d/2;for(var x=-1*Math.PI/2+m,A=2*o,I=Us/A,S=[],R=0;R<A;R++){var L=R%2?p:d,B=R*I+x;S.push(e+L*Math.cos(B),r+L*Math.sin(B))}return a.call(this,S)||this}return ea(i,a),i}(Dn),aa=function(){function a(){}return a.curveTo=function(i,e,r,o,d,p){var x=p[p.length-1]-e,A=p[p.length-2]-i,I=o-e,S=r-i,R=Math.abs(x*S-A*I);if(R<1e-8||0===d)return(p[p.length-2]!==i||p[p.length-1]!==e)&&p.push(i,e),null;var L=x*x+A*A,B=I*I+S*S,X=x*I+A*S,se=d*Math.sqrt(L)/R,Fe=d*Math.sqrt(B)/R,ye=se*X/L,Ge=Fe*X/B,xe=se*S+Fe*A,me=se*I+Fe*x,Xe=S*(se+Ge),Ye=I*(se+Ge);return{cx:xe+i,cy:me+e,radius:d,startAngle:Math.atan2(x*(Fe+ye)-me,A*(Fe+ye)-xe),endAngle:Math.atan2(Ye-me,Xe-xe),anticlockwise:A*I>S*x}},a.arc=function(i,e,r,o,d,p,m,w,x){for(var A=m-p,I=to._segmentsCount(Math.abs(A)*d,40*Math.ceil(Math.abs(A)/Us)),S=A/(2*I),R=2*S,L=Math.cos(S),B=Math.sin(S),X=I-1,se=X%1/X,Fe=0;Fe<=X;++Fe){var Ge=S+p+R*(Fe+se*Fe),xe=Math.cos(Ge),me=-Math.sin(Ge);x.push((L*xe+B*me)*d+r,(L*-me+B*xe)*d+o)}},a}(),no=function(){function a(){}return a.curveLength=function(i,e,r,o,d,p,m,w){for(var A=0,I=0,S=0,R=0,L=0,B=0,X=0,se=0,Fe=0,ye=0,Ge=0,xe=i,me=e,vt=1;vt<=10;++vt)ye=xe-(se=(X=(B=(L=1-(I=vt/10))*L)*L)*i+3*B*I*r+3*L*(S=I*I)*d+(R=S*I)*m),Ge=me-(Fe=X*e+3*B*I*o+3*L*S*p+R*w),xe=se,me=Fe,A+=Math.sqrt(ye*ye+Ge*Ge);return A},a.curveTo=function(i,e,r,o,d,p,m){var w=m[m.length-2],x=m[m.length-1];m.length-=2;var A=to._segmentsCount(a.curveLength(w,x,i,e,r,o,d,p)),I=0,S=0,R=0,L=0,B=0;m.push(w,x);for(var X=1,se=0;X<=A;++X)m.push((R=(S=(I=1-(se=X/A))*I)*I)*w+3*S*se*i+3*I*(L=se*se)*r+(B=L*se)*d,R*x+3*S*se*e+3*I*L*o+B*p)},a}(),gn=function(){function a(){}return a.curveLength=function(i,e,r,o,d,p){var m=i-2*r+d,w=e-2*o+p,x=2*r-2*i,A=2*o-2*e,I=4*(m*m+w*w),S=4*(m*x+w*A),R=x*x+A*A,L=2*Math.sqrt(I+S+R),B=Math.sqrt(I),X=2*I*B,se=2*Math.sqrt(R),Fe=S/B;return(X*L+B*S*(L-se)+(4*R*I-S*S)*Math.log((2*B+Fe+L)/(Fe+se)))/(4*X)},a.curveTo=function(i,e,r,o,d){for(var p=d[d.length-2],m=d[d.length-1],w=to._segmentsCount(a.curveLength(p,m,i,e,r,o)),x=0,A=0,I=1;I<=w;++I){var S=I/w;d.push((x=p+(i-p)*S)+(i+(r-i)*S-x)*S,(A=m+(e-m)*S)+(e+(o-e)*S-A)*S)}},a}(),br=function(){function a(){this.reset()}return a.prototype.begin=function(i,e,r){this.reset(),this.style=i,this.start=e,this.attribStart=r},a.prototype.end=function(i,e){this.attribSize=e-this.attribStart,this.size=i-this.start},a.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},a}(),ro=((qt={})[Gt.POLY]=ta,qt[Gt.CIRC]=gt,qt[Gt.ELIP]=gt,qt[Gt.RECT]={build:function(a){var i=a.shape,e=i.x,r=i.y,o=i.width,d=i.height,p=a.points;p.length=0,p.push(e,r,e+o,r,e+o,r+d,e,r+d)},triangulate:function(a,i){var e=a.points,r=i.points,o=r.length/2;r.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),i.indices.push(o,o+1,o+2,o+1,o+2,o+3)}},qt[Gt.RREC]=mi,qt),du=[],yi=[],pu=function(){function a(i,e,r,o){void 0===e&&(e=null),void 0===r&&(r=null),void 0===o&&(o=null),this.shape=i,this.lineStyle=r,this.fillStyle=e,this.matrix=o,this.type=i.type,this.points=[],this.holes=[]}return a.prototype.clone=function(){return new a(this.shape,this.fillStyle,this.lineStyle,this.matrix)},a.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},a}(),ws=new Jt,Tl=new Or,Ds=function(a){function i(){var e=a.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Or,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return ea(i,a),Object.defineProperty(i.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),i.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),yi.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var r=this.batches[e];r.reset(),du.push(r)}this.batches.length=0},i.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},i.prototype.drawShape=function(e,r,o,d){void 0===r&&(r=null),void 0===o&&(o=null),void 0===d&&(d=null);var p=new pu(e,r,o,d);return this.graphicsData.push(p),this.dirty++,this},i.prototype.drawHole=function(e,r){if(void 0===r&&(r=null),!this.graphicsData.length)return null;var o=new pu(e,null,null,r),d=this.graphicsData[this.graphicsData.length-1];return o.lineStyle=d.lineStyle,d.holes.push(o),this.dirty++,this},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},i.prototype.containsPoint=function(e){for(var r=this.graphicsData,o=0;o<r.length;++o){var d=r[o];if(d.fillStyle.visible&&d.shape&&(d.matrix?d.matrix.applyInverse(e,ws):ws.copyFrom(e),d.shape.contains(ws.x,ws.y))){var p=!1;if(d.holes)for(var m=0;m<d.holes.length;m++)if(d.holes[m].shape.contains(ws.x,ws.y)){p=!0;break}if(!p)return!0}}return!1},i.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,o=this.graphicsData,d=null,p=null;this.batches.length>0&&(p=(d=this.batches[this.batches.length-1]).style);for(var m=this.shapeIndex;m<o.length;m++){this.shapeIndex++;var w=o[m],x=w.fillStyle,A=w.lineStyle;ro[w.type].build(w),w.matrix&&this.transformPoints(w.points,w.matrix);for(var S=0;S<2;S++){var R=0===S?x:A;if(R.visible){var B=this.indices.length,X=this.points.length/2;R.texture.baseTexture.wrapMode=at.REPEAT,0===S?this.processFill(w):this.processLine(w);var se=this.points.length/2-X;0!==se&&(d&&!this._compareStyles(p,R)&&(d.end(B,X),d=null),d||((d=du.pop()||new br).begin(R,B,X),this.batches.push(d),p=R),this.addUvs(this.points,r,R.texture,X,se,R.matrix))}}}var ye=this.points.length/2;if(d&&d.end(this.indices.length,ye),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=ye>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},i.prototype._compareStyles=function(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)},i.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,r=this.graphicsData.length;e<r;e++){var o=this.graphicsData[e],d=o.fillStyle,p=o.lineStyle;if(d&&!d.texture.baseTexture.valid||p&&!p.texture.baseTexture.valid)return!1}return!0},i.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,r=0,o=e.length;r<o;r++)for(var d=e[r],p=0;p<d.size;p++){var m=d.start+p;this.indicesUint16[m]=this.indicesUint16[m]-d.attribStart}},i.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*i.BATCHABLE_SIZE},i.prototype.buildDrawCalls=function(){for(var e=++Vt._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),yi.push(this.drawCalls[r]);this.drawCalls.length=0;var o=this.colors,d=this.textureIds,p=yi.pop();p||((p=new Zs).texArray=new ru),p.texArray.count=0,p.start=0,p.size=0,p.type=Pe.TRIANGLES;var m=0,w=null,x=0,A=!1,I=Pe.TRIANGLES,S=0;for(this.drawCalls.push(p),r=0;r<this.batches.length;r++){var R=this.batches[r],B=R.style,X=B.texture.baseTexture;A!==!!B.native&&(I=(A=!!B.native)?Pe.LINES:Pe.TRIANGLES,w=null,m=8,e++),w!==X&&(w=X,X._batchEnabled!==e&&(8===m&&(e++,m=0,p.size>0&&((p=yi.pop())||((p=new Zs).texArray=new ru),this.drawCalls.push(p)),p.start=S,p.size=0,p.texArray.count=0,p.type=I),X.touched=1,X._batchEnabled=e,X._batchLocation=m,X.wrapMode=10497,p.texArray.elements[p.texArray.count++]=X,m++)),p.size+=R.size,S+=R.size,x=X._batchLocation,this.addColors(o,B.color,B.alpha,R.attribSize,R.attribStart),this.addTextureIds(d,x,R.attribSize,R.attribStart)}Vt._globalBatch=e,this.packAttributes()},i.prototype.packAttributes=function(){for(var e=this.points,r=this.uvs,o=this.colors,d=this.textureIds,p=new ArrayBuffer(3*e.length*4),m=new Float32Array(p),w=new Uint32Array(p),x=0,A=0;A<e.length/2;A++)m[x++]=e[2*A],m[x++]=e[2*A+1],m[x++]=r[2*A],m[x++]=r[2*A+1],w[x++]=o[A],m[x++]=d[A];this._buffer.update(p),this._indexBuffer.update(this.indicesUint16)},i.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),ta.triangulate(e,this)):ro[e.type].triangulate(e,this)},i.prototype.processLine=function(e){sa(e,this);for(var r=0;r<e.holes.length;r++)sa(e.holes[r],this)},i.prototype.processHoles=function(e){for(var r=0;r<e.length;r++){var o=e[r];ro[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix)}},i.prototype.calculateBounds=function(){var e=this._bounds,r=Tl,o=Zt.IDENTITY;this._bounds.clear(),r.clear();for(var d=0;d<this.graphicsData.length;d++){var p=this.graphicsData[d],m=p.shape,w=p.type,x=p.lineStyle,A=p.matrix||Zt.IDENTITY,I=0;if(x&&x.visible){var S=x.alignment;I=x.width,I*=w===Gt.POLY?.5+Math.abs(.5-S):Math.max(0,S)}o!==A&&(r.isEmpty()||(e.addBoundsMatrix(r,o),r.clear()),o=A),w===Gt.RECT||w===Gt.RREC?r.addFramePad(m.x,m.y,m.x+m.width,m.y+m.height,I,I):w===Gt.CIRC?r.addFramePad(m.x,m.y,m.x,m.y,m.radius+I,m.radius+I):w===Gt.ELIP?r.addFramePad(m.x,m.y,m.x,m.y,m.width+I,m.height+I):e.addVerticesMatrix(o,m.points,0,m.points.length,I,I)}r.isEmpty()||e.addBoundsMatrix(r,o),e.pad(this.boundsPadding,this.boundsPadding)},i.prototype.transformPoints=function(e,r){for(var o=0;o<e.length/2;o++){var d=e[2*o],p=e[2*o+1];e[2*o]=r.a*d+r.c*p+r.tx,e[2*o+1]=r.b*d+r.d*p+r.ty}},i.prototype.addColors=function(e,r,o,d,p){void 0===p&&(p=0);var w=mn((r>>16)+(65280&r)+((255&r)<<16),o);e.length=Math.max(e.length,p+d);for(var x=0;x<d;x++)e[p+x]=w},i.prototype.addTextureIds=function(e,r,o,d){void 0===d&&(d=0),e.length=Math.max(e.length,d+o);for(var p=0;p<o;p++)e[d+p]=r},i.prototype.addUvs=function(e,r,o,d,p,m){void 0===m&&(m=null);for(var w=0,x=r.length,A=o.frame;w<p;){var I=e[2*(d+w)],S=e[2*(d+w)+1];if(m){var R=m.a*I+m.c*S+m.tx;S=m.b*I+m.d*S+m.ty,I=R}w++,r.push(I/A.width,S/A.height)}var L=o.baseTexture;(A.width<L.width||A.height<L.height)&&this.adjustUvs(r,o,x,p)},i.prototype.adjustUvs=function(e,r,o,d){for(var p=r.baseTexture,m=1e-6,w=o+2*d,x=r.frame,A=x.width/p.width,I=x.height/p.height,S=x.x/x.width,R=x.y/x.height,L=Math.floor(e[o]+m),B=Math.floor(e[o+1]+m),X=o+2;X<w;X+=2)L=Math.min(L,Math.floor(e[X]+m)),B=Math.min(B,Math.floor(e[X+1]+m));for(S-=L,R-=B,X=o;X<w;X+=2)e[X]=(e[X]+S)*A,e[X+1]=(e[X+1]+R)*I},i.BATCHABLE_SIZE=100,i}(ys),Hr=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=_r.BUTT,e.join=Kr.MITER,e.miterLimit=10,e}return ea(i,a),i.prototype.clone=function(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},i.prototype.reset=function(){a.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},i}(Dl),_i=new Float32Array(3),dt={},zi=function(a){function i(e){void 0===e&&(e=null);var r=a.call(this)||this;return r._geometry=e||new Ds,r._geometry.refCount++,r.shader=null,r.state=fs.for2d(),r._fillStyle=new Dl,r._lineStyle=new Hr,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=Ee.NORMAL,r}return ea(i,a),Object.defineProperty(i.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),i.prototype.clone=function(){return this.finishPoly(),new i(this._geometry)},Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),i.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var r=arguments;e={width:r[0]||0,color:r[1]||0,alpha:void 0!==r[2]?r[2]:1,alignment:void 0!==r[3]?r[3]:.5,native:!!r[4]}}return this.lineTextureStyle(e)},i.prototype.lineTextureStyle=function(e){if("number"==typeof e){Ln("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var r=arguments,o=r[0],d=r[1],p=r[2],m=r[3],w=r[4],x=r[5],A=r[6];e={width:o,texture:d,color:p,alpha:m,matrix:w,alignment:x,native:A},Object.keys(e).forEach(function(S){return void 0===e[S]&&delete e[S]})}e=Object.assign({width:0,texture:ct.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:_r.BUTT,join:Kr.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var I=e.width>0&&e.alpha>0;return I?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:I},e)):this._lineStyle.reset(),this},i.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Dn,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Dn,this.currentPath.closeStroke=!1},i.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},i.prototype.moveTo=function(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this},i.prototype.lineTo=function(e,r){this.currentPath||this.moveTo(0,0);var o=this.currentPath.points;return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),this},i.prototype._initCurve=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,r]):this.moveTo(e,r)},i.prototype.quadraticCurveTo=function(e,r,o,d){this._initCurve();var p=this.currentPath.points;return 0===p.length&&this.moveTo(0,0),gn.curveTo(e,r,o,d,p),this},i.prototype.bezierCurveTo=function(e,r,o,d,p,m){return this._initCurve(),no.curveTo(e,r,o,d,p,m,this.currentPath.points),this},i.prototype.arcTo=function(e,r,o,d,p){this._initCurve(e,r);var w=aa.curveTo(e,r,o,d,p,this.currentPath.points);return w&&this.arc(w.cx,w.cy,w.radius,w.startAngle,w.endAngle,w.anticlockwise),this},i.prototype.arc=function(e,r,o,d,p,m){if(void 0===m&&(m=!1),d===p)return this;if(!m&&p<=d?p+=Us:m&&d<=p&&(d+=Us),0==p-d)return this;var x=e+Math.cos(d)*o,A=r+Math.sin(d)*o,I=this._geometry.closePointEps,S=this.currentPath?this.currentPath.points:null;if(S){var R=Math.abs(S[S.length-2]-x),L=Math.abs(S[S.length-1]-A);R<I&&L<I||S.push(x,A)}else this.moveTo(x,A),S=this.currentPath.points;return aa.arc(x,A,e,r,o,d,p,m,S),this},i.prototype.beginFill=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=1),this.beginTextureFill({texture:ct.WHITE,color:e,alpha:r})},i.prototype.beginTextureFill=function(e){if(e instanceof ct){Ln("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var r=arguments,o=r[0],d=r[1],p=r[2],m=r[3];e={texture:o,color:d,alpha:p,matrix:m},Object.keys(e).forEach(function(x){return void 0===e[x]&&delete e[x]})}e=Object.assign({texture:ct.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var w=e.alpha>0;return w?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:w},e)):this._fillStyle.reset(),this},i.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},i.prototype.drawRect=function(e,r,o,d){return this.drawShape(new lt(e,r,o,d))},i.prototype.drawRoundedRect=function(e,r,o,d,p){return this.drawShape(new Co(e,r,o,d,p))},i.prototype.drawCircle=function(e,r,o){return this.drawShape(new Ar(e,r,o))},i.prototype.drawEllipse=function(e,r,o,d){return this.drawShape(new Pi(e,r,o,d))},i.prototype.drawPolygon=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];var d,p=!0,m=r[0];m.points?(p=m.closeStroke,d=m.points):d=Array.isArray(r[0])?r[0]:r;var w=new Dn(d);return w.closeStroke=p,this.drawShape(w),this},i.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},i.prototype.drawStar=function(e,r,o,d,p,m){return void 0===m&&(m=0),this.drawPolygon(new oa(e,r,o,d,p,m))},i.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},i.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Gt.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},i.prototype._render=function(e){this.finishPoly();var r=this._geometry;r.updateBatches(e.context.supports.uint32Indices),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},i.prototype._populateBatches=function(){var e=this._geometry,r=this.blendMode,o=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=o,this.vertexData=new Float32Array(e.points);for(var d=0;d<o;d++){var p=e.batches[d],m=p.style.color,w=new Float32Array(this.vertexData.buffer,4*p.attribStart*2,2*p.attribSize),x=new Float32Array(e.uvsFloat32.buffer,4*p.attribStart*2,2*p.attribSize),I={vertexData:w,blendMode:r,indices:new Uint16Array(e.indicesUint16.buffer,2*p.start,p.size),uvs:x,_batchRGB:Ai(m),_tintRGB:m,_texture:p.style.texture,alpha:p.style.alpha,worldAlpha:1};this.batches[d]=I}},i.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,o=this.batches.length;r<o;r++){var d=this.batches[r];d.worldAlpha=this.worldAlpha*d.alpha,e.plugins[this.pluginName].render(d)}}},i.prototype._renderDirect=function(e){var r=this._resolveDirectShader(e),o=this._geometry,d=this.tint,p=this.worldAlpha,m=r.uniforms,w=o.drawCalls;m.translationMatrix=this.transform.worldTransform,m.tint[0]=(d>>16&255)/255*p,m.tint[1]=(d>>8&255)/255*p,m.tint[2]=(255&d)/255*p,m.tint[3]=p,e.shader.bind(r),e.geometry.bind(o,r),e.state.set(this.state);for(var x=0,A=w.length;x<A;x++)this._renderDrawCallDirect(e,o.drawCalls[x])},i.prototype._renderDrawCallDirect=function(e,r){for(var o=r.texArray,d=r.type,p=r.size,m=r.start,w=o.count,x=0;x<w;x++)e.texture.bind(o.elements[x],x);e.geometry.draw(d,p,m)},i.prototype._resolveDirectShader=function(e){var r=this.shader,o=this.pluginName;if(!r){if(!dt[o]){for(var d=e.plugins.batch.MAX_TEXTURES,p=new Int32Array(d),m=0;m<d;m++)p[m]=m;var w={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zt,default:Fr.from({uSamplers:p},!0)};dt[o]=new pi(e.plugins[o]._shader.program,w)}r=dt[o]}return r},i.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var r=e.bounds;this._bounds.addFrame(this.transform,r.minX,r.minY,r.maxX,r.maxY)}},i.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,i._TEMP_POINT),this._geometry.containsPoint(i._TEMP_POINT)},i.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Ai(this.tint,_i),r=0;r<this.batches.length;r++){var o=this.batches[r],d=o._batchRGB,x=(e[0]*d[0]*255<<16)+(e[1]*d[1]*255<<8)+(0|e[2]*d[2]*255);o._tintRGB=(x>>16)+(65280&x)+((255&x)<<16)}}},i.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var r=this.transform.worldTransform,o=r.a,d=r.b,p=r.c,m=r.d,w=r.tx,x=r.ty,A=this._geometry.points,I=this.vertexData,S=0,R=0;R<A.length;R+=2){var L=A[R],B=A[R+1];I[S++]=o*L+p*B+w,I[S++]=m*B+d*L+x}}},i.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},i.prototype.setMatrix=function(e){return this._matrix=e,this},i.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},i.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},i.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,a.prototype.destroy.call(this,e)},i._TEMP_POINT=new Jt,i}(bn),la=function(a,i){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},bi=new Jt,gu=new Uint16Array([0,1,2,0,2,3]),Ts=function(a){function i(e){var r=a.call(this)||this;return r._anchor=new Pr(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=Ee.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||ct.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=gu,r.pluginName="batch",r.isSprite=!0,r._roundPixels=O.ROUND_PIXELS,r}return function(a,i){function e(){this.constructor=a}la(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ci(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ci(this.scale.y)*this._height/this._texture.orig.height)},i.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},i.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var r=this.transform.worldTransform,o=r.a,d=r.b,p=r.c,m=r.d,w=r.tx,x=r.ty,A=this.vertexData,I=e.trim,S=e.orig,R=this._anchor,L=0,B=0,X=0,se=0;if(I?(L=(B=I.x-R._x*S.width)+I.width,X=(se=I.y-R._y*S.height)+I.height):(L=(B=-R._x*S.width)+S.width,X=(se=-R._y*S.height)+S.height),A[0]=o*B+p*se+w,A[1]=m*se+d*B+x,A[2]=o*L+p*se+w,A[3]=m*se+d*L+x,A[4]=o*L+p*X+w,A[5]=m*X+d*L+x,A[6]=o*B+p*X+w,A[7]=m*X+d*B+x,this._roundPixels)for(var Fe=O.RESOLUTION,ye=0;ye<A.length;++ye)A[ye]=Math.round((A[ye]*Fe|0)/Fe)}},i.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this.vertexTrimmedData,o=this._texture.orig,d=this._anchor,p=this.transform.worldTransform,m=p.a,w=p.b,x=p.c,A=p.d,I=p.tx,S=p.ty,R=-d._x*o.width,L=R+o.width,B=-d._y*o.height,X=B+o.height;r[0]=m*R+x*B+I,r[1]=A*B+w*R+S,r[2]=m*L+x*B+I,r[3]=A*B+w*L+S,r[4]=m*L+x*X+I,r[5]=A*X+w*L+S,r[6]=m*R+x*X+I,r[7]=A*X+w*R+S},i.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},i.prototype._calculateBounds=function(){var e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},i.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):a.prototype.getLocalBounds.call(this,e)},i.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,bi);var r=this._texture.orig.width,o=this._texture.orig.height,d=-r*this.anchor.x,p=0;return!!(bi.x>=d&&bi.x<d+r&&(p=-o*this.anchor.y,bi.y>=p&&bi.y<p+o))},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},i.from=function(e,r){return new i(e instanceof ct?e:ct.from(e,r))},Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var r=ci(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var r=ci(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ct.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),i}(bn),vu=function(a,i){return(vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Hn=(()=>{return(a=Hn||(Hn={}))[a.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",a[a.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",Hn;var a})(),ca={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Hn.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},mu=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Xi=function(){function a(i){this.styleID=0,this.reset(),fa(this,i,i)}return a.prototype.clone=function(){var i={};return fa(i,this,ca),new a(i)},a.prototype.reset=function(){fa(this,ca,ca)},Object.defineProperty(a.prototype,"align",{get:function(){return this._align},set:function(i){this._align!==i&&(this._align=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"breakWords",{get:function(){return this._breakWords},set:function(i){this._breakWords!==i&&(this._breakWords=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(i){this._dropShadow!==i&&(this._dropShadow=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(i){this._dropShadowAlpha!==i&&(this._dropShadowAlpha=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(i){this._dropShadowAngle!==i&&(this._dropShadowAngle=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(i){this._dropShadowBlur!==i&&(this._dropShadowBlur=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(i){var e=io(i);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(i){this._dropShadowDistance!==i&&(this._dropShadowDistance=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fill",{get:function(){return this._fill},set:function(i){var e=io(i);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(i){this._fillGradientType!==i&&(this._fillGradientType=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(i){(function(a,i){if(!Array.isArray(a)||!Array.isArray(i)||a.length!==i.length)return!1;for(var e=0;e<a.length;++e)if(a[e]!==i[e])return!1;return!0})(this._fillGradientStops,i)||(this._fillGradientStops=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(i){this.fontFamily!==i&&(this._fontFamily=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontSize",{get:function(){return this._fontSize},set:function(i){this._fontSize!==i&&(this._fontSize=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(i){this._fontStyle!==i&&(this._fontStyle=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(i){this._fontVariant!==i&&(this._fontVariant=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(i){this._fontWeight!==i&&(this._fontWeight=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(i){this._letterSpacing!==i&&(this._letterSpacing=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(i){this._lineHeight!==i&&(this._lineHeight=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leading",{get:function(){return this._leading},set:function(i){this._leading!==i&&(this._leading=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(i){this._lineJoin!==i&&(this._lineJoin=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(i){this._miterLimit!==i&&(this._miterLimit=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"padding",{get:function(){return this._padding},set:function(i){this._padding!==i&&(this._padding=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stroke",{get:function(){return this._stroke},set:function(i){var e=io(i);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(i){this._strokeThickness!==i&&(this._strokeThickness=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(i){this._textBaseline!==i&&(this._textBaseline=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"trim",{get:function(){return this._trim},set:function(i){this._trim!==i&&(this._trim=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(i){this._whiteSpace!==i&&(this._whiteSpace=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(i){this._wordWrap!==i&&(this._wordWrap=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(i){this._wordWrapWidth!==i&&(this._wordWrapWidth=i,this.styleID++)},enumerable:!1,configurable:!0}),a.prototype.toFontString=function(){var i="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var o=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&mu.indexOf(o)<0&&(o='"'+o+'"'),e[r]=o}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+i+" "+e.join(",")},a}();function ha(a){return"number"==typeof a?ts(a):("string"==typeof a&&0===a.indexOf("0x")&&(a=a.replace("0x","#")),a)}function io(a){if(Array.isArray(a)){for(var i=0;i<a.length;++i)a[i]=ha(a[i]);return a}return ha(a)}function fa(a,i,e){for(var r in e)a[r]=Array.isArray(i[r])?i[r].slice():i[r]}var Er=function(){function a(i,e,r,o,d,p,m,w,x){this.text=i,this.style=e,this.width=r,this.height=o,this.lines=d,this.lineWidths=p,this.lineHeight=m,this.maxLineWidth=w,this.fontProperties=x}return a.measureText=function(i,e,r,o){void 0===o&&(o=a._canvas),r=null==r?e.wordWrap:r;var d=e.toFontString(),p=a.measureFont(d);0===p.fontSize&&(p.fontSize=e.fontSize,p.ascent=e.fontSize);var m=o.getContext("2d");m.font=d;for(var x=(r?a.wordWrap(i,e,o):i).split(/(?:\r\n|\r|\n)/),A=new Array(x.length),I=0,S=0;S<x.length;S++){var R=m.measureText(x[S]).width+(x[S].length-1)*e.letterSpacing;A[S]=R,I=Math.max(I,R)}var L=I+e.strokeThickness;e.dropShadow&&(L+=e.dropShadowDistance);var B=e.lineHeight||p.fontSize+e.strokeThickness,X=Math.max(B,p.fontSize+e.strokeThickness)+(x.length-1)*(B+e.leading);return e.dropShadow&&(X+=e.dropShadowDistance),new a(i,e,L,X,x,A,B+e.leading,I,p)},a.wordWrap=function(i,e,r){void 0===r&&(r=a._canvas);for(var o=r.getContext("2d"),d=0,p="",m="",w=Object.create(null),x=e.letterSpacing,A=e.whiteSpace,I=a.collapseSpaces(A),S=a.collapseNewlines(A),R=!I,L=e.wordWrapWidth+x,B=a.tokenize(i),X=0;X<B.length;X++){var se=B[X];if(a.isNewline(se)){if(!S){m+=a.addLine(p),R=!I,p="",d=0;continue}se=" "}if(I){var Fe=a.isBreakingSpace(se),ye=a.isBreakingSpace(p[p.length-1]);if(Fe&&ye)continue}var Ge=a.getFromCache(se,x,w,o);if(Ge>L)if(""!==p&&(m+=a.addLine(p),p="",d=0),a.canBreakWords(se,e.breakWords))for(var xe=a.wordWrapSplit(se),me=0;me<xe.length;me++){for(var vt=xe[me],It=1;xe[me+It];){var Xe=xe[me+It];if(a.canBreakChars(vt[vt.length-1],Xe,se,me,e.breakWords))break;vt+=Xe,It++}me+=vt.length-1;var Tt=a.getFromCache(vt,x,w,o);Tt+d>L&&(m+=a.addLine(p),R=!1,p="",d=0),p+=vt,d+=Tt}else p.length>0&&(m+=a.addLine(p),p="",d=0),m+=a.addLine(se,!(X===B.length-1)),R=!1,p="",d=0;else Ge+d>L&&(R=!1,m+=a.addLine(p),p="",d=0),(p.length>0||!a.isBreakingSpace(se)||R)&&(p+=se,d+=Ge)}return m+a.addLine(p,!1)},a.addLine=function(i,e){return void 0===e&&(e=!0),i=a.trimRight(i),e?i+"\n":i},a.getFromCache=function(i,e,r,o){var d=r[i];if("number"!=typeof d){var p=i.length*e;d=o.measureText(i).width+p,r[i]=d}return d},a.collapseSpaces=function(i){return"normal"===i||"pre-line"===i},a.collapseNewlines=function(i){return"normal"===i},a.trimRight=function(i){if("string"!=typeof i)return"";for(var e=i.length-1;e>=0&&a.isBreakingSpace(i[e]);e--)i=i.slice(0,-1);return i},a.isNewline=function(i){return"string"==typeof i&&a._newlines.indexOf(i.charCodeAt(0))>=0},a.isBreakingSpace=function(i){return"string"==typeof i&&a._breakingSpaces.indexOf(i.charCodeAt(0))>=0},a.tokenize=function(i){var e=[],r="";if("string"!=typeof i)return e;for(var o=0;o<i.length;o++){var d=i[o];a.isBreakingSpace(d)||a.isNewline(d)?(""!==r&&(e.push(r),r=""),e.push(d)):r+=d}return""!==r&&e.push(r),e},a.canBreakWords=function(i,e){return e},a.canBreakChars=function(i,e,r,o,d){return!0},a.wordWrapSplit=function(i){return i.split("")},a.measureFont=function(i){if(a._fonts[i])return a._fonts[i];var e={ascent:0,descent:0,fontSize:0},r=a._canvas,o=a._context;o.font=i;var d=a.METRICS_STRING+a.BASELINE_SYMBOL,p=Math.ceil(o.measureText(d).width),m=Math.ceil(o.measureText(a.BASELINE_SYMBOL).width),w=2*m;m=m*a.BASELINE_MULTIPLIER|0,r.width=p,r.height=w,o.fillStyle="#f00",o.fillRect(0,0,p,w),o.font=i,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(d,0,m);var x=o.getImageData(0,0,p,w).data,A=x.length,I=4*p,S=0,R=0,L=!1;for(S=0;S<m;++S){for(var B=0;B<I;B+=4)if(255!==x[R+B]){L=!0;break}if(L)break;R+=I}for(e.ascent=m-S,R=A-I,L=!1,S=w;S>m;--S){for(B=0;B<I;B+=4)if(255!==x[R+B]){L=!0;break}if(L)break;R-=I}return e.descent=S-m,e.fontSize=e.ascent+e.descent,a._fonts[i]=e,e},a.clearMetrics=function(i){void 0===i&&(i=""),i?delete a._fonts[i]:a._fonts={}},a}(),$i=function(){try{var a=new OffscreenCanvas(0,0),i=a.getContext("2d");return i&&i.measureText?a:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();$i.width=$i.height=10,Er._canvas=$i,Er._context=$i.getContext("2d"),Er._fonts={},Er.METRICS_STRING="|\xc9q\xc5",Er.BASELINE_SYMBOL="M",Er.BASELINE_MULTIPLIER=1.4,Er._newlines=[10,13],Er._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var yu={texture:!0,children:!1,baseTexture:!0},Vr=function(a){function i(e,r,o){var d=this,p=!1;o||(o=document.createElement("canvas"),p=!0),o.width=3,o.height=3;var m=ct.from(o);return m.orig=new lt,m.trim=new lt,(d=a.call(this,m)||this)._ownCanvas=p,d.canvas=o,d.context=d.canvas.getContext("2d"),d._resolution=O.RESOLUTION,d._autoResolution=!0,d._text=null,d._style=null,d._styleListener=null,d._font="",d.text=e,d.style=r,d.localStyleID=-1,d}return function(a,i){function e(){this.constructor=a}vu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype.updateText=function(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var o=this.context,d=Er.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),m=d.height,w=d.lines,x=d.lineHeight,A=d.lineWidths,I=d.maxLineWidth,S=d.fontProperties;this.canvas.width=Math.ceil((Math.max(1,d.width)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,m)+2*r.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=r.strokeThickness,o.textBaseline=r.textBaseline,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit;for(var R,L,B=r.dropShadow?2:1,X=0;X<B;++X){var se=r.dropShadow&&0===X,Fe=se?Math.ceil(Math.max(1,m)+2*r.padding):0,ye=Fe*this._resolution;if(se){o.fillStyle="black",o.strokeStyle="black";var Ge=r.dropShadowColor,xe=Ai("number"==typeof Ge?Ge:ht(Ge));o.shadowColor="rgba("+255*xe[0]+","+255*xe[1]+","+255*xe[2]+","+r.dropShadowAlpha+")",o.shadowBlur=r.dropShadowBlur,o.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,o.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance+ye}else o.fillStyle=this._generateFillStyle(r,w,d),o.strokeStyle=r.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;for(var me=0;me<w.length;me++)R=r.strokeThickness/2,L=r.strokeThickness/2+me*x+S.ascent,"right"===r.align?R+=I-A[me]:"center"===r.align&&(R+=(I-A[me])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(w[me],R+r.padding,L+r.padding-Fe,!0),r.fill&&this.drawLetterSpacing(w[me],R+r.padding,L+r.padding-Fe)}this.updateTexture()}},i.prototype.drawLetterSpacing=function(e,r,o,d){void 0===d&&(d=!1);var m=this._style.letterSpacing;if(0!==m)for(var w=r,x=Array.from?Array.from(e):e.split(""),A=this.context.measureText(e).width,I=0,S=0;S<x.length;++S){var R=x[S];d?this.context.strokeText(R,w,o):this.context.fillText(R,w,o),w+=A-(I=this.context.measureText(e.substring(S+1)).width)+m,A=I}else d?this.context.strokeText(e,r,o):this.context.fillText(e,r,o)},i.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var r=function(a){var x,A,I,i=a.width,e=a.height,r=a.getContext("2d"),d=r.getImageData(0,0,i,e).data,p=d.length,m={top:null,left:null,right:null,bottom:null},w=null;for(x=0;x<p;x+=4)0!==d[x+3]&&(A=x/4%i,I=~~(x/4/i),null===m.top&&(m.top=I),(null===m.left||A<m.left)&&(m.left=A),(null===m.right||m.right<A)&&(m.right=A+1),(null===m.bottom||m.bottom<I)&&(m.bottom=I));return null!==m.top&&(w=r.getImageData(m.left,m.top,i=m.right-m.left,e=m.bottom-m.top+1)),{height:e,width:i,data:w}}(e);r.data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0))}var o=this._texture,d=this._style,p=d.trim?0:d.padding,m=o.baseTexture;o.trim.width=o._frame.width=Math.ceil(e.width/this._resolution),o.trim.height=o._frame.height=Math.ceil(e.height/this._resolution),o.trim.x=-p,o.trim.y=-p,o.orig.width=o._frame.width-2*p,o.orig.height=o._frame.height-2*p,this._onTextureUpdate(),m.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},i.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),a.prototype._render.call(this,e)},i.prototype.getLocalBounds=function(e){return this.updateText(!0),a.prototype.getLocalBounds.call(this,e)},i.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},i.prototype._generateFillStyle=function(e,r,o){var d=e.fill;if(!Array.isArray(d))return d;if(1===d.length)return d[0];var p,m=e.dropShadow?e.dropShadowDistance:0,w=e.padding||0,x=Math.ceil(this.canvas.width/this._resolution)-m-2*w,A=Math.ceil(this.canvas.height/this._resolution)-m-2*w,I=d.slice(),S=e.fillGradientStops.slice();if(!S.length)for(var R=I.length+1,L=1;L<R;++L)S.push(L/R);if(I.unshift(d[0]),S.unshift(0),I.push(d[d.length-1]),S.push(1),e.fillGradientType===Hn.LINEAR_VERTICAL){p=this.context.createLinearGradient(x/2,w,x/2,A+w);var B=0,se=(o.fontProperties.fontSize+e.strokeThickness)/A;for(L=0;L<r.length;L++)for(var Fe=o.lineHeight*L,ye=0;ye<I.length;ye++){var me=Math.max(B,Fe/A+("number"==typeof S[ye]?S[ye]:ye/I.length)*se);me=Math.min(me,1),p.addColorStop(me,I[ye]),B=me}}else{p=this.context.createLinearGradient(w,A/2,x+w,A/2);var vt=I.length+1,It=1;for(L=0;L<I.length;L++)p.addColorStop("number"==typeof S[L]?S[L]:It/vt,I[L]),It++}return p},i.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},yu,e),a.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(i.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var r=ci(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var r=ci(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof Xi?e:new Xi(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),i}(Ts);O.UPLOADS_PER_FRAME=4;var _u=function(a,i){return(_u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Rh=function(){function a(i){this.maxItemsPerFrame=i,this.itemsLeft=0}return a.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},a.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},a}();function da(a,i){var e=!1;if(a&&a._textures&&a._textures.length)for(var r=0;r<a._textures.length;r++)if(a._textures[r]instanceof ct){var o=a._textures[r].baseTexture;-1===i.indexOf(o)&&(i.push(o),e=!0)}return e}function bu(a,i){if(a.baseTexture instanceof Vt){var e=a.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function Eu(a,i){if(a._texture&&a._texture instanceof ct){var e=a._texture.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function pa(a,i){return i instanceof Vr&&(i.updateText(!0),!0)}function ga(a,i){if(i instanceof Xi){var e=i.toFontString();return Er.measureFont(e),!0}return!1}function Gr(a,i){if(a instanceof Vr){-1===i.indexOf(a.style)&&i.push(a.style),-1===i.indexOf(a)&&i.push(a);var e=a._texture.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function xs(a,i){return a instanceof Xi&&(-1===i.indexOf(a)&&i.push(a),!0)}function wu(a,i){return i instanceof Vt&&(i._glTextures[a.CONTEXT_UID]||a.texture.bind(i),!0)}function Ac(a,i){if(!(i instanceof zi))return!1;var e=i.geometry;i.finishPoly(),e.updateBatches();for(var r=e.batches,o=0;o<r.length;o++){var d=r[o].style.texture;d&&wu(a,d.baseTexture)}return e.batchable||a.geometry.bind(e,i._resolveDirectShader(a)),!0}function Cs(a,i){return a instanceof zi&&(i.push(a),!0)}var ti=function(a){function i(e){var r=a.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Cs),r.registerUploadHook(wu),r.registerUploadHook(Ac),r}return function(a,i){function e(){this.constructor=a}_u(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i}(function(){function a(i){var e=this;this.limiter=new Rh(O.UPLOADS_PER_FRAME),this.renderer=i,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(Gr),this.registerFindHook(xs),this.registerFindHook(da),this.registerFindHook(bu),this.registerFindHook(Eu),this.registerUploadHook(pa),this.registerUploadHook(ga)}return a.prototype.upload=function(i,e){"function"==typeof i&&(e=i,i=null),i&&this.add(i),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,rn.system.addOnce(this.tick,this,nr.UTILITY))):e&&e()},a.prototype.tick=function(){setTimeout(this.delayedTick,0)},a.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var i=this.queue[0],e=!1;if(i&&!i._destroyed)for(var r=0,o=this.uploadHooks.length;r<o;r++)if(this.uploadHooks[r](this.uploadHookHelper,i)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)rn.system.addOnce(this.tick,this,nr.UTILITY);else{this.ticking=!1;var d=this.completes.slice(0);for(this.completes.length=0,r=0,o=d.length;r<o;r++)d[r]()}},a.prototype.registerFindHook=function(i){return i&&this.addHooks.push(i),this},a.prototype.registerUploadHook=function(i){return i&&this.uploadHooks.push(i),this},a.prototype.add=function(i){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](i,this.queue);e++);if(i instanceof bn)for(e=i.children.length-1;e>=0;e--)this.add(i.children[e]);return this},a.prototype.destroy=function(){this.ticking&&rn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},a}()),ma=(function(){function a(i){this.maxMilliseconds=i,this.frameStart=0}a.prototype.beginFrame=function(){this.frameStart=Date.now()},a.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function a(i,e,r){void 0===r&&(r=null),this._texture=i instanceof ct?i:null,this.baseTexture=i instanceof Vt?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var o=this.baseTexture.resource;this.resolution=this._updateResolution(r||(o?o.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return a.prototype._updateResolution=function(i){void 0===i&&(i=null);var e=this.data.meta.scale,r=Ir(i,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},a.prototype.parse=function(i){this._batchIndex=0,this._callback=i,this._frameKeys.length<=a.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},a.prototype._processFrames=function(i){for(var e=i,r=a.BATCH_SIZE;e-i<r&&e<this._frameKeys.length;){var o=this._frameKeys[e],d=this._frames[o],p=d.frame;if(p){var m,w=null,x=!1!==d.trimmed&&d.sourceSize?d.sourceSize:d.frame,A=new lt(0,0,Math.floor(x.w)/this.resolution,Math.floor(x.h)/this.resolution);m=d.rotated?new lt(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.h)/this.resolution,Math.floor(p.w)/this.resolution):new lt(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution),!1!==d.trimmed&&d.spriteSourceSize&&(w=new lt(Math.floor(d.spriteSourceSize.x)/this.resolution,Math.floor(d.spriteSourceSize.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution)),this.textures[o]=new ct(this.baseTexture,m,A,w,d.rotated?2:0,d.anchor),ct.addToCache(this.textures[o],o)}e++}},a.prototype._processAnimations=function(){var i=this.data.animations||{};for(var e in i){this.animations[e]=[];for(var r=0;r<i[e].length;r++)this.animations[e].push(this.textures[i[e][r]])}},a.prototype._parseComplete=function(){var i=this._callback;this._callback=null,this._batchIndex=0,i.call(this,this.textures)},a.prototype._nextBatch=function(){var i=this;this._processFrames(this._batchIndex*a.BATCH_SIZE),this._batchIndex++,setTimeout(function(){i._batchIndex*a.BATCH_SIZE<i._frameKeys.length?i._nextBatch():(i._processAnimations(),i._parseComplete())},0)},a.prototype.destroy=function(i){var e;for(var r in void 0===i&&(i=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,i&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},a.BATCH_SIZE=1e3,a}()),Pc=function(){function a(){}return a.use=function(i,e){var r=this,o=i.name+"_image";if(i.data&&i.type===Kn.TYPE.JSON&&i.data.frames&&!r.resources[o]){var d={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},p=a.getResourcePath(i,r.baseUrl);r.add(o,p,d,function(w){if(w.error)e(w.error);else{var x=new ma(w.texture,i.data,i.url);x.parse(function(){i.spritesheet=x,i.textures=x.textures,e()})}})}else e()},a.getResourcePath=function(i,e){return i.isDataUrl?i.data.meta.image:z.resolve(i.url.replace(e,""),i.data.meta.image)},a}(),ya=function(a,i){return(ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Sl(a,i){function e(){this.constructor=a}ya(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Ss=new Jt,Du=(function(a){function i(e,r,o){void 0===r&&(r=100),void 0===o&&(o=100);var d=a.call(this,e)||this;return d.tileTransform=new dn,d._width=r,d._height=o,d.uvMatrix=d.texture.uvMatrix||new Ja(e),d.pluginName="tilingSprite",d.uvRespectAnchor=!1,d}Sl(i,a),Object.defineProperty(i.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),i.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},i.prototype._render=function(e){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},i.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},i.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):a.prototype.getLocalBounds.call(this,e)},i.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ss);var r=this._width,o=this._height,d=-r*this.anchor._x;if(Ss.x>=d&&Ss.x<d+r){var p=-o*this.anchor._y;if(Ss.y>=p&&Ss.y<p+o)return!0}return!1},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},i.from=function(e,r){return"number"==typeof r&&(Ln("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new i(ct.from(e,r),r.width,r.height)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(Ts),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),_a=new Zt,Rc=function(a){function i(e){var r=a.call(this,e)||this,o={globals:r.renderer.globalUniforms};return r.shader=pi.from(Du,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",o),r.simpleShader=pi.from(Du,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",o),r.quad=new mr,r.state=fs.for2d(),r}return Sl(i,a),i.prototype.render=function(e){var r=this.renderer,o=this.quad,d=o.vertices;d[0]=d[6]=e._width*-e.anchor.x,d[1]=d[3]=e._height*-e.anchor.y,d[2]=d[4]=e._width*(1-e.anchor.x),d[5]=d[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((d=o.uvs)[0]=d[6]=-e.anchor.x,d[1]=d[3]=-e.anchor.y,d[2]=d[4]=1-e.anchor.x,d[5]=d[7]=1-e.anchor.y),o.invalidate();var p=e._texture,m=p.baseTexture,w=e.tileTransform.localTransform,x=e.uvMatrix,A=m.isPowerOfTwo&&p.frame.width===m.width&&p.frame.height===m.height;A&&(m._glTextures[r.CONTEXT_UID]?A=m.wrapMode!==at.CLAMP:m.wrapMode===at.CLAMP&&(m.wrapMode=at.REPEAT));var I=A?this.simpleShader:this.shader,S=p.width,R=p.height,L=e._width,B=e._height;_a.set(w.a*S/L,w.b*S/B,w.c*R/L,w.d*R/B,w.tx/L,w.ty/B),_a.invert(),A?_a.prepend(x.mapCoord):(I.uniforms.uMapCoord=x.mapCoord.toArray(!0),I.uniforms.uClampFrame=x.uClampFrame,I.uniforms.uClampOffset=x.uClampOffset),I.uniforms.uTransform=_a.toArray(!0),I.uniforms.uColor=xn(e.tint,e.worldAlpha,I.uniforms.uColor,m.alphaMode),I.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),I.uniforms.uSampler=p,r.shader.bind(I),r.geometry.bind(o),this.state.blendMode=Do(e.blendMode,m.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},i}(ir),oo=function(a,i){return(oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Yi(a,i){function e(){this.constructor=a}oo(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Is=function(){function a(i,e){this.uvBuffer=i,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return a.prototype.update=function(i){if(i||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},a}(),ao=new Jt,ur=new Dn,ni=function(a){function i(e,r,o,d){void 0===d&&(d=Pe.TRIANGLES);var p=a.call(this)||this;return p.geometry=e,e.refCount++,p.shader=r,p.state=o||fs.for2d(),p.drawMode=d,p.start=0,p.size=0,p.uvs=null,p.indices=null,p.vertexData=new Float32Array(1),p.vertexDirty=0,p._transformID=-1,p._roundPixels=O.ROUND_PIXELS,p.batchUvs=null,p}return Yi(i,a),Object.defineProperty(i.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this.shader.batchable&&this.drawMode===Pe.TRIANGLES&&this.geometry.buffers[0].data.length<2*i.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},i.prototype._renderDefault=function(e){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.program.uniformData.translationMatrix&&(r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},i.prototype._renderToBatch=function(e){var r=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},i.prototype.calculateVertices=function(){var e=this.geometry,r=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var o=this.transform.worldTransform,d=o.a,p=o.b,m=o.c,w=o.d,x=o.tx,A=o.ty,I=this.vertexData,S=0;S<I.length/2;S++){var R=r[2*S],L=r[2*S+1];I[2*S]=d*R+m*L+x,I[2*S+1]=p*R+w*L+A}if(this._roundPixels){var B=O.RESOLUTION;for(S=0;S<I.length;++S)I[S]=Math.round((I[S]*B|0)/B)}this.vertexDirty=e.vertexDirtyId}},i.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Is(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},i.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},i.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,ao);for(var r=this.geometry.getBuffer("aVertexPosition").data,o=ur.points,d=this.geometry.getIndex().data,p=d.length,m=4===this.drawMode?3:1,w=0;w+2<p;w+=m){var x=2*d[w],A=2*d[w+1],I=2*d[w+2];if(o[0]=r[x],o[1]=r[x+1],o[2]=r[A],o[3]=r[A+1],o[4]=r[I],o[5]=r[I+1],ur.contains(ao.x,ao.y))return!0}return!1},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},i.BATCHABLE_SIZE=100,i}(bn),uo=function(a){function i(e,r){var o=this,d={uSampler:e,alpha:1,uTextureMatrix:Zt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(d,r.uniforms),(o=a.call(this,r.program||Bn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),d)||this)._colorDirty=!1,o.uvMatrix=new Ja(e),o.batchable=void 0===r.program,o.pluginName=r.pluginName,o.tint=r.tint,o.alpha=r.alpha,o}return Yi(i,a),Object.defineProperty(i.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),i.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,xn(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},i}(pi),Tu=function(a){function i(e,r,o){var d=a.call(this)||this,p=new pn(e),m=new pn(r,!0),w=new pn(o,!0,!0);return d.addAttribute("aVertexPosition",p,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",m,2,!1,Ae.FLOAT).addIndex(w),d._updateId=-1,d}return Yi(i,a),Object.defineProperty(i.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),i}(as),xu=function(a,i){return(xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},As=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},lo=function(){function a(){}return a.test=function(i){return"string"==typeof i&&0===i.indexOf("info face=")},a.parse=function(i){var e=i.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var o in e){var d=e[o].match(/^[a-z]+/gm)[0],p=e[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(var w in p){var x=p[w].split("="),A=x[0],I=x[1].replace(/"/gm,""),S=parseFloat(I),R=isNaN(S)?I:S;m[A]=R}r[d].push(m)}var L=new As;return r.info.forEach(function(B){return L.info.push({face:B.face,size:parseInt(B.size,10)})}),r.common.forEach(function(B){return L.common.push({lineHeight:parseInt(B.lineHeight,10)})}),r.page.forEach(function(B){return L.page.push({id:parseInt(B.id,10),file:B.file})}),r.char.forEach(function(B){return L.char.push({id:parseInt(B.id,10),page:parseInt(B.page,10),x:parseInt(B.x,10),y:parseInt(B.y,10),width:parseInt(B.width,10),height:parseInt(B.height,10),xoffset:parseInt(B.xoffset,10),yoffset:parseInt(B.yoffset,10),xadvance:parseInt(B.xadvance,10)})}),r.kerning.forEach(function(B){return L.kerning.push({first:parseInt(B.first,10),second:parseInt(B.second,10),amount:parseInt(B.amount,10)})}),L},a}(),co=function(){function a(){}return a.test=function(i){return i instanceof XMLDocument&&i.getElementsByTagName("page").length&&null!==i.getElementsByTagName("info")[0].getAttribute("face")},a.parse=function(i){for(var e=new As,r=i.getElementsByTagName("info"),o=i.getElementsByTagName("common"),d=i.getElementsByTagName("page"),p=i.getElementsByTagName("char"),m=i.getElementsByTagName("kerning"),w=0;w<r.length;w++)e.info.push({face:r[w].getAttribute("face"),size:parseInt(r[w].getAttribute("size"),10)});for(w=0;w<o.length;w++)e.common.push({lineHeight:parseInt(o[w].getAttribute("lineHeight"),10)});for(w=0;w<d.length;w++)e.page.push({id:parseInt(d[w].getAttribute("id"),10)||0,file:d[w].getAttribute("file")});for(w=0;w<p.length;w++){var x=p[w];e.char.push({id:parseInt(x.getAttribute("id"),10),page:parseInt(x.getAttribute("page"),10)||0,x:parseInt(x.getAttribute("x"),10),y:parseInt(x.getAttribute("y"),10),width:parseInt(x.getAttribute("width"),10),height:parseInt(x.getAttribute("height"),10),xoffset:parseInt(x.getAttribute("xoffset"),10),yoffset:parseInt(x.getAttribute("yoffset"),10),xadvance:parseInt(x.getAttribute("xadvance"),10)})}for(w=0;w<m.length;w++)e.kerning.push({first:parseInt(m[w].getAttribute("first"),10),second:parseInt(m[w].getAttribute("second"),10),amount:parseInt(m[w].getAttribute("amount"),10)});return e},a}(),Fc=function(){function a(){}return a.test=function(i){if("string"==typeof i&&i.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(i,"text/xml");return co.test(e)}return!1},a.parse=function(i){var e=(new window.DOMParser).parseFromString(i,"text/xml");return co.parse(e)},a}(),Su=[lo,co,Fc];function Iu(a){for(var i=0;i<Su.length;i++)if(Su[i].test(a))return Su[i];return null}function Al(a,i,e,r,o,d){var p=e.fill;if(!Array.isArray(p))return p;if(1===p.length)return p[0];var m,w=e.dropShadow?e.dropShadowDistance:0,x=e.padding||0,A=Math.ceil(a.width/r)-w-2*x,I=Math.ceil(a.height/r)-w-2*x,S=p.slice(),R=e.fillGradientStops.slice();if(!R.length)for(var L=S.length+1,B=1;B<L;++B)R.push(B/L);if(S.unshift(p[0]),R.unshift(0),S.push(p[p.length-1]),R.push(1),e.fillGradientType===Hn.LINEAR_VERTICAL){m=i.createLinearGradient(A/2,x,A/2,I+x);var X=0,Fe=(d.fontProperties.fontSize+e.strokeThickness)/I;for(B=0;B<o.length;B++)for(var ye=d.lineHeight*B,Ge=0;Ge<S.length;Ge++){var vt=Math.max(X,ye/I+("number"==typeof R[Ge]?R[Ge]:Ge/S.length)*Fe);vt=Math.min(vt,1),m.addColorStop(vt,S[Ge]),X=vt}}else{m=i.createLinearGradient(x,I/2,A+x,I/2);var It=S.length+1,Xe=1;for(B=0;B<S.length;B++)m.addColorStop("number"==typeof R[B]?R[B]:Xe/It,S[B]),Xe++}return m}function Nc(a,i,e,r,o,d,p){var m=e.text,w=e.fontProperties;i.translate(r,o),i.scale(d,d);var x=p.strokeThickness/2,A=-p.strokeThickness/2;i.font=p.toFontString(),i.lineWidth=p.strokeThickness,i.textBaseline=p.textBaseline,i.lineJoin=p.lineJoin,i.miterLimit=p.miterLimit,i.fillStyle=Al(a,i,p,d,[m],e),i.strokeStyle=p.stroke,i.font=p.toFontString(),i.lineWidth=p.strokeThickness,i.textBaseline=p.textBaseline,i.lineJoin=p.lineJoin,i.miterLimit=p.miterLimit,i.fillStyle=Al(a,i,p,d,[m],e),i.strokeStyle=p.stroke;var I=p.dropShadowColor,S=Ai("number"==typeof I?I:ht(I));p.dropShadow?(i.shadowColor="rgba("+255*S[0]+","+255*S[1]+","+255*S[2]+","+p.dropShadowAlpha+")",i.shadowBlur=p.dropShadowBlur,i.shadowOffsetX=Math.cos(p.dropShadowAngle)*p.dropShadowDistance,i.shadowOffsetY=Math.sin(p.dropShadowAngle)*p.dropShadowDistance):(i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),p.stroke&&p.strokeThickness&&i.strokeText(m,x,A+e.lineHeight-w.descent),p.fill&&i.fillText(m,x,A+e.lineHeight-w.descent),i.setTransform(1,0,0,1,0,0),i.fillStyle="rgba(0, 0, 0, 0)"}var Vn=function(){function a(i,e,r){var o=i.info[0],d=i.common[0],m=Ir(i.page[0].file),w={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=d.lineHeight/m,this.chars={},this.pageTextures=w;for(var x=0;x<i.page.length;x++){var A=i.page[x];w[I=A.id]=e instanceof Array?e[x]:e[A.file]}for(x=0;x<i.char.length;x++){var R=i.char[x],I=R.id,L=R.page,B=i.char[x],X=B.x,se=B.y,Fe=B.width,ye=B.height,Ge=B.xoffset,xe=B.yoffset,me=B.xadvance;Ge/=m,xe/=m,me/=m;var vt=new lt((X/=m)+w[L].frame.x/m,(se/=m)+w[L].frame.y/m,Fe/=m,ye/=m);this.chars[I]={xOffset:Ge,yOffset:xe,xAdvance:me,kerning:{},texture:new ct(w[L].baseTexture,vt),page:L}}for(x=0;x<i.kerning.length;x++){var It=i.kerning[x],Xe=It.first,Ye=It.second,Tt=It.amount;Xe/=m,Tt/=m,this.chars[Ye/=m]&&(this.chars[Ye].kerning[Xe]=Tt)}}return a.prototype.destroy=function(){for(var i in this.chars)this.chars[i].texture.destroy(),this.chars[i].texture=null;for(var i in this.pageTextures)this._ownsTextures&&this.pageTextures[i].destroy(!0),this.pageTextures[i]=null;this.chars=null,this.pageTextures=null},a.install=function(i,e,r){var o;if(i instanceof As)o=i;else{var d=Iu(i);if(!d)throw new Error("Unrecognized data format for font.");o=d.parse(i)}e instanceof ct&&(e=[e]);var p=new a(o,e,r);return a.available[p.font]=p,p},a.uninstall=function(i){var e=a.available[i];if(!e)throw new Error("No font found named '"+i+"'");e.destroy(),delete a.available[i]},a.from=function(i,e,r){if(!i)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},a.defaultOptions,r),p=o.padding,m=o.resolution,w=o.textureWidth,x=o.textureHeight,A=function(a){"string"==typeof a&&(a=[a]);for(var i=[],e=0,r=a.length;e<r;e++){var o=a[e];if(Array.isArray(o)){if(2!==o.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+o.length+".");var d=o[0].charCodeAt(0),p=o[1].charCodeAt(0);if(p<d)throw new Error("[BitmapFont]: Invalid character range.");for(var m=d,w=p;m<=w;m++)i.push(String.fromCharCode(m))}else i.push.apply(i,o.split(""))}if(0===i.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return i}(o.chars),I=e instanceof Xi?e:new Xi(e),S=w,R=new As;R.info[0]={face:I.fontFamily,size:I.fontSize},R.common[0]={lineHeight:I.fontSize};for(var X,se,Fe,L=0,B=0,ye=0,Ge=[],xe=0;xe<A.length;xe++){X||((X=document.createElement("canvas")).width=w,X.height=x,se=X.getContext("2d"),Fe=new Vt(X,{resolution:m}),Ge.push(new ct(Fe)),R.page.push({id:Ge.length-1,file:""}));var me=Er.measureText(A[xe],I,!1,X),vt=me.width,It=Math.ceil(me.height),Xe=Math.ceil(("italic"===I.fontStyle?2:1)*vt);if(B>=x-It*m){if(0===B)throw new Error("[BitmapFont] textureHeight "+x+"px is too small for "+I.fontSize+"px fonts");--xe,X=null,se=null,Fe=null,B=0,L=0,ye=0}else if(ye=Math.max(It+me.fontProperties.descent,ye),Xe*m+L>=S)--xe,B+=ye*m,B=Math.ceil(B),L=0,ye=0;else{Nc(X,se,me,L,B,m,I);var Ye=me.text.charCodeAt(0);R.char.push({id:Ye,page:Ge.length-1,x:L/m,y:B/m,width:Xe,height:It,xoffset:0,yoffset:0,xadvance:Math.ceil(vt-(I.dropShadow?I.dropShadowDistance:0)-(I.stroke?I.strokeThickness:0))}),L+=(Xe+2*p)*m,L=Math.ceil(L)}}var Tt=new a(R,Ge,!0);return void 0!==a.available[i]&&a.uninstall(i),a.available[i]=Tt,Tt},a.ALPHA=[["a","z"],["A","Z"]," "],a.NUMERIC=[["0","9"]],a.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],a.ASCII=[[" ","~"]],a.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:a.ALPHANUMERIC},a.available={},a}(),Pu=[],wr=[],Mu=(function(a){function i(e,r){void 0===r&&(r={});var o=a.call(this)||this;o._tint=16777215,r.font&&(Ln("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),o._upgradeStyle(r));var d=Object.assign({},i.styleDefaults,r),p=d.align,m=d.tint,w=d.maxWidth,x=d.letterSpacing,A=d.fontName,I=d.fontSize;if(!Vn.available[A])throw new Error('Missing BitmapFont "'+A+'"');return o._activePagesMeshData=[],o._textWidth=0,o._textHeight=0,o._align=p,o._tint=m,o._fontName=A,o._fontSize=I||Vn.available[A].size,o._text=e,o._maxWidth=w,o._maxLineHeight=0,o._letterSpacing=x,o._anchor=new Pr(function(){o.dirty=!0},o,0,0),o._roundPixels=O.ROUND_PIXELS,o.dirty=!0,o._textureCache={},o}(function(a,i){function e(){this.constructor=a}xu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.updateText=function(){for(var e,r=Vn.available[this._fontName],o=this._fontSize/r.size,d=new Jt,p=[],m=[],w=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",x=w.length,A=this._maxWidth*r.size/this._fontSize,I=null,S=0,R=0,L=0,B=-1,X=0,se=0,Fe=0,ye=0;ye<x;ye++){var Ge=w.charCodeAt(ye),xe=w.charAt(ye);if(/(?:\s)/.test(xe)&&(B=ye,X=S),"\r"!==xe&&"\n"!==xe){var me=r.chars[Ge];if(me){I&&me.kerning[I]&&(d.x+=me.kerning[I]);var vt=wr.pop()||{texture:ct.EMPTY,line:0,charCode:0,position:new Jt};vt.texture=me.texture,vt.line=L,vt.charCode=Ge,vt.position.x=d.x+me.xOffset+this._letterSpacing/2,vt.position.y=d.y+me.yOffset,p.push(vt),d.x+=me.xAdvance+this._letterSpacing,S=d.x,Fe=Math.max(Fe,me.yOffset+me.texture.height),I=Ge,-1!==B&&A>0&&d.x>A&&(kt(p,1+B-++se,1+ye-B),ye=B,B=-1,m.push(X),R=Math.max(R,X),L++,d.x=0,d.y+=r.lineHeight,I=null)}}else m.push(S),R=Math.max(R,S),++L,++se,d.x=0,d.y+=r.lineHeight,I=null}var It=w.charAt(w.length-1);"\r"!==It&&"\n"!==It&&(/(?:\s)/.test(It)&&(S=X),m.push(S),R=Math.max(R,S));var Xe=[];for(ye=0;ye<=L;ye++){var Ye=0;"right"===this._align?Ye=R-m[ye]:"center"===this._align&&(Ye=(R-m[ye])/2),Xe.push(Ye)}var Tt=p.length,xt={},en=[],wi=this._activePagesMeshData;for(ye=0;ye<wi.length;ye++)Pu.push(wi[ye]);for(ye=0;ye<Tt;ye++){var rt=(Ke=p[ye].texture).baseTexture.uid;if(!xt[rt]){if(!(We=Pu.pop())){var ii=new Tu,Di=new uo(ct.EMPTY);We={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new ni(ii,Di),vertices:null,uvs:null,indices:null}}We.index=0,We.indexCount=0,We.vertexCount=0,We.uvsCount=0,We.total=0;var si=this._textureCache;si[rt]=si[rt]||new ct(Ke.baseTexture),We.mesh.texture=si[rt],We.mesh.tint=this._tint,en.push(We),xt[rt]=We}xt[rt].total++}for(ye=0;ye<wi.length;ye++)-1===en.indexOf(wi[ye])&&this.removeChild(wi[ye].mesh);for(ye=0;ye<en.length;ye++)en[ye].mesh.parent!==this&&this.addChild(en[ye].mesh);for(var ye in this._activePagesMeshData=en,xt){var cr=(We=xt[ye]).total;if(!((null===(e=We.indices)||void 0===e?void 0:e.length)>6*cr)||We.vertices.length<2*ni.BATCHABLE_SIZE)We.vertices=new Float32Array(8*cr),We.uvs=new Float32Array(8*cr),We.indices=new Uint16Array(6*cr);else for(var bo=We.vertices,qi=4*We.total*2;qi<bo.length;qi++)bo[qi]=0;We.mesh.size=6*cr}for(ye=0;ye<Tt;ye++){var xi=(xe=p[ye]).position.x+Xe[xe.line];this._roundPixels&&(xi=Math.round(xi));var Ke,Dr=xi*o,oi=xe.position.y*o,wt=xt[(Ke=xe.texture).baseTexture.uid],Gn=Ke.frame,Fn=Ke._uvs,bt=wt.index++;wt.indices[6*bt+0]=0+4*bt,wt.indices[6*bt+1]=1+4*bt,wt.indices[6*bt+2]=2+4*bt,wt.indices[6*bt+3]=0+4*bt,wt.indices[6*bt+4]=2+4*bt,wt.indices[6*bt+5]=3+4*bt,wt.vertices[8*bt+0]=Dr,wt.vertices[8*bt+1]=oi,wt.vertices[8*bt+2]=Dr+Gn.width*o,wt.vertices[8*bt+3]=oi,wt.vertices[8*bt+4]=Dr+Gn.width*o,wt.vertices[8*bt+5]=oi+Gn.height*o,wt.vertices[8*bt+6]=Dr,wt.vertices[8*bt+7]=oi+Gn.height*o,wt.uvs[8*bt+0]=Fn.x0,wt.uvs[8*bt+1]=Fn.y0,wt.uvs[8*bt+2]=Fn.x1,wt.uvs[8*bt+3]=Fn.y1,wt.uvs[8*bt+4]=Fn.x2,wt.uvs[8*bt+5]=Fn.y2,wt.uvs[8*bt+6]=Fn.x3,wt.uvs[8*bt+7]=Fn.y3}for(var ye in this._textWidth=R*o,this._textHeight=(d.y+r.lineHeight)*o,xt){var We=xt[ye];if(0!==this.anchor.x||0!==this.anchor.y)for(var zr=0,Tr=this._textWidth*this.anchor.x,Os=this._textHeight*this.anchor.y,Ma=0;Ma<We.total;Ma++)We.vertices[zr++]-=Tr,We.vertices[zr++]-=Os,We.vertices[zr++]-=Tr,We.vertices[zr++]-=Os,We.vertices[zr++]-=Tr,We.vertices[zr++]-=Os,We.vertices[zr++]-=Tr,We.vertices[zr++]-=Os;this._maxLineHeight=Fe*o;var zn=We.mesh.geometry.getBuffer("aVertexPosition"),Oa=We.mesh.geometry.getBuffer("aTextureCoord"),zu=We.mesh.geometry.getIndex();zn.data=We.vertices,Oa.data=We.uvs,zu.data=We.indices,zn.update(),Oa.update(),zu.update()}for(ye=0;ye<p.length;ye++)wr.push(p[ye])},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),a.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Vn.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),i.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var r=e.font.split(" ");e.fontName=1===r.length?r[0]:r.slice(1).join(" "),r.length>=2&&(e.fontSize=parseInt(r[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},i.prototype.destroy=function(e){var r=this._textureCache;for(var o in r)r[o].destroy(),delete r[o];this._textureCache=null,a.prototype.destroy.call(this,e)},i.registerFont=function(e,r){return Ln("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Vn.install(e,r)},Object.defineProperty(i,"fonts",{get:function(){return Ln("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Vn.available},enumerable:!1,configurable:!0}),i.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(bn),function(){function a(){}return a.add=function(){Kn.setExtensionXhrType("fnt",Kn.XHR_RESPONSE_TYPE.TEXT)},a.use=function(i,e){var r=Iu(i.data);if(r)for(var o=a.getBaseUrl(this,i),d=r.parse(i.data),p={},m=function(B){p[B.metadata.pageFile]=B.texture,Object.keys(p).length===d.page.length&&(i.bitmapFont=Vn.install(d,p,!0),e())},w=0;w<d.page.length;++w){var x=d.page[w].file,A=o+x,I=!1;for(var S in this.resources){var R=this.resources[S];if(R.url===A){R.metadata.pageFile=x,R.texture?m(R):R.onAfterMiddleware.add(m),I=!0;break}}if(!I){var L={crossOrigin:i.crossOrigin,loadType:Kn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:x},i.metadata.imageMetadata),parentResource:i};this.add(A,L,m)}}else e()},a.getBaseUrl=function(i,e){var r=e.isDataUrl?"":a.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),i.baseUrl&&r&&"/"===i.baseUrl.charAt(i.baseUrl.length-1)&&(r+="/")),(r=r.replace(i.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},a.dirname=function(i){var e=i.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===i?".":""===e?"/":e},a}()),Ou=function(a,i){return(Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e){void 0===e&&(e=1);var r=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(a,i){function e(){this.constructor=a}Ou(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0})}(Ft);var po=function(a,i){return(po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Wi(a,i){function e(){this.constructor=a}po(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Pl={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ml=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),Ei=(()=>{return(a=Ei||(Ei={}))[a.NO=0]="NO",a[a.YES=1]="YES",a[a.AUTO=2]="AUTO",a[a.BLEND=0]="BLEND",a[a.CLEAR=1]="CLEAR",a[a.BLIT=2]="BLIT",Ei;var a})(),xa=function(a){function i(e,r,o,d,p){void 0===r&&(r=8),void 0===o&&(o=4),void 0===d&&(d=O.FILTER_RESOLUTION),void 0===p&&(p=5);var m=this,w=function(a,i){var d,e=Math.ceil(a/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";d=i?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var p=0;p<a;p++){var m=d.replace("%index%",p.toString());o+=m=m.replace("%sampleIndex%",p-(e-1)+".0"),o+="\n"}return(r=r.replace("%blur%",o)).replace("%size%",a.toString())}(p,e),x=function(a){for(var p,i=Pl[a],e=i.length,r=Ml,o="",m=0;m<a;m++){var w="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",m.toString());p=m,m>=e&&(p=a-m-1),o+=w=w.replace("%value%",i[p].toString()),o+="\n"}return(r=r.replace("%blur%",o)).replace("%size%",a.toString())}(p);return(m=a.call(this,w,x)||this).horizontal=e,m.resolution=d,m._quality=0,m.quality=o,m.blur=r,m}return Wi(i,a),i.prototype.apply=function(e,r,o,d){if(this.uniforms.strength=o?this.horizontal?1/o.width*(o.width/r.width):1/o.height*(o.height/r.height):this.horizontal?1/e.renderer.width*(e.renderer.width/r.width):1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,o,d);else{var p=e.getFilterTexture(),m=e.renderer,w=r,x=p;this.state.blend=!1,e.applyFilter(this,w,x,Ei.CLEAR);for(var A=1;A<this.passes-1;A++){e.bindAndClear(w,Ei.BLIT),this.uniforms.uSampler=x;var I=x;x=w,w=I,m.shader.bind(this),m.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,x,o,d),e.returnFilterTexture(p)}},Object.defineProperty(i.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),i}(Ft),Lu=(function(a){function i(e,r,o,d){void 0===e&&(e=8),void 0===r&&(r=4),void 0===o&&(o=O.FILTER_RESOLUTION),void 0===d&&(d=5);var p=a.call(this)||this;return p.blurXFilter=new xa(!0,e,r,o,d),p.blurYFilter=new xa(!1,e,r,o,d),p.resolution=o,p.quality=r,p.blur=e,p.repeatEdgePixels=!1,p}Wi(i,a),i.prototype.apply=function(e,r,o,d){var p=Math.abs(this.blurXFilter.strength),m=Math.abs(this.blurYFilter.strength);if(p&&m){var w=e.getFilterTexture();this.blurXFilter.apply(e,r,w,Ei.CLEAR),this.blurYFilter.apply(e,w,o,d),e.returnFilterTexture(w)}else m?this.blurYFilter.apply(e,r,o,d):this.blurXFilter.apply(e,r,o,d)},i.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(i.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0})}(Ft),function(a,i){return(Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)}),Bu=function(a){function i(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=a.call(this,gi,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(a,i){function e(){this.constructor=a}Lu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype._loadMatrix=function(e,r){void 0===r&&(r=!1);var o=e;r&&(this._multiply(o,this.uniforms.m,e),o=this._colorMatrix(o)),this.uniforms.m=o},i.prototype._multiply=function(e,r,o){return e[0]=r[0]*o[0]+r[1]*o[5]+r[2]*o[10]+r[3]*o[15],e[1]=r[0]*o[1]+r[1]*o[6]+r[2]*o[11]+r[3]*o[16],e[2]=r[0]*o[2]+r[1]*o[7]+r[2]*o[12]+r[3]*o[17],e[3]=r[0]*o[3]+r[1]*o[8]+r[2]*o[13]+r[3]*o[18],e[4]=r[0]*o[4]+r[1]*o[9]+r[2]*o[14]+r[3]*o[19]+r[4],e[5]=r[5]*o[0]+r[6]*o[5]+r[7]*o[10]+r[8]*o[15],e[6]=r[5]*o[1]+r[6]*o[6]+r[7]*o[11]+r[8]*o[16],e[7]=r[5]*o[2]+r[6]*o[7]+r[7]*o[12]+r[8]*o[17],e[8]=r[5]*o[3]+r[6]*o[8]+r[7]*o[13]+r[8]*o[18],e[9]=r[5]*o[4]+r[6]*o[9]+r[7]*o[14]+r[8]*o[19]+r[9],e[10]=r[10]*o[0]+r[11]*o[5]+r[12]*o[10]+r[13]*o[15],e[11]=r[10]*o[1]+r[11]*o[6]+r[12]*o[11]+r[13]*o[16],e[12]=r[10]*o[2]+r[11]*o[7]+r[12]*o[12]+r[13]*o[17],e[13]=r[10]*o[3]+r[11]*o[8]+r[12]*o[13]+r[13]*o[18],e[14]=r[10]*o[4]+r[11]*o[9]+r[12]*o[14]+r[13]*o[19]+r[14],e[15]=r[15]*o[0]+r[16]*o[5]+r[17]*o[10]+r[18]*o[15],e[16]=r[15]*o[1]+r[16]*o[6]+r[17]*o[11]+r[18]*o[16],e[17]=r[15]*o[2]+r[16]*o[7]+r[17]*o[12]+r[18]*o[17],e[18]=r[15]*o[3]+r[16]*o[8]+r[17]*o[13]+r[18]*o[18],e[19]=r[15]*o[4]+r[16]*o[9]+r[17]*o[14]+r[18]*o[19]+r[19],e},i.prototype._colorMatrix=function(e){var r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},i.prototype.brightness=function(e,r){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},i.prototype.greyscale=function(e,r){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],r)},i.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},i.prototype.hue=function(e,r){e=(e||0)/180*Math.PI;var o=Math.cos(e),d=Math.sin(e),m=1/3,w=(0,Math.sqrt)(m);this._loadMatrix([o+(1-o)*m,m*(1-o)-w*d,m*(1-o)+w*d,0,0,m*(1-o)+w*d,o+m*(1-o),m*(1-o)-w*d,0,0,m*(1-o)-w*d,m*(1-o)+w*d,o+m*(1-o),0,0,0,0,0,1,0],r)},i.prototype.contrast=function(e,r){var o=(e||0)+1,d=-.5*(o-1);this._loadMatrix([o,0,0,0,d,0,o,0,0,d,0,0,o,0,d,0,0,0,1,0],r)},i.prototype.saturate=function(e,r){void 0===e&&(e=0);var o=2*e/3+1,d=-.5*(o-1);this._loadMatrix([o,d,d,0,0,d,o,d,0,0,d,d,o,0,0,0,0,0,1,0],r)},i.prototype.desaturate=function(){this.saturate(-1)},i.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},i.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},i.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},i.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},i.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},i.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},i.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},i.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},i.prototype.colorTone=function(e,r,o,d,p){var m=((o=o||16770432)>>16&255)/255,w=(o>>8&255)/255,x=(255&o)/255,A=((d=d||3375104)>>16&255)/255,I=(d>>8&255)/255,S=(255&d)/255;this._loadMatrix([.3,.59,.11,0,0,m,w,x,e=e||.2,0,A,I,S,r=r||.15,0,m-A,w-I,x-S,0,0],p)},i.prototype.night=function(e,r){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],r)},i.prototype.predator=function(e,r){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],r)},i.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},i.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(i.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),i}(Ft);Bu.prototype.grayscale=Bu.prototype.greyscale;var Ca=function(a,i){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e,r){var o=this,d=new Zt;return e.renderable=!1,(o=a.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:d,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,o.maskMatrix=d,null==r&&(r=20),o.scale=new Jt(r,r),o}(function(a,i){function e(){this.constructor=a}Ca(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.apply=function(e,r,o,d){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var p=this.maskSprite.worldTransform,m=Math.sqrt(p.a*p.a+p.b*p.b),w=Math.sqrt(p.c*p.c+p.d*p.d);0!==m&&0!==w&&(this.uniforms.rotation[0]=p.a/m,this.uniforms.rotation[1]=p.b/m,this.uniforms.rotation[2]=p.c/w,this.uniforms.rotation[3]=p.d/w),e.applyFilter(this,r,o,d)},Object.defineProperty(i.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0})}(Ft);var a,ju=function(a,i){return(ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};(function(a,i){function e(){this.constructor=a}ju(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(function(){return a.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this},a=Ft);var Aa=function(a,i){return(Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var o=a.call(this,gi,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return o.noise=e,o.seed=r,o}(function(a,i){function e(){this.constructor=a}Aa(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),Object.defineProperty(i.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0})}(Ft);var Fl=new Zt;$t.prototype._cacheAsBitmap=!1,$t.prototype._cacheData=null;var Nl=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties($t.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){var i;this._cacheAsBitmap!==a&&(this._cacheAsBitmap=a,a?(this._cacheData||(this._cacheData=new Nl),(i=this._cacheData).originalRender=this.render,i.originalRenderCanvas=this.renderCanvas,i.originalUpdateTransform=this.updateTransform,i.originalCalculateBounds=this.calculateBounds,i.originalGetLocalBounds=this.getLocalBounds,i.originalDestroy=this.destroy,i.originalContainsPoint=this.containsPoint,i.originalMask=this._mask,i.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((i=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=i.originalRender,this.renderCanvas=i.originalRenderCanvas,this.calculateBounds=i.originalCalculateBounds,this.getLocalBounds=i.originalGetLocalBounds,this.destroy=i.originalDestroy,this.updateTransform=i.originalUpdateTransform,this.containsPoint=i.originalContainsPoint,this._mask=i.originalMask,this.filterArea=i.originalFilterArea))}}}),$t.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))},$t.prototype._initCachedDisplayObject=function(i){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,i.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&r.pad(this.filters[0].padding),r.ceil(O.RESOLUTION);var d=i.renderTexture.current,p=i.renderTexture.sourceFrame.clone(),m=i.renderTexture.destinationFrame.clone(),w=i.projection.transform,x=Rr.create({width:r.width,height:r.height}),A="cacheAsBitmap_"+er();this._cacheData.textureCacheId=A,Vt.addToCache(x.baseTexture,A),ct.addToCache(x,A);var I=this.transform.localTransform.copyTo(Fl).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,i.render(this,x,!0,I,!1),i.projection.transform=w,i.renderTexture.bind(d,p,m),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var S=new Ts(x);S.transform.worldTransform=this.transform.worldTransform,S.anchor.x=-r.x/r.width,S.anchor.y=-r.y/r.height,S.alpha=e,S._bounds=this._bounds,this._cacheData.sprite=S,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=S.containsPoint.bind(S)}},$t.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))},$t.prototype._initCachedDisplayObjectCanvas=function(i){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var o=i.context,d=i._projTransform;e.ceil(O.RESOLUTION);var p=Rr.create({width:e.width,height:e.height}),m="cacheAsBitmap_"+er();this._cacheData.textureCacheId=m,Vt.addToCache(p.baseTexture,m),ct.addToCache(p,m);var w=Fl;this.transform.localTransform.copyTo(w),w.invert(),w.tx-=e.x,w.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,p,!0,w,!1),i.context=o,i._projTransform=d,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var x=new Ts(p);x.transform.worldTransform=this.transform.worldTransform,x.anchor.x=-e.x/e.width,x.anchor.y=-e.y/e.height,x.alpha=r,x._bounds=this._bounds,this._cacheData.sprite=x,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=x.containsPoint.bind(x)}},$t.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},$t.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},$t.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Vt.removeFromCache(this._cacheData.textureCacheId),ct.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},$t.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)},$t.prototype.name=null,bn.prototype.getChildByName=function(i,e){for(var r=0,o=this.children.length;r<o;r++)if(this.children[r].name===i)return this.children[r];if(e)for(r=0,o=this.children.length;r<o;r++)if(this.children[r].getChildByName){var p=this.children[r].getChildByName(i,!0);if(p)return p}return null},$t.prototype.getGlobalPosition=function(i,e){return void 0===i&&(i=new Jt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var Hu=function(a,i){return(Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Ps(a,i){function e(){this.constructor=a}Hu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Yc=function(a){function i(e,r,o,d){void 0===e&&(e=100),void 0===r&&(r=100),void 0===o&&(o=10),void 0===d&&(d=10);var p=a.call(this)||this;return p.segWidth=o,p.segHeight=d,p.width=e,p.height=r,p.build(),p}return Ps(i,a),i.prototype.build=function(){for(var e=this.segWidth*this.segHeight,r=[],o=[],d=[],p=this.segWidth-1,m=this.segHeight-1,w=this.width/p,x=this.height/m,A=0;A<e;A++){var I=A%this.segWidth,S=A/this.segWidth|0;r.push(I*w,S*x),o.push(I/p,S/m)}var R=p*m;for(A=0;A<R;A++){var L=A%p,B=A/p|0,se=B*this.segWidth+L+1,Fe=(B+1)*this.segWidth+L;d.push(B*this.segWidth+L,se,Fe,se,(B+1)*this.segWidth+L+1,Fe)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(o),this.indexBuffer.data=new Uint16Array(d),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},i}(Tu),Ms=function(a){function i(e,r,o){void 0===e&&(e=200),void 0===o&&(o=0);var d=a.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return d.points=r,d._width=e,d.textureScale=o,d.build(),d}return Ps(i,a),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),i.prototype.build=function(){var e=this.points;if(e){var r=this.getBuffer("aVertexPosition"),o=this.getBuffer("aTextureCoord"),d=this.getIndex();if(!(e.length<1)){r.data.length/4!==e.length&&(r.data=new Float32Array(4*e.length),o.data=new Float32Array(4*e.length),d.data=new Uint16Array(6*(e.length-1)));var p=o.data,m=d.data;p[0]=0,p[1]=0,p[2]=0,p[3]=1;for(var w=0,x=e[0],A=this._width*this.textureScale,I=e.length,S=0;S<I;S++){var R=4*S;if(this.textureScale>0){var L=x.x-e[S].x,B=x.y-e[S].y,X=Math.sqrt(L*L+B*B);x=e[S],w+=X/A}else w=S/(I-1);p[R]=w,p[R+1]=0,p[R+2]=w,p[R+3]=1}var se=0;for(S=0;S<I-1;S++)m[se++]=R=2*S,m[se++]=R+1,m[se++]=R+2,m[se++]=R+2,m[se++]=R+1,m[se++]=R+3;o.update(),d.update(),this.updateVertices()}}},i.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var o,r=e[0],d=0,p=0,m=this.buffers[0].data,w=e.length,x=0;x<w;x++){var A=e[x],I=4*x;p=-((o=x<e.length-1?e[x+1]:A).x-r.x),d=o.y-r.y;var S=Math.sqrt(d*d+p*p),R=this.textureScale>0?this.textureScale*this._width/2:this._width/2;d/=S,p/=S,p*=R,m[I]=A.x+(d*=R),m[I+1]=A.y+p,m[I+2]=A.x-d,m[I+3]=A.y-p,r=A}this.buffers[0].update()}},i.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},i}(Tu),Wc=(function(a){function i(e,r,o){void 0===o&&(o=0);var d=this,p=new Ms(e.height,r,o),m=new uo(e);return o>0&&(e.baseTexture.wrapMode=at.REPEAT),(d=a.call(this,p,m)||this).autoUpdate=!0,d}Ps(i,a),i.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),a.prototype._render.call(this,e)}}(ni),function(a){function i(e,r,o){var d=this,p=new Yc(e.width,e.height,r,o),m=new uo(ct.WHITE);return(d=a.call(this,p,m)||this).texture=e,d}return Ps(i,a),i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),a.prototype._render.call(this,e)},i.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),a.prototype.destroy.call(this,e)},i}(ni)),lr=(function(a){function i(e,r,o,d,p){void 0===e&&(e=ct.EMPTY);var m=this,w=new Tu(r,o,d);w.getBuffer("aVertexPosition").static=!1;var x=new uo(e);return(m=a.call(this,w,x,null,p)||this).autoUpdate=!0,m}Ps(i,a),Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),a.prototype._render.call(this,e)}}(ni),function(a){function i(e,r,o,d,p){void 0===r&&(r=10),void 0===o&&(o=10),void 0===d&&(d=10),void 0===p&&(p=10);var m=a.call(this,ct.WHITE,4,4)||this;return m._origWidth=e.orig.width,m._origHeight=e.orig.height,m._width=m._origWidth,m._height=m._origHeight,m._leftWidth=r,m._rightWidth=d,m._topHeight=o,m._bottomHeight=p,m.texture=e,m}Ps(i,a),i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),i.prototype.updateHorizontalVertices=function(){var e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height},i.prototype.updateVerticalVertices=function(){var e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width},i.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,o=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>o?1:this._height/o)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),i.prototype._refresh=function(){var e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var o=1/this._origWidth,d=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=o*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-o*this._rightWidth,r[9]=r[11]=r[13]=r[15]=d*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-d*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(Wc),function(a,i){return(lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)});!function(a){function i(e,r){void 0===r&&(r=!0);var o=a.call(this,e[0]instanceof ct?e[0]:e[0].texture)||this;return o._textures=null,o._durations=null,o._autoUpdate=r,o._isConnectedToTicker=!1,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o._playing=!1,o._previousFrame=null,o.textures=e,o}(function(a,i){function e(){this.constructor=a}lr(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(rn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},i.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(rn.shared.add(this.update,this,nr.HIGH),this._isConnectedToTicker=!0))},i.prototype.gotoAndStop=function(e){this.stop();var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(e){var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(e){if(this._playing){var r=this.animationSpeed*e,o=this.currentFrame;if(null!==this._durations){var d=this._currentTime%1*this._durations[this.currentFrame];for(d+=r/60*1e3;d<0;)this._currentTime--,d+=this._durations[this.currentFrame];var p=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*p,this._currentTime+=p;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o||this.animationSpeed<0&&this.currentFrame>o)&&this.onLoop(),this.updateTexture())}},i.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},i.prototype.destroy=function(e){this.stop(),a.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},i.fromFrames=function(e){for(var r=[],o=0;o<e.length;++o)r.push(ct.from(e[o]));return new i(r)},i.fromImages=function(e){for(var r=[],o=0;o<e.length;++o)r.push(ct.from(e[o]));return new i(r)},Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof ct)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(rn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(rn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(Ts),Un.registerPlugin("accessibility",gr),Un.registerPlugin("extract",Zo),Un.registerPlugin("interaction",bh),Un.registerPlugin("particle",Es),Un.registerPlugin("prepare",ti),Un.registerPlugin("batch",qr),Un.registerPlugin("tilingSprite",Rc),Zr.registerPlugin(Mu),Zr.registerPlugin(Pc),Wo.registerPlugin(vr),Wo.registerPlugin(eo)},516:Ve=>{"use strict";function ge(j,E){return Object.prototype.hasOwnProperty.call(j,E)}Ve.exports=function(j,E,pe,De){pe=pe||"=";var ie={};if("string"!=typeof j||0===j.length)return ie;var he=/\+/g;j=j.split(E=E||"&");var ne=1e3;De&&"number"==typeof De.maxKeys&&(ne=De.maxKeys);var W=j.length;ne>0&&W>ne&&(W=ne);for(var oe=0;oe<W;++oe){var Q,re,ce,le,fe=j[oe].replace(he,"%20"),K=fe.indexOf(pe);K>=0?(Q=fe.substr(0,K),re=fe.substr(K+1)):(Q=fe,re=""),ce=decodeURIComponent(Q),le=decodeURIComponent(re),ge(ie,ce)?Array.isArray(ie[ce])?ie[ce].push(le):ie[ce]=[ie[ce],le]:ie[ce]=le}return ie}},5776:Ve=>{"use strict";var ge=function(j){switch(typeof j){case"string":return j;case"boolean":return j?"true":"false";case"number":return isFinite(j)?j:"";default:return""}};Ve.exports=function(j,E,pe,De){return E=E||"&",pe=pe||"=",null===j&&(j=void 0),"object"==typeof j?Object.keys(j).map(function(ie){var he=encodeURIComponent(ge(ie))+pe;return Array.isArray(j[ie])?j[ie].map(function(ne){return he+encodeURIComponent(ge(ne))}).join(E):he+encodeURIComponent(ge(j[ie]))}).join(E):De?encodeURIComponent(ge(De))+pe+encodeURIComponent(ge(j)):""}},7137:(Ve,ge,j)=>{"use strict";ge.decode=ge.parse=j(516),ge.encode=ge.stringify=j(5776)},1869:(Ve,ge,j)=>{"use strict";j.d(ge,{d:()=>pe});var E=j(3489);class pe extends E.L{constructor(ie,he,ne){super(),this.parent=ie,this.outerValue=he,this.outerIndex=ne,this.index=0}_next(ie){this.parent.notifyNext(this.outerValue,ie,this.outerIndex,this.index++,this)}_error(ie){this.parent.notifyError(ie,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},2916:(Ve,ge,j)=>{"use strict";j.d(ge,{y:()=>Q});var E=j(3489),De=j(7668),ie=j(3292),ne=j(3821),W=j(5379);var K=j(2830);let Q=(()=>{class ce{constructor(Se){this._isScalar=!1,Se&&(this._subscribe=Se)}lift(Se){const ae=new ce;return ae.source=this,ae.operator=Se,ae}subscribe(Se,ae,Ne){const{operator:He}=this,je=function(ce,le,Se){if(ce){if(ce instanceof E.L)return ce;if(ce[De.b])return ce[De.b]()}return ce||le||Se?new E.L(ce,le,Se):new E.L(ie.c)}(Se,ae,Ne);if(je.add(He?He.call(je,this.source):this.source||K.v.useDeprecatedSynchronousErrorHandling&&!je.syncErrorThrowable?this._subscribe(je):this._trySubscribe(je)),K.v.useDeprecatedSynchronousErrorHandling&&je.syncErrorThrowable&&(je.syncErrorThrowable=!1,je.syncErrorThrown))throw je.syncErrorValue;return je}_trySubscribe(Se){try{return this._subscribe(Se)}catch(ae){K.v.useDeprecatedSynchronousErrorHandling&&(Se.syncErrorThrown=!0,Se.syncErrorValue=ae),function(ce){for(;ce;){const{closed:le,destination:Se,isStopped:ae}=ce;if(le||ae)return!1;ce=Se&&Se instanceof E.L?Se:null}return!0}(Se)?Se.error(ae):console.warn(ae)}}forEach(Se,ae){return new(ae=re(ae))((Ne,He)=>{let je;je=this.subscribe(Ue=>{try{Se(Ue)}catch(_t){He(_t),je&&je.unsubscribe()}},He,Ne)})}_subscribe(Se){const{source:ae}=this;return ae&&ae.subscribe(Se)}[ne.L](){return this}pipe(...Se){return 0===Se.length?this:function(ce){return 0===ce.length?W.y:1===ce.length?ce[0]:function(Se){return ce.reduce((ae,Ne)=>Ne(ae),Se)}}(Se)(this)}toPromise(Se){return new(Se=re(Se))((ae,Ne)=>{let He;this.subscribe(je=>He=je,je=>Ne(je),()=>ae(He))})}}return ce.create=le=>new ce(le),ce})();function re(ce){if(ce||(ce=K.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},3292:(Ve,ge,j)=>{"use strict";j.d(ge,{c:()=>De});var E=j(2830),pe=j(2782);const De={closed:!0,next(ie){},error(ie){if(E.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,pe.z)(ie)},complete(){}}},826:(Ve,ge,j)=>{"use strict";j.d(ge,{L:()=>pe});var E=j(3489);class pe extends E.L{notifyNext(ie,he,ne,W,oe){this.destination.next(he)}notifyError(ie,he){this.destination.error(ie)}notifyComplete(ie){this.destination.complete()}}},5529:(Ve,ge,j)=>{"use strict";j.d(ge,{xQ:()=>oe,Yc:()=>W});var E=j(2916),pe=j(3489),De=j(2654),ie=j(5279);class he extends De.w{constructor(Q,re){super(),this.subject=Q,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Q=this.subject,re=Q.observers;if(this.subject=null,!re||0===re.length||Q.isStopped||Q.closed)return;const ce=re.indexOf(this.subscriber);-1!==ce&&re.splice(ce,1)}}var ne=j(7668);class W extends pe.L{constructor(Q){super(Q),this.destination=Q}}let oe=(()=>{class K extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ne.b](){return new W(this)}lift(re){const ce=new fe(this,this);return ce.operator=re,ce}next(re){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:ce}=this,le=ce.length,Se=ce.slice();for(let ae=0;ae<le;ae++)Se[ae].next(re)}}error(re){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=re,this.isStopped=!0;const{observers:ce}=this,le=ce.length,Se=ce.slice();for(let ae=0;ae<le;ae++)Se[ae].error(re);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:re}=this,ce=re.length,le=re.slice();for(let Se=0;Se<ce;Se++)le[Se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(re){if(this.closed)throw new ie.N;return super._trySubscribe(re)}_subscribe(re){if(this.closed)throw new ie.N;return this.hasError?(re.error(this.thrownError),De.w.EMPTY):this.isStopped?(re.complete(),De.w.EMPTY):(this.observers.push(re),new he(this,re))}asObservable(){const re=new E.y;return re.source=this,re}}return K.create=(Q,re)=>new fe(Q,re),K})();class fe extends oe{constructor(Q,re){super(),this.destination=Q,this.source=re}next(Q){const{destination:re}=this;re&&re.next&&re.next(Q)}error(Q){const{destination:re}=this;re&&re.error&&this.destination.error(Q)}complete(){const{destination:Q}=this;Q&&Q.complete&&this.destination.complete()}_subscribe(Q){const{source:re}=this;return re?this.source.subscribe(Q):De.w.EMPTY}}},3489:(Ve,ge,j)=>{"use strict";j.d(ge,{L:()=>W});var E=j(7043),pe=j(3292),De=j(2654),ie=j(7668),he=j(2830),ne=j(2782);class W extends De.w{constructor(K,Q,re){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=pe.c;break;case 1:if(!K){this.destination=pe.c;break}if("object"==typeof K){K instanceof W?(this.syncErrorThrowable=K.syncErrorThrowable,this.destination=K,K.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,K));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,K,Q,re)}}[ie.b](){return this}static create(K,Q,re){const ce=new W(K,Q,re);return ce.syncErrorThrowable=!1,ce}next(K){this.isStopped||this._next(K)}error(K){this.isStopped||(this.isStopped=!0,this._error(K))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(K){this.destination.next(K)}_error(K){this.destination.error(K),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:K}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=K,this}}class oe extends W{constructor(K,Q,re,ce){super(),this._parentSubscriber=K;let le,Se=this;(0,E.m)(Q)?le=Q:Q&&(le=Q.next,re=Q.error,ce=Q.complete,Q!==pe.c&&(Se=Object.create(Q),(0,E.m)(Se.unsubscribe)&&this.add(Se.unsubscribe.bind(Se)),Se.unsubscribe=this.unsubscribe.bind(this))),this._context=Se,this._next=le,this._error=re,this._complete=ce}next(K){if(!this.isStopped&&this._next){const{_parentSubscriber:Q}=this;he.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?this.__tryOrSetError(Q,this._next,K)&&this.unsubscribe():this.__tryOrUnsub(this._next,K)}}error(K){if(!this.isStopped){const{_parentSubscriber:Q}=this,{useDeprecatedSynchronousErrorHandling:re}=he.v;if(this._error)re&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,this._error,K),this.unsubscribe()):(this.__tryOrUnsub(this._error,K),this.unsubscribe());else if(Q.syncErrorThrowable)re?(Q.syncErrorValue=K,Q.syncErrorThrown=!0):(0,ne.z)(K),this.unsubscribe();else{if(this.unsubscribe(),re)throw K;(0,ne.z)(K)}}}complete(){if(!this.isStopped){const{_parentSubscriber:K}=this;if(this._complete){const Q=()=>this._complete.call(this._context);he.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?(this.__tryOrSetError(K,Q),this.unsubscribe()):(this.__tryOrUnsub(Q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(K,Q){try{K.call(this._context,Q)}catch(re){if(this.unsubscribe(),he.v.useDeprecatedSynchronousErrorHandling)throw re;(0,ne.z)(re)}}__tryOrSetError(K,Q,re){if(!he.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Q.call(this._context,re)}catch(ce){return he.v.useDeprecatedSynchronousErrorHandling?(K.syncErrorValue=ce,K.syncErrorThrown=!0,!0):((0,ne.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:K}=this;this._context=null,this._parentSubscriber=null,K.unsubscribe()}}},2654:(Ve,ge,j)=>{"use strict";j.d(ge,{w:()=>ne});var E=j(6688),pe=j(7830),De=j(7043);const he=(()=>{function oe(fe){return Error.call(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((K,Q)=>`${Q+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe,this}return oe.prototype=Object.create(Error.prototype),oe})();class ne{constructor(fe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,fe&&(this._unsubscribe=fe)}unsubscribe(){let fe;if(this.closed)return;let{_parentOrParents:K,_unsubscribe:Q,_subscriptions:re}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,K instanceof ne)K.remove(this);else if(null!==K)for(let ce=0;ce<K.length;++ce)K[ce].remove(this);if((0,De.m)(Q))try{Q.call(this)}catch(ce){fe=ce instanceof he?W(ce.errors):[ce]}if((0,E.k)(re)){let ce=-1,le=re.length;for(;++ce<le;){const Se=re[ce];if((0,pe.K)(Se))try{Se.unsubscribe()}catch(ae){fe=fe||[],ae instanceof he?fe=fe.concat(W(ae.errors)):fe.push(ae)}}}if(fe)throw new he(fe)}add(fe){let K=fe;if(!fe)return ne.EMPTY;switch(typeof fe){case"function":K=new ne(fe);case"object":if(K===this||K.closed||"function"!=typeof K.unsubscribe)return K;if(this.closed)return K.unsubscribe(),K;if(!(K instanceof ne)){const ce=K;K=new ne,K._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+fe+" added to Subscription.")}let{_parentOrParents:Q}=K;if(null===Q)K._parentOrParents=this;else if(Q instanceof ne){if(Q===this)return K;K._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return K;Q.push(this)}const re=this._subscriptions;return null===re?this._subscriptions=[K]:re.push(K),K}remove(fe){const K=this._subscriptions;if(K){const Q=K.indexOf(fe);-1!==Q&&K.splice(Q,1)}}}var oe;function W(oe){return oe.reduce((fe,K)=>fe.concat(K instanceof he?K.errors:K),[])}ne.EMPTY=((oe=new ne).closed=!0,oe)},2830:(Ve,ge,j)=>{"use strict";j.d(ge,{v:()=>pe});let E=!1;const pe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(De){if(De){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=De},get useDeprecatedSynchronousErrorHandling(){return E}}},1762:(Ve,ge,j)=>{"use strict";j.d(ge,{c:()=>he,N:()=>ne});var E=j(5529),pe=j(2916),De=j(2654),ie=j(4327);class he extends pe.y{constructor(Q,re){super(),this.source=Q,this.subjectFactory=re,this._refCount=0,this._isComplete=!1}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Q=this._connection;return Q||(this._isComplete=!1,Q=this._connection=new De.w,Q.add(this.source.subscribe(new W(this.getSubject(),this))),Q.closed&&(this._connection=null,Q=De.w.EMPTY)),Q}refCount(){return(0,ie.x)()(this)}}const ne=(()=>{const K=he.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:K._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}}})();class W extends E.Yc{constructor(Q,re){super(Q),this.connectable=re}_error(Q){this._unsubscribe(),super._error(Q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Q=this.connectable;if(Q){this.connectable=null;const re=Q._connection;Q._refCount=0,Q._subject=null,Q._connection=null,re&&re.unsubscribe()}}}},5254:(Ve,ge,j)=>{"use strict";j.d(ge,{D:()=>Se});var E=j(2916),pe=j(9249),De=j(2654),ie=j(3821),W=j(6454),oe=j(5430),Q=j(8955),re=j(8515);function Se(ae,Ne){return Ne?function(ae,Ne){if(null!=ae){if(function(ae){return ae&&"function"==typeof ae[ie.L]}(ae))return function(ae,Ne){return new E.y(He=>{const je=new De.w;return je.add(Ne.schedule(()=>{const Ue=ae[ie.L]();je.add(Ue.subscribe({next(_t){je.add(Ne.schedule(()=>He.next(_t)))},error(_t){je.add(Ne.schedule(()=>He.error(_t)))},complete(){je.add(Ne.schedule(()=>He.complete()))}}))})),je})}(ae,Ne);if((0,Q.t)(ae))return function(ae,Ne){return new E.y(He=>{const je=new De.w;return je.add(Ne.schedule(()=>ae.then(Ue=>{je.add(Ne.schedule(()=>{He.next(Ue),je.add(Ne.schedule(()=>He.complete()))}))},Ue=>{je.add(Ne.schedule(()=>He.error(Ue)))}))),je})}(ae,Ne);if((0,re.z)(ae))return(0,W.r)(ae,Ne);if(function(ae){return ae&&"function"==typeof ae[oe.hZ]}(ae)||"string"==typeof ae)return function(ae,Ne){if(!ae)throw new Error("Iterable cannot be null");return new E.y(He=>{const je=new De.w;let Ue;return je.add(()=>{Ue&&"function"==typeof Ue.return&&Ue.return()}),je.add(Ne.schedule(()=>{Ue=ae[oe.hZ](),je.add(Ne.schedule(function(){if(He.closed)return;let _t,Yt;try{const de=Ue.next();_t=de.value,Yt=de.done}catch(de){return void He.error(de)}Yt?He.complete():(He.next(_t),this.schedule())}))})),je})}(ae,Ne)}throw new TypeError((null!==ae&&typeof ae||ae)+" is not observable")}(ae,Ne):ae instanceof E.y?ae:new E.y((0,pe.s)(ae))}},3009:(Ve,ge,j)=>{"use strict";j.d(ge,{n:()=>ie});var E=j(2916),pe=j(3650),De=j(6454);function ie(he,ne){return ne?(0,De.r)(he,ne):new E.y((0,pe.V)(he))}},4850:(Ve,ge,j)=>{"use strict";j.d(ge,{U:()=>pe});var E=j(3489);function pe(he,ne){return function(oe){if("function"!=typeof he)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new De(he,ne))}}class De{constructor(ne,W){this.project=ne,this.thisArg=W}call(ne,W){return W.subscribe(new ie(ne,this.project,this.thisArg))}}class ie extends E.L{constructor(ne,W,oe){super(ne),this.project=W,this.count=0,this.thisArg=oe||this}_next(ne){let W;try{W=this.project.call(this.thisArg,ne,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(W)}}},9146:(Ve,ge,j)=>{"use strict";j.d(ge,{J:()=>De});var E=j(1709),pe=j(5379);function De(ie=Number.POSITIVE_INFINITY){return(0,E.zg)(pe.y,ie)}},1709:(Ve,ge,j)=>{"use strict";j.d(ge,{zg:()=>ne});var E=j(9054),pe=j(826),De=j(1869),ie=j(4850),he=j(5254);function ne(fe,K,Q=Number.POSITIVE_INFINITY){return"function"==typeof K?re=>re.pipe(ne((ce,le)=>(0,he.D)(fe(ce,le)).pipe((0,ie.U)((Se,ae)=>K(ce,Se,le,ae))),Q)):("number"==typeof K&&(Q=K),re=>re.lift(new W(fe,Q)))}class W{constructor(K,Q=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=Q}call(K,Q){return Q.subscribe(new oe(K,this.project,this.concurrent))}}class oe extends pe.L{constructor(K,Q,re=Number.POSITIVE_INFINITY){super(K),this.project=Q,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let Q;const re=this.index++;try{Q=this.project(K,re)}catch(ce){return void this.destination.error(ce)}this.active++,this._innerSub(Q,K,re)}_innerSub(K,Q,re){const ce=new De.d(this,Q,re),le=this.destination;le.add(ce);const Se=(0,E.D)(this,K,void 0,void 0,ce);Se!==ce&&le.add(Se)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K,Q,re,ce,le){this.destination.next(Q)}notifyComplete(K){const Q=this.buffer;this.remove(K),this.active--,Q.length>0?this._next(Q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4327:(Ve,ge,j)=>{"use strict";j.d(ge,{x:()=>pe});var E=j(3489);function pe(){return function(ne){return ne.lift(new De(ne))}}class De{constructor(ne){this.connectable=ne}call(ne,W){const{connectable:oe}=this;oe._refCount++;const fe=new ie(ne,oe),K=W.subscribe(fe);return fe.closed||(fe.connection=oe.connect()),K}}class ie extends E.L{constructor(ne,W){super(ne),this.connectable=W}_unsubscribe(){const{connectable:ne}=this;if(!ne)return void(this.connection=null);this.connectable=null;const W=ne._refCount;if(W<=0)return void(this.connection=null);if(ne._refCount=W-1,W>1)return void(this.connection=null);const{connection:oe}=this,fe=ne._connection;this.connection=null,fe&&(!oe||fe===oe)&&fe.unsubscribe()}}},6454:(Ve,ge,j)=>{"use strict";j.d(ge,{r:()=>De});var E=j(2916),pe=j(2654);function De(ie,he){return new E.y(ne=>{const W=new pe.w;let oe=0;return W.add(he.schedule(function(){oe!==ie.length?(ne.next(ie[oe++]),ne.closed||W.add(this.schedule())):ne.complete()})),W})}},5430:(Ve,ge,j)=>{"use strict";j.d(ge,{hZ:()=>pe});const pe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},3821:(Ve,ge,j)=>{"use strict";j.d(ge,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Ve,ge,j)=>{"use strict";j.d(ge,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(Ve,ge,j)=>{"use strict";j.d(ge,{N:()=>pe});const pe=(()=>{function De(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return De.prototype=Object.create(Error.prototype),De})()},2782:(Ve,ge,j)=>{"use strict";function E(pe){setTimeout(()=>{throw pe},0)}j.d(ge,{z:()=>E})},5379:(Ve,ge,j)=>{"use strict";function E(pe){return pe}j.d(ge,{y:()=>E})},6688:(Ve,ge,j)=>{"use strict";j.d(ge,{k:()=>E});const E=Array.isArray||(pe=>pe&&"number"==typeof pe.length)},8515:(Ve,ge,j)=>{"use strict";j.d(ge,{z:()=>E});const E=pe=>pe&&"number"==typeof pe.length&&"function"!=typeof pe},7043:(Ve,ge,j)=>{"use strict";function E(pe){return"function"==typeof pe}j.d(ge,{m:()=>E})},7830:(Ve,ge,j)=>{"use strict";function E(pe){return null!==pe&&"object"==typeof pe}j.d(ge,{K:()=>E})},8955:(Ve,ge,j)=>{"use strict";function E(pe){return!!pe&&"function"!=typeof pe.subscribe&&"function"==typeof pe.then}j.d(ge,{t:()=>E})},2866:(Ve,ge,j)=>{"use strict";function E(pe){return pe&&"function"==typeof pe.schedule}j.d(ge,{K:()=>E})},9249:(Ve,ge,j)=>{"use strict";j.d(ge,{s:()=>Q});var E=j(3650),pe=j(2782),ie=j(5430),ne=j(3821),oe=j(8515),fe=j(8955),K=j(7830);const Q=re=>{if(re&&"function"==typeof re[ne.L])return(re=>ce=>{const le=re[ne.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(ce)})(re);if((0,oe.z)(re))return(0,E.V)(re);if((0,fe.t)(re))return(re=>ce=>(re.then(le=>{ce.closed||(ce.next(le),ce.complete())},le=>ce.error(le)).then(null,pe.z),ce))(re);if(re&&"function"==typeof re[ie.hZ])return(re=>ce=>{const le=re[ie.hZ]();for(;;){const Se=le.next();if(Se.done){ce.complete();break}if(ce.next(Se.value),ce.closed)break}return"function"==typeof le.return&&ce.add(()=>{le.return&&le.return()}),ce})(re);{const le=`You provided ${(0,K.K)(re)?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},3650:(Ve,ge,j)=>{"use strict";j.d(ge,{V:()=>E});const E=pe=>De=>{for(let ie=0,he=pe.length;ie<he&&!De.closed;ie++)De.next(pe[ie]);De.complete()}},9054:(Ve,ge,j)=>{"use strict";j.d(ge,{D:()=>ie});var E=j(1869),pe=j(9249),De=j(2916);function ie(he,ne,W,oe,fe=new E.d(he,W,oe)){if(!fe.closed)return ne instanceof De.y?ne.subscribe(fe):(0,pe.s)(ne)(fe)}},1308:function(Ve,ge,j){var E;Ve=j.nmd(Ve),function(pe){"object"==typeof global&&global;var ne,W=2147483647,ae=/^xn--/,Ne=/[^\x20-\x7E]/,He=/[\x2E\u3002\uFF0E\uFF61]/g,je={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_t=Math.floor,Yt=String.fromCharCode;function st(z){throw RangeError(je[z])}function U(z,Y){for(var Te=z.length,ke=[];Te--;)ke[Te]=Y(z[Te]);return ke}function G(z,Y){var Te=z.split("@"),ke="";return Te.length>1&&(ke=Te[0]+"@",z=Te[1]),ke+U((z=z.replace(He,".")).split("."),Y).join(".")}function q(z){for(var Ee,Pe,Y=[],Te=0,ke=z.length;Te<ke;)(Ee=z.charCodeAt(Te++))>=55296&&Ee<=56319&&Te<ke?56320==(64512&(Pe=z.charCodeAt(Te++)))?Y.push(((1023&Ee)<<10)+(1023&Pe)+65536):(Y.push(Ee),Te--):Y.push(Ee);return Y}function ue(z){return U(z,function(Y){var Te="";return Y>65535&&(Te+=Yt((Y-=65536)>>>10&1023|55296),Y=56320|1023&Y),Te+Yt(Y)}).join("")}function _e(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:36}function $(z,Y){return z+22+75*(z<26)-((0!=Y)<<5)}function O(z,Y,Te){var ke=0;for(z=Te?_t(z/700):z>>1,z+=_t(z/Y);z>455;ke+=36)z=_t(z/35);return _t(ke+36*z/(z+38))}function k(z){var ke,Ze,Ae,Oe,at,At,Ct,Mt,St,Qt,Y=[],Te=z.length,Ee=0,Pe=128,ze=72;for((Ze=z.lastIndexOf("-"))<0&&(Ze=0),Ae=0;Ae<Ze;++Ae)z.charCodeAt(Ae)>=128&&st("not-basic"),Y.push(z.charCodeAt(Ae));for(Oe=Ze>0?Ze+1:0;Oe<Te;){for(at=Ee,At=1,Ct=36;Oe>=Te&&st("invalid-input"),((Mt=_e(z.charCodeAt(Oe++)))>=36||Mt>_t((W-Ee)/At))&&st("overflow"),Ee+=Mt*At,!(Mt<(St=Ct<=ze?1:Ct>=ze+26?26:Ct-ze));Ct+=36)At>_t(W/(Qt=36-St))&&st("overflow"),At*=Qt;ze=O(Ee-at,ke=Y.length+1,0==at),_t(Ee/ke)>W-Pe&&st("overflow"),Pe+=_t(Ee/ke),Ee%=ke,Y.splice(Ee++,0,Pe)}return ue(Y)}function H(z){var Y,Te,ke,Ee,Pe,ze,Ze,Ae,Oe,at,At,Mt,St,Qt,Lt,Ct=[];for(Mt=(z=q(z)).length,Y=128,Te=0,Pe=72,ze=0;ze<Mt;++ze)(At=z[ze])<128&&Ct.push(Yt(At));for(ke=Ee=Ct.length,Ee&&Ct.push("-");ke<Mt;){for(Ze=W,ze=0;ze<Mt;++ze)(At=z[ze])>=Y&&At<Ze&&(Ze=At);for(Ze-Y>_t((W-Te)/(St=ke+1))&&st("overflow"),Te+=(Ze-Y)*St,Y=Ze,ze=0;ze<Mt;++ze)if((At=z[ze])<Y&&++Te>W&&st("overflow"),At==Y){for(Ae=Te,Oe=36;!(Ae<(at=Oe<=Pe?1:Oe>=Pe+26?26:Oe-Pe));Oe+=36)Ct.push(Yt($(at+(Lt=Ae-at)%(Qt=36-at),0))),Ae=_t(Lt/Qt);Ct.push(Yt($(Ae,0))),Pe=O(Te,St,ke==Ee),Te=0,++ke}++Te,++Y}return Ct.join("")}ne={version:"1.3.2",ucs2:{decode:q,encode:ue},decode:k,encode:H,toASCII:function(z){return G(z,function(Y){return Ne.test(Y)?"xn--"+H(Y):Y})},toUnicode:function(z){return G(z,function(Y){return ae.test(Y)?k(Y.slice(4).toLowerCase()):Y})}},void 0!==(E=function(){return ne}.call(ge,j,ge,Ve))&&(Ve.exports=E)}()},8762:(Ve,ge,j)=>{"use strict";var E=j(1308),pe=j(796);function De(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}ge.parse=je,ge.resolve=function(de,st){return je(de,!1,!0).resolve(st)},ge.resolveObject=function(de,st){return de?je(de,!1,!0).resolveObject(st):st},ge.format=function(de){return pe.isString(de)&&(de=je(de)),de instanceof De?de.format():De.prototype.format.call(de)},ge.Url=De;var ie=/^([a-z0-9.+-]+:)/i,he=/:[0-9]*$/,ne=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,oe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),fe=["'"].concat(oe),K=["%","/","?",";","#"].concat(fe),Q=["/","?","#"],ce=/^[+a-z0-9A-Z_-]{0,63}$/,le=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Se={javascript:!0,"javascript:":!0},ae={javascript:!0,"javascript:":!0},Ne={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},He=j(7137);function je(de,st,U){if(de&&pe.isObject(de)&&de instanceof De)return de;var G=new De;return G.parse(de,st,U),G}De.prototype.parse=function(de,st,U){if(!pe.isString(de))throw new TypeError("Parameter 'url' must be a string, not "+typeof de);var G=de.indexOf("?"),q=-1!==G&&G<de.indexOf("#")?"?":"#",ue=de.split(q);ue[0]=ue[0].replace(/\\/g,"/");var $=de=ue.join(q);if($=$.trim(),!U&&1===de.split("#").length){var O=ne.exec($);if(O)return this.path=$,this.href=$,this.pathname=O[1],O[2]?(this.search=O[2],this.query=st?He.parse(this.search.substr(1)):this.search.substr(1)):st&&(this.search="",this.query={}),this}var k=ie.exec($);if(k){var H=(k=k[0]).toLowerCase();this.protocol=H,$=$.substr(k.length)}if(U||k||$.match(/^\/\/[^@\/]+@[^@\/]+/)){var te="//"===$.substr(0,2);te&&(!k||!ae[k])&&($=$.substr(2),this.slashes=!0)}if(!ae[k]&&(te||k&&!Ne[k])){for(var ee=-1,z=0;z<Q.length;z++)-1!==(Y=$.indexOf(Q[z]))&&(-1===ee||Y<ee)&&(ee=Y);var Te,ke;for(-1!==(ke=-1===ee?$.lastIndexOf("@"):$.lastIndexOf("@",ee))&&(Te=$.slice(0,ke),$=$.slice(ke+1),this.auth=decodeURIComponent(Te)),ee=-1,z=0;z<K.length;z++){var Y;-1!==(Y=$.indexOf(K[z]))&&(-1===ee||Y<ee)&&(ee=Y)}-1===ee&&(ee=$.length),this.host=$.slice(0,ee),$=$.slice(ee),this.parseHost(),this.hostname=this.hostname||"";var Ee="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ee)for(var Pe=this.hostname.split(/\./),ze=(z=0,Pe.length);z<ze;z++){var Ze=Pe[z];if(Ze&&!Ze.match(ce)){for(var Ae="",Oe=0,at=Ze.length;Oe<at;Oe++)Ze.charCodeAt(Oe)>127?Ae+="x":Ae+=Ze[Oe];if(!Ae.match(ce)){var At=Pe.slice(0,z),Ct=Pe.slice(z+1),Mt=Ze.match(le);Mt&&(At.push(Mt[1]),Ct.unshift(Mt[2])),Ct.length&&($="/"+Ct.join(".")+$),this.hostname=At.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Ee||(this.hostname=E.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ee&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==$[0]&&($="/"+$))}if(!Se[H])for(z=0,ze=fe.length;z<ze;z++){var Lt=fe[z];if(-1!==$.indexOf(Lt)){var $n=encodeURIComponent(Lt);$n===Lt&&($n=escape(Lt)),$=$.split(Lt).join($n)}}var Ii=$.indexOf("#");-1!==Ii&&(this.hash=$.substr(Ii),$=$.slice(0,Ii));var vn=$.indexOf("?");return-1!==vn?(this.search=$.substr(vn),this.query=$.substr(vn+1),st&&(this.query=He.parse(this.query)),$=$.slice(0,vn)):st&&(this.search="",this.query={}),$&&(this.pathname=$),Ne[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},De.prototype.format=function(){var de=this.auth||"";de&&(de=(de=encodeURIComponent(de)).replace(/%3A/i,":"),de+="@");var st=this.protocol||"",U=this.pathname||"",G=this.hash||"",q=!1,ue="";this.host?q=de+this.host:this.hostname&&(q=de+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(q+=":"+this.port)),this.query&&pe.isObject(this.query)&&Object.keys(this.query).length&&(ue=He.stringify(this.query));var _e=this.search||ue&&"?"+ue||"";return st&&":"!==st.substr(-1)&&(st+=":"),this.slashes||(!st||Ne[st])&&!1!==q?(q="//"+(q||""),U&&"/"!==U.charAt(0)&&(U="/"+U)):q||(q=""),G&&"#"!==G.charAt(0)&&(G="#"+G),_e&&"?"!==_e.charAt(0)&&(_e="?"+_e),st+q+(U=U.replace(/[?#]/g,function($){return encodeURIComponent($)}))+(_e=_e.replace("#","%23"))+G},De.prototype.resolve=function(de){return this.resolveObject(je(de,!1,!0)).format()},De.prototype.resolveObject=function(de){if(pe.isString(de)){var st=new De;st.parse(de,!1,!0),de=st}for(var U=new De,G=Object.keys(this),q=0;q<G.length;q++){var ue=G[q];U[ue]=this[ue]}if(U.hash=de.hash,""===de.href)return U.href=U.format(),U;if(de.slashes&&!de.protocol){for(var _e=Object.keys(de),$=0;$<_e.length;$++){var O=_e[$];"protocol"!==O&&(U[O]=de[O])}return Ne[U.protocol]&&U.hostname&&!U.pathname&&(U.path=U.pathname="/"),U.href=U.format(),U}if(de.protocol&&de.protocol!==U.protocol){if(!Ne[de.protocol]){for(var k=Object.keys(de),H=0;H<k.length;H++){var te=k[H];U[te]=de[te]}return U.href=U.format(),U}if(U.protocol=de.protocol,de.host||ae[de.protocol])U.pathname=de.pathname;else{for(var ze=(de.pathname||"").split("/");ze.length&&!(de.host=ze.shift()););de.host||(de.host=""),de.hostname||(de.hostname=""),""!==ze[0]&&ze.unshift(""),ze.length<2&&ze.unshift(""),U.pathname=ze.join("/")}return U.search=de.search,U.query=de.query,U.host=de.host||"",U.auth=de.auth,U.hostname=de.hostname||de.host,U.port=de.port,(U.pathname||U.search)&&(U.path=(U.pathname||"")+(U.search||"")),U.slashes=U.slashes||de.slashes,U.href=U.format(),U}var Y=U.pathname&&"/"===U.pathname.charAt(0),Te=de.host||de.pathname&&"/"===de.pathname.charAt(0),ke=Te||Y||U.host&&de.pathname,Ee=ke,Pe=U.pathname&&U.pathname.split("/")||[],Ze=(ze=de.pathname&&de.pathname.split("/")||[],U.protocol&&!Ne[U.protocol]);if(Ze&&(U.hostname="",U.port=null,U.host&&(""===Pe[0]?Pe[0]=U.host:Pe.unshift(U.host)),U.host="",de.protocol&&(de.hostname=null,de.port=null,de.host&&(""===ze[0]?ze[0]=de.host:ze.unshift(de.host)),de.host=null),ke=ke&&(""===ze[0]||""===Pe[0])),Te)U.host=de.host||""===de.host?de.host:U.host,U.hostname=de.hostname||""===de.hostname?de.hostname:U.hostname,U.search=de.search,U.query=de.query,Pe=ze;else if(ze.length)Pe||(Pe=[]),Pe.pop(),Pe=Pe.concat(ze),U.search=de.search,U.query=de.query;else if(!pe.isNullOrUndefined(de.search))return Ze&&(U.hostname=U.host=Pe.shift(),(Ae=!!(U.host&&U.host.indexOf("@")>0)&&U.host.split("@"))&&(U.auth=Ae.shift(),U.host=U.hostname=Ae.shift())),U.search=de.search,U.query=de.query,(!pe.isNull(U.pathname)||!pe.isNull(U.search))&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.href=U.format(),U;if(!Pe.length)return U.pathname=null,U.path=U.search?"/"+U.search:null,U.href=U.format(),U;for(var Oe=Pe.slice(-1)[0],at=(U.host||de.host||Pe.length>1)&&("."===Oe||".."===Oe)||""===Oe,At=0,Ct=Pe.length;Ct>=0;Ct--)"."===(Oe=Pe[Ct])?Pe.splice(Ct,1):".."===Oe?(Pe.splice(Ct,1),At++):At&&(Pe.splice(Ct,1),At--);if(!ke&&!Ee)for(;At--;At)Pe.unshift("..");ke&&""!==Pe[0]&&(!Pe[0]||"/"!==Pe[0].charAt(0))&&Pe.unshift(""),at&&"/"!==Pe.join("/").substr(-1)&&Pe.push("");var Ae,Mt=""===Pe[0]||Pe[0]&&"/"===Pe[0].charAt(0);return Ze&&(U.hostname=U.host=Mt?"":Pe.length?Pe.shift():"",(Ae=!!(U.host&&U.host.indexOf("@")>0)&&U.host.split("@"))&&(U.auth=Ae.shift(),U.host=U.hostname=Ae.shift())),(ke=ke||U.host&&Pe.length)&&!Mt&&Pe.unshift(""),Pe.length?U.pathname=Pe.join("/"):(U.pathname=null,U.path=null),(!pe.isNull(U.pathname)||!pe.isNull(U.search))&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.auth=de.auth||U.auth,U.slashes=U.slashes||de.slashes,U.href=U.format(),U},De.prototype.parseHost=function(){var de=this.host,st=he.exec(de);st&&(":"!==(st=st[0])&&(this.port=st.substr(1)),de=de.substr(0,de.length-st.length)),de&&(this.hostname=de)}},796:Ve=>{"use strict";Ve.exports={isString:function(ge){return"string"==typeof ge},isObject:function(ge){return"object"==typeof ge&&null!==ge},isNull:function(ge){return null===ge},isNullOrUndefined:function(ge){return null==ge}}},655:(Ve,ge,j)=>{"use strict";function oe(U,G,q,ue){return new(q||(q=Promise))(function($,O){function k(ee){try{te(ue.next(ee))}catch(z){O(z)}}function H(ee){try{te(ue.throw(ee))}catch(z){O(z)}}function te(ee){ee.done?$(ee.value):function($){return $ instanceof q?$:new q(function(O){O($)})}(ee.value).then(k,H)}te((ue=ue.apply(U,G||[])).next())})}j.d(ge,{mG:()=>oe})},2096:(Ve,ge,j)=>{"use strict";j.d(ge,{deG:()=>Dc,tb:()=>Am,AFp:()=>Cm,ip1:()=>wd,CZH:()=>lc,hGG:()=>Mw,z2F:()=>ph,sBO:()=>ow,Sil:()=>Td,_Vd:()=>ah,EJc:()=>Mm,SBq:()=>uh,qLn:()=>vo,vpe:()=>ks,tBr:()=>Ds,XFs:()=>ht,OlP:()=>Wt,zs3:()=>Ci,ZZ4:()=>sf,aQg:()=>of,soG:()=>nf,YKP:()=>jv,h0i:()=>oc,PXZ:()=>JE,R0b:()=>ui,FiY:()=>Hr,Lbi:()=>Im,g9A:()=>Sm,Qsj:()=>Rb,FYo:()=>Lv,JOm:()=>lr,tp0:()=>dt,Rgc:()=>fh,dDg:()=>Fm,GfV:()=>kv,s_b:()=>Qh,ifc:()=>Nt,eFA:()=>km,G48:()=>sw,_c5:()=>Tw,VLi:()=>qE,c2e:()=>Pm,zSh:()=>Rf,wAp:()=>it,vHH:()=>de,cg1:()=>Jf,kL8:()=>ov,dqk:()=>kt,sIi:()=>Jc,CqO:()=>hg,QGY:()=>Wf,F4k:()=>cg,RDi:()=>Rr,AaK:()=>ae,TTD:()=>za,_Bn:()=>Rv,xp6:()=>f,uIk:()=>jf,Suo:()=>im,Xpm:()=>ka,lG2:()=>js,Yz7:()=>St,cJS:()=>Lt,oAB:()=>Ir,Yjl:()=>Gt,Y36:()=>th,_UZ:()=>og,qZA:()=>Yf,TgZ:()=>$f,EpF:()=>lg,LFG:()=>qt,$8M:()=>Br,$Z:()=>ig,NdJ:()=>qf,CRH:()=>sm,kcU:()=>pl,O4$:()=>Ec,ALo:()=>qv,xi3:()=>Zv,iGM:()=>nm,MAs:()=>Yp,CHM:()=>Fo,LSH:()=>po,YNc:()=>$p,W1O:()=>lm,_uU:()=>Ug,hij:()=>zh,Gf:()=>rm});var E=j(2916),pe=j(2866),De=j(9146),ie=j(3009),ne=j(5529),W=j(2654),oe=j(1762);var Q=j(4327);function re(){return new ne.xQ}function le(t){for(let n in t)if(t[n]===le)return n;throw Error("Could not find renamed property on target object.")}function ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Ne(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const He=le({__forward_ref__:le});function je(t){return t.__forward_ref__=je,t.toString=function(){return ae(this())},t}function Ue(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(He)&&t.__forward_ref__===je}(t)?t():t}class de extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function q(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function O(t,n){const s=n?` in ${n}`:"";throw new de("201",`No provider for ${q(t)} found${s}`)}function Oe(t,n){null==t&&function(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function St(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function $n(t){return Ii(t,es)||Ii(t,Ai)}function Ii(t,n){return t.hasOwnProperty(n)?t[n]:null}function qu(t){return t&&(t.hasOwnProperty(Na)||t.hasOwnProperty(ts))?t[Na]:null}const es=le({\u0275prov:le}),Na=le({\u0275inj:le}),Ai=le({ngInjectableDef:le}),ts=le({ngInjectorDef:le});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let tn;function et(t){const n=tn;return tn=t,n}function Do(t,n,s){const u=$n(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&ht.Optional?null:void 0!==n?n:void O(ae(t),"Injector")}function mn(t){return{toString:t}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),Nt=(()=>{return(t=Nt||(Nt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Nt;var t})();const vh="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,Zu="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt=vh||"undefined"!=typeof global&&global||Ot||Zu,er={},Pt=[],Ln=le({\u0275cmp:le}),ns=le({\u0275dir:le}),Cn=le({\u0275pipe:le}),Yn=le({\u0275mod:le}),hi=le({\u0275fac:le}),xo=le({__NG_ELEMENT_ID__:le});let Ku=0;function ka(t){return mn(()=>{const s={},u={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Nt.Emulated,id:"c",styles:t.styles||Pt,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,g=t.features,y=t.pipes;return u.id+=Ku++,u.inputs=Ba(t.inputs,s),u.outputs=Ba(t.outputs),g&&g.forEach(b=>b(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(cc):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(rs):null,u})}function cc(t){return lt(t)||function(t){return t[ns]||null}(t)}function rs(t){return function(t){return t[Cn]||null}(t)}const Bs={};function Ir(t){return mn(()=>{const n={type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Bs[t.id]=t.type),n})}function Ba(t,n){if(null==t)return er;const s={};for(const u in t)if(t.hasOwnProperty(u)){let c=t[u],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),s[c]=u,n&&(n[c]=g)}return s}const js=ka;function Gt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[Ln]||null}function Dn(t,n){const s=t[Yn]||null;if(!s&&!0===n)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return s}function nn(t){return Array.isArray(t)&&"object"==typeof t[1]}function gr(t){return Array.isArray(t)&&!0===t[1]}function nr(t){return 0!=(8&t.flags)}function os(t){return 2==(2&t.flags)}function rn(t){return 1==(1&t.flags)}function vr(t){return null!==t.template}function Ju(t){return 0!=(512&t[2])}function fi(t,n){return t.hasOwnProperty(hi)?t[hi]:null}class Ga{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function za(){return sl}function sl(t){return t.type.prototype.ngOnChanges&&(t.setInput=af),vc}function vc(){const t=ol(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===er)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function af(t,n,s,u){const c=ol(t)||function(t,n){return t[Zn]=n}(t,{previous:er,current:null}),g=c.current||(c.current={}),y=c.previous,b=this.declaredInputs[s],D=y[b];g[b]=new Ga(D&&D.currentValue,n,y===er),t[u]=n}za.ngInherit=!0;const Zn="__ngSimpleChanges__";function ol(t){return t[Zn]||null}const ct="http://www.w3.org/2000/svg";let di;function Rr(t){di=t}function Kt(t){return!!t.listen}const pn={createRenderer:(t,n)=>void 0!==di?di:"undefined"!=typeof document?document:void 0};function sn(t){for(;Array.isArray(t);)t=t[0];return t}function In(t,n){return sn(n[t.index])}function Po(t,n){return t.data[n]}function mr(t,n){return t[n]}function kn(t,n){const s=n[t];return nn(s)?s:s[0]}function Fr(t){return 4==(4&t[2])}function Xs(t){return 128==(128&t[2])}function ir(t,n){return null==n?null:t[n]}function qa(t){t[18]=0}function Mo(t,n){t[5]+=n;let s=t,u=t[3];for(;null!==u&&(1===n&&1===s[5]||-1===n&&0===s[5]);)u[5]+=n,s=u,u=u[3]}const ot={lFrame:Bo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function us(){return ot.bindingsEnabled}function we(){return ot.lFrame.lView}function Et(){return ot.lFrame.tView}function Fo(t){return ot.lFrame.contextLView=t,t[8]}function on(){let t=No();for(;null!==t&&64===t.type;)t=t.parent;return t}function No(){return ot.lFrame.currentTNode}function yr(t,n){const s=ot.lFrame;s.currentTNode=t,s.isParent=n}function Fi(){return ot.lFrame.isParent}function Lo(){return ot.isInCheckNoChangesMode}function Ni(t){ot.isInCheckNoChangesMode=t}function ls(){return ot.lFrame.bindingIndex++}function Th(t,n){const s=ot.lFrame;s.bindingIndex=s.bindingRootIndex=t,Li(n)}function Li(t){ot.lFrame.currentDirectiveIndex=t}function hl(){return ot.lFrame.currentQueryIndex}function fl(t){ot.lFrame.currentQueryIndex=t}function Ch(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function cs(t,n,s){if(s&ht.SkipSelf){let c=n,g=t;for(;!(c=c.parent,null!==c||s&ht.Host||(c=Ch(g),null===c||(g=g[15],10&c.type))););if(null===c)return!1;n=c,t=g}const u=ot.lFrame=pi();return u.currentTNode=n,u.lView=t,!0}function Bn(t){const n=pi(),s=t[1];ot.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function pi(){const t=ot.lFrame,n=null===t?null:t.child;return null===n?Bo(t):n}function Bo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function hs(){const t=ot.lFrame;return ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $s=hs;function Ys(){const t=hs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function An(){return ot.lFrame.selectedIndex}function ki(t){ot.lFrame.selectedIndex=t}function Ec(){ot.lFrame.currentNamespace=ct}function pl(){ot.lFrame.currentNamespace=null}function Uo(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:D,ngAfterViewChecked:C,ngOnDestroy:M}=g;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),b&&((t.contentHooks||(t.contentHooks=[])).push(s,b),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,b)),D&&(t.viewHooks||(t.viewHooks=[])).push(-s,D),C&&((t.viewHooks||(t.viewHooks=[])).push(s,C),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,C)),null!=M&&(t.destroyHooks||(t.destroyHooks=[])).push(s,M)}}function jo(t,n,s){Bi(t,n,3,s)}function Ho(t,n,s,u){(3&t[2])===s&&Bi(t,n,s,u)}function eu(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Bi(t,n,s,u){const g=null!=u?u:-1,y=n.length-1;let b=0;for(let D=void 0!==u?65535&t[18]:0;D<y;D++)if("number"==typeof n[D+1]){if(b=n[D],null!=u&&b>=u)break}else n[D]<0&&(t[18]+=65536),(b<g||-1==g)&&(Vo(t,s,n,D),t[18]=(4294901760&t[18])+D+2),D++}function Vo(t,n,s,u){const c=s[u]<0,g=s[u+1],b=t[c?-s[u]:s[u]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Ws{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function zo(t,n,s){const u=Kt(t);let c=0;for(;c<s.length;){const g=s[c];if("number"==typeof g){if(0!==g)break;c++;const y=s[c++],b=s[c++],D=s[c++];u?t.setAttribute(n,b,D,y):n.setAttributeNS(y,b,D)}else{const y=g,b=s[++c];qs(y)?u&&t.setProperty(n,y,b):u?t.setAttribute(n,y,b):n.setAttribute(y,b),c++}}return c}function Xo(t){return 3===t||4===t||6===t}function qs(t){return 64===t.charCodeAt(0)}function gs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const c=n[u];"number"==typeof c?s=c:0===s||nu(t,s,c,null,-1===s||2===s?n[++u]:null)}}return t}function nu(t,n,s,u,c){let g=0,y=t.length;if(-1===n)y=-1;else for(;g<t.length;){const b=t[g++];if("number"==typeof b){if(b===n){y=-1;break}if(b>n){y=g-1;break}}}for(;g<t.length;){const b=t[g];if("number"==typeof b)break;if(b===s){if(null===u)return void(null!==c&&(t[g+1]=c));if(u===t[g+1])return void(t[g+2]=c)}g++,null!==u&&g++,null!==c&&g++}-1!==y&&(t.splice(y,0,n),g=y+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==c&&t.splice(g++,0,c)}function $o(t){return-1!==t}function Ui(t){return 32767&t}function Hi(t,n){let s=function(t){return t>>16}(t),u=n;for(;s>0;)u=u[15],s--;return u}let vs=!0;function Un(t){const n=vs;return vs=t,n}let Zs=0;function ms(t,n){const s=jt(t,n);if(-1!==s)return s;const u=n[1];u.firstCreatePass&&(t.injectorIndex=n.length,iu(u.data,t),iu(n,null),iu(u.blueprint,null));const c=ys(t,n),g=t.injectorIndex;if($o(c)){const y=Ui(c),b=Hi(c,n),D=b[1].data;for(let C=0;C<8;C++)n[g+C]=b[y+C]|D[y+C]}return n[g+8]=c,g}function iu(t,n){t.push(0,0,0,0,0,0,0,0,n)}function jt(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ys(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,c=n;for(;null!==c;){const g=c[1],y=g.type;if(u=2===y?g.declTNode:1===y?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function ar(t,n,s){!function(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(xo)&&(u=s[xo]),null==u&&(u=s[xo]=Zs++);const c=255&u;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function vl(t,n,s){if(s&ht.Optional)return t;O(n,"NodeInjector")}function qr(t,n,s,u){if(s&ht.Optional&&void 0===u&&(u=null),0==(s&(ht.Self|ht.Host))){const c=t[9],g=et(void 0);try{return c?c.get(n,u,s&ht.Optional):Do(n,u,s&ht.Optional)}finally{et(g)}}return vl(u,n,s)}function Wo(t,n,s,u=ht.Default,c){if(null!==t){const g=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(xo)?t[xo]:void 0;return"number"==typeof n?n>=0?255&n:qo:n}(s);if("function"==typeof g){if(!cs(n,t,u))return u&ht.Host?vl(c,s,u):qr(n,s,u,c);try{const y=g(u);if(null!=y||u&ht.Optional)return y;O(s)}finally{$s()}}else if("number"==typeof g){let y=null,b=jt(t,n),D=-1,C=u&ht.Host?n[16][6]:null;for((-1===b||u&ht.SkipSelf)&&(D=-1===b?ys(t,n):n[b+8],-1!==D&&kr(u,!1)?(y=n[1],b=Ui(D),n=Hi(D,n)):b=-1);-1!==b;){const M=n[1];if(yl(g,b,M.data)){const N=ml(b,n,s,y,u,C);if(N!==su)return N}D=n[b+8],-1!==D&&kr(u,n[1].data[b+8]===C)&&yl(g,b,n)?(y=M,b=Ui(D),n=Hi(D,n)):b=-1}}}return qr(n,s,u,c)}const su={};function qo(){return new wn(on(),we())}function ml(t,n,s,u,c,g){const y=n[1],b=y.data[t+8],M=Zo(b,y,s,null==u?os(b)&&vs:u!=y&&0!=(3&b.type),c&ht.Host&&g===b);return null!==M?Ks(n,y,M,b):su}function Zo(t,n,s,u,c){const g=t.providerIndexes,y=n.data,b=1048575&g,D=t.directiveStart,M=g>>20,V=c?b+M:t.directiveEnd;for(let Z=u?b:b+M;Z<V;Z++){const ve=y[Z];if(Z<D&&s===ve||Z>=D&&ve.type===s)return Z}if(c){const Z=y[D];if(Z&&vr(Z)&&Z.type===s)return D}return null}function Ks(t,n,s,u){let c=t[s];const g=n.data;if(function(t){return t instanceof Ws}(c)){const y=c;y.resolving&&function(t,n){throw new de("200",`Circular dependency in DI detected for ${t}`)}(q(g[s]));const b=Un(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?et(y.injectImpl):null;cs(t,u,ht.Default);try{c=t[s]=y.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function(t,n,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:g}=n.type.prototype;if(u){const y=sl(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g))}(s,g[s],n)}finally{null!==D&&et(D),Un(b),y.resolving=!1,$s()}}return c}function yl(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function kr(t,n){return!(t&ht.Self||t&ht.Host&&n)}class wn{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Wo(this._tNode,this._lView,n,u,s)}}function Br(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const g=s[c];if(Xo(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(g===n)return s[c+1];c+=2}}}return null}(on(),t)}const vi="__parameters__";function bs(t,n,s){return mn(()=>{const u=function(t){return function(...s){if(t){const u=t(...s);for(const c in u)this[c]=u[c]}}}(n);function c(...g){if(this instanceof c)return u.apply(this,g),this;const y=new c(...g);return b.annotation=y,b;function b(D,C,M){const N=D.hasOwnProperty(vi)?D[vi]:Object.defineProperty(D,vi,{value:[]})[vi];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(y),D}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Wt{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=St({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dc=new Wt("AnalyzeForEntryComponents");function ln(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let u=t[s];Array.isArray(u)?(n===t&&(n=t.slice(0,s)),ln(u,n)):n!==t&&n.push(u)}return n}function Kn(t,n){t.forEach(s=>Array.isArray(s)?Kn(s,n):n(s))}function Ko(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Qo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const mi={},ia="__NG_DI_FLAG__",Qr="ngTempTokenPath",jr=/\n/gm,oa="__source",aa=le({provide:String,useValue:le});let no;function gn(t){const n=no;return no=t,n}function br(t,n=ht.Default){if(void 0===no)throw new Error("inject() must be called from an injection context");return null===no?Do(t,void 0,n):no.get(t,n&ht.Optional?null:void 0,n)}function qt(t,n=ht.Default){return(tn||br)(Ue(t),n)}function yi(t){const n=[];for(let s=0;s<t.length;s++){const u=Ue(t[s]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,g=ht.Default;for(let y=0;y<u.length;y++){const b=u[y],D=pu(b);"number"==typeof D?-1===D?c=b.token:g|=D:c=b}n.push(qt(c,g))}else n.push(qt(u))}return n}function ua(t,n){return t[ia]=n,t.prototype[ia]=n,t}function pu(t){return t[ia]}const Ds=ua(bs("Inject",t=>({token:t})),-1),Hr=ua(bs("Optional"),8),dt=ua(bs("SkipSelf"),4);class Gr{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Rc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var cn=(()=>((cn=cn||{})[cn.NONE=0]="NONE",cn[cn.HTML=1]="HTML",cn[cn.STYLE=2]="STYLE",cn[cn.SCRIPT=3]="SCRIPT",cn[cn.URL=4]="URL",cn[cn.RESOURCE_URL=5]="RESOURCE_URL",cn))();function po(t){const n=function(){const t=we();return t&&t[12]}();return n?n.sanitize(cn.URL,t)||"":function(t,n){const s=function(t){return t instanceof Gr&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?function(t){return t instanceof Gr?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(Rc)||t.match(Yi)?t:"unsafe:"+t}(G(t))}const wa="__ngContext__";function Rn(t,n){t[wa]=n}function Ol(t){const n=function(t){return t[wa]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Uu(t){return t.ngOriginalError}function Sa(t,...n){t.error(...n)}class vo{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),u=(t=n)&&t.ngErrorLogger||Sa;var t;u(this._console,"ERROR",n),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Uu(n);for(;s&&Uu(s);)s=Uu(s);return s||null}}const Nl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function ri(t){return t instanceof Function?t():t}var lr=(()=>((lr=lr||{})[lr.Important=1]="Important",lr[lr.DashCase=2]="DashCase",lr))();function Gu(t,n){return undefined(t,n)}function Re(t){const n=t[3];return gr(n)?n[3]:n}function Ul(t){return i(t[13])}function a(t){return i(t[4])}function i(t){for(;null!==t&&!gr(t);)t=t[4];return t}function r(t,n,s,u,c){if(null!=u){let g,y=!1;gr(u)?g=u:nn(u)&&(y=!0,u=u[0]);const b=sn(u);0===t&&null!==s?null==c?vt(n,s,b):me(n,s,b,c||null,!0):1===t&&null!==s?me(n,s,b,c||null,!0):2===t?function(t,n,s){const u=Ye(t,n);u&&function(t,n,s,u){Kt(t)?t.removeChild(n,s,u):n.removeChild(s)}(t,u,n,s)}(n,b,y):3===t&&n.destroyNode(b),null!=g&&function(t,n,s,u,c){const g=s[7];g!==sn(s)&&r(n,t,u,g,c);for(let b=10;b<s.length;b++){const D=s[b];hr(D[1],D,t,n,u,g)}}(n,t,g,s,c)}}function m(t,n,s){return Kt(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function L(t,n){const s=t[9],u=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,Mo(c,-1)),s.splice(u,1)}function B(t,n){if(t.length<=10)return;const s=10+n,u=t[s];if(u){const c=u[17];null!==c&&c!==t&&L(c,u),n>0&&(t[s-1][4]=u[4]);const g=Qo(t,10+n);!function(t,n){hr(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(u[1],u);const y=g[19];null!==y&&y.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function X(t,n){if(!(256&n[2])){const s=n[11];Kt(s)&&s.destroyNode&&hr(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return se(t[1],t);for(;n;){let s=null;if(nn(n))s=n[13];else{const u=n[10];u&&(s=u)}if(!s){for(;n&&!n[4]&&n!==t;)nn(n)&&se(n[1],n),n=n[3];null===n&&(n=t),nn(n)&&se(n[1],n),s=n&&n[4]}n=s}}(n)}}function se(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const c=n[s[u]];if(!(c instanceof Ws)){const g=s[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const b=c[g[y]],D=g[y+1];try{D.call(b)}finally{}}else try{g.call(c)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,u=n[7];let c=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const y=s[g+1],b="function"==typeof y?y(n):sn(n[y]),D=u[c=s[g+2]],C=s[g+3];"boolean"==typeof C?b.removeEventListener(s[g],D,C):C>=0?u[c=C]():u[c=-C].unsubscribe(),g+=2}else{const y=u[c=s[g+1]];s[g].call(y)}if(null!==u){for(let g=c+1;g<u.length;g++)u[g]();n[7]=null}}(t,n),1===n[1].type&&Kt(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&gr(n[3])){s!==n[3]&&L(s,n);const u=n[19];null!==u&&u.detachView(t)}}}function Ge(t,n,s){return function(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[0];if(2&u.flags){const c=t.data[u.directiveStart].encapsulation;if(c===Nt.None||c===Nt.Emulated)return null}return In(u,s)}(t,n.parent,s)}function me(t,n,s,u,c){Kt(t)?t.insertBefore(n,s,u,c):n.insertBefore(s,u,c)}function vt(t,n,s){Kt(t)?t.appendChild(n,s):n.appendChild(s)}function It(t,n,s,u,c){null!==u?me(t,n,s,u,c):vt(t,n,s)}function Ye(t,n){return Kt(t)?t.parentNode(n):n.parentNode}let wi=function(t,n,s){return 40&t.type?In(t,s):null};function We(t,n,s,u){const c=Ge(t,u,n),g=n[11],b=function(t,n,s){return wi(t,n,s)}(u.parent||n[6],u,n);if(null!=c)if(Array.isArray(s))for(let D=0;D<s.length;D++)It(g,c,s[D],b,!1);else It(g,c,s,b,!1)}function ii(t,n){if(null!==n){const s=n.type;if(3&s)return In(n,t);if(4&s)return Ti(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return ii(t,u);{const c=t[n.index];return gr(c)?Ti(-1,c):sn(c)}}if(32&s)return Gu(n,t)()||sn(t[n.index]);{const u=Di(t,n);return null!==u?Array.isArray(u)?u[0]:ii(Re(t[16]),u):ii(t,n.next)}}return null}function Di(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Ti(t,n){const s=10+t+1;if(s<n.length){const u=n[s],c=u[1].firstChild;if(null!==c)return ii(u,c)}return n[7]}function cr(t,n,s,u,c,g,y){for(;null!=s;){const b=u[s.index],D=s.type;if(y&&0===n&&(b&&Rn(sn(b),u),s.flags|=4),64!=(64&s.flags))if(8&D)cr(t,n,s.child,u,c,g,!1),r(n,t,c,b,g);else if(32&D){const C=Gu(s,u);let M;for(;M=C();)r(n,t,c,M,g);r(n,t,c,b,g)}else 16&D?qi(t,n,u,s,c,g):r(n,t,c,b,g);s=y?s.projectionNext:s.next}}function hr(t,n,s,u,c,g){cr(s,u,t.firstChild,n,c,g,!1)}function qi(t,n,s,u,c,g){const y=s[16],D=y[6].projection[u.projection];if(Array.isArray(D))for(let C=0;C<D.length;C++)r(n,t,c,D[C],g);else cr(t,n,D,y[3],c,g,!0)}function oi(t,n,s){Kt(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function wt(t,n,s){Kt(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Gn(t,n,s){let u=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const g=n.length;if(c+g===u||t.charCodeAt(c+g)<=32)return c}s=c+1}}const bt="ng-template";function zr(t,n,s){let u=0;for(;u<t.length;){let c=t[u++];if(s&&"class"===c){if(c=t[u],-1!==Gn(c.toLowerCase(),n,0))return!0}else if(1===c){for(;u<t.length&&"string"==typeof(c=t[u++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function Tr(t){return 4===t.type&&t.value!==bt}function Os(t,n,s){return n===(4!==t.type||s?t.value:bt)}function Ma(t,n,s){let u=4;const c=t.attrs||[],g=function(t){for(let n=0;n<t.length;n++)if(Xo(t[n]))return n;return t.length}(c);let y=!1;for(let b=0;b<n.length;b++){const D=n[b];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!Os(t,D,s)||""===D&&1===n.length){if(zn(u))return!1;y=!0}}else{const C=8&u?D:n[++b];if(8&u&&null!==t.attrs){if(!zr(t.attrs,C,s)){if(zn(u))return!1;y=!0}continue}const N=Oa(8&u?"class":D,c,Tr(t),s);if(-1===N){if(zn(u))return!1;y=!0;continue}if(""!==C){let V;V=N>g?"":c[N+1].toLowerCase();const Z=8&u?V:null;if(Z&&-1!==Gn(Z,C,0)||2&u&&C!==V){if(zn(u))return!1;y=!0}}}}else{if(!y&&!zn(u)&&!zn(D))return!1;if(y&&zn(D))continue;y=!1,u=D|1&u}}return zn(u)||y}function zn(t){return 0==(1&t)}function Oa(t,n,s,u){if(null===n)return-1;let c=0;if(u||!s){let g=!1;for(;c<n.length;){const y=n[c];if(y===t)return c;if(3===y||6===y)g=!0;else{if(1===y||2===y){let b=n[++c];for(;"string"==typeof b;)b=n[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=g?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function zu(t,n,s=!1){for(let u=0;u<n.length;u++)if(Ma(t,n[u],s))return!0;return!1}function Lh(t,n){return t?":not("+n.trim()+")":n}function gf(t){let n=t[0],s=1,u=2,c="",g=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&u){const b=t[++s];c+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!zn(y)&&(n+=Lh(g,c),c=""),u=y,g=g||!zn(u);s++}return""!==c&&(n+=Lh(g,c)),n}const h={};function f(t){l(Et(),we(),An()+t,Lo())}function l(t,n,s,u){if(!u)if(3==(3&n[2])){const g=t.preOrderCheckHooks;null!==g&&jo(n,g,s)}else{const g=t.preOrderHooks;null!==g&&Ho(n,g,0,s)}ki(s)}function Kd(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],g=s[u+1];if(-1!==g){const y=t.data[g];fl(c),y.contentQueries(2,n[g],g)}}}function Zc(t,n,s,u,c,g,y,b,D,C){const M=n.blueprint.slice();return M[0]=c,M[2]=140|u,qa(M),M[3]=M[15]=t,M[8]=s,M[10]=y||t&&t[10],M[11]=b||t&&t[11],M[12]=D||t&&t[12]||null,M[9]=C||t&&t[9]||null,M[6]=g,M[16]=2==n.type?t[16]:M,M}function jl(t,n,s,u,c){let g=t.data[n];if(null===g)g=function(t,n,s,u,c){const g=No(),y=Fi(),D=t.data[n]=function(t,n,s,u,c,g){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,s,n,u,c);return null===t.firstChild&&(t.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(t,n,s,u,c),ot.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=u,g.attrs=c;const y=function(){const t=ot.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return yr(g,!0),g}function Hl(t,n,s,u){if(0===s)return-1;const c=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return c}function Kc(t,n,s){Bn(n);try{const u=t.viewQuery;null!==u&&Mf(1,u,s);const c=t.template;null!==c&&Qd(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Kd(t,n),t.staticViewQueries&&Mf(2,t.viewQuery,s);const g=t.components;null!==g&&function(t,n){for(let s=0;s<n.length;s++)Ry(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[2]&=-5,Ys()}}function Vl(t,n,s,u){const c=n[2];if(256==(256&c))return;Bn(n);const g=Lo();try{qa(n),function(t){ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Qd(t,n,s,2,u);const y=3==(3&c);if(!g)if(y){const C=t.preOrderCheckHooks;null!==C&&jo(n,C,null)}else{const C=t.preOrderHooks;null!==C&&Ho(n,C,0,null),eu(n,0)}if(function(t){for(let n=Ul(t);null!==n;n=a(n)){if(!n[2])continue;const s=n[9];for(let u=0;u<s.length;u++){const c=s[u],g=c[3];0==(1024&c[2])&&Mo(g,1),c[2]|=1024}}}(n),function(t){for(let n=Ul(t);null!==n;n=a(n))for(let s=10;s<n.length;s++){const u=n[s],c=u[1];Xs(u)&&Vl(c,u,c.template,u[8])}}(n),null!==t.contentQueries&&Kd(t,n),!g)if(y){const C=t.contentCheckHooks;null!==C&&jo(n,C)}else{const C=t.contentHooks;null!==C&&Ho(n,C,1),eu(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)ki(~c);else{const g=c,y=s[++u],b=s[++u];Th(y,g),b(2,n[g])}}}finally{ki(-1)}}(t,n);const b=t.components;null!==b&&function(t,n){for(let s=0;s<n.length;s++)Oy(t,n[s])}(n,b);const D=t.viewQuery;if(null!==D&&Mf(2,D,u),!g)if(y){const C=t.viewCheckHooks;null!==C&&jo(n,C)}else{const C=t.viewHooks;null!==C&&Ho(n,C,2),eu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),g||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Mo(n[3],-1))}finally{Ys()}}function dy(t,n,s,u){const c=n[10],g=!Lo(),y=Fr(n);try{g&&!y&&c.begin&&c.begin(),y&&Kc(t,n,u),Vl(t,n,s,u)}finally{g&&!y&&c.end&&c.end()}}function Qd(t,n,s,u,c){const g=An(),y=2&u;try{ki(-1),y&&n.length>20&&l(t,n,20,Lo()),s(u,c)}finally{ki(g)}}function Df(t,n,s){!us()||(function(t,n,s,u){const c=s.directiveStart,g=s.directiveEnd;t.firstCreatePass||ms(s,n),Rn(u,n);const y=s.initialInputs;for(let b=c;b<g;b++){const D=t.data[b],C=vr(D);C&&Sy(n,s,D);const M=Ks(n,t,b,s);Rn(M,n),null!==y&&Iy(0,b-c,M,D,0,y),C&&(kn(s.index,n)[8]=M)}}(t,n,s,In(s,n)),128==(128&s.flags)&&function(t,n,s){const u=s.directiveStart,c=s.directiveEnd,y=s.index,b=ot.lFrame.currentDirectiveIndex;try{ki(y);for(let D=u;D<c;D++){const C=t.data[D],M=n[D];Li(D),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ap(C,M)}}finally{ki(-1),Li(b)}}(t,n,s))}function Tf(t,n,s=In){const u=n.localNames;if(null!==u){let c=n.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],b=-1===y?s(n,t):t[y];t[c++]=b}}}function ep(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=kh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function kh(t,n,s,u,c,g,y,b,D,C){const M=20+u,N=M+c,V=function(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:h);return s}(M,N),Z="function"==typeof C?C():C;return V[1]={type:t,blueprint:V,template:s,queries:null,viewQuery:b,declTNode:n,data:V.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function rp(t,n,s,u){const c=dp(n);null===s?c.push(u):(c.push(s),t.firstCreatePass&&pp(t).push(u,c.length-1))}function ip(t,n,s){for(let u in t)if(t.hasOwnProperty(u)){const c=t[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(n,c):s[u]=[n,c]}return s}function xf(t,n,s,u){let c=!1;if(us()){const g=function(t,n,s){const u=t.directiveRegistry;let c=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];zu(s,y.selectors,!1)&&(c||(c=[]),ar(ms(s,n),t,y.type),vr(y)?(up(t,s),c.unshift(y)):c.push(y))}return c}(t,n,s),y=null===u?null:{"":-1};if(null!==g){c=!0,lp(s,t.data.length,g.length);for(let M=0;M<g.length;M++){const N=g[M];N.providersResolver&&N.providersResolver(N)}let b=!1,D=!1,C=Hl(t,n,g.length,null);for(let M=0;M<g.length;M++){const N=g[M];s.mergedAttrs=gs(s.mergedAttrs,N.hostAttrs),cp(t,s,n,C,N),Cy(C,N,y),null!==N.contentQueries&&(s.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=128);const V=N.type.prototype;!b&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),b=!0),!D&&(V.ngOnChanges||V.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),D=!0),C++}!function(t,n){const u=n.directiveEnd,c=t.data,g=n.attrs,y=[];let b=null,D=null;for(let C=n.directiveStart;C<u;C++){const M=c[C],N=M.inputs,V=null===g||Tr(n)?null:Ay(N,g);y.push(V),b=ip(N,C,b),D=ip(M.outputs,C,D)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=16),b.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=y,n.inputs=b,n.outputs=D}(t,s)}y&&function(t,n,s){if(n){const u=t.localNames=[];for(let c=0;c<n.length;c+=2){const g=s[n[c+1]];if(null==g)throw new de("301",`Export of name '${n[c+1]}' not found!`);u.push(n[c],g)}}}(s,u,y)}return s.mergedAttrs=gs(s.mergedAttrs,s.attrs),c}function op(t,n,s,u,c,g){const y=g.hostBindings;if(y){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const D=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(b)!=D&&b.push(D),b.push(u,c,y)}}function ap(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function up(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Cy(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;vr(n)&&(s[""]=t)}}function lp(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function cp(t,n,s,u,c){t.data[u]=c;const g=c.factory||(c.factory=fi(c.type)),y=new Ws(g,vr(c),null);t.blueprint[u]=y,s[u]=y,op(t,n,0,u,Hl(t,s,c.hostVars,h),c)}function Sy(t,n,s){const u=In(n,t),c=ep(s),g=t[10],y=Bh(t,Zc(t,c,null,s.onPush?64:16,u,n,g,g.createRenderer(u,s),null,null));t[n.index]=y}function Rs(t,n,s,u,c,g){const y=In(t,n);!function(t,n,s,u,c,g,y){if(null==g)Kt(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const b=null==y?G(g):y(g,u||"",c);Kt(t)?t.setAttribute(n,c,b,s):s?n.setAttributeNS(s,c,b):n.setAttribute(c,b)}}(n[11],y,g,t.value,s,u,c)}function Iy(t,n,s,u,c,g){const y=g[n];if(null!==y){const b=u.setInput;for(let D=0;D<y.length;){const C=y[D++],M=y[D++],N=y[D++];null!==b?u.setInput(s,N,C,M):s[M]=N}}}function Ay(t,n){let s=null,u=0;for(;u<n.length;){const c=n[u];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[u+1])),u+=2}else u+=2;else u+=4}return s}function hp(t,n,s,u){return new Array(t,!0,!1,n,null,0,u,s,null,null)}function Oy(t,n){const s=kn(n,t);if(Xs(s)){const u=s[1];80&s[2]?Vl(u,s,u.template,s[8]):s[5]>0&&Sf(s)}}function Sf(t){for(let u=Ul(t);null!==u;u=a(u))for(let c=10;c<u.length;c++){const g=u[c];if(1024&g[2]){const y=g[1];Vl(y,g,y.template,g[8])}else g[5]>0&&Sf(g)}const s=t[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=kn(s[u],t);Xs(c)&&c[5]>0&&Sf(c)}}function Ry(t,n){const s=kn(n,t),u=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(u,s),Kc(u,s,s[8])}function Bh(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function If(t){for(;t;){t[2]|=64;const n=Re(t);if(Ju(t)&&!n)return t;t=n}return null}function Pf(t,n,s){const u=n[10];u.begin&&u.begin();try{Vl(t,n,t.template,s)}catch(c){throw vp(n,c),c}finally{u.end&&u.end()}}function fp(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],u=Ol(s),c=u[1];dy(c,u,c.template,s)}}(t[8])}function Mf(t,n,s){fl(0),n(t,s)}const By=(()=>Promise.resolve(null))();function dp(t){return t[7]||(t[7]=[])}function pp(t){return t.cleanup||(t.cleanup=[])}function vp(t,n){const s=t[9],u=s?s.get(vo,null):null;u&&u.handleError(n)}function Eo(t,n,s){const u=function(t,n){return sn(n[t])}(n,t);!function(t,n,s){Kt(t)?t.setValue(n,s):n.textContent=s}(t[11],u,s)}function Uh(t,n,s){let u=s?t.styles:null,c=s?t.classes:null,g=0;if(null!==n)for(let y=0;y<n.length;y++){const b=n[y];"number"==typeof b?g=b:1==g?c=Ne(c,b):2==g&&(u=Ne(u,b+": "+n[++y]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=c:t.classesWithoutHost=c}const Of=new Wt("INJECTOR",-1);class yp{get(n,s=mi){if(s===mi){const u=new Error(`NullInjectorError: No provider for ${ae(n)}!`);throw u.name="NullInjectorError",u}return s}}const Rf=new Wt("Set Injector scope."),Qc={},Hy={};let Ff;function _p(){return void 0===Ff&&(Ff=new yp),Ff}function bp(t,n=null,s=null,u){const c=Ep(t,n,s,u);return c._resolveInjectorDefTypes(),c}function Ep(t,n=null,s=null,u){return new Vy(t,s,n||_p(),u)}class Vy{constructor(n,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];s&&Kn(s,b=>this.processProvider(b,n,s)),Kn([n],b=>this.processInjectorType(b,[],g)),this.records.set(Of,Gl(void 0,this));const y=this.records.get(Rf);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof n?null:ae(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=mi,u=ht.Default){this.assertNotDestroyed();const c=gn(this),g=et(void 0);try{if(!(u&ht.SkipSelf)){let b=this.records.get(n);if(void 0===b){const D=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Wt)&&$n(n);b=D&&this.injectableDefInScope(D)?Gl(Nf(n),Qc):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(u&ht.Self?_p():this.parent).get(n,s=u&ht.Optional&&s===mi?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Qr]=y[Qr]||[]).unshift(ae(n)),c)throw y;return function(t,n,s,u){const c=t[Qr];throw n[oa]&&c.unshift(n[oa]),t.message=function(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=ae(n);if(Array.isArray(n))c=n.map(ae).join(" -> ");else if("object"==typeof n){let g=[];for(let y in n)if(n.hasOwnProperty(y)){let b=n[y];g.push(y+":"+("string"==typeof b?JSON.stringify(b):ae(b)))}c=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${t.replace(jr,"\n  ")}`}("\n"+t.message,c,s,u),t.ngTokenPath=c,t[Qr]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{et(g),gn(c)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((u,c)=>n.push(ae(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,u){if(!(n=Ue(n)))return!1;let c=qu(n);const g=null==c&&n.ngModule||void 0,y=void 0===g?n:g,b=-1!==u.indexOf(y);if(void 0!==g&&(c=qu(g)),null==c)return!1;if(null!=c.imports&&!b){let M;u.push(y);try{Kn(c.imports,N=>{this.processInjectorType(N,s,u)&&(void 0===M&&(M=[]),M.push(N))})}finally{}if(void 0!==M)for(let N=0;N<M.length;N++){const{ngModule:V,providers:Z}=M[N];Kn(Z,ve=>this.processProvider(ve,V,Z||Pt))}}this.injectorDefTypes.add(y);const D=fi(y)||(()=>new y);this.records.set(y,Gl(D,Qc));const C=c.providers;if(null!=C&&!b){const M=n;Kn(C,N=>this.processProvider(N,M,C))}return void 0!==g&&void 0!==n.providers}processProvider(n,s,u){let c=zl(n=Ue(n))?n:Ue(n&&n.provide);const g=(t=n,Dp(t)?Gl(void 0,t.useValue):Gl(wp(t),Qc));var t;if(zl(n)||!0!==n.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=Gl(void 0,Qc,!0),y.factory=()=>yi(y.multi),this.records.set(c,y)),c=n,y.multi.push(n)}this.records.set(c,g)}hydrate(n,s){return s.value===Qc&&(s.value=Hy,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Ue(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Nf(t){const n=$n(t),s=null!==n?n.factory:fi(t);if(null!==s)return s;if(t instanceof Wt)throw new Error(`Token ${ae(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const u=function(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?");throw new Error(`Can't resolve all parameters for ${ae(t)}: (${u.join(", ")}).`)}const s=function(t){const n=t&&(t[es]||t[Ai]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function wp(t,n,s){let u;if(zl(t)){const c=Ue(t);return fi(c)||Nf(c)}if(Dp(t))u=()=>Ue(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...yi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))u=()=>qt(Ue(t.useExisting));else{const c=Ue(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return fi(c)||Nf(c);u=()=>new c(...yi(t.deps))}return u}function Gl(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Dp(t){return null!==t&&"object"==typeof t&&aa in t}function zl(t){return"function"==typeof t}let Ci=(()=>{class t{static create(s,u){var c;if(Array.isArray(s))return bp({name:""},u,s,"");{const g=null!==(c=s.name)&&void 0!==c?c:"";return bp({name:g},s.parent,s.providers,g)}}}return t.THROW_IF_NOT_FOUND=mi,t.NULL=new yp,t.\u0275prov=St({token:t,providedIn:"any",factory:()=>qt(Of)}),t.__NG_ELEMENT_ID__=-1,t})();function i_(t,n){Uo(Ol(t)[1],on())}let jh=null;function Xl(){if(!jh){const t=kt.Symbol;if(t&&t.iterator)jh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const u=n[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(jh=u)}}}return jh}function Jc(t){return!!Uf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xl()in t)}function Uf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function pr(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function jf(t,n,s,u){const c=we();return pr(c,ls(),n)&&(Et(),Rs(function(){const t=ot.lFrame;return Po(t.tView,t.selectedIndex)}(),c,t,n,s,u)),jf}function $p(t,n,s,u,c,g,y,b){const D=we(),C=Et(),M=t+20,N=C.firstCreatePass?function(t,n,s,u,c,g,y,b,D){const C=n.consts,M=jl(n,t,4,y||null,ir(C,b));xf(n,s,M,ir(C,D)),Uo(n,M);const N=M.tViews=kh(2,M,u,c,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,C);return null!==n.queries&&(n.queries.template(n,M),N.queries=n.queries.embeddedTView(M)),M}(M,C,D,n,s,u,c,g,y):C.data[M];yr(N,!1);const V=D[11].createComment("");We(C,D,V,N),Rn(V,D),Bh(D,D[M]=hp(V,D,V,N)),rn(N)&&Df(C,D,N),null!=y&&Tf(D,N,b)}function Yp(t){return mr(ot.lFrame.contextLView,20+t)}function th(t,n=ht.Default){const s=we();return null===s?qt(t,n):Wo(on(),s,Ue(t),n)}function ig(){throw new Error("invalid")}function Xf(t,n,s,u,c){const y=c?"class":"style";!function(t,n,s,u,c){for(let g=0;g<s.length;){const y=s[g++],b=s[g++],D=n[y],C=t.data[y];null!==C.setInput?C.setInput(D,c,u,b):D[b]=c}}(t,s,n.inputs[y],y,u)}function $f(t,n,s,u){const c=we(),g=Et(),y=20+t,b=c[11],D=c[y]=m(b,n,ot.lFrame.currentNamespace),C=g.firstCreatePass?function(t,n,s,u,c,g,y){const b=n.consts,C=jl(n,t,2,c,ir(b,g));return xf(n,s,C,ir(b,y)),null!==C.attrs&&Uh(C,C.attrs,!1),null!==C.mergedAttrs&&Uh(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(y,g,c,0,n,s,u):g.data[y];yr(C,!0);const M=C.mergedAttrs;null!==M&&zo(b,D,M);const N=C.classes;null!==N&&wt(b,D,N);const V=C.styles;null!==V&&oi(b,D,V),64!=(64&C.flags)&&We(g,c,D,C),0===ot.lFrame.elementDepthCount&&Rn(D,c),ot.lFrame.elementDepthCount++,rn(C)&&(Df(g,c,C),function(t,n,s){if(nr(n)){const c=n.directiveEnd;for(let g=n.directiveStart;g<c;g++){const y=t.data[g];y.contentQueries&&y.contentQueries(1,s[g],g)}}}(g,C,c)),null!==u&&Tf(c,C)}function Yf(){let t=on();Fi()?ot.lFrame.isParent=!1:(t=t.parent,yr(t,!1));const n=t;ot.lFrame.elementDepthCount--;const s=Et();s.firstCreatePass&&(Uo(s,t),nr(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Xf(s,n,we(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Xf(s,n,we(),n.stylesWithoutHost,!1)}function og(t,n,s,u){$f(t,n,s,u),Yf()}function lg(){return we()}function Wf(t){return!!t&&"function"==typeof t.then}function cg(t){return!!t&&"function"==typeof t.subscribe}const hg=cg;function qf(t,n,s,u){const c=we(),g=Et(),y=on();return function(t,n,s,u,c,g,y,b){const D=rn(u),M=t.firstCreatePass&&pp(t),N=n[8],V=dp(n);let Z=!0;if(3&u.type||b){const Le=In(u,n),$e=b?b(Le):Le,be=V.length,Qe=b?Dt=>b(sn(Dt[u.index])):u.index;if(Kt(s)){let Dt=null;if(!b&&D&&(Dt=function(t,n,s,u){const c=t.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const y=c[g];if(y===s&&c[g+1]===u){const b=n[7],D=c[g+2];return b.length>D?b[D]:null}"string"==typeof y&&(g+=2)}return null}(t,n,c,u.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=g,Dt.__ngLastListenerFn__=g,Z=!1;else{g=Zf(u,n,N,g,!1);const Ht=s.listen($e,c,g);V.push(g,Ht),M&&M.push(c,Qe,be,be+1)}}else g=Zf(u,n,N,g,!0),$e.addEventListener(c,g,y),V.push(g),M&&M.push(c,Qe,be,y)}else g=Zf(u,n,N,g,!1);const ve=u.outputs;let Ie;if(Z&&null!==ve&&(Ie=ve[c])){const Le=Ie.length;if(Le)for(let $e=0;$e<Le;$e+=2){const li=n[Ie[$e]][Ie[$e+1]].subscribe(g),Wu=V.length;V.push(g,li),M&&M.push(c,u.index,Wu,-(Wu+1))}}}(g,c,c[11],y,t,n,!!s,u),qf}function pg(t,n,s,u){try{return!1!==s(u)}catch(c){return vp(t,c),!1}}function Zf(t,n,s,u,c){return function g(y){if(y===Function)return u;const b=2&t.flags?kn(t.index,n):n;0==(32&n[2])&&If(b);let D=pg(n,0,u,y),C=g.__ngNextListenerFn__;for(;C;)D=pg(n,0,C,y)&&D,C=C.__ngNextListenerFn__;return c&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Ug(t,n=""){const s=we(),u=Et(),c=t+20,g=u.firstCreatePass?jl(u,c,1,n,null):u.data[c],y=s[c]=function(t,n){return Kt(t)?t.createText(n):t.createTextNode(n)}(s[11],n);We(u,s,y,g),yr(g,!1)}function zh(t,n,s){const u=we(),c=function(t,n,s,u){return pr(t,ls(),s)?n+G(s)+u:h}(u,t,n,s);return c!==h&&Eo(u,An(),c),zh}const $u=void 0;var I0=["en",[["a","p"],["AM","PM"],$u],[["AM","PM"],$u,$u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$u,"{1} 'at' {0}",$u],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let rc={};function Jf(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=av(n);if(s)return s;const u=n.split("-")[0];if(s=av(u),s)return s;if("en"===u)return I0;throw new Error(`Missing locale data for the locale "${t}".`)}function ov(t){return Jf(t)[it.PluralCase]}function av(t){return t in rc||(rc[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),rc[t]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const Xh="en-US";let uv=Xh;function nd(t,n,s,u,c){if(t=Ue(t),Array.isArray(t))for(let g=0;g<t.length;g++)nd(t[g],n,s,u,c);else{const g=Et(),y=we();let b=zl(t)?t:Ue(t.provide),D=wp(t);const C=on(),M=1048575&C.providerIndexes,N=C.directiveStart,V=C.providerIndexes>>20;if(zl(t)||!t.multi){const Z=new Ws(D,c,th),ve=id(b,n,c?M:M+V,N);-1===ve?(ar(ms(C,y),g,b),rd(g,t,n.length),n.push(b),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),s.push(Z),y.push(Z)):(s[ve]=Z,y[ve]=Z)}else{const Z=id(b,n,M+V,N),ve=id(b,n,M,M+V),Ie=Z>=0&&s[Z],Le=ve>=0&&s[ve];if(c&&!Le||!c&&!Ie){ar(ms(C,y),g,b);const $e=function(t,n,s,u,c){const g=new Ws(t,s,th);return g.multi=[],g.index=n,g.componentProviders=0,Ov(g,c,u&&!s),g}(c?Cb:xb,s.length,c,u,D);!c&&Le&&(s[ve].providerFactory=$e),rd(g,t,n.length,0),n.push(b),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),s.push($e),y.push($e)}else rd(g,t,Z>-1?Z:ve,Ov(s[c?ve:Z],D,!c&&u));!c&&u&&Le&&s[ve].componentProviders++}}}function rd(t,n,s,u){const c=zl(n),g=function(t){return!!t.useClass}(n);if(c||g){const D=(g?Ue(n.useClass):n).prototype.ngOnDestroy;if(D){const C=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const M=C.indexOf(s);-1===M?C.push(s,[u,D]):C[M+1].push(u,D)}else C.push(s,D)}}}function Ov(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function id(t,n,s,u){for(let c=s;c<u;c++)if(n[c]===t)return c;return-1}function xb(t,n,s,u){return sd(this.multi,[])}function Cb(t,n,s,u){const c=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Ks(s,s[1],this.providerFactory.index,u);g=b.slice(0,y),sd(c,g);for(let D=y;D<b.length;D++)g.push(b[D])}else g=[],sd(c,g);return g}function sd(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Rv(t,n=[]){return s=>{s.providersResolver=(u,c)=>function(t,n,s){const u=Et();if(u.firstCreatePass){const c=vr(t);nd(s,u.data,u.blueprint,c,!0),nd(n,u.data,u.blueprint,c,!1)}}(u,c?c(t):t,n)}}class Fv{}class Pb{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${ae(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ah=(()=>{class t{}return t.NULL=new Pb,t})();function Mb(){return sc(on(),we())}function sc(t,n){return new uh(In(t,n))}let uh=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Mb,t})();function Ob(t){return t instanceof uh?t.nativeElement:t}class Lv{}let Rb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=we(),s=kn(on().index,t);return function(t){return t[11]}(nn(s)?s:t)}(),t})(),Lb=(()=>{class t{}return t.\u0275prov=St({token:t,providedIn:"root",factory:()=>null}),t})();class kv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const kb=new kv("13.1.1"),od={};function Zh(t,n,s,u,c=!1){for(;null!==s;){const g=n[s.index];if(null!==g&&u.push(sn(g)),gr(g))for(let b=10;b<g.length;b++){const D=g[b],C=D[1].firstChild;null!==C&&Zh(D[1],D,C,u)}const y=s.type;if(8&y)Zh(t,n,s.child,u);else if(32&y){const b=Gu(s,n);let D;for(;D=b();)u.push(D)}else if(16&y){const b=Di(n,s);if(Array.isArray(b))u.push(...b);else{const D=Re(n[16]);Zh(D[1],D,b,u,!0)}}s=c?s.projectionNext:s.next}return u}class lh{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Zh(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(gr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(B(n,u),Qo(s,u))}this._attachedToViewContainer=!1}X(this._lView[1],this._lView)}onDestroy(n){rp(this._lView[1],this._lView,null,n)}markForCheck(){If(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){Ni(!0);try{Pf(t,n,s)}finally{Ni(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,hr(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Bb extends lh{constructor(n){super(n),this._view=n}detectChanges(){fp(this._view)}checkNoChanges(){!function(t){Ni(!0);try{fp(t)}finally{Ni(!1)}}(this._view)}get context(){return null}}class Bv extends ah{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=lt(n);return new ad(s,this.ngModule)}}function Uv(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const jb=new Wt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nl});class ad extends Fv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(gf).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Uv(this.componentDef.inputs)}get outputs(){return Uv(this.componentDef.outputs)}create(n,s,u,c){const g=(c=c||this.ngModule)?function(t,n){return{get:(s,u,c)=>{const g=t.get(s,od,c);return g!==od||u===od?g:n.get(s,u,c)}}}(n,c.injector):n,y=g.get(Lv,pn),b=g.get(Lb,null),D=y.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=u?function(t,n,s){if(Kt(t))return t.selectRootElement(n,s===Nt.ShadowDom);let u="string"==typeof n?t.querySelector(n):n;return u.textContent="",u}(D,u,this.componentDef.encapsulation):m(y.createRenderer(null,this.componentDef),C,function(t){const n=t.toLowerCase();return"svg"===n?ct:"math"===n?"http://www.w3.org/1998/MathML/":null}(C)),N=this.componentDef.onPush?576:528,V=function(t,n){return{components:[],scheduler:t||Nl,clean:By,playerHandler:n||null,flags:0}}(),Z=kh(0,null,null,1,0,null,null,null,null,null),ve=Zc(null,Z,V,N,null,null,y,D,b,g);let Ie,Le;Bn(ve);try{const $e=function(t,n,s,u,c,g){const y=s[1];s[20]=t;const D=jl(y,20,2,"#host",null),C=D.mergedAttrs=n.hostAttrs;null!==C&&(Uh(D,C,!0),null!==t&&(zo(c,t,C),null!==D.classes&&wt(c,t,D.classes),null!==D.styles&&oi(c,t,D.styles)));const M=u.createRenderer(t,n),N=Zc(s,ep(n),null,n.onPush?64:16,s[20],D,u,M,g||null,null);return y.firstCreatePass&&(ar(ms(D,s),y,n.type),up(y,D),lp(D,s.length,1)),Bh(s,N),s[20]=N}(M,this.componentDef,ve,y,D);if(M)if(u)zo(D,M,["ng-version",kb.full]);else{const{attrs:be,classes:Qe}=function(t){const n=[],s=[];let u=1,c=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===c?""!==g&&n.push(g,t[++u]):8===c&&s.push(g);else{if(!zn(c))break;c=g}u++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);be&&zo(D,M,be),Qe&&Qe.length>0&&wt(D,M,Qe.join(" "))}if(Le=Po(Z,20),void 0!==s){const be=Le.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const Dt=s[Qe];be.push(null!=Dt?Array.from(Dt):null)}}Ie=function(t,n,s,u,c){const g=s[1],y=function(t,n,s){const u=on();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),cp(t,u,n,Hl(t,n,1,null),s));const c=Ks(n,t,u.directiveStart,u);Rn(c,n);const g=In(u,n);return g&&Rn(g,n),c}(g,s,n);if(u.components.push(y),t[8]=y,c&&c.forEach(D=>D(y,n)),n.contentQueries){const D=on();n.contentQueries(1,y,D.directiveStart)}const b=on();return!g.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ki(b.index),op(s[1],b,0,b.directiveStart,b.directiveEnd,n),ap(n,y)),y}($e,this.componentDef,ve,V,[i_]),Kc(Z,ve,null)}finally{Ys()}return new Gb(this.componentType,Ie,sc(Le,ve),ve,Le)}}class Gb extends class{}{constructor(n,s,u,c,g){super(),this.location=u,this._rootLView=c,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new Bb(c),this.componentType=n}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class oc{}class jv{}const ac=new Map;class Gv extends oc{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bv(this);const u=Dn(n);this._bootstrapComponents=ri(u.bootstrap),this._r3Injector=Ep(n,s,[{provide:oc,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],ae(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Ci.THROW_IF_NOT_FOUND,u=ht.Default){return n===Ci||n===oc||n===Of?this:this._r3Injector.get(n,s,u)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ud extends jv{constructor(n){super(),this.moduleType=n,null!==Dn(n)&&function(t){const n=new Set;!function s(u){const c=Dn(u,!0),g=c.id;null!==g&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${ae(n)} vs ${ae(n.name)}`)}(g,ac.get(g),u),ac.set(g,u));const y=ri(c.imports);for(const b of y)n.has(b)||(n.add(b),s(b))}(t)}(n)}create(n){return new Gv(this.moduleType,n)}}function Xv(t,n,s,u,c,g,y){const b=n+s;return function(t,n,s,u){const c=pr(t,n,s);return pr(t,n+1,u)||c}(t,b,c,g)?function(t,n,s){return t[n]=s}(t,b+2,y?u.call(y,c,g):u(c,g)):function(t,n){const s=t[n];return s===h?void 0:s}(t,b+2)}function qv(t,n){const s=Et();let u;const c=t+20;s.firstCreatePass?(u=function(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[c]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,u.onDestroy)):u=s.data[c];const g=u.factory||(u.factory=fi(u.type)),y=et(th);try{const b=Un(!1),D=g();return Un(b),function(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,we(),c,D),D}finally{et(y)}}function Zv(t,n,s,u){const c=t+20,g=we(),y=mr(g,c);return function(t,n){return t[1].data[n].pure}(g,c)?Xv(g,function(){const t=ot.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,y.transform,s,u,y):y.transform(s,u)}function ld(t){return n=>{setTimeout(t,void 0,n)}}const ks=class extends ne.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){var c,g,y;let b=n,D=s||(()=>null),C=u;if(n&&"object"==typeof n){const N=n;b=null===(c=N.next)||void 0===c?void 0:c.bind(N),D=null===(g=N.error)||void 0===g?void 0:g.bind(N),C=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(D=ld(D),b&&(b=ld(b)),C&&(C=ld(C)));const M=super.subscribe({next:b,error:D,complete:C});return n instanceof W.w&&n.add(M),M}};function uE(){return this._results[Xl()]()}class cd{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xl(),u=cd.prototype;u[s]||(u[s]=uE)}get changes(){return this._changes||(this._changes=new ks)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const c=ln(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let c=t[u],g=n[u];if(s&&(c=s(c),g=s(g)),g!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fh=(()=>{class t{}return t.__NG_ELEMENT_ID__=hE,t})();const lE=fh,cE=class extends lE{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(n){const s=this._declarationTContainer.tViews,u=Zc(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(s)),Kc(s,u,n),new lh(u)}};function hE(){return Kh(on(),we())}function Kh(t,n){return 4&t.type?new cE(n,t,sc(t,n)):null}let Qh=(()=>{class t{}return t.__NG_ELEMENT_ID__=fE,t})();function fE(){return Jv(on(),we())}const dE=Qh,Kv=class extends dE{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return sc(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const n=ys(this._hostTNode,this._hostLView);if($o(n)){const s=Hi(n,this._hostLView),u=Ui(n);return new wn(s[1].data[u+8],s)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Qv(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,u){const c=n.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(n,s,u,c,g){const y=n&&!("function"==typeof n);let b;if(y)b=s;else{const N=s||{};b=N.index,u=N.injector,c=N.projectableNodes,g=N.ngModuleRef}const D=y?n:new ad(lt(n)),C=u||this.parentInjector;if(!g&&null==D.ngModule&&C){const N=C.get(oc,null);N&&(g=N)}const M=D.create(C,c,void 0,g);return this.insert(M.hostView,b),M}insert(n,s){const u=n._lView,c=u[1];if(gr(u[3])){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const N=u[3],V=new Kv(N,N[6],N[3]);V.detach(V.indexOf(n))}}const g=this._adjustIndex(s),y=this._lContainer;!function(t,n,s,u){const c=10+u,g=s.length;u>0&&(s[c-1][4]=n),u<g-10?(n[4]=s[c],Ko(s,10+u,n)):(s.push(n),n[4]=null),n[3]=s;const y=n[17];null!==y&&s!==y&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(y,n);const b=n[19];null!==b&&b.insertView(t),n[2]|=128}(c,u,y,g);const b=Ti(g,y),D=u[11],C=Ye(D,y[7]);return null!==C&&function(t,n,s,u,c,g){u[0]=c,u[6]=n,hr(t,u,s,1,c,g)}(c,y[6],D,u,C,b),n.attachToViewContainerRef(),Ko(hd(y),g,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Qv(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=B(this._lContainer,s);u&&(Qo(hd(this._lContainer),s),X(u[1],u))}detach(n){const s=this._adjustIndex(n,-1),u=B(this._lContainer,s);return u&&null!=Qo(hd(this._lContainer),s)?new lh(u):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function Qv(t){return t[8]}function hd(t){return t[8]||(t[8]=[])}function Jv(t,n){let s;const u=n[t.index];if(gr(u))s=u;else{let c;if(8&t.type)c=sn(u);else{const g=n[11];c=g.createComment("");const y=In(t,n);me(g,Ye(g,y),c,function(t,n){return Kt(t)?t.nextSibling(n):n.nextSibling}(g,y),!1)}n[t.index]=s=hp(u,n,c,t),Bh(n,s)}return new Kv(s,t,n)}class fd{constructor(n){this.queryList=n,this.matches=null}clone(){return new fd(this.queryList)}setDirty(){this.queryList.setDirty()}}class dd{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let g=0;g<u;g++){const y=s.getByIndex(g);c.push(this.queries[y.indexInDeclarationView].clone())}return new dd(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==um(n,s).matches&&this.queries[s].setDirty()}}class em{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class pd{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,c);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new pd(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class gd{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new gd(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const g=u[c];this.matchTNodeWithReadOption(n,s,vE(s,g)),this.matchTNodeWithReadOption(n,s,Zo(s,n,g,!1,!1))}else u===fh?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Zo(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===uh||c===Qh||c===fh&&4&s.type)this.addMatch(s.index,-2);else{const g=Zo(s,n,c,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function vE(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yE(t,n,s,u){return-1===s?function(t,n){return 11&t.type?sc(t,n):4&t.type?Kh(t,n):null}(n,t):-2===s?function(t,n,s){return s===uh?sc(n,t):s===fh?Kh(n,t):s===Qh?Jv(n,t):void 0}(t,n,u):Ks(t,t[1],s,n)}function tm(t,n,s,u){const c=n[19].queries[u];if(null===c.matches){const g=t.data,y=s.matches,b=[];for(let D=0;D<y.length;D+=2){const C=y[D];b.push(C<0?null:yE(n,g[C],y[D+1],s.metadata.read))}c.matches=b}return c.matches}function vd(t,n,s,u){const c=t.queries.getByIndex(s),g=c.matches;if(null!==g){const y=tm(t,n,c,s);for(let b=0;b<g.length;b+=2){const D=g[b];if(D>0)u.push(y[b/2]);else{const C=g[b+1],M=n[-D];for(let N=10;N<M.length;N++){const V=M[N];V[17]===V[3]&&vd(V[1],V,C,u)}if(null!==M[9]){const N=M[9];for(let V=0;V<N.length;V++){const Z=N[V];vd(Z[1],Z,C,u)}}}}}return u}function nm(t){const n=we(),s=Et(),u=hl();fl(u+1);const c=um(s,u);if(t.dirty&&Fr(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const g=c.crossesNgTemplate?vd(s,n,u,[]):tm(s,n,c,u);t.reset(g,Ob),t.notifyOnChanges()}return!0}return!1}function rm(t,n,s){const u=Et();u.firstCreatePass&&(am(u,new em(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),om(u,we(),n)}function im(t,n,s,u){const c=Et();if(c.firstCreatePass){const g=on();am(c,new em(n,s,u),g.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}om(c,we(),s)}function sm(){return t=we(),n=hl(),t[19].queries[n].queryList;var t,n}function om(t,n,s){const u=new cd(4==(4&s));rp(t,n,u,u.destroy),null===n[19]&&(n[19]=new dd),n[19].queries.push(new fd(u))}function am(t,n,s){null===t.queries&&(t.queries=new pd),t.queries.track(new gd(n,s))}function um(t,n){return t.queries.getByIndex(n)}function lm(t,n){return Kh(t,n)}function tf(...t){}const wd=new Wt("Application Initializer");let lc=(()=>{class t{constructor(s){this.appInits=s,this.resolve=tf,this.reject=tf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(Wf(g))s.push(g);else if(hg(g)){const y=new Promise((b,D)=>{g.subscribe({complete:b,error:D})});s.push(y)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(qt(wd,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const Cm=new Wt("AppId"),UE={provide:Cm,useFactory:function(){return`${Dd()}${Dd()}${Dd()}`},deps:[]};function Dd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sm=new Wt("Platform Initializer"),Im=new Wt("Platform ID"),Am=new Wt("appBootstrapListener");let Pm=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const nf=new Wt("LocaleId"),Mm=new Wt("DefaultCurrencyCode");class jE{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Td=(()=>{class t{compileModuleSync(s){return new ud(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=ri(Dn(s).declarations).reduce((y,b)=>{const D=lt(b);return D&&y.push(new ad(D)),y},[]);return new jE(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const VE=(()=>Promise.resolve(0))();function xd(t){"undefined"==typeof Zone?VE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ui{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let t=kt.requestAnimationFrame,n=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sd(t),t.isCheckStableRunning=!0,Cd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,g,y,b)=>{try{return Om(t),s.invokeTask(c,g,y,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),Rm(t)}},onInvoke:(s,u,c,g,y,b,D)=>{try{return Om(t),s.invoke(c,g,y,b,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Rm(t)}},onHasTask:(s,u,c,g)=>{s.hasTask(c,g),u===c&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,Sd(t),Cd(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,c,g)=>(s.handleError(c,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ui.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ui.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,c){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+c,n,zE,tf,tf);try{return g.runTask(y,s,u)}finally{g.cancelTask(y)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const zE={};function Cd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Om(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rm(t){t._nesting--,Cd(t)}class YE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,c){return n.apply(s,u)}}let Fm=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ui.assertNotInAngularZone(),xd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xd(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(qt(ui))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),Nm=(()=>{class t{constructor(){this._applications=new Map,Id.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Id.findTestabilityInTree(this,s,u)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class WE{addToWindow(n){}findTestabilityInTree(n,s,u){return null}}function qE(t){Id=t}let Ji,Id=new WE;const Lm=new Wt("AllowMultipleToken");class JE{constructor(n,s){this.name=n,this.token=s}}function km(t,n,s=[]){const u=`Platform: ${n}`,c=new Wt(u);return(g=[])=>{let y=Bm();if(!y||y.injector.get(Lm,!1))if(t)t(s.concat(g).concat({provide:c,useValue:!0}));else{const b=s.concat(g).concat({provide:c,useValue:!0},{provide:Rf,useValue:"platform"});!function(t){if(Ji&&!Ji.destroyed&&!Ji.injector.get(Lm,!1))throw new de("400","");Ji=t.get(Um);const n=t.get(Sm,null);n&&n.forEach(s=>s())}(Ci.create({providers:b,name:u}))}return function(t){const n=Bm();if(!n)throw new de("401","");return n}()}}function Bm(){return Ji&&!Ji.destroyed?Ji:null}let Um=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const b=function(t,n){let s;return s="noop"===t?new YE:("zone.js"===t?void 0:t)||new ui({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:ui,useValue:b}];return b.run(()=>{const C=Ci.create({providers:D,parent:this.injector,name:s.moduleType.name}),M=s.create(C),N=M.injector.get(vo,null);if(!N)throw new de("402","");return b.runOutsideAngular(()=>{const V=b.onError.subscribe({next:Z=>{N.handleError(Z)}});M.onDestroy(()=>{Ad(this._modules,M),V.unsubscribe()})}),function(t,n,s){try{const u=s();return Wf(u)?u.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(N,b,()=>{const V=M.injector.get(lc);return V.runInitializers(),V.donePromise.then(()=>(function(t){Oe(t,"Expected localeId to be defined"),"string"==typeof t&&(uv=t.toLowerCase().replace(/_/g,"-"))}(M.injector.get(nf,Xh)||Xh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,u=[]){const c=jm({},u);return function(t,n,s){const u=new ud(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(s){const u=s.injector.get(ph);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new de("403","");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(qt(Ci))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function jm(t,n){return Array.isArray(n)?n.reduce(jm,t):Object.assign(Object.assign({},t),n)}let ph=(()=>{class t{constructor(s,u,c,g,y){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new E.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),D=new E.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{ui.assertNotInAngularZone(),xd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),N.unsubscribe()}});this.isStable=function(...t){let n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return(0,pe.K)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof E.y?t[0]:(0,De.J)(n)((0,ie.n)(t,s))}(b,D.pipe(t=>(0,Q.x)()(function(t,n){return function(u){let c;c="function"==typeof t?t:function(){return t};const g=Object.create(u,oe.N);return g.source=u,g.subjectFactory=c,g}}(re)(t))))}bootstrap(s,u){if(!this._initStatus.done)throw new de("405","");let c;c=s instanceof Fv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const g=function(t){return t.isBoundToModule}(c)?void 0:this._injector.get(oc),b=c.create(Ci.NULL,[],u||c.selector,g),D=b.location.nativeElement,C=b.injector.get(Fm,null),M=C&&b.injector.get(Nm);return C&&M&&M.registerApplication(D,C),b.onDestroy(()=>{this.detachView(b.hostView),Ad(this.components,b),M&&M.unregisterApplication(D)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new de("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;Ad(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Am,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(qt(ui),qt(Ci),qt(vo),qt(ah),qt(lc))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function Ad(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let Vm=!0;function sw(){Vm=!1}let ow=(()=>{class t{}return t.__NG_ELEMENT_ID__=aw,t})();function aw(t){return function(t,n,s){if(os(t)&&!s){const u=kn(t.index,n);return new lh(u,u)}return 47&t.type?new lh(n[16],n):null}(on(),we(),16==(16&t))}class qm{constructor(){}supports(n){return Jc(n)}create(n){return new pw(n)}}const dw=(t,n)=>n;class pw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||dw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,c=0,g=null;for(;s||u;){const y=!u||s&&s.currentIndex<Km(u,c,g)?s:u,b=Km(y,c,g),D=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{g||(g=[]);const C=b-c,M=D-c;if(C!=M){for(let V=0;V<C;V++){const Z=V<g.length?g[V]:g[V]=0,ve=Z+V;M<=ve&&ve<C&&(g[V]=Z+1)}g[y.previousIndex]=M-C}}b!==D&&n(y,b,D)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Jc(n))throw new Error(`Error trying to diff '${ae(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,g,y,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)g=n[b],y=this._trackByFn(b,g),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,g,y,b)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,y,b),u=!0),s=s._next}else c=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Xl()]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,b=>{y=this._trackByFn(c,b),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,b,y,c)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,y,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,c){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,c)):n=this._addAfter(new gw(s,u),g,c),n}_verifyReinsertion(n,s,u,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,g=n._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new Zm),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zm),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class gw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class Zm{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new vw,this.map.set(s,u)),u.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Km(t,n,s){const u=t.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+n+c}class Qm{constructor(){}supports(n){return n instanceof Map||Uf(n)}create(){return new mw}}class mw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Uf(n)))throw new Error(`Error trying to diff '${ae(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const g=c._prev,y=c._next;return g&&(g._next=y),y&&(y._prev=g),c._next=null,c._prev=null,c}const u=new yw(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class yw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jm(){return new sf([new qm])}let sf=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||Jm()),deps:[[t,new dt,new Hr]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=St({token:t,providedIn:"root",factory:Jm}),t})();function ey(){return new of([new Qm])}let of=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||ey()),deps:[[t,new dt,new Hr]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(u)return u;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=St({token:t,providedIn:"root",factory:ey}),t})();const bw=[new Qm],ww=new sf([new qm]),Dw=new of(bw),Tw=km(null,"core",[{provide:Im,useValue:"unknown"},{provide:Um,deps:[Ci]},{provide:Nm,deps:[]},{provide:Pm,deps:[]}]),Aw=[{provide:ph,useClass:ph,deps:[ui,Ci,vo,ah,lc]},{provide:jb,deps:[ui],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:lc,useClass:lc,deps:[[new Hr,wd]]},{provide:Td,useClass:Td,deps:[]},UE,{provide:sf,useFactory:function(){return ww},deps:[]},{provide:of,useFactory:function(){return Dw},deps:[]},{provide:nf,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Xh},deps:[[new Ds(nf),new Hr,new dt]]},{provide:Mm,useValue:"USD"}];let Mw=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(qt(ph))},t.\u0275mod=Ir({type:t}),t.\u0275inj=Lt({providers:Aw}),t})()}},Ve=>{Ve(Ve.s=8359)}]);