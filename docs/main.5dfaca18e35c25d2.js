(self.webpackChunkangular_portfolio=self.webpackChunkangular_portfolio||[]).push([[179],{2862:(He,pe,B)=>{"use strict";B.d(pe,{d:()=>he});var E=B(1142);class he{static getRandomInt(ee,ae){return ee=Math.ceil(ee),ae=Math.floor(ae),Math.floor(Math.random()*(ae-ee)+ee)}static getRandomIntInclusive(ee,ae){return ee=Math.ceil(ee),ae=Math.floor(ae),Math.floor(Math.random()*(ae-ee+1)+ee)}static get randomInsideUnitCircle(){const ae=this.getRandomIntInclusive(-500,500)/1e3,Q=this.getRandomIntInclusive(-500,500)/1e3;return new E.W(ae,Q)}static isIpad(){return/Macintosh/i.test(navigator.userAgent)&&null!=navigator.maxTouchPoints&&navigator.maxTouchPoints>1}static isMobile(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}static convertRgbToHex(ee){if(!/rgb/i.test(ee))throw new Error("Color string has wrong format! The string should have the format: 'rgb(r, g, b)'.");const ae=/rgb\((\d.+?), (\d.+?), (\d.+?)\)/gm.exec(ee).slice(1,4);let Q="";for(const $ of ae){const te=Number.parseInt($).toString(16);Q+=1==te.length?"0"+te:te}return Number.parseInt("0x"+Q,16)}}},4097:(He,pe,B)=>{"use strict";B.d(pe,{B:()=>q});const E=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],he=(()=>{const X=E[0],J={};for(const Z of E)if((null==Z?void 0:Z[1])in document){for(const[Te,ce]of Z.entries())J[X[Te]]=ce;return J}return!1})(),me={change:he.fullscreenchange,error:he.fullscreenerror};let ee={request:(X=document.documentElement,J)=>new Promise((Z,le)=>{const Te=()=>{ee.off("change",Te),Z()};ee.on("change",Te);const ce=X[he.requestFullscreen](J);ce instanceof Promise&&ce.then(Te).catch(le)}),exit:()=>new Promise((X,J)=>{if(!ee.isFullscreen)return void X();const Z=()=>{ee.off("change",Z),X()};ee.on("change",Z);const le=document[he.exitFullscreen]();le instanceof Promise&&le.then(Z).catch(J)}),toggle:(X,J)=>ee.isFullscreen?ee.exit():ee.request(X,J),onchange(X){ee.on("change",X)},onerror(X){ee.on("error",X)},on(X,J){const Z=me[X];Z&&document.addEventListener(Z,J,!1)},off(X,J){const Z=me[X];Z&&document.removeEventListener(Z,J,!1)},raw:he};Object.defineProperties(ee,{isFullscreen:{get:()=>Boolean(document[he.fullscreenElement])},element:{enumerable:!0,get:()=>{var X;return null!=(X=document[he.fullscreenElement])?X:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[he.fullscreenEnabled])}}),he||(ee={isEnabled:!1});const ae=ee;var Q=B(2862),$=B(2096),te=B(9760);const ue=PIXI.Application;let q=(()=>{class X{constructor(Z){this.assetManager=Z,this.fpsTextStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:16,fill:"#d1821c"}),this.fpsText=new PIXI.Text("FPS: ",this.fpsTextStyle)}init(Z,le){this.pixiContainer=Z,this.demo=le;const Te=Q.d.convertRgbToHex(window.getComputedStyle(Z.nativeElement).getPropertyValue("background-color"));this.app=new ue({antialias:!0,backgroundColor:Te,resolution:window.devicePixelRatio,resizeTo:window}),this.app.renderer.plugins.interaction.autoPreventDefault=!1,this.app.renderer.view.style.touchAction="auto",this.app.view.style.width="100vw",this.app.view.style.height="100vh",this.pixiContainer.nativeElement.appendChild(this.app.view),this.fpsText.position.set(8,8)}loadResources(){this.assetManager.loadAssets(this.demo.onLoadFinished.bind(this.demo))}unloadResources(){this.assetManager.unloadAssets()}addChildToStage(Z){this.app.stage.addChild(Z)}removeChildFromStage(Z){this.app.stage.removeChild(Z)}addFpsCounterToStage(){this.addChildToStage(this.fpsText)}removeAllChildrenFromStage(){this.app.stage.removeChildren()}onFpsUpdate(Z){this.fpsText.text=`FPS: ${Z}`}get width(){return this.app.screen.width}get height(){return this.app.screen.height}checkFullscreenSupported(){if(!this.fullscreenSupported()){const Z=document.getElementsByClassName("fullscreen-toggle");for(const le of Z)le.style.display="none";document.getElementById("bottom-buttons").classList.replace("justify-between","justify-center")}}fullscreenSupported(){const Z=document.getElementById("simulation");return ae.isEnabled&&!Q.d.isIpad()&&(null!=Z.requestFullscreen||null!=Z.mozRequestFullscreen||null!=Z.webkitRequestFullscreen||null!=Z.msRequestFullscreen)}toggleFullscreen(){ae.isEnabled||(Q.d.isIpad()?alert("Your browser does not support fullscreen for non-video elements. On iPadOS, this is only supported by Safari."):alert("Your browser does not support fullscreen for non-video elements. Please try a different browser or device."));const Z=document.getElementById("simulation");ae.isEnabled&&ae.toggle(Z,{navigationUI:"hide"})}}return X.\u0275fac=function(Z){return new(Z||X)($.LFG(te.me))},X.\u0275prov=$.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},9760:(He,pe,B)=>{"use strict";B.d(pe,{me:()=>Q});var E=B(2096);const he="./assets/emergent_demos/boids/boids.json",me="./assets/emergent_demos/ants/ants.json",ee=PIXI.Loader.shared,ae=PIXI.Loader.shared.resources;let Q=(()=>{class ${constructor(){this.assets=[he,me]}loadAssets(ue){null==ee.resources[this.assets[0]]?ee.add(this.assets).load(ue):ue()}unloadAssets(){PIXI.utils.clearTextureCache()}get boidSprites(){const ue=ae[he].spritesheet;return[ue.animations.birdBlue,ue.animations.birdRed,ue.animations.birdBrown,ue.animations.birdWhite]}get antSprite(){return ae[me].spritesheet.animations.ant}}return $.\u0275fac=function(ue){return new(ue||$)},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},1497:(He,pe,B)=>{"use strict";B.d(pe,{g:()=>ae});var E=B(1142),he=B(2096),me=B(8362),ee=B(4097);let ae=(()=>{class Q{constructor(te,ue){this.bottomUiService=te,this.demoCanvas=ue}init(te){this.birds=te}update(te){if(null!=this.previousTimeStamp){const ue=te-this.previousTimeStamp;this.birds.forEach(q=>{this.applyBoidRules(q),this.applyCanvasBoundsRule(q),q.move(ue)})}this.previousTimeStamp=te}applyBoidRules(te){const ue=this.bottomUiService.getCoherenceWeight(),q=this.bottomUiService.getSeparationWeight(),X=this.bottomUiService.getAlignmentWeight(),J=te.getPosition();let Z=new E.W(0,0),le=new E.W(0,0),Te=new E.W(0,0),ce=new E.W(0,0),Oe=0;this.birds.forEach(Le=>{if(te===Le)return;const mt=Le.getPosition();if(te.birdInVisionRange(Le)&&(Z=Z.addVector2D(mt),Te=Te.addVector2D(Le.velocity),Oe++),te.birdTooClose(Le)){const Gt=J.subtractVector2D(mt);le=le.addVector2D(Gt)}}),Oe>0?(Z=Z.divideByScalar(Oe),Te=Te.divideByScalar(Oe),ce=Te.subtractVector2D(te.velocity),ce=ce.multiplyByScalar(X)):Z=J;const je=Z.subtractVector2D(J).multiplyByScalar(ue);le=le.multiplyByScalar(q),te.addVelocity(je),te.addVelocity(le),te.addVelocity(ce)}applyCanvasBoundsRule(te){const q=te.movementSpeed,X=te.getPosition(),Z=this.demoCanvas.width-0,Te=this.demoCanvas.height-0;X.x<0?te.addVelocity(new E.W(q,0)):X.x>Z&&te.addVelocity(new E.W(-q,0)),X.y<0?te.addVelocity(new E.W(0,q)):X.y>Te&&te.addVelocity(new E.W(0,-q))}}return Q.\u0275fac=function(te){return new(te||Q)(he.LFG(me.K),he.LFG(ee.B))},Q.\u0275prov=he.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},8362:(He,pe,B)=>{"use strict";B.d(pe,{K:()=>he});var E=B(2096);let he=(()=>{class me{constructor(){this.COHERENCE_SLIDER_NAME="coherence-slider",this.SEPARATION_SLIDER_NAME="separation-slider",this.ALIGNMENT_SLIDER_NAME="alignment-slider",this.VISUAL_RANGE_SLIDER_NAME="visualRange-slider",this.MAX_SPEED_SLIDER_NAME="maxSpeed-slider",this.DEFAULT_COHERENCE_WEIGHT=.005,this.DEFAULT_SEPARATION_WEIGHT=.05,this.DEFAULT_ALIGNMENT_WEIGHT=.05,this.DEFAULT_VISUAL_RANGE=150,this.DEFAULT_MAX_SPEED=5,this.UIVariables=new Map([[this.COHERENCE_SLIDER_NAME,this.DEFAULT_COHERENCE_WEIGHT],[this.SEPARATION_SLIDER_NAME,this.DEFAULT_SEPARATION_WEIGHT],[this.ALIGNMENT_SLIDER_NAME,this.DEFAULT_ALIGNMENT_WEIGHT],[this.VISUAL_RANGE_SLIDER_NAME,this.DEFAULT_VISUAL_RANGE],[this.MAX_SPEED_SLIDER_NAME,this.DEFAULT_MAX_SPEED]]),this.UI_VARIABLES_DEFAULTS=new Map(this.UIVariables),this.UISliders=new Map}initSliders(){const Q=document.getElementById("bottom-ui-slider-wrapper").getElementsByClassName("slider");for(const $ of Q)this.UISliders.has($.id)||this.UISliders.set($.id,$)}onSliderClicked(ae){const Q=ae.target;this.setUIVariableWeightModifier(Q.id,+Q.value/100)}setUIVariableWeightModifier(ae,Q){let $=2*this.UI_VARIABLES_DEFAULTS.get(ae)*Q;("visualRange-slider"===ae||"maxSpeed-slider"===ae)&&($=Math.max(1,$)),this.UIVariables.set(ae,$)}reset(){this.resetVariables(),this.resetSliders()}resetVariables(){this.UIVariables=new Map(this.UI_VARIABLES_DEFAULTS)}resetSliders(){this.UISliders.forEach(ae=>{ae.value="50"})}getUIVariable(ae){return this.UIVariables.get(ae)}getCoherenceWeight(){return this.getUIVariable(this.COHERENCE_SLIDER_NAME)}getSeparationWeight(){return this.getUIVariable(this.SEPARATION_SLIDER_NAME)}getAlignmentWeight(){return this.getUIVariable(this.ALIGNMENT_SLIDER_NAME)}getVisualRange(){return this.getUIVariable(this.VISUAL_RANGE_SLIDER_NAME)}getMaxSpeed(){return this.getUIVariable(this.MAX_SPEED_SLIDER_NAME)}}return me.\u0275fac=function(ae){return new(ae||me)},me.\u0275prov=E.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},1142:(He,pe,B)=>{"use strict";B.d(pe,{W:()=>he});var E=B(4520);class he{constructor(ee,ae){this.x=ee,this.y=ae}get angle(){let ee=Math.atan2(this.y,this.x)*E.jl;return ee<0&&(ee+=360),ee}addVector2D(ee){return new he(this.x+ee.x,this.y+ee.y)}subtractVector2D(ee){return new he(this.x-ee.x,this.y-ee.y)}distanceTo(ee){const ae=this.subtractVector2D(ee);return Math.hypot(ae.x,ae.y)}multiplyByScalar(ee){return new he(this.x*ee,this.y*ee)}dotProduct(ee){return this.x*ee.x+this.y*ee.y}angleToVector(ee){return ee.angle-this.angle}divideByScalar(ee){if(0===ee)throw new Error("Cannot divide by 0!");return new he(this.x/ee,this.y/ee)}get magnitude(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}get normalized(){const ee=this.magnitude;return ee>0?this.divideByScalar(ee):this}toString(){return"x: "+this.x+", y: "+this.y}isEqual(ee){return this.x===ee.x&&this.y===ee.y}clampMagnitude(ee){return this.magnitude>ee?this.normalized.multiplyByScalar(ee):this}}},8359:(He,pe,B)=>{"use strict";var E=B(2096);let he=null;function me(){return he}const $=new E.OlP("DocumentToken");let te=(()=>{class f{historyGo(l){throw new Error("Not implemented")}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=E.Yz7({token:f,factory:function(){return(0,E.LFG)(X)},providedIn:"platform"}),f})();const q=new E.OlP("Location Initialized");let X=(()=>{class f extends te{constructor(l){super(),this._doc=l,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return me().getBaseHref(this._doc)}onPopState(l){const v=me().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",l,!1),()=>v.removeEventListener("popstate",l)}onHashChange(l){const v=me().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",l,!1),()=>v.removeEventListener("hashchange",l)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(l){this.location.pathname=l}pushState(l,v,_){J()?this._history.pushState(l,v,_):this.location.hash=_}replaceState(l,v,_){J()?this._history.replaceState(l,v,_):this.location.hash=_}forward(){this._history.forward()}back(){this._history.back()}historyGo(l=0){this._history.go(l)}getState(){return this._history.state}}return f.\u0275fac=function(l){return new(l||f)(E.LFG($))},f.\u0275prov=E.Yz7({token:f,factory:function(){return new X((0,E.LFG)($))},providedIn:"platform"}),f})();function J(){return!!window.history.pushState}function le(f,h){if(0==f.length)return h;if(0==h.length)return f;let l=0;return f.endsWith("/")&&l++,h.startsWith("/")&&l++,2==l?f+h.substring(1):1==l?f+h:f+"/"+h}function Te(f){const h=f.match(/#|\?|$/),l=h&&h.index||f.length;return f.slice(0,l-("/"===f[l-1]?1:0))+f.slice(l)}function ce(f){return f&&"?"!==f[0]?"?"+f:f}let Oe=(()=>{class f{historyGo(l){throw new Error("Not implemented")}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=E.Yz7({token:f,factory:function(){return function(f){const h=(0,E.LFG)($).location;return new Le((0,E.LFG)(te),h&&h.origin||"")}()},providedIn:"root"}),f})();const je=new E.OlP("appBaseHref");let Le=(()=>{class f extends Oe{constructor(l,v){if(super(),this._platformLocation=l,this._removeListenerFns=[],null==v&&(v=this._platformLocation.getBaseHrefFromDOM()),null==v)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=v}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(l){this._removeListenerFns.push(this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l))}getBaseHref(){return this._baseHref}prepareExternalUrl(l){return le(this._baseHref,l)}path(l=!1){const v=this._platformLocation.pathname+ce(this._platformLocation.search),_=this._platformLocation.hash;return _&&l?`${v}${_}`:v}pushState(l,v,_,T){const P=this.prepareExternalUrl(_+ce(T));this._platformLocation.pushState(l,v,P)}replaceState(l,v,_,T){const P=this.prepareExternalUrl(_+ce(T));this._platformLocation.replaceState(l,v,P)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(l=0){var v,_;null===(_=(v=this._platformLocation).historyGo)||void 0===_||_.call(v,l)}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(te),E.LFG(je,8))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})(),mt=(()=>{class f extends Oe{constructor(l,v){super(),this._platformLocation=l,this._baseHref="",this._removeListenerFns=[],null!=v&&(this._baseHref=v)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(l){this._removeListenerFns.push(this._platformLocation.onPopState(l),this._platformLocation.onHashChange(l))}getBaseHref(){return this._baseHref}path(l=!1){let v=this._platformLocation.hash;return null==v&&(v="#"),v.length>0?v.substring(1):v}prepareExternalUrl(l){const v=le(this._baseHref,l);return v.length>0?"#"+v:v}pushState(l,v,_,T){let P=this.prepareExternalUrl(_+ce(T));0==P.length&&(P=this._platformLocation.pathname),this._platformLocation.pushState(l,v,P)}replaceState(l,v,_,T){let P=this.prepareExternalUrl(_+ce(T));0==P.length&&(P=this._platformLocation.pathname),this._platformLocation.replaceState(l,v,P)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(l=0){var v,_;null===(_=(v=this._platformLocation).historyGo)||void 0===_||_.call(v,l)}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(te),E.LFG(je,8))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})(),Gt=(()=>{class f{constructor(l,v){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=l;const _=this._platformStrategy.getBaseHref();this._platformLocation=v,this._baseHref=Te(j(_)),this._platformStrategy.onPopState(T=>{this._subject.emit({url:this.path(!0),pop:!0,state:T.state,type:T.type})})}path(l=!1){return this.normalize(this._platformStrategy.path(l))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(l,v=""){return this.path()==this.normalize(l+ce(v))}normalize(l){return f.stripTrailingSlash(function(f,h){return f&&h.startsWith(f)?h.substring(f.length):h}(this._baseHref,j(l)))}prepareExternalUrl(l){return l&&"/"!==l[0]&&(l="/"+l),this._platformStrategy.prepareExternalUrl(l)}go(l,v="",_=null){this._platformStrategy.pushState(_,"",l,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(l+ce(v)),_)}replaceState(l,v="",_=null){this._platformStrategy.replaceState(_,"",l,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(l+ce(v)),_)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(l=0){var v,_;null===(_=(v=this._platformStrategy).historyGo)||void 0===_||_.call(v,l)}onUrlChange(l){this._urlChangeListeners.push(l),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}))}_notifyUrlChangeListeners(l="",v){this._urlChangeListeners.forEach(_=>_(l,v))}subscribe(l,v,_){return this._subject.subscribe({next:l,error:v,complete:_})}}return f.normalizeQueryParams=ce,f.joinWithSlash=le,f.stripTrailingSlash=Te,f.\u0275fac=function(l){return new(l||f)(E.LFG(Oe),E.LFG(te))},f.\u0275prov=E.Yz7({token:f,factory:function(){return new Gt((0,E.LFG)(Oe),(0,E.LFG)(te))},providedIn:"root"}),f})();function j(f){return f.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Zero=0]="Zero",de[de.One=1]="One",de[de.Two=2]="Two",de[de.Few=3]="Few",de[de.Many=4]="Many",de[de.Other=5]="Other",de))(),be=(()=>((be=be||{})[be.Format=0]="Format",be[be.Standalone=1]="Standalone",be))(),Y=(()=>((Y=Y||{})[Y.Narrow=0]="Narrow",Y[Y.Abbreviated=1]="Abbreviated",Y[Y.Wide=2]="Wide",Y[Y.Short=3]="Short",Y))(),O=(()=>((O=O||{})[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O))(),k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Group=1]="Group",k[k.List=2]="List",k[k.PercentSign=3]="PercentSign",k[k.PlusSign=4]="PlusSign",k[k.MinusSign=5]="MinusSign",k[k.Exponential=6]="Exponential",k[k.SuperscriptingExponent=7]="SuperscriptingExponent",k[k.PerMille=8]="PerMille",k[k.Infinity=9]="Infinity",k[k.NaN=10]="NaN",k[k.TimeSeparator=11]="TimeSeparator",k[k.CurrencyDecimal=12]="CurrencyDecimal",k[k.CurrencyGroup=13]="CurrencyGroup",k))();function Pe(f,h){return mn((0,E.cg1)(f)[E.wAp.DateFormat],h)}function ze(f,h){return mn((0,E.cg1)(f)[E.wAp.TimeFormat],h)}function Ze(f,h){return mn((0,E.cg1)(f)[E.wAp.DateTimeFormat],h)}function Ae(f,h){const l=(0,E.cg1)(f),v=l[E.wAp.NumberSymbols][h];if(void 0===v){if(h===k.CurrencyDecimal)return l[E.wAp.NumberSymbols][k.Decimal];if(h===k.CurrencyGroup)return l[E.wAp.NumberSymbols][k.Group]}return v}const It=E.kL8;function en(f){if(!f[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${f[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mn(f,h){for(let l=h;l>-1;l--)if(void 0!==f[l])return f[l];throw new Error("Locale data API: locale data undefined")}function Do(f){const[h,l]=f.split(":");return{hours:+h,minutes:+l}}const Pi=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ns={},ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rn=(()=>((rn=rn||{})[rn.Short=0]="Short",rn[rn.ShortGMT=1]="ShortGMT",rn[rn.Long=2]="Long",rn[rn.Extended=3]="Extended",rn))(),Je=(()=>((Je=Je||{})[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je))(),et=(()=>((et=et||{})[et.DayPeriods=0]="DayPeriods",et[et.Days=1]="Days",et[et.Months=2]="Months",et[et.Eras=3]="Eras",et))();function To(f,h,l,v){let _=function(f){if(Ju(f))return f;if("number"==typeof f&&!isNaN(f))return new Date(f);if("string"==typeof f){if(f=f.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(f)){const[_,T=1,P=1]=f.split("-").map(F=>+F);return ka(_,T-1,P)}const l=parseFloat(f);if(!isNaN(f-l))return new Date(l);let v;if(v=f.match(Pi))return function(f){const h=new Date(0);let l=0,v=0;const _=f[8]?h.setUTCFullYear:h.setFullYear,T=f[8]?h.setUTCHours:h.setHours;f[9]&&(l=Number(f[9]+f[10]),v=Number(f[9]+f[11])),_.call(h,Number(f[1]),Number(f[2])-1,Number(f[3]));const P=Number(f[4]||0)-l,F=Number(f[5]||0)-v,ie=Number(f[6]||0),Se=Math.floor(1e3*parseFloat("0."+(f[7]||0)));return T.call(h,P,F,ie,Se),h}(v)}const h=new Date(f);if(!Ju(h))throw new Error(`Unable to convert "${f}" into a date`);return h}(f);h=yn(l,h)||h;let F,P=[];for(;h;){if(F=ht.exec(h),!F){P.push(h);break}{P=P.concat(F.slice(1));const qe=P.pop();if(!qe)break;h=qe}}let ie=_.getTimezoneOffset();v&&(ie=Yn(v,ie),_=function(f,h,l){const _=f.getTimezoneOffset();return function(f,h){return(f=new Date(f.getTime())).setMinutes(f.getMinutes()+h),f}(f,-1*(Yn(h,_)-_))}(_,v));let Se="";return P.forEach(qe=>{const Me=function(f){if(rs[f])return rs[f];let h;switch(f){case"G":case"GG":case"GGG":h=Rt(et.Eras,Y.Abbreviated);break;case"GGGG":h=Rt(et.Eras,Y.Wide);break;case"GGGGG":h=Rt(et.Eras,Y.Narrow);break;case"y":h=Lt(Je.FullYear,1,0,!1,!0);break;case"yy":h=Lt(Je.FullYear,2,0,!0,!0);break;case"yyy":h=Lt(Je.FullYear,3,0,!1,!0);break;case"yyyy":h=Lt(Je.FullYear,4,0,!1,!0);break;case"Y":h=Bn(1);break;case"YY":h=Bn(2,!0);break;case"YYY":h=Bn(3);break;case"YYYY":h=Bn(4);break;case"M":case"L":h=Lt(Je.Month,1,1);break;case"MM":case"LL":h=Lt(Je.Month,2,1);break;case"MMM":h=Rt(et.Months,Y.Abbreviated);break;case"MMMM":h=Rt(et.Months,Y.Wide);break;case"MMMMM":h=Rt(et.Months,Y.Narrow);break;case"LLL":h=Rt(et.Months,Y.Abbreviated,be.Standalone);break;case"LLLL":h=Rt(et.Months,Y.Wide,be.Standalone);break;case"LLLLL":h=Rt(et.Months,Y.Narrow,be.Standalone);break;case"w":h=Mt(1);break;case"ww":h=Mt(2);break;case"W":h=Mt(1,!0);break;case"d":h=Lt(Je.Date,1);break;case"dd":h=Lt(Je.Date,2);break;case"c":case"cc":h=Lt(Je.Day,1);break;case"ccc":h=Rt(et.Days,Y.Abbreviated,be.Standalone);break;case"cccc":h=Rt(et.Days,Y.Wide,be.Standalone);break;case"ccccc":h=Rt(et.Days,Y.Narrow,be.Standalone);break;case"cccccc":h=Rt(et.Days,Y.Short,be.Standalone);break;case"E":case"EE":case"EEE":h=Rt(et.Days,Y.Abbreviated);break;case"EEEE":h=Rt(et.Days,Y.Wide);break;case"EEEEE":h=Rt(et.Days,Y.Narrow);break;case"EEEEEE":h=Rt(et.Days,Y.Short);break;case"a":case"aa":case"aaa":h=Rt(et.DayPeriods,Y.Abbreviated);break;case"aaaa":h=Rt(et.DayPeriods,Y.Wide);break;case"aaaaa":h=Rt(et.DayPeriods,Y.Narrow);break;case"b":case"bb":case"bbb":h=Rt(et.DayPeriods,Y.Abbreviated,be.Standalone,!0);break;case"bbbb":h=Rt(et.DayPeriods,Y.Wide,be.Standalone,!0);break;case"bbbbb":h=Rt(et.DayPeriods,Y.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":h=Rt(et.DayPeriods,Y.Abbreviated,be.Format,!0);break;case"BBBB":h=Rt(et.DayPeriods,Y.Wide,be.Format,!0);break;case"BBBBB":h=Rt(et.DayPeriods,Y.Narrow,be.Format,!0);break;case"h":h=Lt(Je.Hours,1,-12);break;case"hh":h=Lt(Je.Hours,2,-12);break;case"H":h=Lt(Je.Hours,1);break;case"HH":h=Lt(Je.Hours,2);break;case"m":h=Lt(Je.Minutes,1);break;case"mm":h=Lt(Je.Minutes,2);break;case"s":h=Lt(Je.Seconds,1);break;case"ss":h=Lt(Je.Seconds,2);break;case"S":h=Lt(Je.FractionalSeconds,1);break;case"SS":h=Lt(Je.FractionalSeconds,2);break;case"SSS":h=Lt(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":h=xo(rn.Short);break;case"ZZZZZ":h=xo(rn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":h=xo(rn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":h=xo(rn.Long);break;default:return null}return rs[f]=h,h}(qe);Se+=Me?Me(_,l,ie):"''"===qe?"'":qe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Se}function ka(f,h,l){const v=new Date(0);return v.setFullYear(f,h,l),v.setHours(0,0,0),v}function yn(f,h){const l=function(f){return(0,E.cg1)(f)[E.wAp.LocaleId]}(f);if(ns[l]=ns[l]||{},ns[l][h])return ns[l][h];let v="";switch(h){case"shortDate":v=Pe(f,O.Short);break;case"mediumDate":v=Pe(f,O.Medium);break;case"longDate":v=Pe(f,O.Long);break;case"fullDate":v=Pe(f,O.Full);break;case"shortTime":v=ze(f,O.Short);break;case"mediumTime":v=ze(f,O.Medium);break;case"longTime":v=ze(f,O.Long);break;case"fullTime":v=ze(f,O.Full);break;case"short":const _=yn(f,"shortTime"),T=yn(f,"shortDate");v=Sn(Ze(f,O.Short),[_,T]);break;case"medium":const P=yn(f,"mediumTime"),F=yn(f,"mediumDate");v=Sn(Ze(f,O.Medium),[P,F]);break;case"long":const ie=yn(f,"longTime"),Se=yn(f,"longDate");v=Sn(Ze(f,O.Long),[ie,Se]);break;case"full":const qe=yn(f,"fullTime"),Me=yn(f,"fullDate");v=Sn(Ze(f,O.Full),[qe,Me])}return v&&(ns[l][h]=v),v}function Sn(f,h){return h&&(f=f.replace(/\{([^}]+)}/g,function(l,v){return null!=h&&v in h?h[v]:l})),f}function Sr(f,h,l="-",v,_){let T="";(f<0||_&&f<=0)&&(_?f=1-f:(f=-f,T=l));let P=String(f);for(;P.length<h;)P="0"+P;return v&&(P=P.substr(P.length-h)),T+P}function Lt(f,h,l=0,v=!1,_=!1){return function(T,P){let F=function(f,h){switch(f){case Je.FullYear:return h.getFullYear();case Je.Month:return h.getMonth();case Je.Date:return h.getDate();case Je.Hours:return h.getHours();case Je.Minutes:return h.getMinutes();case Je.Seconds:return h.getSeconds();case Je.FractionalSeconds:return h.getMilliseconds();case Je.Day:return h.getDay();default:throw new Error(`Unknown DateType value "${f}".`)}}(f,T);if((l>0||F>-l)&&(F+=l),f===Je.Hours)0===F&&-12===l&&(F=12);else if(f===Je.FractionalSeconds)return function(f,h){return Sr(f,3).substr(0,h)}(F,h);const ie=Ae(P,k.MinusSign);return Sr(F,h,ie,v,_)}}function Rt(f,h,l=be.Format,v=!1){return function(_,T){return function(f,h,l,v,_,T){switch(l){case et.Months:return function(f,h,l){const v=(0,E.cg1)(f),T=mn([v[E.wAp.MonthsFormat],v[E.wAp.MonthsStandalone]],h);return mn(T,l)}(h,_,v)[f.getMonth()];case et.Days:return function(f,h,l){const v=(0,E.cg1)(f),T=mn([v[E.wAp.DaysFormat],v[E.wAp.DaysStandalone]],h);return mn(T,l)}(h,_,v)[f.getDay()];case et.DayPeriods:const P=f.getHours(),F=f.getMinutes();if(T){const Se=function(f){const h=(0,E.cg1)(f);return en(h),(h[E.wAp.ExtraData][2]||[]).map(v=>"string"==typeof v?Do(v):[Do(v[0]),Do(v[1])])}(h),qe=function(f,h,l){const v=(0,E.cg1)(f);en(v);const T=mn([v[E.wAp.ExtraData][0],v[E.wAp.ExtraData][1]],h)||[];return mn(T,l)||[]}(h,_,v),Me=Se.findIndex(lt=>{if(Array.isArray(lt)){const[nt,Jt]=lt,Cn=P>=nt.hours&&F>=nt.minutes,Dn=P<Jt.hours||P===Jt.hours&&F<Jt.minutes;if(nt.hours<Jt.hours){if(Cn&&Dn)return!0}else if(Cn||Dn)return!0}else if(lt.hours===P&&lt.minutes===F)return!0;return!1});if(-1!==Me)return qe[Me]}return function(f,h,l){const v=(0,E.cg1)(f),T=mn([v[E.wAp.DayPeriodsFormat],v[E.wAp.DayPeriodsStandalone]],h);return mn(T,l)}(h,_,v)[P<12?0:1];case et.Eras:return function(f,h){return mn((0,E.cg1)(f)[E.wAp.Eras],h)}(h,v)[f.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${l}`)}}(_,T,f,h,l,v)}}function xo(f){return function(h,l,v){const _=-1*v,T=Ae(l,k.MinusSign),P=_>0?Math.floor(_/60):Math.ceil(_/60);switch(f){case rn.Short:return(_>=0?"+":"")+Sr(P,2,T)+Sr(Math.abs(_%60),2,T);case rn.ShortGMT:return"GMT"+(_>=0?"+":"")+Sr(P,1,T);case rn.Long:return"GMT"+(_>=0?"+":"")+Sr(P,2,T)+":"+Sr(Math.abs(_%60),2,T);case rn.Extended:return 0===v?"Z":(_>=0?"+":"")+Sr(P,2,T)+":"+Sr(Math.abs(_%60),2,T);default:throw new Error(`Unknown zone width "${f}"`)}}}function nr(f){return ka(f.getFullYear(),f.getMonth(),f.getDate()+(4-f.getDay()))}function Mt(f,h=!1){return function(l,v){let _;if(h){const T=new Date(l.getFullYear(),l.getMonth(),1).getDay()-1,P=l.getDate();_=1+Math.floor((P+T)/7)}else{const T=nr(l),P=function(f){const h=ka(f,0,1).getDay();return ka(f,0,1+(h<=4?4:11)-h)}(T.getFullYear()),F=T.getTime()-P.getTime();_=1+Math.round(F/6048e5)}return Sr(_,f,Ae(v,k.MinusSign))}}function Bn(f,h=!1){return function(l,v){return Sr(nr(l).getFullYear(),f,Ae(v,k.MinusSign),h)}}const rs={};function Yn(f,h){f=f.replace(/:/g,"");const l=Date.parse("Jan 01, 1970 00:00:00 "+f)/6e4;return isNaN(l)?h:l}function Ju(f){return f instanceof Date&&!isNaN(f.valueOf())}class Mr{}let Ue=(()=>{class f extends Mr{constructor(l){super(),this.locale=l}getPluralCategory(l,v){switch(It(v||this.locale)(l)){case de.Zero:return"zero";case de.One:return"one";case de.Two:return"two";case de.Few:return"few";case de.Many:return"many";default:return"other"}}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(E.soG))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();const nl=new E.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let vc=(()=>{class f{constructor(l,v){this.locale=l,this.defaultTimezone=v}transform(l,v="mediumDate",_,T){var P;if(null==l||""===l||l!=l)return null;try{return To(l,v,T||this.locale,null!==(P=null!=_?_:this.defaultTimezone)&&void 0!==P?P:void 0)}catch(F){throw function(f,h){return Error(`InvalidPipeArgument: '${h}' for pipe '${(0,E.AaK)(f)}'`)}(f,F.message)}}}return f.\u0275fac=function(l){return new(l||f)(E.Y36(E.soG,16),E.Y36(nl,24))},f.\u0275pipe=E.Yjl({name:"date",type:f,pure:!0}),f})(),mc=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({providers:[{provide:Mr,useClass:Ue}]}),f})();let al=(()=>{class f{}return f.\u0275prov=(0,E.Yz7)({token:f,providedIn:"root",factory:()=>new $a((0,E.LFG)($),window)}),f})();class $a{constructor(h,l){this.document=h,this.window=l,this.offset=()=>[0,0]}setOffset(h){this.offset=Array.isArray(h)?()=>h:h}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(h){this.supportsScrolling()&&this.window.scrollTo(h[0],h[1])}scrollToAnchor(h){if(!this.supportsScrolling())return;const l=function(f,h){const l=f.getElementById(h)||f.getElementsByName(h)[0];if(l)return l;if("function"==typeof f.createTreeWalker&&f.body&&(f.body.createShadowRoot||f.body.attachShadow)){const v=f.createTreeWalker(f.body,NodeFilter.SHOW_ELEMENT);let _=v.currentNode;for(;_;){const T=_.shadowRoot;if(T){const P=T.getElementById(h)||T.querySelector(`[name="${h}"]`);if(P)return P}_=v.nextNode()}}return null}(this.document,h);l&&(this.scrollToElement(l),this.attemptFocus(l))}setHistoryScrollRestoration(h){if(this.supportScrollRestoration()){const l=this.window.history;l&&l.scrollRestoration&&(l.scrollRestoration=h)}}scrollToElement(h){const l=h.getBoundingClientRect(),v=l.left+this.window.pageXOffset,_=l.top+this.window.pageYOffset,T=this.offset();this.window.scrollTo(v-T[0],_-T[1])}attemptFocus(h){return h.focus(),this.document.activeElement===h}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const h=Ri(this.window.history)||Ri(Object.getPrototypeOf(this.window.history));return!(!h||!h.writable&&!h.set)}catch(h){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(h){return!1}}}function Ri(f){return Object.getOwnPropertyDescriptor(f,"scrollRestoration")}class di extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var f;f=new di,he||(he=f)}onAndCancel(h,l,v){return h.addEventListener(l,v,!1),()=>{h.removeEventListener(l,v,!1)}}dispatchEvent(h,l){h.dispatchEvent(l)}remove(h){h.parentNode&&h.parentNode.removeChild(h)}createElement(h,l){return(l=l||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,l){return"window"===l?window:"document"===l?h:"body"===l?h.body:null}getBaseHref(h){const l=(Rr=Rr||document.querySelector("base"),Rr?Rr.getAttribute("href"):null);return null==l?null:function(f){Po=Po||document.createElement("a"),Po.setAttribute("href",f);const h=Po.pathname;return"/"===h.charAt(0)?h:`/${h}`}(l)}resetBaseElement(){Rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return function(f,h){h=encodeURIComponent(h);for(const l of f.split(";")){const v=l.indexOf("="),[_,T]=-1==v?[l,""]:[l.slice(0,v),l.slice(v+1)];if(_.trim()===h)return decodeURIComponent(T)}return null}(document.cookie,h)}}let Po,Rr=null;const gn=new E.OlP("TRANSITION_ID"),an=[{provide:E.ip1,useFactory:function(f,h,l){return()=>{l.get(E.CZH).donePromise.then(()=>{const v=me(),_=h.querySelectorAll(`style[ng-transition="${f}"]`);for(let T=0;T<_.length;T++)v.remove(_[T])})}},deps:[gn,$,E.zs3],multi:!0}];class Ya{static init(){(0,E.VLi)(new Ya)}addToWindow(h){E.dqk.getAngularTestability=(v,_=!0)=>{const T=h.findTestabilityInTree(v,_);if(null==T)throw new Error("Could not find testability for element.");return T},E.dqk.getAllAngularTestabilities=()=>h.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>h.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(v=>{const _=E.dqk.getAllAngularTestabilities();let T=_.length,P=!1;const F=function(ie){P=P||ie,T--,0==T&&v(P)};_.forEach(function(ie){ie.whenStable(F)})})}findTestabilityInTree(h,l,v){if(null==l)return null;const _=h.getTestability(l);return null!=_?_:v?me().isShadowRoot(l)?this.findTestabilityInTree(h,l.host,!0):this.findTestabilityInTree(h,l.parentElement,!0):null}}let _c=(()=>{class f{build(){return new XMLHttpRequest}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();const Fi=new E.OlP("EventManagerPlugins");let Pn=(()=>{class f{constructor(l,v){this._zone=v,this._eventNameToPlugin=new Map,l.forEach(_=>_.manager=this),this._plugins=l.slice().reverse()}addEventListener(l,v,_){return this._findPluginFor(v).addEventListener(l,v,_)}addGlobalEventListener(l,v,_){return this._findPluginFor(v).addGlobalEventListener(l,v,_)}getZone(){return this._zone}_findPluginFor(l){const v=this._eventNameToPlugin.get(l);if(v)return v;const _=this._plugins;for(let T=0;T<_.length;T++){const P=_[T];if(P.supports(l))return this._eventNameToPlugin.set(l,P),P}throw new Error(`No event manager plugin found for event ${l}`)}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(Fi),E.LFG(E.R0b))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();class us{constructor(h){this._doc=h}addGlobalEventListener(h,l,v){const _=me().getGlobalEventTarget(this._doc,h);if(!_)throw new Error(`Unsupported event target ${_} for event ${l}`);return this.addEventListener(_,l,v)}}let Mo=(()=>{class f{constructor(){this._stylesSet=new Set}addStyles(l){const v=new Set;l.forEach(_=>{this._stylesSet.has(_)||(this._stylesSet.add(_),v.add(_))}),this.onStylesAdded(v)}onStylesAdded(l){}getAllStyles(){return Array.from(this._stylesSet)}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})(),mr=(()=>{class f extends Mo{constructor(l){super(),this._doc=l,this._hostNodes=new Map,this._hostNodes.set(l.head,[])}_addStylesToHost(l,v,_){l.forEach(T=>{const P=this._doc.createElement("style");P.textContent=T,_.push(v.appendChild(P))})}addHost(l){const v=[];this._addStylesToHost(this._stylesSet,l,v),this._hostNodes.set(l,v)}removeHost(l){const v=this._hostNodes.get(l);v&&v.forEach(Un),this._hostNodes.delete(l)}onStylesAdded(l){this._hostNodes.forEach((v,_)=>{this._addStylesToHost(l,_,v)})}ngOnDestroy(){this._hostNodes.forEach(l=>l.forEach(Un))}}return f.\u0275fac=function(l){return new(l||f)(E.LFG($))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();function Un(f){me().remove(f)}const Fr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$s=/%COMP%/g;function Ro(f,h,l){for(let v=0;v<h.length;v++){let _=h[v];Array.isArray(_)?Ro(f,_,l):(_=_.replace($s,f),l.push(_))}return l}function Ka(f){return h=>{if("__ngUnwrap__"===h)return f;!1===f(h)&&(h.preventDefault(),h.returnValue=!1)}}let ls=(()=>{class f{constructor(l,v,_){this.eventManager=l,this.sharedStylesHost=v,this.appId=_,this.rendererByCompId=new Map,this.defaultRenderer=new Fo(l)}createRenderer(l,v){if(!l||!v)return this.defaultRenderer;switch(v.encapsulation){case E.ifc.Emulated:{let _=this.rendererByCompId.get(v.id);return _||(_=new wt(this.eventManager,this.sharedStylesHost,v,this.appId),this.rendererByCompId.set(v.id,_)),_.applyToHost(l),_}case 1:case E.ifc.ShadowDom:return new No(this.eventManager,this.sharedStylesHost,l,v);default:if(!this.rendererByCompId.has(v.id)){const _=Ro(v.id,v.styles,[]);this.sharedStylesHost.addStyles(_),this.rendererByCompId.set(v.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(Pn),E.LFG(mr),E.LFG(E.AFp))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();class Fo{constructor(h){this.eventManager=h,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(h,l){return l?document.createElementNS(Fr[l]||l,h):document.createElement(h)}createComment(h){return document.createComment(h)}createText(h){return document.createTextNode(h)}appendChild(h,l){h.appendChild(l)}insertBefore(h,l,v){h&&h.insertBefore(l,v)}removeChild(h,l){h&&h.removeChild(l)}selectRootElement(h,l){let v="string"==typeof h?document.querySelector(h):h;if(!v)throw new Error(`The selector "${h}" did not match any elements`);return l||(v.textContent=""),v}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,l,v,_){if(_){l=_+":"+l;const T=Fr[_];T?h.setAttributeNS(T,l,v):h.setAttribute(l,v)}else h.setAttribute(l,v)}removeAttribute(h,l,v){if(v){const _=Fr[v];_?h.removeAttributeNS(_,l):h.removeAttribute(`${v}:${l}`)}else h.removeAttribute(l)}addClass(h,l){h.classList.add(l)}removeClass(h,l){h.classList.remove(l)}setStyle(h,l,v,_){_&(E.JOm.DashCase|E.JOm.Important)?h.style.setProperty(l,v,_&E.JOm.Important?"important":""):h.style[l]=v}removeStyle(h,l,v){v&E.JOm.DashCase?h.style.removeProperty(l):h.style[l]=""}setProperty(h,l,v){h[l]=v}setValue(h,l){h.nodeValue=l}listen(h,l,v){return"string"==typeof h?this.eventManager.addGlobalEventListener(h,l,Ka(v)):this.eventManager.addEventListener(h,l,Ka(v))}}class wt extends Fo{constructor(h,l,v,_){super(h),this.component=v;const T=Ro(_+"-"+v.id,v.styles,[]);l.addStyles(T),this.contentAttr="_ngcontent-%COMP%".replace($s,_+"-"+v.id),this.hostAttr="_nghost-%COMP%".replace($s,_+"-"+v.id)}applyToHost(h){super.setAttribute(h,this.hostAttr,"")}createElement(h,l){const v=super.createElement(h,l);return super.setAttribute(v,this.contentAttr,""),v}}class No extends Fo{constructor(h,l,v,_){super(h),this.sharedStylesHost=l,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=Ro(_.id,_.styles,[]);for(let P=0;P<T.length;P++){const F=document.createElement("style");F.textContent=T[P],this.shadowRoot.appendChild(F)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(h,l){return super.appendChild(this.nodeOrShadowRoot(h),l)}insertBefore(h,l,v){return super.insertBefore(this.nodeOrShadowRoot(h),l,v)}removeChild(h,l){return super.removeChild(this.nodeOrShadowRoot(h),l)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}}let un=(()=>{class f extends us{constructor(l){super(l)}supports(l){return!0}addEventListener(l,v,_){return l.addEventListener(v,_,!1),()=>this.removeEventListener(l,v,_)}removeEventListener(l,v,_){return l.removeEventListener(v,_)}}return f.\u0275fac=function(l){return new(l||f)(E.LFG($))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();const Lo=["alt","control","meta","shift"],yr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ni={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qa={alt:f=>f.altKey,control:f=>f.ctrlKey,meta:f=>f.metaKey,shift:f=>f.shiftKey};let Ec=(()=>{class f extends us{constructor(l){super(l)}supports(l){return null!=f.parseEventName(l)}addEventListener(l,v,_){const T=f.parseEventName(v),P=f.eventCallback(T.fullKey,_,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>me().onAndCancel(l,T.domEventName,P))}static parseEventName(l){const v=l.toLowerCase().split("."),_=v.shift();if(0===v.length||"keydown"!==_&&"keyup"!==_)return null;const T=f._normalizeKey(v.pop());let P="";if(Lo.forEach(ie=>{const Se=v.indexOf(ie);Se>-1&&(v.splice(Se,1),P+=ie+".")}),P+=T,0!=v.length||0===T.length)return null;const F={};return F.domEventName=_,F.fullKey=P,F}static getEventFullKey(l){let v="",_=function(f){let h=f.key;if(null==h){if(h=f.keyIdentifier,null==h)return"Unidentified";h.startsWith("U+")&&(h=String.fromCharCode(parseInt(h.substring(2),16)),3===f.location&&Ni.hasOwnProperty(h)&&(h=Ni[h]))}return yr[h]||h}(l);return _=_.toLowerCase()," "===_?_="space":"."===_&&(_="dot"),Lo.forEach(T=>{T!=_&&Qa[T](l)&&(v+=T+".")}),v+=_,v}static eventCallback(l,v,_){return T=>{f.getEventFullKey(T)===l&&_.runGuarded(()=>v(T))}}static _normalizeKey(l){return"esc"===l?"escape":l}}return f.\u0275fac=function(l){return new(l||f)(E.LFG($))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();const Bo=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:"browser"},{provide:E.g9A,useValue:function(){di.makeCurrent(),Ya.init()},multi:!0},{provide:$,useFactory:function(){return(0,E.RDi)(document),document},deps:[]}]),cs=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function(){return new E.qLn},deps:[]},{provide:Fi,useClass:un,multi:!0,deps:[$,E.R0b,E.Lbi]},{provide:Fi,useClass:Ec,multi:!0,deps:[$]},{provide:ls,useClass:ls,deps:[Pn,mr,E.AFp]},{provide:E.FYo,useExisting:ls},{provide:Mo,useExisting:mr},{provide:mr,useClass:mr,deps:[$]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:Pn,useClass:Pn,deps:[Fi,E.R0b]},{provide:class{},useClass:_c,deps:[]}];let Wr=(()=>{class f{constructor(l){if(l)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(l){return{ngModule:f,providers:[{provide:E.AFp,useValue:l.appId},{provide:gn,useExisting:E.AFp},an]}}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(f,12))},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({providers:cs,imports:[mc,E.hGG]}),f})();"undefined"!=typeof window&&window;var ur=B(5254),nu=B(2866),ps=B(3009),zo=B(6454);function ft(...f){let h=f[f.length-1];return(0,nu.K)(h)?(f.pop(),(0,zo.r)(f,h)):(0,ps.n)(f)}var gs=B(5529),Ph=B(5279);class Lr extends gs.xQ{constructor(h){super(),this._value=h}get value(){return this.getValue()}_subscribe(h){const l=super._subscribe(h);return l&&!l.closed&&h.next(this._value),l}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ph.N;return this._value}next(h){super.next(this._value=h)}}var Xo=B(6688),$o=B(826),Zs=B(9054);const vs={};class Wo{constructor(h){this.resultSelector=h}call(h,l){return l.subscribe(new ji(h,this.resultSelector))}}class ji extends $o.L{constructor(h,l){super(h),this.resultSelector=l,this.active=0,this.values=[],this.observables=[]}_next(h){this.values.push(vs),this.observables.push(h)}_complete(){const h=this.observables,l=h.length;if(0===l)this.destination.complete();else{this.active=l,this.toRespond=l;for(let v=0;v<l;v++){const _=h[v];this.add((0,Zs.D)(this,_,_,v))}}}notifyComplete(h){0==(this.active-=1)&&this.destination.complete()}notifyNext(h,l,v,_,T){const P=this.values,ie=this.toRespond?P[v]===vs?--this.toRespond:this.toRespond:0;P[v]=l,0===ie&&(this.resultSelector?this._tryResultSelector(P):this.destination.next(P.slice()))}_tryResultSelector(h){let l;try{l=this.resultSelector.apply(this,h)}catch(v){return void this.destination.error(v)}this.destination.next(l)}}var Hi=B(2916);const ms=(()=>{function f(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return f.prototype=Object.create(Error.prototype),f})();var Hn=B(9146);function Yo(...f){return(0,Hn.J)(1)(ft(...f))}const gi=new Hi.y(f=>f.complete());function Ks(f){return f?function(f){return new Hi.y(h=>f.schedule(()=>h.complete()))}(f):gi}function ys(f){return new Hi.y(h=>{let l;try{l=f()}catch(_){return void h.error(_)}return(l?(0,ur.D)(l):Ks()).subscribe(h)})}var su=B(1762),Ht=B(4850),_s=B(1869);function lr(f,h){return"function"==typeof h?l=>l.pipe(lr((v,_)=>(0,ur.D)(f(v,_)).pipe((0,Ht.U)((T,P)=>h(v,T,_,P))))):l=>l.lift(new vl(f))}class vl{constructor(h){this.project=h}call(h,l){return l.subscribe(new ml(h,this.project))}}class ml extends $o.L{constructor(h,l){super(h),this.project=l,this.index=0}_next(h){let l;const v=this.index++;try{l=this.project(h,v)}catch(_){return void this.destination.error(_)}this._innerSub(l,h,v)}_innerSub(h,l,v){const _=this.innerSubscription;_&&_.unsubscribe();const T=new _s.d(this,l,v),P=this.destination;P.add(T),this.innerSubscription=(0,Zs.D)(this,h,void 0,void 0,T),this.innerSubscription!==T&&P.add(this.innerSubscription)}_complete(){const{innerSubscription:h}=this;(!h||h.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(h){this.destination.remove(h),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(h,l,v,_,T){this.destination.next(l)}}var Yr=B(3489);const ou=(()=>{function f(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return f.prototype=Object.create(Error.prototype),f})();function Zo(f){return h=>0===f?Ks():h.lift(new yl(f))}class yl{constructor(h){if(this.total=h,this.total<0)throw new ou}call(h,l){return l.subscribe(new Ko(h,this.total))}}class Ko extends Yr.L{constructor(h,l){super(h),this.total=l,this.count=0}_next(h){const l=this.total,v=++this.count;v<=l&&(this.destination.next(h),v===l&&(this.destination.complete(),this.unsubscribe()))}}function au(f,h){let l=!1;return arguments.length>=2&&(l=!0),function(_){return _.lift(new _l(f,h,l))}}class _l{constructor(h,l,v=!1){this.accumulator=h,this.seed=l,this.hasSeed=v}call(h,l){return l.subscribe(new kr(h,this.accumulator,this.seed,this.hasSeed))}}class kr extends Yr.L{constructor(h,l,v,_){super(h),this.accumulator=l,this._seed=v,this.hasSeed=_,this.index=0}get seed(){return this._seed}set seed(h){this.hasSeed=!0,this._seed=h}_next(h){if(this.hasSeed)return this._tryNext(h);this.seed=h,this.destination.next(h)}_tryNext(h){const l=this.index++;let v;try{v=this.accumulator(this.seed,h,l)}catch(_){this.destination.error(_)}this.seed=v,this.destination.next(v)}}function wn(f,h){return function(v){return v.lift(new uu(f,h))}}class uu{constructor(h,l){this.predicate=h,this.thisArg=l}call(h,l){return l.subscribe(new lu(h,this.predicate,this.thisArg))}}class lu extends Yr.L{constructor(h,l,v){super(h),this.predicate=l,this.thisArg=v,this.count=0}_next(h){let l;try{l=this.predicate.call(this.thisArg,h,this.count++)}catch(v){return void this.destination.error(v)}l&&this.destination.next(h)}}function Br(f){return function(l){const v=new Js(f),_=l.lift(v);return v.caught=_}}class Js{constructor(h){this.selector=h}call(h,l){return l.subscribe(new vi(h,this.selector,this.caught))}}class vi extends $o.L{constructor(h,l,v){super(h),this.selector=l,this.caught=v}error(h){if(!this.isStopped){let l;try{l=this.selector(h,this.caught)}catch(T){return void super.error(T)}this._unsubscribeAndRecycle();const v=new _s.d(this,void 0,void 0);this.add(v);const _=(0,Zs.D)(this,l,void 0,void 0,v);_!==v&&this.add(_)}}}var ln=B(1709);function Gi(f,h){return(0,ln.zg)(f,h,1)}function bs(f){return function(l){return 0===f?Ks():l.lift(new Es(f))}}class Es{constructor(h){if(this.total=h,this.total<0)throw new ou}call(h,l){return l.subscribe(new cu(h,this.total))}}class cu extends Yr.L{constructor(h,l){super(h),this.total=l,this.ring=new Array,this.count=0}_next(h){const l=this.ring,v=this.total,_=this.count++;l.length<v?l.push(h):l[_%v]=h}_complete(){const h=this.destination;let l=this.count;if(l>0){const v=this.count>=this.total?this.total:this.count,_=this.ring;for(let T=0;T<v;T++){const P=l++%v;h.next(_[P])}}h.complete()}}function bl(f=Oh){return h=>h.lift(new qt(f))}class qt{constructor(h){this.errorFactory=h}call(h,l){return l.subscribe(new xc(h,this.errorFactory))}}class xc extends Yr.L{constructor(h,l){super(h),this.errorFactory=l,this.hasValue=!1}_next(h){this.hasValue=!0,this.destination.next(h)}_complete(){if(this.hasValue)return this.destination.complete();{let h;try{h=this.errorFactory()}catch(l){h=l}this.destination.error(h)}}}function Oh(){return new ms}function Cc(f=null){return h=>h.lift(new Rh(f))}class Rh{constructor(h){this.defaultValue=h}call(h,l){return l.subscribe(new tt(h,this.defaultValue))}}class tt extends Yr.L{constructor(h,l){super(h),this.defaultValue=l,this.isEmpty=!0}_next(h){this.isEmpty=!1,this.destination.next(h)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var El=B(5379);function Ur(f,h){const l=arguments.length>=2;return v=>v.pipe(f?wn((_,T)=>f(_,T,v)):El.y,Zo(1),l?Cc(h):bl(()=>new ms))}function zi(){}var cn=B(7043);function On(f,h,l){return function(_){return _.lift(new eo(f,h,l))}}class eo{constructor(h,l,v){this.nextOrObserver=h,this.error=l,this.complete=v}call(h,l){return l.subscribe(new Dl(h,this.nextOrObserver,this.error,this.complete))}}class Dl extends Yr.L{constructor(h,l,v,_){super(h),this._tapNext=zi,this._tapError=zi,this._tapComplete=zi,this._tapError=v||zi,this._tapComplete=_||zi,(0,cn.m)(l)?(this._context=this,this._tapNext=l):l&&(this._context=l,this._tapNext=l.next||zi,this._tapError=l.error||zi,this._tapComplete=l.complete||zi)}_next(h){try{this._tapNext.call(this._context,h)}catch(l){return void this.destination.error(l)}this.destination.next(h)}_error(h){try{this._tapError.call(this._context,h)}catch(l){return void this.destination.error(l)}this.destination.error(h)}_complete(){try{this._tapComplete.call(this._context)}catch(h){return void this.destination.error(h)}return this.destination.complete()}}var Sc=B(4327),hn=B(2654);class Qo{constructor(h){this.callback=h}call(h,l){return l.subscribe(new Jo(h,this.callback))}}class Jo extends Yr.L{constructor(h,l){super(h),this.add(new hn.w(l))}}class Jn{constructor(h,l){this.id=h,this.url=l}}class qr extends Jn{constructor(h,l,v="imperative",_=null){super(h,l),this.navigationTrigger=v,this.restoredState=_}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class to extends Jn{constructor(h,l,v){super(h,l),this.urlAfterRedirects=v}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ea extends Jn{constructor(h,l,v){super(h,l),this.reason=v}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ic extends Jn{constructor(h,l,v){super(h,l),this.error=v}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lf extends Jn{constructor(h,l,v,_){super(h,l),this.urlAfterRedirects=v,this.state=_}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hu extends Jn{constructor(h,l,v,_){super(h,l),this.urlAfterRedirects=v,this.state=_}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends Jn{constructor(h,l,v,_,T){super(h,l),this.urlAfterRedirects=v,this.state=_,this.shouldActivate=T}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fu extends Jn{constructor(h,l,v,_){super(h,l),this.urlAfterRedirects=v,this.state=_}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ws extends Jn{constructor(h,l,v,_){super(h,l),this.urlAfterRedirects=v,this.state=_}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr{constructor(h){this.route=h}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(h){this.route=h}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class no{constructor(h){this.snapshot=h}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tl{constructor(h){this.snapshot=h}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class du{constructor(h){this.snapshot=h}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(h){this.snapshot=h}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(h,l,v){this.routerEvent=h,this.position=l,this.anchor=v}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class ra{constructor(h){this.params=h||{}}has(h){return Object.prototype.hasOwnProperty.call(this.params,h)}get(h){if(this.has(h)){const l=this.params[h];return Array.isArray(l)?l[0]:l}return null}getAll(h){if(this.has(h)){const l=this.params[h];return Array.isArray(l)?l:[l]}return[]}get keys(){return Object.keys(this.params)}}function Vn(f){return new ra(f)}const ia="ngNavigationCancelingError";function mi(f){const h=Error("NavigationCancelingError: "+f);return h[ia]=!0,h}function Kr(f,h,l){const v=l.path.split("/");if(v.length>f.length||"full"===l.pathMatch&&(h.hasChildren()||v.length<f.length))return null;const _={};for(let T=0;T<v.length;T++){const P=v[T],F=f[T];if(P.startsWith(":"))_[P.substring(1)]=F;else if(P!==F.path)return null}return{consumed:f.slice(0,v.length),posParams:_}}function jr(f,h){const l=f?Object.keys(f):void 0,v=h?Object.keys(h):void 0;if(!l||!v||l.length!=v.length)return!1;let _;for(let T=0;T<l.length;T++)if(_=l[T],!oa(f[_],h[_]))return!1;return!0}function oa(f,h){if(Array.isArray(f)&&Array.isArray(h)){if(f.length!==h.length)return!1;const l=[...f].sort(),v=[...h].sort();return l.every((_,T)=>v[T]===_)}return f===h}function aa(f){return Array.prototype.concat.apply([],f)}function ua(f){return f.length>0?f[f.length-1]:null}function vn(f,h){for(const l in f)f.hasOwnProperty(l)&&h(f[l],l)}function br(f){return(0,E.CqO)(f)?f:(0,E.QGY)(f)?(0,ur.D)(Promise.resolve(f)):ft(f)}const io={exact:function gu(f,h,l){if(!Qr(f.segments,h.segments)||!Hr(f.segments,h.segments,l)||f.numberOfChildren!==h.numberOfChildren)return!1;for(const v in h.children)if(!f.children[v]||!gu(f.children[v],h.children[v],l))return!1;return!0},subset:xl},pu={exact:function(f,h){return jr(f,h)},subset:function(f,h){return Object.keys(h).length<=Object.keys(f).length&&Object.keys(h).every(l=>oa(f[l],h[l]))},ignored:()=>!0};function yi(f,h,l){return io[l.paths](f.root,h.root,l.matrixParams)&&pu[l.queryParams](f.queryParams,h.queryParams)&&!("exact"===l.fragment&&f.fragment!==h.fragment)}function xl(f,h,l){return Ts(f,h,h.segments,l)}function Ts(f,h,l,v){if(f.segments.length>l.length){const _=f.segments.slice(0,l.length);return!(!Qr(_,l)||h.hasChildren()||!Hr(_,l,v))}if(f.segments.length===l.length){if(!Qr(f.segments,l)||!Hr(f.segments,l,v))return!1;for(const _ in h.children)if(!f.children[_]||!xl(f.children[_],h.children[_],v))return!1;return!0}{const _=l.slice(0,f.segments.length),T=l.slice(f.segments.length);return!!(Qr(f.segments,_)&&Hr(f.segments,_,v)&&f.children[vt])&&Ts(f.children[vt],h,T,v)}}function Hr(f,h,l){return h.every((v,_)=>pu[l](f[_].parameters,v.parameters))}class _i{constructor(h,l,v){this.root=h,this.queryParams=l,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return mu.serialize(this)}}class dt{constructor(h,l){this.segments=h,this.children=l,this.parent=null,vn(l,(v,_)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jr(this)}}class Xi{constructor(h,l){this.path=h,this.parameters=l}get parameterMap(){return this._parameterMap||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return da(this)}}function Qr(f,h){return f.length===h.length&&f.every((l,v)=>l.path===h[v].path)}class vu{}class xs{parse(h){const l=new Eu(h);return new _i(l.parseRootSegment(),l.parseQueryParams(),l.parseFragment())}serialize(h){const l=`/${Gn(h.root,!0)}`,v=function(f){const h=Object.keys(f).map(l=>{const v=f[l];return Array.isArray(v)?v.map(_=>`${yu(l)}=${yu(_)}`).join("&"):`${yu(l)}=${yu(v)}`}).filter(l=>!!l);return h.length?`?${h.join("&")}`:""}(h.queryParams);var f;return`${l}${v}${"string"==typeof h.fragment?`#${f=h.fragment,encodeURI(f)}`:""}`}}const mu=new xs;function Jr(f){return f.segments.map(h=>da(h)).join("/")}function Gn(f,h){if(!f.hasChildren())return Jr(f);if(h){const l=f.children[vt]?Gn(f.children[vt],!1):"",v=[];return vn(f.children,(_,T)=>{T!==vt&&v.push(`${T}:${Gn(_,!1)}`)}),v.length>0?`${l}(${v.join("//")})`:l}{const l=function(f,h){let l=[];return vn(f.children,(v,_)=>{_===vt&&(l=l.concat(h(v,_)))}),vn(f.children,(v,_)=>{_!==vt&&(l=l.concat(h(v,_)))}),l}(f,(v,_)=>_===vt?[Gn(f.children[vt],!1)]:[`${_}:${Gn(v,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[vt]?`${Jr(f)}/${l[0]}`:`${Jr(f)}/(${l.join("//")})`}}function ha(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yu(f){return ha(f).replace(/%3B/gi,";")}function fa(f){return ha(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function so(f){return decodeURIComponent(f)}function Cl(f){return so(f.replace(/\+/g,"%20"))}function da(f){return`${fa(f.path)}${function(f){return Object.keys(f).map(h=>`;${fa(h)}=${fa(f[h])}`).join("")}(f.parameters)}`}const _u=/^[^\/()?;=#]+/;function Vr(f){const h=f.match(_u);return h?h[0]:""}const bu=/^[^=?&#]+/,Fh=/^[^&#]+/;class Eu{constructor(h){this.url=h,this.remaining=h}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const h={};if(this.consumeOptional("?"))do{this.parseQueryParam(h)}while(this.consumeOptional("&"));return h}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const h=[];for(this.peekStartsWith("(")||h.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),h.push(this.parseSegment());let l={};this.peekStartsWith("/(")&&(this.capture("/"),l=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(h.length>0||Object.keys(l).length>0)&&(v[vt]=new dt(h,l)),v}parseSegment(){const h=Vr(this.remaining);if(""===h&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(h),new Xi(so(h),this.parseMatrixParams())}parseMatrixParams(){const h={};for(;this.consumeOptional(";");)this.parseParam(h);return h}parseParam(h){const l=Vr(this.remaining);if(!l)return;this.capture(l);let v="";if(this.consumeOptional("=")){const _=Vr(this.remaining);_&&(v=_,this.capture(v))}h[so(l)]=so(v)}parseQueryParam(h){const l=function(f){const h=f.match(bu);return h?h[0]:""}(this.remaining);if(!l)return;this.capture(l);let v="";if(this.consumeOptional("=")){const P=function(f){const h=f.match(Fh);return h?h[0]:""}(this.remaining);P&&(v=P,this.capture(v))}const _=Cl(l),T=Cl(v);if(h.hasOwnProperty(_)){let P=h[_];Array.isArray(P)||(P=[P],h[_]=P),P.push(T)}else h[_]=T}parseParens(h){const l={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=Vr(this.remaining),_=this.remaining[v.length];if("/"!==_&&")"!==_&&";"!==_)throw new Error(`Cannot parse url '${this.url}'`);let T;v.indexOf(":")>-1?(T=v.substr(0,v.indexOf(":")),this.capture(T),this.capture(":")):h&&(T=vt);const P=this.parseChildren();l[T]=1===Object.keys(P).length?P[vt]:new dt([],P),this.consumeOptional("//")}return l}peekStartsWith(h){return this.remaining.startsWith(h)}consumeOptional(h){return!!this.peekStartsWith(h)&&(this.remaining=this.remaining.substring(h.length),!0)}capture(h){if(!this.consumeOptional(h))throw new Error(`Expected "${h}".`)}}class wu{constructor(h){this._root=h}get root(){return this._root.value}parent(h){const l=this.pathFromRoot(h);return l.length>1?l[l.length-2]:null}children(h){const l=ga(h,this._root);return l?l.children.map(v=>v.value):[]}firstChild(h){const l=ga(h,this._root);return l&&l.children.length>0?l.children[0].value:null}siblings(h){const l=va(h,this._root);return l.length<2?[]:l[l.length-2].children.map(_=>_.value).filter(_=>_!==h)}pathFromRoot(h){return va(h,this._root).map(l=>l.value)}}function ga(f,h){if(f===h.value)return h;for(const l of h.children){const v=ga(f,l);if(v)return v}return null}function va(f,h){if(f===h.value)return[h];for(const l of h.children){const v=va(f,l);if(v.length)return v.unshift(h),v}return[]}class Gr{constructor(h,l){this.value=h,this.children=l}toString(){return`TreeNode(${this.value})`}}function Cs(f){const h={};return f&&f.children.forEach(l=>h[l.value.outlet]=l),h}class Sl extends wu{constructor(h,l){super(h),this.snapshot=l,_a(this,h)}toString(){return this.snapshot.toString()}}function Du(f,h){const l=function(f,h){const P=new ya([],{},{},"",{},vt,h,null,f.root,-1,{});return new Oc("",new Gr(P,[]))}(f,h),v=new Lr([new Xi("",{})]),_=new Lr({}),T=new Lr({}),P=new Lr({}),F=new Lr(""),ie=new Ss(v,_,P,F,T,vt,h,l.root);return ie.snapshot=l.root,new Sl(new Gr(ie,[]),l)}class Ss{constructor(h,l,v,_,T,P,F,ie){this.url=h,this.params=l,this.queryParams=v,this.fragment=_,this.data=T,this.outlet=P,this.component=F,this._futureSnapshot=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(h=>Vn(h)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(h=>Vn(h)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ei(f,h="emptyOnly"){const l=f.pathFromRoot;let v=0;if("always"!==h)for(v=l.length-1;v>=1;){const _=l[v],T=l[v-1];if(_.routeConfig&&""===_.routeConfig.path)v--;else{if(T.component)break;v--}}return function(f){return f.reduce((h,l)=>({params:Object.assign(Object.assign({},h.params),l.params),data:Object.assign(Object.assign({},h.data),l.data),resolve:Object.assign(Object.assign({},h.resolve),l._resolvedData)}),{params:{},data:{},resolve:{}})}(l.slice(v))}class ya{constructor(h,l,v,_,T,P,F,ie,Se,qe,Me){this.url=h,this.params=l,this.queryParams=v,this.fragment=_,this.data=T,this.outlet=P,this.component=F,this.routeConfig=ie,this._urlSegment=Se,this._lastPathIndex=qe,this._resolve=Me}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oc extends wu{constructor(h,l){super(l),this.url=h,_a(this,l)}toString(){return Il(this._root)}}function _a(f,h){h.value._routerState=f,h.children.forEach(l=>_a(f,l))}function Il(f){const h=f.children.length>0?` { ${f.children.map(Il).join(", ")} } `:"";return`${f.value}${h}`}function Is(f){if(f.snapshot){const h=f.snapshot,l=f._futureSnapshot;f.snapshot=l,jr(h.queryParams,l.queryParams)||f.queryParams.next(l.queryParams),h.fragment!==l.fragment&&f.fragment.next(l.fragment),jr(h.params,l.params)||f.params.next(l.params),function(f,h){if(f.length!==h.length)return!1;for(let l=0;l<f.length;++l)if(!jr(f[l],h[l]))return!1;return!0}(h.url,l.url)||f.url.next(l.url),jr(h.data,l.data)||f.data.next(l.data)}else f.snapshot=f._futureSnapshot,f.data.next(f._futureSnapshot.data)}function Rc(f,h){const l=jr(f.params,h.params)&&function(f,h){return Qr(f,h)&&f.every((l,v)=>jr(l.parameters,h[v].parameters))}(f.url,h.url);return l&&!(!f.parent!=!h.parent)&&(!f.parent||Rc(f.parent,h.parent))}function oo(f,h,l){if(l&&f.shouldReuseRoute(h.value,l.value.snapshot)){const v=l.value;v._futureSnapshot=h.value;const _=function(f,h,l){return h.children.map(v=>{for(const _ of l.children)if(f.shouldReuseRoute(v.value,_.value.snapshot))return oo(f,v,_);return oo(f,v)})}(f,h,l);return new Gr(v,_)}{if(f.shouldAttach(h.value)){const T=f.retrieve(h.value);if(null!==T){const P=T.route;return P.value._futureSnapshot=h.value,P.children=h.children.map(F=>oo(f,F)),P}}const v=function(f){return new Ss(new Lr(f.url),new Lr(f.params),new Lr(f.queryParams),new Lr(f.fragment),new Lr(f.data),f.outlet,f.component,f)}(h.value),_=h.children.map(T=>oo(f,T));return new Gr(v,_)}}function ao(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Yi(f){return"object"==typeof f&&null!=f&&f.outlets}function As(f,h,l,v,_){let T={};return v&&vn(v,(P,F)=>{T[F]=Array.isArray(P)?P.map(ie=>`${ie}`):`${P}`}),new _i(l.root===f?h:uo(l.root,f,h),T,_)}function uo(f,h,l){const v={};return vn(f.children,(_,T)=>{v[T]=_===h?l:uo(_,h,l)}),new dt(f.segments,v)}class cr{constructor(h,l,v){if(this.isAbsolute=h,this.numberOfDoubleDots=l,this.commands=v,h&&v.length>0&&ao(v[0]))throw new Error("Root segment cannot have matrix parameters");const _=v.find(Yi);if(_&&_!==ua(v))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ea{constructor(h,l,v){this.segmentGroup=h,this.processChildren=l,this.index=v}}function Cu(f,h,l){if(f||(f=new dt([],{})),0===f.segments.length&&f.hasChildren())return Su(f,h,l);const v=function(f,h,l){let v=0,_=h;const T={match:!1,pathIndex:0,commandIndex:0};for(;_<f.segments.length;){if(v>=l.length)return T;const P=f.segments[_],F=l[v];if(Yi(F))break;const ie=`${F}`,Se=v<l.length-1?l[v+1]:null;if(_>0&&void 0===ie)break;if(ie&&Se&&"object"==typeof Se&&void 0===Se.outlets){if(!Iu(ie,Se,P))return T;v+=2}else{if(!Iu(ie,{},P))return T;v++}_++}return{match:!0,pathIndex:_,commandIndex:v}}(f,h,l),_=l.slice(v.commandIndex);if(v.match&&v.pathIndex<f.segments.length){const T=new dt(f.segments.slice(0,v.pathIndex),{});return T.children[vt]=new dt(f.segments.slice(v.pathIndex),f.children),Su(T,0,_)}return v.match&&0===_.length?new dt(f.segments,{}):v.match&&!f.hasChildren()?co(f,h,l):v.match?Su(f,0,_):co(f,h,l)}function Su(f,h,l){if(0===l.length)return new dt(f.segments,{});{const v=function(f){return Yi(f[0])?f[0].outlets:{[vt]:f}}(l),_={};return vn(v,(T,P)=>{"string"==typeof T&&(T=[T]),null!==T&&(_[P]=Cu(f.children[P],h,T))}),vn(f.children,(T,P)=>{void 0===v[P]&&(_[P]=T)}),new dt(f.segments,_)}}function co(f,h,l){const v=f.segments.slice(0,h);let _=0;for(;_<l.length;){const T=l[_];if(Yi(T)){const ie=ho(T.outlets);return new dt(v,ie)}if(0===_&&ao(l[0])){v.push(new Xi(f.segments[h].path,Lc(l[0]))),_++;continue}const P=Yi(T)?T.outlets[vt]:`${T}`,F=_<l.length-1?l[_+1]:null;P&&F&&ao(F)?(v.push(new Xi(P,Lc(F))),_+=2):(v.push(new Xi(P,{})),_++)}return new dt(v,{})}function ho(f){const h={};return vn(f,(l,v)=>{"string"==typeof l&&(l=[l]),null!==l&&(h[v]=co(new dt([],{}),0,l))}),h}function Lc(f){const h={};return vn(f,(l,v)=>h[v]=`${l}`),h}function Iu(f,h,l){return f==l.path&&jr(h,l.parameters)}class Pl{constructor(h,l,v,_){this.routeReuseStrategy=h,this.futureState=l,this.currState=v,this.forwardEvent=_}activate(h){const l=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(l,v,h),Is(this.futureState.root),this.activateChildRoutes(l,v,h)}deactivateChildRoutes(h,l,v){const _=Cs(l);h.children.forEach(T=>{const P=T.value.outlet;this.deactivateRoutes(T,_[P],v),delete _[P]}),vn(_,(T,P)=>{this.deactivateRouteAndItsChildren(T,v)})}deactivateRoutes(h,l,v){const _=h.value,T=l?l.value:null;if(_===T)if(_.component){const P=v.getContext(_.outlet);P&&this.deactivateChildRoutes(h,l,P.children)}else this.deactivateChildRoutes(h,l,v);else T&&this.deactivateRouteAndItsChildren(l,v)}deactivateRouteAndItsChildren(h,l){h.value.component&&this.routeReuseStrategy.shouldDetach(h.value.snapshot)?this.detachAndStoreRouteSubtree(h,l):this.deactivateRouteAndOutlet(h,l)}detachAndStoreRouteSubtree(h,l){const v=l.getContext(h.value.outlet),_=v&&h.value.component?v.children:l,T=Cs(h);for(const P of Object.keys(T))this.deactivateRouteAndItsChildren(T[P],_);if(v&&v.outlet){const P=v.outlet.detach(),F=v.children.onOutletDeactivated();this.routeReuseStrategy.store(h.value.snapshot,{componentRef:P,route:h,contexts:F})}}deactivateRouteAndOutlet(h,l){const v=l.getContext(h.value.outlet),_=v&&h.value.component?v.children:l,T=Cs(h);for(const P of Object.keys(T))this.deactivateRouteAndItsChildren(T[P],_);v&&v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated(),v.attachRef=null,v.resolver=null,v.route=null)}activateChildRoutes(h,l,v){const _=Cs(l);h.children.forEach(T=>{this.activateRoutes(T,_[T.value.outlet],v),this.forwardEvent(new ta(T.value.snapshot))}),h.children.length&&this.forwardEvent(new Tl(h.value.snapshot))}activateRoutes(h,l,v){const _=h.value,T=l?l.value:null;if(Is(_),_===T)if(_.component){const P=v.getOrCreateContext(_.outlet);this.activateChildRoutes(h,l,P.children)}else this.activateChildRoutes(h,l,v);else if(_.component){const P=v.getOrCreateContext(_.outlet);if(this.routeReuseStrategy.shouldAttach(_.snapshot)){const F=this.routeReuseStrategy.retrieve(_.snapshot);this.routeReuseStrategy.store(_.snapshot,null),P.children.onOutletReAttached(F.contexts),P.attachRef=F.componentRef,P.route=F.route.value,P.outlet&&P.outlet.attach(F.componentRef,F.route.value),Is(F.route.value),this.activateChildRoutes(h,null,P.children)}else{const F=function(f){for(let h=f.parent;h;h=h.parent){const l=h.routeConfig;if(l&&l._loadedConfig)return l._loadedConfig;if(l&&l.component)return null}return null}(_.snapshot),ie=F?F.module.componentFactoryResolver:null;P.attachRef=null,P.route=_,P.resolver=ie,P.outlet&&P.outlet.activateWith(_,ie),this.activateChildRoutes(h,null,P.children)}}else this.activateChildRoutes(h,null,v)}}class Pu{constructor(h,l){this.routes=h,this.module=l}}function zn(f){return"function"==typeof f}function wr(f){return f instanceof _i}const fo=Symbol("INITIAL_VALUE");function po(){return lr(f=>function(...f){let h=null,l=null;return(0,nu.K)(f[f.length-1])&&(l=f.pop()),"function"==typeof f[f.length-1]&&(h=f.pop()),1===f.length&&(0,Xo.k)(f[0])&&(f=f[0]),(0,ps.n)(f,l).lift(new Wo(h))}(f.map(h=>h.pipe(Zo(1),function(...f){const h=f[f.length-1];return(0,nu.K)(h)?(f.pop(),l=>Yo(f,l,h)):l=>Yo(f,l)}(fo)))).pipe(au((h,l)=>{let v=!1;return l.reduce((_,T,P)=>_!==fo?_:(T===fo&&(v=!0),v||!1!==T&&P!==l.length-1&&!wr(T)?_:T),h)},fo),wn(h=>h!==fo),(0,Ht.U)(h=>wr(h)?h:!0===h),Zo(1)))}class go{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qi,this.attachRef=null}}class qi{constructor(){this.contexts=new Map}onChildOutletCreated(h,l){const v=this.getOrCreateContext(h);v.outlet=l,this.contexts.set(h,v)}onChildOutletDestroyed(h){const l=this.getContext(h);l&&(l.outlet=null,l.attachRef=null)}onOutletDeactivated(){const h=this.contexts;return this.contexts=new Map,h}onOutletReAttached(h){this.contexts=h}getOrCreateContext(h){let l=this.getContext(h);return l||(l=new go,this.contexts.set(h,l)),l}getContext(h){return this.contexts.get(h)||null}}let Fu=(()=>{class f{constructor(l,v,_,T,P){this.parentContexts=l,this.location=v,this.resolver=_,this.changeDetector=P,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=T||vt,l.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const l=this.parentContexts.getContext(this.name);l&&l.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,v){this.activated=l,this._activatedRoute=v,this.location.insert(l.hostView),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){const l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=l;const P=(v=v||this.resolver).resolveComponentFactory(l._futureSnapshot.routeConfig.component),F=this.parentContexts.getOrCreateContext(this.name).children,ie=new Bc(l,F,this.location.injector);this.activated=this.location.createComponent(P,this.location.length,ie),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(l){return new(l||f)(E.Y36(qi),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},f.\u0275dir=E.lG2({type:f,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),f})();class Bc{constructor(h,l,v){this.route=h,this.childContexts=l,this.parent=v}get(h,l){return h===Ss?this.route:h===qi?this.childContexts:this.parent.get(h,l)}}let Ml=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275cmp=E.Xpm({type:f,selectors:[["ng-component"]],decls:1,vars:0,template:function(l,v){1&l&&E._UZ(0,"router-outlet")},directives:[Fu],encapsulation:2}),f})();function Ol(f,h=""){for(let l=0;l<f.length;l++){const v=f[l];Uc(v,cf(h,v))}}function Uc(f,h){f.children&&Ol(f.children,h)}function cf(f,h){return h?f||h.path?f&&!h.path?`${f}/`:!f&&h.path?h.path:`${f}/${h.path}`:"":f}function jc(f){const h=f.children&&f.children.map(jc),l=h?Object.assign(Object.assign({},f),{children:h}):Object.assign({},f);return!l.component&&(h||l.loadChildren)&&l.outlet&&l.outlet!==vt&&(l.component=Ml),l}function Rn(f){return f.outlet||vt}function Fn(f,h){const l=f.filter(v=>Rn(v)===h);return l.push(...f.filter(v=>Rn(v)!==h)),l}const Nu={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function wa(f,h,l){var v;if(""===h.path)return"full"===h.pathMatch&&(f.hasChildren()||l.length>0)?Object.assign({},Nu):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const T=(h.matcher||Kr)(l,f,h);if(!T)return Object.assign({},Nu);const P={};vn(T.posParams,(ie,Se)=>{P[Se]=ie.path});const F=T.consumed.length>0?Object.assign(Object.assign({},P),T.consumed[T.consumed.length-1].parameters):P;return{matched:!0,consumedSegments:T.consumed,lastChild:T.consumed.length,parameters:F,positionalParamSegments:null!==(v=T.posParams)&&void 0!==v?v:{}}}function Da(f,h,l,v,_="corrected"){if(l.length>0&&function(f,h,l){return l.some(v=>Lu(f,h,v)&&Rn(v)!==vt)}(f,l,v)){const P=new dt(h,function(f,h,l,v){const _={};_[vt]=v,v._sourceSegment=f,v._segmentIndexShift=h.length;for(const T of l)if(""===T.path&&Rn(T)!==vt){const P=new dt([],{});P._sourceSegment=f,P._segmentIndexShift=h.length,_[Rn(T)]=P}return _}(f,h,v,new dt(l,f.children)));return P._sourceSegment=f,P._segmentIndexShift=h.length,{segmentGroup:P,slicedSegments:[]}}if(0===l.length&&function(f,h,l){return l.some(v=>Lu(f,h,v))}(f,l,v)){const P=new dt(f.segments,function(f,h,l,v,_,T){const P={};for(const F of v)if(Lu(f,l,F)&&!_[Rn(F)]){const ie=new dt([],{});ie._sourceSegment=f,ie._segmentIndexShift="legacy"===T?f.segments.length:h.length,P[Rn(F)]=ie}return Object.assign(Object.assign({},_),P)}(f,h,l,v,f.children,_));return P._sourceSegment=f,P._segmentIndexShift=h.length,{segmentGroup:P,slicedSegments:l}}const T=new dt(f.segments,f.children);return T._sourceSegment=f,T._segmentIndexShift=h.length,{segmentGroup:T,slicedSegments:l}}function Lu(f,h,l){return(!(f.hasChildren()||h.length>0)||"full"!==l.pathMatch)&&""===l.path}function Ei(f,h,l,v){return!!(Rn(f)===v||v!==vt&&Lu(h,l,f))&&("**"===f.path||wa(h,f,l).matched)}function Hc(f,h,l){return 0===h.length&&!f.children[l]}class vo{constructor(h){this.segmentGroup=h||null}}class Vc{constructor(h){this.urlTree=h}}function xa(f){return new Hi.y(h=>h.error(new vo(f)))}function Ca(f){return new Hi.y(h=>h.error(new Vc(f)))}function Gc(f){return new Hi.y(h=>h.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${f}'`)))}class zc{constructor(h,l,v,_,T){this.configLoader=l,this.urlSerializer=v,this.urlTree=_,this.config=T,this.allowRedirects=!0,this.ngModule=h.get(E.h0i)}apply(){const h=Da(this.urlTree.root,[],[],this.config).segmentGroup,l=new dt(h.segments,h.children);return this.expandSegmentGroup(this.ngModule,this.config,l,vt).pipe((0,Ht.U)(T=>this.createUrlTree(Sa(T),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Br(T=>{if(T instanceof Vc)return this.allowRedirects=!1,this.match(T.urlTree);throw T instanceof vo?this.noMatchError(T):T}))}match(h){return this.expandSegmentGroup(this.ngModule,this.config,h.root,vt).pipe((0,Ht.U)(_=>this.createUrlTree(Sa(_),h.queryParams,h.fragment))).pipe(Br(_=>{throw _ instanceof vo?this.noMatchError(_):_}))}noMatchError(h){return new Error(`Cannot match any routes. URL Segment: '${h.segmentGroup}'`)}createUrlTree(h,l,v){const _=h.segments.length>0?new dt([],{[vt]:h}):h;return new _i(_,l,v)}expandSegmentGroup(h,l,v,_){return 0===v.segments.length&&v.hasChildren()?this.expandChildren(h,l,v).pipe((0,Ht.U)(T=>new dt([],T))):this.expandSegment(h,v,l,v.segments,_,!0)}expandChildren(h,l,v){const _=[];for(const T of Object.keys(v.children))"primary"===T?_.unshift(T):_.push(T);return(0,ur.D)(_).pipe(Gi(T=>{const P=v.children[T],F=Fn(l,T);return this.expandSegmentGroup(h,F,P,T).pipe((0,Ht.U)(ie=>({segment:ie,outlet:T})))}),au((T,P)=>(T[P.outlet]=P.segment,T),{}),function(f,h){const l=arguments.length>=2;return v=>v.pipe(f?wn((_,T)=>f(_,T,v)):El.y,bs(1),l?Cc(h):bl(()=>new ms))}())}expandSegment(h,l,v,_,T,P){return(0,ur.D)(v).pipe(Gi(F=>this.expandSegmentAgainstRoute(h,l,v,F,_,T,P).pipe(Br(Se=>{if(Se instanceof vo)return ft(null);throw Se}))),Ur(F=>!!F),Br((F,ie)=>{if(F instanceof ms||"EmptyError"===F.name){if(Hc(l,_,T))return ft(new dt([],{}));throw new vo(l)}throw F}))}expandSegmentAgainstRoute(h,l,v,_,T,P,F){return Ei(_,l,T,P)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(h,l,_,T,P):F&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(h,l,v,_,T,P):xa(l):xa(l)}expandSegmentAgainstRouteUsingRedirect(h,l,v,_,T,P){return"**"===_.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(h,v,_,P):this.expandRegularSegmentAgainstRouteUsingRedirect(h,l,v,_,T,P)}expandWildCardWithParamsAgainstRouteUsingRedirect(h,l,v,_){const T=this.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?Ca(T):this.lineralizeSegments(v,T).pipe((0,ln.zg)(P=>{const F=new dt(P,{});return this.expandSegment(h,F,l,P,_,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(h,l,v,_,T,P){const{matched:F,consumedSegments:ie,lastChild:Se,positionalParamSegments:qe}=wa(l,_,T);if(!F)return xa(l);const Me=this.applyRedirectCommands(ie,_.redirectTo,qe);return _.redirectTo.startsWith("/")?Ca(Me):this.lineralizeSegments(_,Me).pipe((0,ln.zg)(lt=>this.expandSegment(h,l,v,lt.concat(T.slice(Se)),P,!1)))}matchSegmentAgainstRoute(h,l,v,_,T){if("**"===v.path)return v.loadChildren?(v._loadedConfig?ft(v._loadedConfig):this.configLoader.load(h.injector,v)).pipe((0,Ht.U)(lt=>(v._loadedConfig=lt,new dt(_,{})))):ft(new dt(_,{}));const{matched:P,consumedSegments:F,lastChild:ie}=wa(l,v,_);if(!P)return xa(l);const Se=_.slice(ie);return this.getChildConfig(h,v,_).pipe((0,ln.zg)(Me=>{const lt=Me.module,nt=Me.routes,{segmentGroup:Jt,slicedSegments:Cn}=Da(l,F,Se,nt),Dn=new dt(Jt.segments,Jt.children);if(0===Cn.length&&Dn.hasChildren())return this.expandChildren(lt,nt,Dn).pipe((0,Ht.U)(Ci=>new dt(F,Ci)));if(0===nt.length&&0===Cn.length)return ft(new dt(F,{}));const tr=Rn(v)===T;return this.expandSegment(lt,Dn,nt,Cn,tr?vt:T,!0).pipe((0,Ht.U)(oi=>new dt(F.concat(oi.segments),oi.children)))}))}getChildConfig(h,l,v){return l.children?ft(new Pu(l.children,h)):l.loadChildren?void 0!==l._loadedConfig?ft(l._loadedConfig):this.runCanLoadGuards(h.injector,l,v).pipe((0,ln.zg)(_=>{return _?this.configLoader.load(h.injector,l).pipe((0,Ht.U)(T=>(l._loadedConfig=T,T))):(f=l,new Hi.y(h=>h.error(mi(`Cannot load children because the guard of the route "path: '${f.path}'" returned false`))));var f})):ft(new Pu([],h))}runCanLoadGuards(h,l,v){const _=l.canLoad;return _&&0!==_.length?ft(_.map(P=>{const F=h.get(P);let ie;if((f=F)&&zn(f.canLoad))ie=F.canLoad(l,v);else{if(!zn(F))throw new Error("Invalid CanLoad guard");ie=F(l,v)}var f;return br(ie)})).pipe(po(),On(P=>{if(!wr(P))return;const F=mi(`Redirecting to "${this.urlSerializer.serialize(P)}"`);throw F.url=P,F}),(0,Ht.U)(P=>!0===P)):ft(!0)}lineralizeSegments(h,l){let v=[],_=l.root;for(;;){if(v=v.concat(_.segments),0===_.numberOfChildren)return ft(v);if(_.numberOfChildren>1||!_.children[vt])return Gc(h.redirectTo);_=_.children[vt]}}applyRedirectCommands(h,l,v){return this.applyRedirectCreatreUrlTree(l,this.urlSerializer.parse(l),h,v)}applyRedirectCreatreUrlTree(h,l,v,_){const T=this.createSegmentGroup(h,l.root,v,_);return new _i(T,this.createQueryParams(l.queryParams,this.urlTree.queryParams),l.fragment)}createQueryParams(h,l){const v={};return vn(h,(_,T)=>{if("string"==typeof _&&_.startsWith(":")){const F=_.substring(1);v[T]=l[F]}else v[T]=_}),v}createSegmentGroup(h,l,v,_){const T=this.createSegments(h,l.segments,v,_);let P={};return vn(l.children,(F,ie)=>{P[ie]=this.createSegmentGroup(h,F,v,_)}),new dt(T,P)}createSegments(h,l,v,_){return l.map(T=>T.path.startsWith(":")?this.findPosParam(h,T,_):this.findOrReturn(T,v))}findPosParam(h,l,v){const _=v[l.path.substring(1)];if(!_)throw new Error(`Cannot redirect to '${h}'. Cannot find '${l.path}'.`);return _}findOrReturn(h,l){let v=0;for(const _ of l){if(_.path===h.path)return l.splice(v),_;v++}return h}}function Sa(f){const h={};for(const v of Object.keys(f.children)){const T=Sa(f.children[v]);(T.segments.length>0||T.hasChildren())&&(h[v]=T)}return function(f){if(1===f.numberOfChildren&&f.children[vt]){const h=f.children[vt];return new dt(f.segments.concat(h.segments),h.children)}return f}(new dt(f.segments,h))}class Fl{constructor(h){this.path=h,this.route=this.path[this.path.length-1]}}class Ia{constructor(h,l){this.component=h,this.route=l}}function mo(f,h,l){const v=f._root;return yo(v,h?h._root:null,l,[v.value])}function Aa(f,h,l){const v=function(f){if(!f)return null;for(let h=f.parent;h;h=h.parent){const l=h.routeConfig;if(l&&l._loadedConfig)return l._loadedConfig}return null}(h);return(v?v.module.injector:l).get(f)}function yo(f,h,l,v,_={canDeactivateChecks:[],canActivateChecks:[]}){const T=Cs(h);return f.children.forEach(P=>{(function(f,h,l,v,_={canDeactivateChecks:[],canActivateChecks:[]}){const T=f.value,P=h?h.value:null,F=l?l.getContext(f.value.outlet):null;if(P&&T.routeConfig===P.routeConfig){const ie=function(f,h,l){if("function"==typeof l)return l(f,h);switch(l){case"pathParamsChange":return!Qr(f.url,h.url);case"pathParamsOrQueryParamsChange":return!Qr(f.url,h.url)||!jr(f.queryParams,h.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rc(f,h)||!jr(f.queryParams,h.queryParams);default:return!Rc(f,h)}}(P,T,T.routeConfig.runGuardsAndResolvers);ie?_.canActivateChecks.push(new Fl(v)):(T.data=P.data,T._resolvedData=P._resolvedData),yo(f,h,T.component?F?F.children:null:l,v,_),ie&&F&&F.outlet&&F.outlet.isActivated&&_.canDeactivateChecks.push(new Ia(F.outlet.component,P))}else P&&_o(h,F,_),_.canActivateChecks.push(new Fl(v)),yo(f,null,T.component?F?F.children:null:l,v,_)})(P,T[P.value.outlet],l,v.concat([P.value]),_),delete T[P.value.outlet]}),vn(T,(P,F)=>_o(P,l.getContext(F),_)),_}function _o(f,h,l){const v=Cs(f),_=f.value;vn(v,(T,P)=>{_o(T,_.component?h?h.children.getContext(P):null:h,l)}),l.canDeactivateChecks.push(new Ia(_.component&&h&&h.outlet&&h.outlet.isActivated?h.outlet.component:null,_))}class ni{}function Zc(f){return new Hi.y(h=>h.error(f))}class bo{constructor(h,l,v,_,T,P){this.rootComponentType=h,this.config=l,this.urlTree=v,this.url=_,this.paramsInheritanceStrategy=T,this.relativeLinkResolution=P}recognize(){const h=Da(this.urlTree.root,[],[],this.config.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution).segmentGroup,l=this.processSegmentGroup(this.config,h,vt);if(null===l)return null;const v=new ya([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),_=new Gr(v,l),T=new Oc(this.url,_);return this.inheritParamsAndData(T._root),T}inheritParamsAndData(h){const l=h.value,v=ei(l,this.paramsInheritanceStrategy);l.params=Object.freeze(v.params),l.data=Object.freeze(v.data),h.children.forEach(_=>this.inheritParamsAndData(_))}processSegmentGroup(h,l,v){return 0===l.segments.length&&l.hasChildren()?this.processChildren(h,l):this.processSegment(h,l,l.segments,v)}processChildren(h,l){const v=[];for(const T of Object.keys(l.children)){const P=l.children[T],F=Fn(h,T),ie=this.processSegmentGroup(F,P,T);if(null===ie)return null;v.push(...ie)}const _=zu(v);return _.sort((h,l)=>h.value.outlet===vt?-1:l.value.outlet===vt?1:h.value.outlet.localeCompare(l.value.outlet)),_}processSegment(h,l,v,_){for(const T of h){const P=this.processSegmentAgainstRoute(T,l,v,_);if(null!==P)return P}return Hc(l,v,_)?[]:null}processSegmentAgainstRoute(h,l,v,_){if(h.redirectTo||!Ei(h,l,v,_))return null;let T,P=[],F=[];if("**"===h.path){const nt=v.length>0?ua(v).parameters:{};T=new ya(v,nt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bl(h),Rn(h),h.component,h,Ma(l),Fe(l)+v.length,Ul(h))}else{const nt=wa(l,h,v);if(!nt.matched)return null;P=nt.consumedSegments,F=v.slice(nt.lastChild),T=new ya(P,nt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bl(h),Rn(h),h.component,h,Ma(l),Fe(l)+P.length,Ul(h))}const ie=(f=h).children?f.children:f.loadChildren?f._loadedConfig.routes:[],{segmentGroup:Se,slicedSegments:qe}=Da(l,P,F,ie.filter(nt=>void 0===nt.redirectTo),this.relativeLinkResolution);var f;if(0===qe.length&&Se.hasChildren()){const nt=this.processChildren(ie,Se);return null===nt?null:[new Gr(T,nt)]}if(0===ie.length&&0===qe.length)return[new Gr(T,[])];const Me=Rn(h)===_,lt=this.processSegment(ie,Se,qe,Me?vt:_);return null===lt?null:[new Gr(T,lt)]}}function Gu(f){const h=f.value.routeConfig;return h&&""===h.path&&void 0===h.redirectTo}function zu(f){const h=[],l=new Set;for(const v of f){if(!Gu(v)){h.push(v);continue}const _=h.find(T=>v.value.routeConfig===T.value.routeConfig);void 0!==_?(_.children.push(...v.children),l.add(_)):h.push(v)}for(const v of l){const _=zu(v.children);h.push(new Gr(v.value,_))}return h.filter(v=>!l.has(v))}function Ma(f){let h=f;for(;h._sourceSegment;)h=h._sourceSegment;return h}function Fe(f){let h=f,l=h._segmentIndexShift?h._segmentIndexShift:0;for(;h._sourceSegment;)h=h._sourceSegment,l+=h._segmentIndexShift?h._segmentIndexShift:0;return l-1}function Bl(f){return f.data||{}}function Ul(f){return f.resolve||{}}function o(f){return lr(h=>{const l=f(h);return l?(0,ur.D)(l).pipe((0,Ht.U)(()=>h)):ft(h)})}class m extends class{shouldDetach(h){return!1}store(h,l){}shouldAttach(h){return!1}retrieve(h){return null}shouldReuseRoute(h,l){return h.routeConfig===l.routeConfig}}{}const w=new E.OlP("ROUTES");class x{constructor(h,l,v,_){this.injector=h,this.compiler=l,this.onLoadStartListener=v,this.onLoadEndListener=_}load(h,l){if(l._loader$)return l._loader$;this.onLoadStartListener&&this.onLoadStartListener(l);const _=this.loadModuleFactory(l.loadChildren).pipe((0,Ht.U)(T=>{this.onLoadEndListener&&this.onLoadEndListener(l);const P=T.create(h);return new Pu(aa(P.injector.get(w,void 0,E.XFs.Self|E.XFs.Optional)).map(jc),P)}),Br(T=>{throw l._loader$=void 0,T}));return l._loader$=new su.c(_,()=>new gs.xQ).pipe((0,Sc.x)()),l._loader$}loadModuleFactory(h){return br(h()).pipe((0,ln.zg)(l=>l instanceof E.YKP?ft(l):(0,ur.D)(this.compiler.compileModuleAsync(l))))}}class I{shouldProcessUrl(h){return!0}extract(h){return h}merge(h,l){return h}}function S(f){throw f}function R(f,h,l){return h.parse("/")}function L(f,h){return ft(null)}const U={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fe=(()=>{class f{constructor(l,v,_,T,P,F,ie){this.rootComponentType=l,this.urlSerializer=v,this.rootContexts=_,this.location=T,this.config=ie,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gs.xQ,this.errorHandler=S,this.malformedUriErrorHandler=R,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:L,afterPreactivation:L},this.urlHandlingStrategy=new I,this.routeReuseStrategy=new m,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=P.get(E.h0i),this.console=P.get(E.c2e);const Me=P.get(E.R0b);this.isNgZoneEnabled=Me instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(ie),this.currentUrlTree=new _i(new dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new x(P,F,lt=>this.triggerEvent(new Zr(lt)),lt=>this.triggerEvent(new _r(lt))),this.routerState=Du(this.currentUrlTree,this.rootComponentType),this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var l;return null===(l=this.location.getState())||void 0===l?void 0:l.\u0275routerPageId}setupNavigations(l){const v=this.events;return l.pipe(wn(_=>0!==_.id),(0,Ht.U)(_=>Object.assign(Object.assign({},_),{extractedUrl:this.urlHandlingStrategy.extract(_.rawUrl)})),lr(_=>{let T=!1,P=!1;return ft(_).pipe(On(F=>{this.currentNavigation={id:F.id,initialUrl:F.currentRawUrl,extractedUrl:F.extractedUrl,trigger:F.source,extras:F.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lr(F=>{const ie=this.browserUrlTree.toString(),Se=!this.navigated||F.extractedUrl.toString()!==ie||ie!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Se)&&this.urlHandlingStrategy.shouldProcessUrl(F.rawUrl))return _e(F.source)&&(this.browserUrlTree=F.extractedUrl),ft(F).pipe(lr(Me=>{const lt=this.transitions.getValue();return v.next(new qr(Me.id,this.serializeUrl(Me.extractedUrl),Me.source,Me.restoredState)),lt!==this.transitions.getValue()?gi:Promise.resolve(Me)}),function(f,h,l,v){return lr(_=>function(f,h,l,v,_){return new zc(f,h,l,v,_).apply()}(f,h,l,_.extractedUrl,v).pipe((0,Ht.U)(T=>Object.assign(Object.assign({},_),{urlAfterRedirects:T}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),On(Me=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Me.urlAfterRedirects})}),function(f,h,l,v,_){return(0,ln.zg)(T=>function(f,h,l,v,_="emptyOnly",T="legacy"){try{const P=new bo(f,h,l,v,_,T).recognize();return null===P?Zc(new ni):ft(P)}catch(P){return Zc(P)}}(f,h,T.urlAfterRedirects,l(T.urlAfterRedirects),v,_).pipe((0,Ht.U)(P=>Object.assign(Object.assign({},T),{targetSnapshot:P}))))}(this.rootComponentType,this.config,Me=>this.serializeUrl(Me),this.paramsInheritanceStrategy,this.relativeLinkResolution),On(Me=>{if("eager"===this.urlUpdateStrategy){if(!Me.extras.skipLocationChange){const nt=this.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl);this.setBrowserUrl(nt,Me)}this.browserUrlTree=Me.urlAfterRedirects}const lt=new lf(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);v.next(lt)}));if(Se&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:lt,extractedUrl:nt,source:Jt,restoredState:Cn,extras:Dn}=F,tr=new qr(lt,this.serializeUrl(nt),Jt,Cn);v.next(tr);const xr=Du(nt,this.rootComponentType).snapshot;return ft(Object.assign(Object.assign({},F),{targetSnapshot:xr,urlAfterRedirects:nt,extras:Object.assign(Object.assign({},Dn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=F.rawUrl,F.resolve(null),gi}),o(F=>{const{targetSnapshot:ie,id:Se,extractedUrl:qe,rawUrl:Me,extras:{skipLocationChange:lt,replaceUrl:nt}}=F;return this.hooks.beforePreactivation(ie,{navigationId:Se,appliedUrlTree:qe,rawUrlTree:Me,skipLocationChange:!!lt,replaceUrl:!!nt})}),On(F=>{const ie=new hu(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);this.triggerEvent(ie)}),(0,Ht.U)(F=>Object.assign(Object.assign({},F),{guards:mo(F.targetSnapshot,F.currentSnapshot,this.rootContexts)})),function(f,h){return(0,ln.zg)(l=>{const{targetSnapshot:v,currentSnapshot:_,guards:{canActivateChecks:T,canDeactivateChecks:P}}=l;return 0===P.length&&0===T.length?ft(Object.assign(Object.assign({},l),{guardsResult:!0})):function(f,h,l,v){return(0,ur.D)(f).pipe((0,ln.zg)(_=>function(f,h,l,v,_){const T=h&&h.routeConfig?h.routeConfig.canDeactivate:null;return T&&0!==T.length?ft(T.map(F=>{const ie=Aa(F,h,_);let Se;if(function(f){return f&&zn(f.canDeactivate)}(ie))Se=br(ie.canDeactivate(f,h,l,v));else{if(!zn(ie))throw new Error("Invalid CanDeactivate guard");Se=br(ie(f,h,l,v))}return Se.pipe(Ur())})).pipe(po()):ft(!0)}(_.component,_.route,l,h,v)),Ur(_=>!0!==_,!0))}(P,v,_,f).pipe((0,ln.zg)(F=>F&&function(f){return"boolean"==typeof f}(F)?function(f,h,l,v){return(0,ur.D)(h).pipe(Gi(_=>Yo(function(f,h){return null!==f&&h&&h(new no(f)),ft(!0)}(_.route.parent,v),function(f,h){return null!==f&&h&&h(new du(f)),ft(!0)}(_.route,v),function(f,h,l){const v=h[h.length-1],T=h.slice(0,h.length-1).reverse().map(P=>function(f){const h=f.routeConfig?f.routeConfig.canActivateChild:null;return h&&0!==h.length?{node:f,guards:h}:null}(P)).filter(P=>null!==P).map(P=>ys(()=>ft(P.guards.map(ie=>{const Se=Aa(ie,P.node,l);let qe;if(function(f){return f&&zn(f.canActivateChild)}(Se))qe=br(Se.canActivateChild(v,f));else{if(!zn(Se))throw new Error("Invalid CanActivateChild guard");qe=br(Se(v,f))}return qe.pipe(Ur())})).pipe(po())));return ft(T).pipe(po())}(f,_.path,l),function(f,h,l){const v=h.routeConfig?h.routeConfig.canActivate:null;if(!v||0===v.length)return ft(!0);const _=v.map(T=>ys(()=>{const P=Aa(T,h,l);let F;if(function(f){return f&&zn(f.canActivate)}(P))F=br(P.canActivate(h,f));else{if(!zn(P))throw new Error("Invalid CanActivate guard");F=br(P(h,f))}return F.pipe(Ur())}));return ft(_).pipe(po())}(f,_.route,l))),Ur(_=>!0!==_,!0))}(v,T,f,h):ft(F)),(0,Ht.U)(F=>Object.assign(Object.assign({},l),{guardsResult:F})))})}(this.ngModule.injector,F=>this.triggerEvent(F)),On(F=>{if(wr(F.guardsResult)){const Se=mi(`Redirecting to "${this.serializeUrl(F.guardsResult)}"`);throw Se.url=F.guardsResult,Se}const ie=new er(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot,!!F.guardsResult);this.triggerEvent(ie)}),wn(F=>!!F.guardsResult||(this.restoreHistory(F),this.cancelNavigationTransition(F,""),!1)),o(F=>{if(F.guards.canActivateChecks.length)return ft(F).pipe(On(ie=>{const Se=new fu(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot);this.triggerEvent(Se)}),lr(ie=>{let Se=!1;return ft(ie).pipe(function(f,h){return(0,ln.zg)(l=>{const{targetSnapshot:v,guards:{canActivateChecks:_}}=l;if(!_.length)return ft(l);let T=0;return(0,ur.D)(_).pipe(Gi(P=>function(f,h,l,v){return function(f,h,l,v){const _=Object.keys(f);if(0===_.length)return ft({});const T={};return(0,ur.D)(_).pipe((0,ln.zg)(P=>function(f,h,l,v){const _=Aa(f,h,v);return br(_.resolve?_.resolve(h,l):_(h,l))}(f[P],h,l,v).pipe(On(F=>{T[P]=F}))),bs(1),(0,ln.zg)(()=>Object.keys(T).length===_.length?ft(T):gi))}(f._resolve,f,h,v).pipe((0,Ht.U)(T=>(f._resolvedData=T,f.data=Object.assign(Object.assign({},f.data),ei(f,l).resolve),null)))}(P.route,v,f,h)),On(()=>T++),bs(1),(0,ln.zg)(P=>T===_.length?ft(l):gi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),On({next:()=>Se=!0,complete:()=>{Se||(this.restoreHistory(ie),this.cancelNavigationTransition(ie,"At least one route resolver didn't emit any value."))}}))}),On(ie=>{const Se=new ws(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot);this.triggerEvent(Se)}))}),o(F=>{const{targetSnapshot:ie,id:Se,extractedUrl:qe,rawUrl:Me,extras:{skipLocationChange:lt,replaceUrl:nt}}=F;return this.hooks.afterPreactivation(ie,{navigationId:Se,appliedUrlTree:qe,rawUrlTree:Me,skipLocationChange:!!lt,replaceUrl:!!nt})}),(0,Ht.U)(F=>{const ie=function(f,h,l){const v=oo(f,h._root,l?l._root:void 0);return new Sl(v,h)}(this.routeReuseStrategy,F.targetSnapshot,F.currentRouterState);return Object.assign(Object.assign({},F),{targetRouterState:ie})}),On(F=>{this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects)}),((f,h,l)=>(0,Ht.U)(v=>(new Pl(h,v.targetRouterState,v.currentRouterState,l).activate(f),v)))(this.rootContexts,this.routeReuseStrategy,F=>this.triggerEvent(F)),On({next(){T=!0},complete(){T=!0}}),function(f){return h=>h.lift(new Qo(f))}(()=>{var F;T||P||this.cancelNavigationTransition(_,`Navigation ID ${_.id} is not equal to the current navigation id ${this.navigationId}`),(null===(F=this.currentNavigation)||void 0===F?void 0:F.id)===_.id&&(this.currentNavigation=null)}),Br(F=>{if(P=!0,function(f){return f&&f[ia]}(F)){const ie=wr(F.url);ie||(this.navigated=!0,this.restoreHistory(_,!0));const Se=new ea(_.id,this.serializeUrl(_.extractedUrl),F.message);v.next(Se),ie?setTimeout(()=>{const qe=this.urlHandlingStrategy.merge(F.url,this.rawUrlTree),Me={skipLocationChange:_.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_e(_.source)};this.scheduleNavigation(qe,"imperative",null,Me,{resolve:_.resolve,reject:_.reject,promise:_.promise})},0):_.resolve(!1)}else{this.restoreHistory(_,!0);const ie=new Ic(_.id,this.serializeUrl(_.extractedUrl),F);v.next(ie);try{_.resolve(this.errorHandler(F))}catch(Se){_.reject(Se)}}return gi}))}))}resetRootComponentType(l){this.rootComponentType=l,this.routerState.root.component=this.rootComponentType}setTransition(l){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),l))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(l=>{const v="popstate"===l.type?"popstate":"hashchange";"popstate"===v&&setTimeout(()=>{var _;const T={replaceUrl:!0},P=(null===(_=l.state)||void 0===_?void 0:_.navigationId)?l.state:null;if(P){const ie=Object.assign({},P);delete ie.navigationId,delete ie.\u0275routerPageId,0!==Object.keys(ie).length&&(T.state=ie)}const F=this.parseUrl(l.url);this.scheduleNavigation(F,v,P,T)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(l){this.events.next(l)}resetConfig(l){Ol(l),this.config=l.map(jc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(l,v={}){const{relativeTo:_,queryParams:T,fragment:P,queryParamsHandling:F,preserveFragment:ie}=v,Se=_||this.routerState.root,qe=ie?this.currentUrlTree.fragment:P;let Me=null;switch(F){case"merge":Me=Object.assign(Object.assign({},this.currentUrlTree.queryParams),T);break;case"preserve":Me=this.currentUrlTree.queryParams;break;default:Me=T||null}return null!==Me&&(Me=this.removeEmptyProps(Me)),function(f,h,l,v,_){if(0===l.length)return As(h.root,h.root,h,v,_);const T=function(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new cr(!0,0,f);let h=0,l=!1;const v=f.reduce((_,T,P)=>{if("object"==typeof T&&null!=T){if(T.outlets){const F={};return vn(T.outlets,(ie,Se)=>{F[Se]="string"==typeof ie?ie.split("/"):ie}),[..._,{outlets:F}]}if(T.segmentPath)return[..._,T.segmentPath]}return"string"!=typeof T?[..._,T]:0===P?(T.split("/").forEach((F,ie)=>{0==ie&&"."===F||(0==ie&&""===F?l=!0:".."===F?h++:""!=F&&_.push(F))}),_):[..._,T]},[]);return new cr(l,h,v)}(l);if(T.toRoot())return As(h.root,new dt([],{}),h,v,_);const P=function(f,h,l){if(f.isAbsolute)return new Ea(h.root,!0,0);if(-1===l.snapshot._lastPathIndex){const T=l.snapshot._urlSegment;return new Ea(T,T===h.root,0)}const v=ao(f.commands[0])?0:1;return function(f,h,l){let v=f,_=h,T=l;for(;T>_;){if(T-=_,v=v.parent,!v)throw new Error("Invalid number of '../'");_=v.segments.length}return new Ea(v,!1,_-T)}(l.snapshot._urlSegment,l.snapshot._lastPathIndex+v,f.numberOfDoubleDots)}(T,h,f),F=P.processChildren?Su(P.segmentGroup,P.index,T.commands):Cu(P.segmentGroup,P.index,T.commands);return As(P.segmentGroup,F,h,v,_)}(Se,this.currentUrlTree,l,Me,null!=qe?qe:null)}navigateByUrl(l,v={skipLocationChange:!1}){const _=wr(l)?l:this.parseUrl(l),T=this.urlHandlingStrategy.merge(_,this.rawUrlTree);return this.scheduleNavigation(T,"imperative",null,v)}navigate(l,v={skipLocationChange:!1}){return function(f){for(let h=0;h<f.length;h++){const l=f[h];if(null==l)throw new Error(`The requested path contains ${l} segment at index ${h}`)}}(l),this.navigateByUrl(this.createUrlTree(l,v),v)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){let v;try{v=this.urlSerializer.parse(l)}catch(_){v=this.malformedUriErrorHandler(_,this.urlSerializer,l)}return v}isActive(l,v){let _;if(_=!0===v?Object.assign({},U):!1===v?Object.assign({},W):v,wr(l))return yi(this.currentUrlTree,l,_);const T=this.parseUrl(l);return yi(this.currentUrlTree,T,_)}removeEmptyProps(l){return Object.keys(l).reduce((v,_)=>{const T=l[_];return null!=T&&(v[_]=T),v},{})}processNavigations(){this.navigations.subscribe(l=>{this.navigated=!0,this.lastSuccessfulId=l.id,this.currentPageId=l.targetPageId,this.events.next(new to(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,l.resolve(!0)},l=>{this.console.warn(`Unhandled Navigation Error: ${l}`)})}scheduleNavigation(l,v,_,T,P){var F,ie,Se;if(this.disposed)return Promise.resolve(!1);const qe=this.transitions.value,Me=_e(v)&&qe&&!_e(qe.source),lt=qe.rawUrl.toString()===l.toString(),nt=qe.id===(null===(F=this.currentNavigation)||void 0===F?void 0:F.id);if(Me&&lt&&nt)return Promise.resolve(!0);let Cn,Dn,tr;P?(Cn=P.resolve,Dn=P.reject,tr=P.promise):tr=new Promise((Ci,Hl)=>{Cn=Ci,Dn=Hl});const xr=++this.navigationId;let oi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(_=this.location.getState()),oi=_&&_.\u0275routerPageId?_.\u0275routerPageId:T.replaceUrl||T.skipLocationChange?null!==(ie=this.browserPageId)&&void 0!==ie?ie:0:(null!==(Se=this.browserPageId)&&void 0!==Se?Se:0)+1):oi=0,this.setTransition({id:xr,targetPageId:oi,source:v,restoredState:_,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:l,extras:T,resolve:Cn,reject:Dn,promise:tr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tr.catch(Ci=>Promise.reject(Ci))}setBrowserUrl(l,v){const _=this.urlSerializer.serialize(l),T=Object.assign(Object.assign({},v.extras.state),this.generateNgRouterState(v.id,v.targetPageId));this.location.isCurrentPathEqualTo(_)||v.extras.replaceUrl?this.location.replaceState(_,"",T):this.location.go(_,"",T)}restoreHistory(l,v=!1){var _,T;if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-l.targetPageId;"popstate"!==l.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(_=this.currentNavigation)||void 0===_?void 0:_.finalUrl)||0===P?this.currentUrlTree===(null===(T=this.currentNavigation)||void 0===T?void 0:T.finalUrl)&&0===P&&(this.resetState(l),this.browserUrlTree=l.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(l),this.resetUrlToCurrentUrlTree())}resetState(l){this.routerState=l.currentRouterState,this.currentUrlTree=l.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(l,v){const _=new ea(l.id,this.serializeUrl(l.extractedUrl),v);this.triggerEvent(_),l.resolve(!1)}generateNgRouterState(l,v){return"computed"===this.canceledNavigationResolution?{navigationId:l,\u0275routerPageId:v}:{navigationId:l}}}return f.\u0275fac=function(l){E.$Z()},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();function _e(f){return"imperative"!==f}class Xe{}class xt{preload(h,l){return ft(null)}}let Ct=(()=>{class f{constructor(l,v,_,T){this.router=l,this.injector=_,this.preloadingStrategy=T,this.loader=new x(_,v,ie=>l.triggerEvent(new Zr(ie)),ie=>l.triggerEvent(new _r(ie)))}setUpPreloading(){this.subscription=this.router.events.pipe(wn(l=>l instanceof to),Gi(()=>this.preload())).subscribe(()=>{})}preload(){const l=this.injector.get(E.h0i);return this.processRoutes(l,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(l,v){const _=[];for(const T of v)if(T.loadChildren&&!T.canLoad&&T._loadedConfig){const P=T._loadedConfig;_.push(this.processRoutes(P.module,P.routes))}else T.loadChildren&&!T.canLoad?_.push(this.preloadConfig(l,T)):T.children&&_.push(this.processRoutes(l,T.children));return(0,ur.D)(_).pipe((0,Hn.J)(),(0,Ht.U)(T=>{}))}preloadConfig(l,v){return this.preloadingStrategy.preload(v,()=>(v._loadedConfig?ft(v._loadedConfig):this.loader.load(l.injector,v)).pipe((0,ln.zg)(T=>(v._loadedConfig=T,this.processRoutes(T.module,T.routes)))))}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(fe),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(Xe))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})(),nn=(()=>{class f{constructor(l,v,_={}){this.router=l,this.viewportScroller=v,this.options=_,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_.scrollPositionRestoration=_.scrollPositionRestoration||"disabled",_.anchorScrolling=_.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(l=>{l instanceof qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=l.navigationTrigger,this.restoredId=l.restoredState?l.restoredState.navigationId:0):l instanceof to&&(this.lastId=l.id,this.scheduleScrollEvent(l,this.router.parseUrl(l.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(l=>{l instanceof na&&(l.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(l.position):l.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(l.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(l,v){this.router.triggerEvent(new na(l,"popstate"===this.lastSource?this.store[this.restoredId]:null,v))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return f.\u0275fac=function(l){E.$Z()},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();const Ke=new E.OlP("ROUTER_CONFIGURATION"),rt=new E.OlP("ROUTER_FORROOT_GUARD"),Ye=[Gt,{provide:vu,useClass:xs},{provide:fe,useFactory:function(f,h,l,v,_,T,P={},F,ie){const Se=new fe(null,f,h,l,v,_,aa(T));return F&&(Se.urlHandlingStrategy=F),ie&&(Se.routeReuseStrategy=ie),function(f,h){f.errorHandler&&(h.errorHandler=f.errorHandler),f.malformedUriErrorHandler&&(h.malformedUriErrorHandler=f.malformedUriErrorHandler),f.onSameUrlNavigation&&(h.onSameUrlNavigation=f.onSameUrlNavigation),f.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=f.paramsInheritanceStrategy),f.relativeLinkResolution&&(h.relativeLinkResolution=f.relativeLinkResolution),f.urlUpdateStrategy&&(h.urlUpdateStrategy=f.urlUpdateStrategy),f.canceledNavigationResolution&&(h.canceledNavigationResolution=f.canceledNavigationResolution)}(P,Se),P.enableTracing&&Se.events.subscribe(qe=>{var Me,lt;null===(Me=console.group)||void 0===Me||Me.call(console,`Router Event: ${qe.constructor.name}`),console.log(qe.toString()),console.log(qe),null===(lt=console.groupEnd)||void 0===lt||lt.call(console)}),Se},deps:[vu,qi,Gt,E.zs3,E.Sil,w,Ke,[class{},new E.FiY],[class{},new E.FiY]]},qi,{provide:Ss,useFactory:function(f){return f.routerState.root},deps:[fe]},Ct,xt,class{preload(h,l){return l().pipe(Br(()=>ft(null)))}},{provide:Ke,useValue:{enableTracing:!1}}];function ri(){return new E.PXZ("Router",fe)}let Di=(()=>{class f{constructor(l,v){}static forRoot(l,v){return{ngModule:f,providers:[Ye,dr(l),{provide:rt,useFactory:fr,deps:[[fe,new E.FiY,new E.tp0]]},{provide:Ke,useValue:v||{}},{provide:Oe,useFactory:ii,deps:[te,[new E.tBr(je),new E.FiY],Ke]},{provide:nn,useFactory:Ti,deps:[fe,al,Ke]},{provide:Xe,useExisting:v&&v.preloadingStrategy?v.preloadingStrategy:xt},{provide:E.PXZ,multi:!0,useFactory:ri},[Dr,{provide:E.ip1,multi:!0,useFactory:si,deps:[Dr]},{provide:Xn,useFactory:Dt,deps:[Dr]},{provide:E.tb,multi:!0,useExisting:Xn}]]}}static forChild(l){return{ngModule:f,providers:[dr(l)]}}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(rt,8),E.LFG(fe,8))},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({}),f})();function Ti(f,h,l){return l.scrollOffset&&h.setOffset(l.scrollOffset),new nn(f,h,l)}function ii(f,h,l={}){return l.useHash?new mt(f,h):new Le(f,h)}function fr(f){return"guarded"}function dr(f){return[{provide:E.deG,multi:!0,useValue:f},{provide:w,multi:!0,useValue:f}]}let Dr=(()=>{class f{constructor(l){this.injector=l,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gs.xQ}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let v=null;const _=new Promise(F=>v=F),T=this.injector.get(fe),P=this.injector.get(Ke);return"disabled"===P.initialNavigation?(T.setUpLocationChangeListener(),v(!0)):"enabled"===P.initialNavigation||"enabledBlocking"===P.initialNavigation?(T.hooks.afterPreactivation=()=>this.initNavigation?ft(null):(this.initNavigation=!0,v(!0),this.resultOfPreactivationDone),T.initialNavigation()):v(!0),_})}bootstrapListener(l){const v=this.injector.get(Ke),_=this.injector.get(Ct),T=this.injector.get(nn),P=this.injector.get(fe),F=this.injector.get(E.z2F);l===F.components[0]&&(("enabledNonBlocking"===v.initialNavigation||void 0===v.initialNavigation)&&P.initialNavigation(),_.setUpPreloading(),T.init(),P.resetRootComponentType(F.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return f.\u0275fac=function(l){return new(l||f)(E.LFG(E.zs3))},f.\u0275prov=E.Yz7({token:f,factory:f.\u0275fac}),f})();function si(f){return f.appInitializer.bind(f)}function Dt(f){return f.bootstrapListener.bind(f)}const Xn=new E.OlP("Router Initializer");var zr=B(655),Tr=B(2862);let Rs=(()=>{class f{ngAfterViewInit(){this.header=document.getElementById("header"),this.background=document.getElementById("hero-bg"),(Tr.d.isMobile()||Tr.d.isIpad())&&(this.background.style.marginTop=`${this.header.clientHeight}px`),this.setResizeListeners()}setResizeListeners(){this.maximizeHeroBackground(),window.addEventListener("orientationchange",()=>this.maximizeHeroBackground()),!Tr.d.isMobile()&&!Tr.d.isIpad()&&(window.onresize=()=>this.maximizeHeroBackground())}maximizeHeroBackground(){const l=parseInt(window.getComputedStyle(this.background).getPropertyValue("min-height")),v=window.innerHeight-this.header.clientHeight,_=Math.max(l,v);this.background.style.height=`${_}px`}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275cmp=E.Xpm({type:f,selectors:[["app-hero"]],decls:16,vars:0,consts:[["id","hero-bg",1,"flex","items-center","bg-emergent-pattern","w-full","h-screen","min-h-[28rem]","bg-center","bg-cover","bg-no-repeat"],[1,"container","mx-auto","w-full"],[1,"mx-auto"],[1,"lg:m-20","md:my-48","z-10","text-center"],[1,"font-bold","text-5xl","md:text-[4rem]","lg:text-[6rem]"],[1,"text-sm","md:text-base","lg:xl","text-center","mt-2"],[1,"mx-auto","flex","justify-center","mt-16"],["href","#emergence-explainer"],[1,"button-primary"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"button-icon"],["d","M12.015 7c4.751 0 8.063 3.012 9.504 4.636-1.401 1.837-4.713 5.364-9.504 5.364-4.42 0-7.93-3.536-9.478-5.407 1.493-1.647 4.817-4.593 9.478-4.593zm0-2c-7.569 0-12.015 6.551-12.015 6.551s4.835 7.449 12.015 7.449c7.733 0 11.985-7.449 11.985-7.449s-4.291-6.551-11.985-6.551zm-.015 3c-2.21 0-4 1.791-4 4s1.79 4 4 4c2.209 0 4-1.791 4-4s-1.791-4-4-4zm-.004 3.999c-.564.564-1.479.564-2.044 0s-.565-1.48 0-2.044c.564-.564 1.479-.564 2.044 0s.565 1.479 0 2.044z"]],template:function(l,v){1&l&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"div",3),E.TgZ(4,"h1",4),E._uU(5," Emergent Behavior "),E.qZA(),E.TgZ(6,"div"),E.TgZ(7,"p",5),E._uU(8,"Learn about one of the most fundamental laws governing our reality"),E.qZA(),E.qZA(),E.TgZ(9,"div",6),E.TgZ(10,"a",7),E.TgZ(11,"button",8),E.O4$(),E.TgZ(12,"svg",9),E._UZ(13,"path",10),E.qZA(),E.kcU(),E.TgZ(14,"span"),E._uU(15,"What is emergence?"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA())},styles:[""]}),f})();const Oa=["pixi"],$n=["demo"],Ra=["startButton"];function Xu(f,h){}const df=[{path:"",component:(()=>{class f{constructor(l){this.viewContainerRef=l}onDemoButtonClicked(l){const v=l.id;if(!v.includes("-button"))throw new Error("Malformed Emergent demo button id!");const _=v.split("-")[0];this.demo.instance.activateDemo(_)}onStartButtonClicked(){return(0,zr.mG)(this,void 0,void 0,function*(){document.getElementById("start-button-wrapper").style.display="none";const{DemoComponent:l}=yield B.e(86).then(B.bind(B,9086));this.demo=this.viewContainerRef.createComponent(l),this.demo.instance.init(this.pixiContainer,this.demoContainer)})}ngOnDestroy(){console.log("Manager onDestroy"),this.demo.instance.onDestroy()}}return f.\u0275fac=function(l){return new(l||f)(E.Y36(E.s_b))},f.\u0275cmp=E.Xpm({type:f,selectors:[["app-emergent-manager"]],viewQuery:function(l,v){if(1&l&&(E.Gf(Oa,5),E.Gf($n,5,E.s_b),E.Gf(Ra,5)),2&l){let _;E.iGM(_=E.CRH())&&(v.pixiContainer=_.first),E.iGM(_=E.CRH())&&(v.demoContainer=_.first),E.iGM(_=E.CRH())&&(v.startButton=_.first)}},features:[E._Bn([])],decls:47,vars:0,consts:[["id","emergence-explainer",1,"container","mt-56","flex","justify-between","items-center","mx-auto","px-8","md:px-14","lg:px-24","2xl:px-28","w-full","mt-40"],[1,"w-full"],[1,"secondary-title"],[1,"section-paragraph"],["id","simulation",1,"relative","overflow-hidden","mt-8","w-full","h-screen","bg-simulation"],["pixi",""],["id","start-button-wrapper",1,"absolute","inline","top-1/2","left-1/2","text-center",2,"transform","translate(-50%, -50%)"],["href","#simulation"],["id","start-button",1,"button","font-bold","p-4","bg-theme","border-theme-accent","hover:bg-theme-accent",3,"click"],["id","demo-simulation-wrapper",1,"hidden"],["id","boids-button",1,"demo-simulation-button",3,"click"],["boids",""],["id","ants-button",1,"demo-simulation-button",3,"click"],["ants",""],["demo",""]],template:function(l,v){if(1&l){const _=E.EpF();E._UZ(0,"app-hero"),E.TgZ(1,"div",0),E.TgZ(2,"section",1),E.TgZ(3,"h2",2),E._uU(4,"Emergent algorithms"),E.qZA(),E.TgZ(5,"p",3),E._uU(6," Below you can try some simulations of emergent behavior. "),E.qZA(),E.TgZ(7,"h3"),E._uU(8,"What is emergent behavior?"),E.qZA(),E.TgZ(9,"p"),E._uU(10," Emergent behavior is the result of many small entities working with a simple ruleset to create something that's larger than the sum of its parts. "),E._UZ(11,"br"),E._uU(12," Each agent in these simulations acts on a very simple ruleset and can not do much on its own. When it interacts with the other agents however, new properties and behaviors emerge which were not part of either agent before. This phenomenon is so common that it might even be what combines the building blocks of nature into the very reality we perceive. "),E.qZA(),E._UZ(13,"br"),E.TgZ(14,"h3"),E._uU(15,"Where does emergent behavior occur?"),E.qZA(),E.TgZ(16,"p"),E._uU(17,"We can observe emergence in nonliving physical systems like the ripple patterns forming in sand dunes, water crystals forming into snow flakes, and even in the very fabric of space and time that governs our existence, since the laws of physics themselves likely stem from emergent behavior. "),E._UZ(18,"br"),E._uU(19," This in turn might mean that chemistry is an emergent property of the laws of physics, and biology one of the laws of chemistry. "),E._UZ(20,"br"),E._uU(21," The simulations here will focus on biological and social effects of emergence in the form of swarming behavior as observed in schooling fish, and flocking birds among others, as well as the foraging behavior of ant colonies. "),E.qZA(),E._UZ(22,"br"),E.TgZ(23,"h3"),E._uU(24,"Usage tips"),E.qZA(),E.TgZ(25,"p"),E._uU(26,"Please press the start button below to initiate the simulation. "),E._UZ(27,"br"),E._uU(28," You can switch between the models by pressing one of the buttons that will appear on the left side. "),E._UZ(29,"br"),E._uU(30," You will find some more explanations for the active simulation further down below. "),E.qZA(),E.qZA(),E.qZA(),E.TgZ(31,"div",4,5),E.TgZ(33,"div",6),E.TgZ(34,"a",7),E.TgZ(35,"button",8),E.NdJ("click",function(){return v.onStartButtonClicked()}),E.TgZ(36,"p"),E._uU(37,"Start"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.TgZ(38,"div",9),E.TgZ(39,"button",10,11),E.NdJ("click",function(){E.CHM(_);const P=E.MAs(40);return v.onDemoButtonClicked(P)}),E._uU(41,"Boids"),E.qZA(),E.TgZ(42,"button",12,13),E.NdJ("click",function(){E.CHM(_);const P=E.MAs(43);return v.onDemoButtonClicked(P)}),E._uU(44,"Ants"),E.qZA(),E.qZA(),E.YNc(45,Xu,0,0,"ng-template",null,14,E.W1O),E.qZA()}},directives:[Rs],styles:[""]}),f})()}];let pf=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({imports:[[Di.forRoot(df,{relativeLinkResolution:"legacy"})],Di]}),f})(),gf=(()=>{class f{constructor(){this.hiddenClass="hidden",this.visibleClass="block"}ngAfterViewInit(){this.header=document.getElementById("header"),this.linkWrapper=document.getElementById("nav-links"),this.modal=document.getElementById("modal"),this.hamburger=document.getElementById("hamburger"),this.prevScrollPos=window.scrollY,this.prevURL=window.location.href,window.onscroll=()=>this.onScroll(),this.modal.onclick=()=>this.toggleNavLinks(!0)}onScroll(){const l=window.scrollY;if(l<=this.header.clientHeight)this.showHeader();else{if(this.hasClass(this.linkWrapper,"hidden"))return window.location.href!=this.prevURL?(this.prevURL=window.location.href,this.prevScrollPos=l,void this.hideHeader()):void(Math.abs(l-this.prevScrollPos)<10||(this.prevScrollPos>l?this.showHeader():this.hideHeader(),this.prevScrollPos=l));this.prevScrollPos=l}}showHeader(){this.header.style.top="0"}hideHeader(){this.header.style.top=`-${this.header.clientHeight}`}toggleNavLinks(l=!1){"none"!=window.getComputedStyle(this.hamburger).getPropertyValue("display")&&(this.hasClass(this.linkWrapper,this.visibleClass)?this.replaceClass(this.linkWrapper,this.visibleClass,this.hiddenClass):l||this.replaceClass(this.linkWrapper,this.hiddenClass,this.visibleClass))}hasClass(l,v){const _=new RegExp("(?:^|\\s)"+v+"(?!\\S)");return null!=l.className.match(_)}removeClass(l,v){const _=new RegExp("(?:^|\\s)"+v+"(?!\\S)");l.className=l.className.replace(_,"")}addClass(l,v){l.className+=` ${v}`}replaceClass(l,v,_){const T=new RegExp("(?:^|\\s)"+v+"(?!\\S)");l.className=l.className.replace(T,_)}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275cmp=E.Xpm({type:f,selectors:[["app-header"]],decls:26,vars:0,consts:[["id","header",1,"fixed","bg-body","xl:static","z-50","w-full"],[1,"bg-body","relative","rounded-b","shadow-xl","py-2","px-6","md:flex","justify-between","items-center","mx-auto","w-full"],["id","logo","href","https://patrick-mahnkopf.github.io/",1,"text-lg","py-4","font-bold","link",3,"click"],["id","nav-links",1,"hidden","nav-links"],["href","https://patrick-mahnkopf.github.io/",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#projects",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#skills",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#about",1,"nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#contact",1,"md:hidden","nav-link",3,"click"],["href","https://patrick-mahnkopf.github.io/#contact",1,"hidden","md:block",3,"click"],[1,"flex","button","px-2","py-1","bg-theme","border-theme-accent"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24",1,"button-icon"],["d","M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z"],["id","modal",1,"modal","md:hidden"],["id","hamburger",1,"absolute","top-0","right-0","p-5","md:hidden",3,"click"],["width","26","height","18","viewBox","0 0 26 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13 17.5H0.25V14.6667H13V17.5ZM25.75 10.4167H0.25V7.58333H25.75V10.4167ZM25.75 3.33333H13V0.5H25.75V3.33333Z","fill","white"]],template:function(l,v){1&l&&(E.TgZ(0,"header",0),E.TgZ(1,"div",1),E.TgZ(2,"a",2),E.NdJ("click",function(){return v.toggleNavLinks(!0)}),E._uU(3,"Patrick Mahnkopf"),E.qZA(),E.TgZ(4,"div",3),E.TgZ(5,"a",4),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(6,"Home"),E.qZA(),E.TgZ(7,"a",5),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(8,"Projects"),E.qZA(),E.TgZ(9,"a",6),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(10,"Skills"),E.qZA(),E.TgZ(11,"a",7),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(12,"About"),E.qZA(),E.TgZ(13,"a",8),E.NdJ("click",function(){return v.toggleNavLinks()}),E._uU(14,"Contact"),E.qZA(),E.TgZ(15,"a",9),E.NdJ("click",function(){return v.toggleNavLinks()}),E.TgZ(16,"button",10),E.TgZ(17,"div"),E.O4$(),E.TgZ(18,"svg",11),E._UZ(19,"path",12),E.qZA(),E.qZA(),E.kcU(),E.TgZ(20,"span"),E._uU(21,"Contact me"),E.qZA(),E.qZA(),E.qZA(),E._UZ(22,"div",13),E.qZA(),E.TgZ(23,"div",14),E.NdJ("click",function(){return v.toggleNavLinks()}),E.O4$(),E.TgZ(24,"svg",15),E._UZ(25,"path",16),E.qZA(),E.qZA(),E.qZA(),E.qZA())},styles:[""]}),f})(),kh=(()=>{class f{constructor(){this.myDate=new Date,this.currentDate=To(new Date,"yyyy","en")}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275cmp=E.Xpm({type:f,selectors:[["app-footer"]],decls:16,vars:4,consts:[[1,"mt-28","py-2","px-8","md:px-14","lg:px-24","w-full","bg-body-accent"],[1,"container","flex","justify-between","items-center","md:px-14","lg:px-24","w-full"],["id","copyright",1,"text-xs","md:text-sm"],[1,"flex","justify-center"],["href","https://www.linkedin.com/in/patrick-mahnkopf/","target","_blank","rel","noopener noreferrer",1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","aria-labelledby","footer-linkedin-title",1,"icon-link"],["id","footer-linkedin-title"],["d","M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"],["href","https://github.com/patrick-mahnkopf","target","_blank","rel","noopener noreferrer",1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","aria-labelledby","footer-github-title",1,"icon-link"],["id","footer-github-title"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"]],template:function(l,v){1&l&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"span",2),E._uU(3),E.ALo(4,"date"),E.qZA(),E.TgZ(5,"span",3),E.TgZ(6,"a",4),E.O4$(),E.TgZ(7,"svg",5),E.TgZ(8,"title",6),E._uU(9,"A link to my LinkedIn profile"),E.qZA(),E._UZ(10,"path",7),E.qZA(),E.qZA(),E.kcU(),E.TgZ(11,"a",8),E.O4$(),E.TgZ(12,"svg",9),E.TgZ(13,"title",10),E._uU(14,"A link to my GitHub profile"),E.qZA(),E._UZ(15,"path",11),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&l&&(E.xp6(3),E.hij("\xa9 ",E.xi3(4,1,v.myDate,"yyyy")," Patrick Mahnkopf"))},pipes:[vc],styles:[""]}),f})(),vf=(()=>{class f{constructor(){this.title="emergent-algorithms"}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275cmp=E.Xpm({type:f,selectors:[["app-root"]],decls:3,vars:0,template:function(l,v){1&l&&(E._UZ(0,"app-header"),E._UZ(1,"router-outlet"),E._UZ(2,"app-footer"))},directives:[gf,Fu,kh],styles:[""]}),f})();var mf=B(1497),yf=B(8362);let gt=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=E.oAB({type:f,bootstrap:[vf]}),f.\u0275inj=E.cJS({providers:[mf.g,yf.K],imports:[[Wr,pf]]}),f})();(0,E.G48)(),Bo().bootstrapModule(gt).catch(f=>console.error(f))},9170:He=>{"use strict";var pe=Object.prototype.hasOwnProperty,B="~";function E(){}function he(Q,$,te){this.fn=Q,this.context=$,this.once=te||!1}function me(Q,$,te,ue,q){if("function"!=typeof te)throw new TypeError("The listener must be a function");var X=new he(te,ue||Q,q),J=B?B+$:$;return Q._events[J]?Q._events[J].fn?Q._events[J]=[Q._events[J],X]:Q._events[J].push(X):(Q._events[J]=X,Q._eventsCount++),Q}function ee(Q,$){0==--Q._eventsCount?Q._events=new E:delete Q._events[$]}function ae(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),(new E).__proto__||(B=!1)),ae.prototype.eventNames=function(){var te,ue,$=[];if(0===this._eventsCount)return $;for(ue in te=this._events)pe.call(te,ue)&&$.push(B?ue.slice(1):ue);return Object.getOwnPropertySymbols?$.concat(Object.getOwnPropertySymbols(te)):$},ae.prototype.listeners=function($){var ue=this._events[B?B+$:$];if(!ue)return[];if(ue.fn)return[ue.fn];for(var q=0,X=ue.length,J=new Array(X);q<X;q++)J[q]=ue[q].fn;return J},ae.prototype.listenerCount=function($){var ue=this._events[B?B+$:$];return ue?ue.fn?1:ue.length:0},ae.prototype.emit=function($,te,ue,q,X,J){var Z=B?B+$:$;if(!this._events[Z])return!1;var ce,Oe,le=this._events[Z],Te=arguments.length;if(le.fn){switch(le.once&&this.removeListener($,le.fn,void 0,!0),Te){case 1:return le.fn.call(le.context),!0;case 2:return le.fn.call(le.context,te),!0;case 3:return le.fn.call(le.context,te,ue),!0;case 4:return le.fn.call(le.context,te,ue,q),!0;case 5:return le.fn.call(le.context,te,ue,q,X),!0;case 6:return le.fn.call(le.context,te,ue,q,X,J),!0}for(Oe=1,ce=new Array(Te-1);Oe<Te;Oe++)ce[Oe-1]=arguments[Oe];le.fn.apply(le.context,ce)}else{var je,Ve=le.length;for(Oe=0;Oe<Ve;Oe++)switch(le[Oe].once&&this.removeListener($,le[Oe].fn,void 0,!0),Te){case 1:le[Oe].fn.call(le[Oe].context);break;case 2:le[Oe].fn.call(le[Oe].context,te);break;case 3:le[Oe].fn.call(le[Oe].context,te,ue);break;case 4:le[Oe].fn.call(le[Oe].context,te,ue,q);break;default:if(!ce)for(je=1,ce=new Array(Te-1);je<Te;je++)ce[je-1]=arguments[je];le[Oe].fn.apply(le[Oe].context,ce)}}return!0},ae.prototype.on=function($,te,ue){return me(this,$,te,ue,!1)},ae.prototype.once=function($,te,ue){return me(this,$,te,ue,!0)},ae.prototype.removeListener=function($,te,ue,q){var X=B?B+$:$;if(!this._events[X])return this;if(!te)return ee(this,X),this;var J=this._events[X];if(J.fn)J.fn===te&&(!q||J.once)&&(!ue||J.context===ue)&&ee(this,X);else{for(var Z=0,le=[],Te=J.length;Z<Te;Z++)(J[Z].fn!==te||q&&!J[Z].once||ue&&J[Z].context!==ue)&&le.push(J[Z]);le.length?this._events[X]=1===le.length?le[0]:le:ee(this,X)}return this},ae.prototype.removeAllListeners=function($){var te;return $?this._events[te=B?B+$:$]&&ee(this,te):(this._events=new E,this._eventsCount=0),this},ae.prototype.off=ae.prototype.removeListener,ae.prototype.addListener=ae.prototype.on,ae.prefixed=B,ae.EventEmitter=ae,He.exports=ae},5469:He=>{"use strict";function pe(O,k,H){H=H||2;var xe,Be,we,Pe,ze,Ze,Ae,oe=k&&k.length,se=oe?k[0]*H:O.length,z=B(O,0,se,H,!0),K=[];if(!z||z.next===z.prev)return K;if(oe&&(z=function(O,k,H,oe){var z,K,we,se=[];for(z=0,K=k.length;z<K;z++)(we=B(O,k[z]*oe,z<K-1?k[z+1]*oe:O.length,oe,!1))===we.next&&(we.steiner=!0),se.push(Te(we));for(se.sort(te),z=0;z<se.length;z++)H=E(H=ue(se[z],H),H.next);return H}(O,k,z,H)),O.length>80*H){xe=we=O[0],Be=Pe=O[1];for(var Re=H;Re<se;Re+=H)(ze=O[Re])<xe&&(xe=ze),(Ze=O[Re+1])<Be&&(Be=Ze),ze>we&&(we=ze),Ze>Pe&&(Pe=Ze);Ae=0!==(Ae=Math.max(we-xe,Pe-Be))?1/Ae:0}return he(z,K,H,xe,Be,Ae),K}function B(O,k,H,oe,se){var z,K;if(se===Y(O,k,H,oe)>0)for(z=k;z<H;z+=oe)K=ne(z,O[z],O[z+1],K);else for(z=H-oe;z>=k;z-=oe)K=ne(z,O[z],O[z+1],K);return K&&je(K,K.next)&&(de(K),K=K.next),K}function E(O,k){if(!O)return O;k||(k=O);var oe,H=O;do{if(oe=!1,H.steiner||!je(H,H.next)&&0!==Ve(H.prev,H,H.next))H=H.next;else{if(de(H),(H=k=H.prev)===H.next)break;oe=!0}}while(oe||H!==k);return k}function he(O,k,H,oe,se,z,K){if(O){!K&&z&&function(O,k,H,oe){var se=O;do{null===se.z&&(se.z=le(se.x,se.y,k,H,oe)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next}while(se!==O);se.prevZ.nextZ=null,se.prevZ=null,function(O){var k,H,oe,se,z,K,xe,Be,we=1;do{for(H=O,O=null,z=null,K=0;H;){for(K++,oe=H,xe=0,k=0;k<we&&(xe++,oe=oe.nextZ);k++);for(Be=we;xe>0||Be>0&&oe;)0!==xe&&(0===Be||!oe||H.z<=oe.z)?(se=H,H=H.nextZ,xe--):(se=oe,oe=oe.nextZ,Be--),z?z.nextZ=se:O=se,se.prevZ=z,z=se;H=oe}z.nextZ=null,we*=2}while(K>1)}(se)}(O,oe,se,z);for(var Be,we,xe=O;O.prev!==O.next;)if(Be=O.prev,we=O.next,z?ee(O,oe,se,z):me(O))k.push(Be.i/H),k.push(O.i/H),k.push(we.i/H),de(O),O=we.next,xe=we.next;else if((O=we)===xe){K?1===K?he(O=ae(E(O),k,H),k,H,oe,se,z,2):2===K&&Q(O,k,H,oe,se,z):he(E(O),k,H,oe,se,z,1);break}}}function me(O){var k=O.prev,H=O,oe=O.next;if(Ve(k,H,oe)>=0)return!1;for(var se=O.next.next;se!==O.prev;){if(ce(k.x,k.y,H.x,H.y,oe.x,oe.y,se.x,se.y)&&Ve(se.prev,se,se.next)>=0)return!1;se=se.next}return!0}function ee(O,k,H,oe){var se=O.prev,z=O,K=O.next;if(Ve(se,z,K)>=0)return!1;for(var we=se.x>z.x?se.x>K.x?se.x:K.x:z.x>K.x?z.x:K.x,Pe=se.y>z.y?se.y>K.y?se.y:K.y:z.y>K.y?z.y:K.y,ze=le(se.x<z.x?se.x<K.x?se.x:K.x:z.x<K.x?z.x:K.x,se.y<z.y?se.y<K.y?se.y:K.y:z.y<K.y?z.y:K.y,k,H,oe),Ze=le(we,Pe,k,H,oe),Ae=O.prevZ,Re=O.nextZ;Ae&&Ae.z>=ze&&Re&&Re.z<=Ze;){if(Ae!==O.prev&&Ae!==O.next&&ce(se.x,se.y,z.x,z.y,K.x,K.y,Ae.x,Ae.y)&&Ve(Ae.prev,Ae,Ae.next)>=0||(Ae=Ae.prevZ,Re!==O.prev&&Re!==O.next&&ce(se.x,se.y,z.x,z.y,K.x,K.y,Re.x,Re.y)&&Ve(Re.prev,Re,Re.next)>=0))return!1;Re=Re.nextZ}for(;Ae&&Ae.z>=ze;){if(Ae!==O.prev&&Ae!==O.next&&ce(se.x,se.y,z.x,z.y,K.x,K.y,Ae.x,Ae.y)&&Ve(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.prevZ}for(;Re&&Re.z<=Ze;){if(Re!==O.prev&&Re!==O.next&&ce(se.x,se.y,z.x,z.y,K.x,K.y,Re.x,Re.y)&&Ve(Re.prev,Re,Re.next)>=0)return!1;Re=Re.nextZ}return!0}function ae(O,k,H){var oe=O;do{var se=oe.prev,z=oe.next.next;!je(se,z)&&Le(se,oe,oe.next,z)&&st(se,z)&&st(z,se)&&(k.push(se.i/H),k.push(oe.i/H),k.push(z.i/H),de(oe),de(oe.next),oe=O=z),oe=oe.next}while(oe!==O);return E(oe)}function Q(O,k,H,oe,se,z){var K=O;do{for(var xe=K.next.next;xe!==K.prev;){if(K.i!==xe.i&&Oe(K,xe)){var Be=G(K,xe);return K=E(K,K.next),Be=E(Be,Be.next),he(K,k,H,oe,se,z),void he(Be,k,H,oe,se,z)}xe=xe.next}K=K.next}while(K!==O)}function te(O,k){return O.x-k.x}function ue(O,k){var H=function(O,k){var K,H=k,oe=O.x,se=O.y,z=-1/0;do{if(se<=H.y&&se>=H.next.y&&H.next.y!==H.y){var xe=H.x+(se-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(xe<=oe&&xe>z){if(z=xe,xe===oe){if(se===H.y)return H;if(se===H.next.y)return H.next}K=H.x<H.next.x?H:H.next}}H=H.next}while(H!==k);if(!K)return null;if(oe===z)return K;var Ze,Be=K,we=K.x,Pe=K.y,ze=1/0;H=K;do{oe>=H.x&&H.x>=we&&oe!==H.x&&ce(se<Pe?oe:z,se,we,Pe,se<Pe?z:oe,se,H.x,H.y)&&(Ze=Math.abs(se-H.y)/(oe-H.x),st(H,O)&&(Ze<ze||Ze===ze&&(H.x>K.x||H.x===K.x&&X(K,H)))&&(K=H,ze=Ze)),H=H.next}while(H!==Be);return K}(O,k);if(!H)return k;var oe=G(H,O),se=E(H,H.next);return E(oe,oe.next),k===H?se:k}function X(O,k){return Ve(O.prev,O,k.prev)<0&&Ve(k.next,O,O.next)<0}function le(O,k,H,oe,se){return(O=1431655765&((O=858993459&((O=252645135&((O=16711935&((O=32767*(O-H)*se)|O<<8))|O<<4))|O<<2))|O<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-oe)*se)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function Te(O){var k=O,H=O;do{(k.x<H.x||k.x===H.x&&k.y<H.y)&&(H=k),k=k.next}while(k!==O);return H}function ce(O,k,H,oe,se,z,K,xe){return(se-K)*(k-xe)-(O-K)*(z-xe)>=0&&(O-K)*(oe-xe)-(H-K)*(k-xe)>=0&&(H-K)*(z-xe)-(se-K)*(oe-xe)>=0}function Oe(O,k){return O.next.i!==k.i&&O.prev.i!==k.i&&!function(O,k){var H=O;do{if(H.i!==O.i&&H.next.i!==O.i&&H.i!==k.i&&H.next.i!==k.i&&Le(H,H.next,O,k))return!0;H=H.next}while(H!==O);return!1}(O,k)&&(st(O,k)&&st(k,O)&&function(O,k){var H=O,oe=!1,se=(O.x+k.x)/2,z=(O.y+k.y)/2;do{H.y>z!=H.next.y>z&&H.next.y!==H.y&&se<(H.next.x-H.x)*(z-H.y)/(H.next.y-H.y)+H.x&&(oe=!oe),H=H.next}while(H!==O);return oe}(O,k)&&(Ve(O.prev,O,k.prev)||Ve(O,k.prev,k))||je(O,k)&&Ve(O.prev,O,O.next)>0&&Ve(k.prev,k,k.next)>0)}function Ve(O,k,H){return(k.y-O.y)*(H.x-k.x)-(k.x-O.x)*(H.y-k.y)}function je(O,k){return O.x===k.x&&O.y===k.y}function Le(O,k,H,oe){var se=Gt(Ve(O,k,H)),z=Gt(Ve(O,k,oe)),K=Gt(Ve(H,oe,O)),xe=Gt(Ve(H,oe,k));return!!(se!==z&&K!==xe||0===se&&mt(O,H,k)||0===z&&mt(O,oe,k)||0===K&&mt(H,O,oe)||0===xe&&mt(H,k,oe))}function mt(O,k,H){return k.x<=Math.max(O.x,H.x)&&k.x>=Math.min(O.x,H.x)&&k.y<=Math.max(O.y,H.y)&&k.y>=Math.min(O.y,H.y)}function Gt(O){return O>0?1:O<0?-1:0}function st(O,k){return Ve(O.prev,O,O.next)<0?Ve(O,k,O.next)>=0&&Ve(O,O.prev,k)>=0:Ve(O,k,O.prev)<0||Ve(O,O.next,k)<0}function G(O,k){var H=new be(O.i,O.x,O.y),oe=new be(k.i,k.x,k.y),se=O.next,z=k.prev;return O.next=k,k.prev=O,H.next=se,se.prev=H,oe.next=H,H.prev=oe,z.next=oe,oe.prev=z,oe}function ne(O,k,H,oe){var se=new be(O,k,H);return oe?(se.next=oe.next,se.prev=oe,oe.next.prev=se,oe.next=se):(se.prev=se,se.next=se),se}function de(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function be(O,k,H){this.i=O,this.x=k,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Y(O,k,H,oe){for(var se=0,z=k,K=H-oe;z<H;z+=oe)se+=(O[K]-O[z])*(O[z+1]+O[K+1]),K=z;return se}He.exports=pe,He.exports.default=pe,pe.deviation=function(O,k,H,oe){var se=k&&k.length,K=Math.abs(Y(O,0,se?k[0]*H:O.length,H));if(se)for(var xe=0,Be=k.length;xe<Be;xe++)K-=Math.abs(Y(O,k[xe]*H,xe<Be-1?k[xe+1]*H:O.length,H));var ze=0;for(xe=0;xe<oe.length;xe+=3){var Ze=oe[xe]*H,Ae=oe[xe+1]*H,Re=oe[xe+2]*H;ze+=Math.abs((O[Ze]-O[Re])*(O[Ae+1]-O[Ze+1])-(O[Ze]-O[Ae])*(O[Re+1]-O[Ze+1]))}return 0===K&&0===ze?0:Math.abs((ze-K)/K)},pe.flatten=function(O){for(var k=O[0][0].length,H={vertices:[],holes:[],dimensions:k},oe=0,se=0;se<O.length;se++){for(var z=0;z<O[se].length;z++)for(var K=0;K<k;K++)H.vertices.push(O[se][z][K]);se>0&&H.holes.push(oe+=O[se-1].length)}return H}},7793:function(He,pe,B){var E;!function(he){var G,me=he.Promise,ee=me&&"resolve"in me&&"reject"in me&&"all"in me&&"race"in me&&(new me(function(ne){G=ne}),"function"==typeof G);pe?(pe.Promise=ee?me:j,pe.Polyfill=j):void 0!==(E=function(){return ee?me:j}.call(pe,B,pe,He))&&(He.exports=E);var ae="pending",Q="sealed",$="fulfilled",te="rejected",ue=function(){};function q(G){return"[object Array]"===Object.prototype.toString.call(G)}var Z,X="undefined"!=typeof setImmediate?setImmediate:setTimeout,J=[];function le(){for(var G=0;G<J.length;G++)J[G][0](J[G][1]);J=[],Z=!1}function Te(G,ne){J.push([G,ne]),Z||(Z=!0,X(le,0))}function Oe(G){var ne=G.owner,de=ne.state_,be=ne.data_,Y=G[de],O=G.then;if("function"==typeof Y){de=$;try{be=Y(be)}catch(k){mt(O,k)}}Ve(O,be)||(de===$&&je(O,be),de===te&&mt(O,be))}function Ve(G,ne){var de;try{if(G===ne)throw new TypeError("A promises callback cannot return that same promise.");if(ne&&("function"==typeof ne||"object"==typeof ne)){var be=ne.then;if("function"==typeof be)return be.call(ne,function(Y){de||(de=!0,ne!==Y?je(G,Y):Le(G,Y))},function(Y){de||(de=!0,mt(G,Y))}),!0}}catch(Y){return de||mt(G,Y),!0}return!1}function je(G,ne){(G===ne||!Ve(G,ne))&&Le(G,ne)}function Le(G,ne){G.state_===ae&&(G.state_=Q,G.data_=ne,Te(ge,G))}function mt(G,ne){G.state_===ae&&(G.state_=Q,G.data_=ne,Te(st,G))}function Gt(G){var ne=G.then_;G.then_=void 0;for(var de=0;de<ne.length;de++)Oe(ne[de])}function ge(G){G.state_=$,Gt(G)}function st(G){G.state_=te,Gt(G)}function j(G){if("function"!=typeof G)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof j))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(G,ne){function be(Y){mt(ne,Y)}try{G(function(Y){je(ne,Y)},be)}catch(Y){be(Y)}}(G,this)}j.prototype={constructor:j,state_:ae,then_:null,data_:void 0,then:function(G,ne){var de={owner:this,then:new this.constructor(ue),fulfilled:G,rejected:ne};return this.state_===$||this.state_===te?Te(Oe,de):this.then_.push(de),de.then},catch:function(G){return this.then(null,G)}},j.all=function(G){if(!q(G))throw new TypeError("You must pass an array to Promise.all().");return new this(function(de,be){var Y=[],O=0;function k(se){return O++,function(z){Y[se]=z,--O||de(Y)}}for(var oe,H=0;H<G.length;H++)(oe=G[H])&&"function"==typeof oe.then?oe.then(k(H),be):Y[H]=oe;O||de(Y)})},j.race=function(G){if(!q(G))throw new TypeError("You must pass an array to Promise.race().");return new this(function(de,be){for(var O,Y=0;Y<G.length;Y++)(O=G[Y])&&"function"==typeof O.then?O.then(de,be):de(O)})},j.resolve=function(G){return G&&"object"==typeof G&&G.constructor===this?G:new this(function(de){de(G)})},j.reject=function(G){return new this(function(de,be){be(G)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)},936:(He,pe)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});var B=function(){function ae(Q,$){for(var te=0;te<$.length;te++){var ue=$[te];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(Q,ue.key,ue)}}return function(Q,$,te){return $&&ae(Q.prototype,$),te&&ae(Q,te),Q}}();function E(ae,Q){if(!(ae instanceof Q))throw new TypeError("Cannot call a class as a function")}var he=function(){function ae(Q,$,te){void 0===$&&($=!1),E(this,ae),this._fn=Q,this._once=$,this._thisArg=te,this._next=this._prev=this._owner=null}return B(ae,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),ae}();function me(ae,Q){return ae._head?(ae._tail._next=Q,Q._prev=ae._tail,ae._tail=Q):(ae._head=Q,ae._tail=Q),Q._owner=ae,Q}var ee=function(){function ae(){E(this,ae),this._head=this._tail=void 0}return B(ae,[{key:"handlers",value:function(){var $=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],te=this._head;if($)return!!te;for(var ue=[];te;)ue.push(te),te=te._next;return ue}},{key:"has",value:function($){if(!($ instanceof he))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return $._owner===this}},{key:"dispatch",value:function(){var $=this._head;if(!$)return!1;for(;$;)$._once&&this.detach($),$._fn.apply($._thisArg,arguments),$=$._next;return!0}},{key:"add",value:function($){var te=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof $)throw new Error("MiniSignal#add(): First arg must be a Function.");return me(this,new he($,!1,te))}},{key:"once",value:function($){var te=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof $)throw new Error("MiniSignal#once(): First arg must be a Function.");return me(this,new he($,!0,te))}},{key:"detach",value:function($){if(!($ instanceof he))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return $._owner!==this||($._prev&&($._prev._next=$._next),$._next&&($._next._prev=$._prev),$===this._head?(this._head=$._next,null===$._next&&(this._tail=null)):$===this._tail&&(this._tail=$._prev,this._tail._next=null),$._owner=null),this}},{key:"detachAll",value:function(){var $=this._head;if(!$)return this;for(this._head=this._tail=null;$;)$._owner=null,$=$._next;return this}}]),ae}();ee.MiniSignalBinding=he,pe.default=ee,He.exports=pe.default},5943:He=>{"use strict";var pe=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function he(ee){if(null==ee)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ee)}He.exports=function(){try{if(!Object.assign)return!1;var ee=new String("abc");if(ee[5]="de","5"===Object.getOwnPropertyNames(ee)[0])return!1;for(var ae={},Q=0;Q<10;Q++)ae["_"+String.fromCharCode(Q)]=Q;if("0123456789"!==Object.getOwnPropertyNames(ae).map(function(ue){return ae[ue]}).join(""))return!1;var te={};return"abcdefghijklmnopqrst".split("").forEach(function(ue){te[ue]=ue}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},te)).join("")}catch(ue){return!1}}()?Object.assign:function(ee,ae){for(var Q,te,$=he(ee),ue=1;ue<arguments.length;ue++){for(var q in Q=Object(arguments[ue]))B.call(Q,q)&&($[q]=Q[q]);if(pe){te=pe(Q);for(var X=0;X<te.length;X++)E.call(Q,te[X])&&($[te[X]]=Q[te[X]])}}return $}},9750:He=>{"use strict";He.exports=function(B,E){if(B){for(var he={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},me=he.parser[(E=E||{}).strictMode?"strict":"loose"].exec(B),ee={},ae=14;ae--;)ee[he.key[ae]]=me[ae]||"";return ee[he.q.name]={},ee[he.key[12]].replace(he.q.parser,function(Q,$,te){$&&(ee[he.q.name][$]=te)}),ee}}},4520:(He,pe,B)=>{"use strict";B.d(pe,{ZX:()=>Hs,TC:()=>Xi,jl:()=>Ua});var E=B(7793),he=B(5943),me=B.n(he);if(window.Promise||(window.Promise=E.Polyfill),Object.assign||(Object.assign=me()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var ae=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-ae}}for(var Q=Date.now(),$=["ms","moz","webkit","o"],te=0;te<$.length&&!window.requestAnimationFrame;++te){var ue=$[te];window.requestAnimationFrame=window[ue+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ue+"CancelAnimationFrame"]||window[ue+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(a){if("function"!=typeof a)throw new TypeError(a+"is not a function");var i=Date.now(),e=16+Q-i;return e<0&&(e=0),Q=i,window.setTimeout(function(){Q=Date.now(),a(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){return clearTimeout(a)}),Math.sign||(Math.sign=function(i){return 0===(i=Number(i))||isNaN(i)?i:i>0?1:-1}),Number.isInteger||(Number.isInteger=function(i){return"number"==typeof i&&isFinite(i)&&Math.floor(i)===i}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var q=/iPhone/i,X=/iPod/i,J=/iPad/i,Z=/\biOS-universal(?:.+)Mac\b/i,le=/\bAndroid(?:.+)Mobile\b/i,Te=/Android/i,ce=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Oe=/Silk/i,Ve=/Windows Phone/i,je=/\bWindows(?:.+)ARM\b/i,Le=/BlackBerry/i,mt=/BB10/i,Gt=/Opera Mini/i,ge=/\b(CriOS|Chrome)(?:.+)Mobile/i,st=/Mobile(?:.+)Firefox\b/i,j=function(a){return void 0!==a&&"MacIntel"===a.platform&&"number"==typeof a.maxTouchPoints&&a.maxTouchPoints>1&&"undefined"==typeof MSStream},de=function(a){var i={userAgent:"",platform:"",maxTouchPoints:0};a||"undefined"==typeof navigator?"string"==typeof a?i.userAgent=a:a&&a.userAgent&&(i={userAgent:a.userAgent,platform:a.platform,maxTouchPoints:a.maxTouchPoints||0}):i={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=i.userAgent,r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var o=function(a){return function(i){return i.test(a)}}(e),d={apple:{phone:o(q)&&!o(Ve),ipod:o(X),tablet:!o(q)&&(o(J)||j(i))&&!o(Ve),universal:o(Z),device:(o(q)||o(X)||o(J)||o(Z)||j(i))&&!o(Ve)},amazon:{phone:o(ce),tablet:!o(ce)&&o(Oe),device:o(ce)||o(Oe)},android:{phone:!o(Ve)&&o(ce)||!o(Ve)&&o(le),tablet:!o(Ve)&&!o(ce)&&!o(le)&&(o(Oe)||o(Te)),device:!o(Ve)&&(o(ce)||o(Oe)||o(le)||o(Te))||o(/\bokhttp\b/i)},windows:{phone:o(Ve),tablet:o(je),device:o(Ve)||o(je)},other:{blackberry:o(Le),blackberry10:o(mt),opera:o(Gt),firefox:o(st),chrome:o(ge),device:o(Le)||o(mt)||o(Gt)||o(st)||o(ge)},any:!1,phone:!1,tablet:!1};return d.any=d.apple.device||d.android.device||d.windows.device||d.other.device,d.phone=d.apple.phone||d.android.phone||d.windows.phone,d.tablet=d.apple.tablet||d.android.tablet||d.windows.tablet,d}(window.navigator),O={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(a){var e,i=!0;(de.tablet||de.phone)&&(de.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(i=!1),de.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(i=!1));return i?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:de.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!de.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},k=B(9170),H=B.n(k),oe=B(5469),se=B.n(oe),z=B(8762),K=(()=>{return(a=K||(K={}))[a.WEBGL_LEGACY=0]="WEBGL_LEGACY",a[a.WEBGL=1]="WEBGL",a[a.WEBGL2=2]="WEBGL2",K;var a})(),xe=(()=>{return(a=xe||(xe={}))[a.UNKNOWN=0]="UNKNOWN",a[a.WEBGL=1]="WEBGL",a[a.CANVAS=2]="CANVAS",xe;var a})(),Be=(()=>{return(a=Be||(Be={}))[a.COLOR=16384]="COLOR",a[a.DEPTH=256]="DEPTH",a[a.STENCIL=1024]="STENCIL",Be;var a})(),we=(()=>{return(a=we||(we={}))[a.NORMAL=0]="NORMAL",a[a.ADD=1]="ADD",a[a.MULTIPLY=2]="MULTIPLY",a[a.SCREEN=3]="SCREEN",a[a.OVERLAY=4]="OVERLAY",a[a.DARKEN=5]="DARKEN",a[a.LIGHTEN=6]="LIGHTEN",a[a.COLOR_DODGE=7]="COLOR_DODGE",a[a.COLOR_BURN=8]="COLOR_BURN",a[a.HARD_LIGHT=9]="HARD_LIGHT",a[a.SOFT_LIGHT=10]="SOFT_LIGHT",a[a.DIFFERENCE=11]="DIFFERENCE",a[a.EXCLUSION=12]="EXCLUSION",a[a.HUE=13]="HUE",a[a.SATURATION=14]="SATURATION",a[a.COLOR=15]="COLOR",a[a.LUMINOSITY=16]="LUMINOSITY",a[a.NORMAL_NPM=17]="NORMAL_NPM",a[a.ADD_NPM=18]="ADD_NPM",a[a.SCREEN_NPM=19]="SCREEN_NPM",a[a.NONE=20]="NONE",a[a.SRC_OVER=0]="SRC_OVER",a[a.SRC_IN=21]="SRC_IN",a[a.SRC_OUT=22]="SRC_OUT",a[a.SRC_ATOP=23]="SRC_ATOP",a[a.DST_OVER=24]="DST_OVER",a[a.DST_IN=25]="DST_IN",a[a.DST_OUT=26]="DST_OUT",a[a.DST_ATOP=27]="DST_ATOP",a[a.ERASE=26]="ERASE",a[a.SUBTRACT=28]="SUBTRACT",a[a.XOR=29]="XOR",we;var a})(),Pe=(()=>{return(a=Pe||(Pe={}))[a.POINTS=0]="POINTS",a[a.LINES=1]="LINES",a[a.LINE_LOOP=2]="LINE_LOOP",a[a.LINE_STRIP=3]="LINE_STRIP",a[a.TRIANGLES=4]="TRIANGLES",a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN",Pe;var a})(),ze=(()=>{return(a=ze||(ze={}))[a.RGBA=6408]="RGBA",a[a.RGB=6407]="RGB",a[a.ALPHA=6406]="ALPHA",a[a.LUMINANCE=6409]="LUMINANCE",a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",a[a.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL",ze;var a})(),Ze=(()=>{return(a=Ze||(Ze={}))[a.TEXTURE_2D=3553]="TEXTURE_2D",a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",a[a.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",a[a.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Ze;var a})(),Ae=(()=>{return(a=Ae||(Ae={}))[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",a[a.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",a[a.FLOAT=5126]="FLOAT",a[a.HALF_FLOAT=36193]="HALF_FLOAT",Ae;var a})(),Re=(()=>{return(a=Re||(Re={}))[a.NEAREST=0]="NEAREST",a[a.LINEAR=1]="LINEAR",Re;var a})(),at=(()=>{return(a=at||(at={}))[a.CLAMP=33071]="CLAMP",a[a.REPEAT=10497]="REPEAT",a[a.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",at;var a})(),Pt=(()=>{return(a=Pt||(Pt={}))[a.OFF=0]="OFF",a[a.POW2=1]="POW2",a[a.ON=2]="ON",Pt;var a})(),St=(()=>{return(a=St||(St={}))[a.NPM=0]="NPM",a[a.UNPACK=1]="UNPACK",a[a.PMA=2]="PMA",a[a.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",a[a.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",a[a.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",St;var a})(),Ot=(()=>{return(a=Ot||(Ot={}))[a.NO=0]="NO",a[a.YES=1]="YES",a[a.AUTO=2]="AUTO",a[a.BLEND=0]="BLEND",a[a.CLEAR=1]="CLEAR",a[a.BLIT=2]="BLIT",Ot;var a})(),It=(()=>{return(a=It||(It={}))[a.AUTO=0]="AUTO",a[a.MANUAL=1]="MANUAL",It;var a})(),en=(()=>{return(a=en||(en={})).LOW="lowp",a.MEDIUM="mediump",a.HIGH="highp",en;var a})(),kt=(()=>{return(a=kt||(kt={}))[a.NONE=0]="NONE",a[a.SCISSOR=1]="SCISSOR",a[a.STENCIL=2]="STENCIL",a[a.SPRITE=3]="SPRITE",kt;var a})(),Wn=(()=>{return(a=Wn||(Wn={}))[a.NONE=0]="NONE",a[a.LOW=2]="LOW",a[a.MEDIUM=4]="MEDIUM",a[a.HIGH=8]="HIGH",Wn;var a})();O.RETINA_PREFIX=/@([0-9\.]+)x/,O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var ts,Ai=!1;function Pi(a,i){return void 0===i&&(i=[]),i[0]=(a>>16&255)/255,i[1]=(a>>8&255)/255,i[2]=(255&a)/255,i}function ns(a){var i=a.toString(16);return"#"+("000000".substr(0,6-i.length)+i)}function ht(a){return"string"==typeof a&&"#"===a[0]&&(a=a.substr(1)),parseInt(a,16)}var et=function(){for(var a=[],i=[],e=0;e<32;e++)a[e]=e,i[e]=e;a[we.NORMAL_NPM]=we.NORMAL,a[we.ADD_NPM]=we.ADD,a[we.SCREEN_NPM]=we.SCREEN,i[we.NORMAL]=we.NORMAL_NPM,i[we.ADD]=we.ADD_NPM,i[we.SCREEN]=we.SCREEN_NPM;var r=[];return r.push(i),r.push(a),r}();function To(a,i){return et[i?1:0][a]}function yn(a,i){if(1===i)return(255*i<<24)+a;if(0===i)return 0;var e=a>>16&255,r=a>>8&255,o=255&a;return(255*i<<24)+((e=e*i+.5|0)<<16)+((r=r*i+.5|0)<<8)+(o*i+.5|0)}function Sn(a,i,e,r){return(e=e||new Float32Array(4))[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(255&a)/255,(r||void 0===r)&&(e[0]*=i,e[1]*=i,e[2]*=i),e[3]=i,e}function Rt(a){return a+=0===a?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,1+(a|=a>>>16)}function Ku(a){return!(a&a-1||!a)}function xo(a){var i=(a>65535?1:0)<<4,e=((a>>>=i)>255?1:0)<<3;return i|=e,i|=e=((a>>>=e)>15?1:0)<<2,(i|=e=((a>>>=e)>3?1:0)<<1)|(a>>>=e)>>1}function Bt(a,i,e){var o,r=a.length;if(!(i>=r||0===e)){var d=r-(e=i+e>r?r-i:e);for(o=i;o<d;++o)a[o]=a[o+e];a.length=d}}function ci(a){return 0===a?0:a<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var yh=0;function nr(){return++yh}var Mt={};function Bn(a,i,e){if(void 0===e&&(e=3),!Mt[i]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+a):(r=r.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i+"\nDeprecated since v"+a),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+a),console.warn(r))),Mt[i]=!0}}var is,rs={},In=Object.create(null),Yn=Object.create(null),Qu=function(){function a(i,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||O.RESOLUTION,this.resize(i,e)}return a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},a.prototype.resize=function(i,e){this.canvas.width=i*this.resolution,this.canvas.height=e*this.resolution},a.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(a.prototype,"width",{get:function(){return this.canvas.width},set:function(i){this.canvas.width=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.canvas.height},set:function(i){this.canvas.height=i},enumerable:!1,configurable:!0}),a}();function Ir(a,i){var e=O.RETINA_PREFIX.exec(a);return e?parseFloat(e[1]):void 0!==i?i:1}var js=2*Math.PI,Ua=180/Math.PI,Hs=Math.PI/180,Xt=(()=>{return(a=Xt||(Xt={}))[a.POLY=0]="POLY",a[a.RECT=1]="RECT",a[a.CIRC=2]="CIRC",a[a.ELIP=3]="ELIP",a[a.RREC=4]="RREC",Xt;var a})(),ut=function(){function a(i,e,r,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=Number(i),this.y=Number(e),this.width=Number(r),this.height=Number(o),this.type=Xt.RECT}return Object.defineProperty(a.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(a,"EMPTY",{get:function(){return new a(0,0,0,0)},enumerable:!1,configurable:!0}),a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copyFrom=function(i){return this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height,this},a.prototype.copyTo=function(i){return i.x=this.x,i.y=this.y,i.width=this.width,i.height=this.height,i},a.prototype.contains=function(i,e){return!(this.width<=0||this.height<=0)&&i>=this.x&&i<this.x+this.width&&e>=this.y&&e<this.y+this.height},a.prototype.pad=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),this.x-=i,this.y-=e,this.width+=2*i,this.height+=2*e,this},a.prototype.fit=function(i){var e=Math.max(this.x,i.x),r=Math.min(this.x+this.width,i.x+i.width),o=Math.max(this.y,i.y),d=Math.min(this.y+this.height,i.y+i.height);return this.x=e,this.width=Math.max(r-e,0),this.y=o,this.height=Math.max(d-o,0),this},a.prototype.ceil=function(i,e){void 0===i&&(i=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*i)/i,o=Math.ceil((this.y+this.height-e)*i)/i;return this.x=Math.floor((this.x+e)*i)/i,this.y=Math.floor((this.y+e)*i)/i,this.width=r-this.x,this.height=o-this.y,this},a.prototype.enlarge=function(i){var e=Math.min(this.x,i.x),r=Math.max(this.x+this.width,i.x+i.width),o=Math.min(this.y,i.y),d=Math.max(this.y+this.height,i.y+i.height);return this.x=e,this.width=r-e,this.y=o,this.height=d-o,this},a}(),Ar=function(){function a(i,e,r){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=i,this.y=e,this.radius=r,this.type=Xt.CIRC}return a.prototype.clone=function(){return new a(this.x,this.y,this.radius)},a.prototype.contains=function(i,e){if(this.radius<=0)return!1;var o=this.x-i,d=this.y-e;return(o*=o)+(d*=d)<=this.radius*this.radius},a.prototype.getBounds=function(){return new ut(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},a}(),Mi=function(){function a(i,e,r,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=i,this.y=e,this.width=r,this.height=o,this.type=Xt.ELIP}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.contains=function(i,e){if(this.width<=0||this.height<=0)return!1;var r=(i-this.x)/this.width,o=(e-this.y)/this.height;return(r*=r)+(o*=o)<=1},a.prototype.getBounds=function(){return new ut(this.x-this.width,this.y-this.height,this.width,this.height)},a}(),Tn=function(){function a(){for(var i=arguments,e=[],r=0;r<arguments.length;r++)e[r]=i[r];var o=Array.isArray(e[0])?e[0]:e;if("number"!=typeof o[0]){for(var d=[],p=0,m=o.length;p<m;p++)d.push(o[p].x,o[p].y);o=d}this.points=o,this.type=Xt.POLY,this.closeStroke=!0}return a.prototype.clone=function(){var e=new a(this.points.slice());return e.closeStroke=this.closeStroke,e},a.prototype.contains=function(i,e){for(var r=!1,o=this.points.length/2,d=0,p=o-1;d<o;p=d++){var m=this.points[2*d],w=this.points[2*d+1],A=this.points[2*p+1];w>e!=A>e&&i<(e-w)/(A-w)*(this.points[2*p]-m)+m&&(r=!r)}return r},a}(),So=function(){function a(i,e,r,o,d){void 0===i&&(i=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===d&&(d=20),this.x=i,this.y=e,this.width=r,this.height=o,this.radius=d,this.type=Xt.RREC}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)},a.prototype.contains=function(i,e){if(this.width<=0||this.height<=0)return!1;if(i>=this.x&&i<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||i>=this.x+this.radius&&i<=this.x+this.width-this.radius)return!0;var r=i-(this.x+this.radius),o=e-(this.y+this.radius),d=this.radius*this.radius;if(r*r+o*o<=d||(r=i-(this.x+this.width-this.radius))*r+o*o<=d||r*r+(o=e-(this.y+this.height-this.radius))*o<=d||(r=i-(this.x+this.radius))*r+o*o<=d)return!0}return!1},a}(),tn=function(){function a(i,e){void 0===i&&(i=0),void 0===e&&(e=0),this.x=i,this.y=e}return a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.copyFrom=function(i){return this.set(i.x,i.y),this},a.prototype.copyTo=function(i){return i.set(this.x,this.y),i},a.prototype.equals=function(i){return i.x===this.x&&i.y===this.y},a.prototype.set=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),this.x=i,this.y=e,this},a}(),Pr=function(){function a(i,e,r,o){void 0===r&&(r=0),void 0===o&&(o=0),this._x=r,this._y=o,this.cb=i,this.scope=e}return a.prototype.clone=function(i,e){return void 0===i&&(i=this.cb),void 0===e&&(e=this.scope),new a(i,e,this._x,this._y)},a.prototype.set=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=i),(this._x!==i||this._y!==e)&&(this._x=i,this._y=e,this.cb.call(this.scope)),this},a.prototype.copyFrom=function(i){return(this._x!==i.x||this._y!==i.y)&&(this._x=i.x,this._y=i.y,this.cb.call(this.scope)),this},a.prototype.copyTo=function(i){return i.set(this._x,this._y),i},a.prototype.equals=function(i){return i.x===this._x&&i.y===this._y},Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(i){this._x!==i&&(this._x=i,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(i){this._y!==i&&(this._y=i,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),a}(),Kt=function(){function a(i,e,r,o,d,p){void 0===i&&(i=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===d&&(d=0),void 0===p&&(p=0),this.array=null,this.a=i,this.b=e,this.c=r,this.d=o,this.tx=d,this.ty=p}return a.prototype.fromArray=function(i){this.a=i[0],this.b=i[1],this.c=i[3],this.d=i[4],this.tx=i[2],this.ty=i[5]},a.prototype.set=function(i,e,r,o,d,p){return this.a=i,this.b=e,this.c=r,this.d=o,this.tx=d,this.ty=p,this},a.prototype.toArray=function(i,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return i?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},a.prototype.apply=function(i,e){e=e||new tn;var r=i.x,o=i.y;return e.x=this.a*r+this.c*o+this.tx,e.y=this.b*r+this.d*o+this.ty,e},a.prototype.applyInverse=function(i,e){e=e||new tn;var r=1/(this.a*this.d+this.c*-this.b),o=i.x,d=i.y;return e.x=this.d*r*o+-this.c*r*d+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*d+-this.b*r*o+(-this.ty*this.a+this.tx*this.b)*r,e},a.prototype.translate=function(i,e){return this.tx+=i,this.ty+=e,this},a.prototype.scale=function(i,e){return this.a*=i,this.d*=e,this.c*=i,this.b*=e,this.tx*=i,this.ty*=e,this},a.prototype.rotate=function(i){var e=Math.cos(i),r=Math.sin(i),o=this.a,d=this.c,p=this.tx;return this.a=o*e-this.b*r,this.b=o*r+this.b*e,this.c=d*e-this.d*r,this.d=d*r+this.d*e,this.tx=p*e-this.ty*r,this.ty=p*r+this.ty*e,this},a.prototype.append=function(i){var e=this.a,r=this.b,o=this.c,d=this.d;return this.a=i.a*e+i.b*o,this.b=i.a*r+i.b*d,this.c=i.c*e+i.d*o,this.d=i.c*r+i.d*d,this.tx=i.tx*e+i.ty*o+this.tx,this.ty=i.tx*r+i.ty*d+this.ty,this},a.prototype.setTransform=function(i,e,r,o,d,p,m,w,x){return this.a=Math.cos(m+x)*d,this.b=Math.sin(m+x)*d,this.c=-Math.sin(m-w)*p,this.d=Math.cos(m-w)*p,this.tx=i-(r*this.a+o*this.c),this.ty=e-(r*this.b+o*this.d),this},a.prototype.prepend=function(i){var e=this.tx;if(1!==i.a||0!==i.b||0!==i.c||1!==i.d){var r=this.a,o=this.c;this.a=r*i.a+this.b*i.c,this.b=r*i.b+this.b*i.d,this.c=o*i.a+this.d*i.c,this.d=o*i.b+this.d*i.d}return this.tx=e*i.a+this.ty*i.c+i.tx,this.ty=e*i.b+this.ty*i.d+i.ty,this},a.prototype.decompose=function(i){var e=this.a,r=this.b,o=this.c,d=this.d,p=-Math.atan2(-o,d),m=Math.atan2(r,e),w=Math.abs(p+m);return w<1e-5||Math.abs(js-w)<1e-5?(i.rotation=m,i.skew.x=i.skew.y=0):(i.rotation=0,i.skew.x=p,i.skew.y=m),i.scale.x=Math.sqrt(e*e+r*r),i.scale.y=Math.sqrt(o*o+d*d),i.position.x=this.tx,i.position.y=this.ty,i},a.prototype.invert=function(){var i=this.a,e=this.b,r=this.c,o=this.d,d=this.tx,p=i*o-e*r;return this.a=o/p,this.b=-e/p,this.c=-r/p,this.d=i/p,this.tx=(r*this.ty-o*d)/p,this.ty=-(i*this.ty-e*d)/p,this},a.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},a.prototype.clone=function(){var i=new a;return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},a.prototype.copyTo=function(i){return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},a.prototype.copyFrom=function(i){return this.a=i.a,this.b=i.b,this.c=i.c,this.d=i.d,this.tx=i.tx,this.ty=i.ty,this},Object.defineProperty(a,"IDENTITY",{get:function(){return new a},enumerable:!1,configurable:!0}),Object.defineProperty(a,"TEMP_MATRIX",{get:function(){return new a},enumerable:!1,configurable:!0}),a}(),qn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$t=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Mr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],dn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ue=[],_t=[],Ut=Math.sign;!function(){for(var a=0;a<16;a++){var i=[];Ue.push(i);for(var e=0;e<16;e++)for(var r=Ut(qn[a]*qn[e]+Mr[a]*$t[e]),o=Ut($t[a]*qn[e]+dn[a]*$t[e]),d=Ut(qn[a]*Mr[e]+Mr[a]*dn[e]),p=Ut($t[a]*Mr[e]+dn[a]*dn[e]),m=0;m<16;m++)if(qn[m]===r&&$t[m]===o&&Mr[m]===d&&dn[m]===p){i.push(m);break}}for(a=0;a<16;a++){var w=new Kt;w.set(qn[a],$t[a],Mr[a],dn[a],0,0),_t.push(w)}}();var Ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(a){return qn[a]},uY:function(a){return $t[a]},vX:function(a){return Mr[a]},vY:function(a){return dn[a]},inv:function(a){return 8&a?15&a:7&-a},add:function(a,i){return Ue[a][i]},sub:function(a,i){return Ue[a][Ft.inv(i)]},rotate180:function(a){return 4^a},isVertical:function(a){return 2==(3&a)},byDirection:function(a,i){return 2*Math.abs(a)<=Math.abs(i)?i>=0?Ft.S:Ft.N:2*Math.abs(i)<=Math.abs(a)?a>0?Ft.E:Ft.W:i>0?a>0?Ft.SE:Ft.SW:a>0?Ft.NE:Ft.NW},matrixAppendRotationInv:function(a,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=_t[Ft.inv(i)];o.tx=e,o.ty=r,a.append(o)}},pn=function(){function a(){this.worldTransform=new Kt,this.localTransform=new Kt,this.position=new Pr(this.onChange,this,0,0),this.scale=new Pr(this.onChange,this,1,1),this.pivot=new Pr(this.onChange,this,0,0),this.skew=new Pr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return a.prototype.onChange=function(){this._localID++},a.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},a.prototype.updateLocalTransform=function(){var i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)},a.prototype.updateTransform=function(i){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){var r=i.worldTransform,o=this.worldTransform;o.a=e.a*r.a+e.b*r.c,o.b=e.a*r.b+e.b*r.d,o.c=e.c*r.a+e.d*r.c,o.d=e.c*r.b+e.d*r.d,o.tx=e.tx*r.a+e.ty*r.c+r.tx,o.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=i._worldID,this._worldID++}},a.prototype.setFromMatrix=function(i){i.decompose(this),this._localID++},Object.defineProperty(a.prototype,"rotation",{get:function(){return this._rotation},set:function(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())},enumerable:!1,configurable:!0}),a.IDENTITY=new a,a}();O.SORTABLE_CHILDREN=!1;var Or=function(){function a(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return a.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},a.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},a.prototype.getRectangle=function(i){return this.minX>this.maxX||this.minY>this.maxY?ut.EMPTY:((i=i||new ut(0,0,1,1)).x=this.minX,i.y=this.minY,i.width=this.maxX-this.minX,i.height=this.maxY-this.minY,i)},a.prototype.addPoint=function(i){this.minX=Math.min(this.minX,i.x),this.maxX=Math.max(this.maxX,i.x),this.minY=Math.min(this.minY,i.y),this.maxY=Math.max(this.maxY,i.y)},a.prototype.addQuad=function(i){var e=this.minX,r=this.minY,o=this.maxX,d=this.maxY,p=i[0],m=i[1];e=p<e?p:e,r=m<r?m:r,o=p>o?p:o,d=m>d?m:d,e=(p=i[2])<e?p:e,r=(m=i[3])<r?m:r,o=p>o?p:o,d=m>d?m:d,e=(p=i[4])<e?p:e,r=(m=i[5])<r?m:r,o=p>o?p:o,d=m>d?m:d,r=(m=i[7])<r?m:r,o=(p=i[6])>o?p:o,d=m>d?m:d,this.minX=e=p<e?p:e,this.minY=r,this.maxX=o,this.maxY=d},a.prototype.addFrame=function(i,e,r,o,d){this.addFrameMatrix(i.worldTransform,e,r,o,d)},a.prototype.addFrameMatrix=function(i,e,r,o,d){var p=i.a,m=i.b,w=i.c,x=i.d,A=i.tx,I=i.ty,S=this.minX,R=this.minY,L=this.maxX,U=this.maxY,W=p*e+w*r+A,fe=m*e+x*r+I;S=W<S?W:S,R=fe<R?fe:R,L=W>L?W:L,U=fe>U?fe:U,S=(W=p*o+w*r+A)<S?W:S,R=(fe=m*o+x*r+I)<R?fe:R,L=W>L?W:L,U=fe>U?fe:U,S=(W=p*e+w*d+A)<S?W:S,R=(fe=m*e+x*d+I)<R?fe:R,L=W>L?W:L,U=fe>U?fe:U,R=(fe=m*o+x*d+I)<R?fe:R,L=(W=p*o+w*d+A)>L?W:L,U=fe>U?fe:U,this.minX=S=W<S?W:S,this.minY=R,this.maxX=L,this.maxY=U},a.prototype.addVertexData=function(i,e,r){for(var o=this.minX,d=this.minY,p=this.maxX,m=this.maxY,w=e;w<r;w+=2){var x=i[w],A=i[w+1];o=x<o?x:o,d=A<d?A:d,p=x>p?x:p,m=A>m?A:m}this.minX=o,this.minY=d,this.maxX=p,this.maxY=m},a.prototype.addVertices=function(i,e,r,o){this.addVerticesMatrix(i.worldTransform,e,r,o)},a.prototype.addVerticesMatrix=function(i,e,r,o,d,p){void 0===d&&(d=0),void 0===p&&(p=d);for(var m=i.a,w=i.b,x=i.c,A=i.d,I=i.tx,S=i.ty,R=this.minX,L=this.minY,U=this.maxX,W=this.maxY,fe=r;fe<o;fe+=2){var Ne=e[fe],_e=e[fe+1],Ge=m*Ne+x*_e+I,Ce=A*_e+w*Ne+S;R=Math.min(R,Ge-d),U=Math.max(U,Ge+d),L=Math.min(L,Ce-p),W=Math.max(W,Ce+p)}this.minX=R,this.minY=L,this.maxX=U,this.maxY=W},a.prototype.addBounds=function(i){var e=this.minX,r=this.minY,o=this.maxX,d=this.maxY;this.minX=i.minX<e?i.minX:e,this.minY=i.minY<r?i.minY:r,this.maxX=i.maxX>o?i.maxX:o,this.maxY=i.maxY>d?i.maxY:d},a.prototype.addBoundsMask=function(i,e){var r=i.minX>e.minX?i.minX:e.minX,o=i.minY>e.minY?i.minY:e.minY,d=i.maxX<e.maxX?i.maxX:e.maxX,p=i.maxY<e.maxY?i.maxY:e.maxY;if(r<=d&&o<=p){var m=this.minX,w=this.minY,x=this.maxX,A=this.maxY;this.minX=r<m?r:m,this.minY=o<w?o:w,this.maxX=d>x?d:x,this.maxY=p>A?p:A}},a.prototype.addBoundsMatrix=function(i,e){this.addFrameMatrix(e,i.minX,i.minY,i.maxX,i.maxY)},a.prototype.addBoundsArea=function(i,e){var r=i.minX>e.x?i.minX:e.x,o=i.minY>e.y?i.minY:e.y,d=i.maxX<e.x+e.width?i.maxX:e.x+e.width,p=i.maxY<e.y+e.height?i.maxY:e.y+e.height;if(r<=d&&o<=p){var m=this.minX,w=this.minY,x=this.maxX,A=this.maxY;this.minX=r<m?r:m,this.minY=o<w?o:w,this.maxX=d>x?d:x,this.maxY=p>A?p:A}},a.prototype.pad=function(i,e){void 0===i&&(i=0),void 0===e&&(e=i),this.isEmpty()||(this.minX-=i,this.maxX+=i,this.minY-=e,this.maxY+=e)},a.prototype.addFramePad=function(i,e,r,o,d,p){e-=p,r+=d,o+=p,this.minX=this.minX<(i-=d)?this.minX:i,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>o?this.maxY:o},a}(),Wt=function(a,i){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function ss(a,i){function e(){this.constructor=a}Wt(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Yt=function(a){function i(){var e=a.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new pn,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Or,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return ss(i,a),i.mixin=function(e){for(var r=Object.keys(e),o=0;o<r.length;++o){var d=r[o];Object.defineProperty(i.prototype,d,Object.getOwnPropertyDescriptor(e,d))}},i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.prototype.getBounds=function(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new ut),r=this._boundsRect),this._bounds.getRectangle(r)},i.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new ut),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Or);var r=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var d=this._bounds,p=this._boundsID;this._bounds=this._localBounds;var m=this.getBounds(!1,e);return this.parent=o,this.transform=r,this._bounds=d,this._bounds.updateID+=this._boundsID-p,m},i.prototype.toGlobal=function(e,r,o){return void 0===o&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)},i.prototype.toLocal=function(e,r,o,d){return r&&(e=r.toGlobal(e,o,d)),d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,o)},i.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},i.prototype.setTransform=function(e,r,o,d,p,m,w,x,A){return void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===d&&(d=1),void 0===p&&(p=0),void 0===m&&(m=0),void 0===w&&(w=0),void 0===x&&(x=0),void 0===A&&(A=0),this.position.x=e,this.position.y=r,this.scale.x=o||1,this.scale.y=d||1,this.rotation=p,this.skew.x=m,this.skew.y=w,this.pivot.x=x,this.pivot.y=A,this},i.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(i.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new pt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),i.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},i.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(i.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.transform.rotation*Ua},set:function(e){this.transform.rotation=e*Hs},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._mask},set:function(e){var r;this._mask&&((r=this._mask.maskObject||this._mask).renderable=!0,r.isMask=!1),this._mask=e,this._mask&&((r=this._mask.maskObject||this._mask).renderable=!1,r.isMask=!0)},enumerable:!1,configurable:!0}),i}(H()),pt=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.sortDirty=null,e}return ss(i,a),i}(Yt);function Vs(a,i){return a.zIndex===i.zIndex?a._lastSortedIndex-i._lastSortedIndex:a.zIndex-i.zIndex}Yt.prototype.displayObjectUpdateTransform=Yt.prototype.updateTransform;var bn=function(a){function i(){var e=a.call(this)||this;return e.children=[],e.sortableChildren=O.SORTABLE_CHILDREN,e.sortDirty=!1,e}return ss(i,a),i.prototype.onChildrenChange=function(e){},i.prototype.addChild=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];if(r.length>1)for(var d=0;d<r.length;d++)this.addChild(r[d]);else{var p=r[0];p.parent&&p.parent.removeChild(p),p.parent=this,this.sortDirty=!0,p.transform._parentID=-1,this.children.push(p),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",p,this,this.children.length-1),p.emit("added",this)}return r[0]},i.prototype.addChildAt=function(e,r){if(r<0||r>this.children.length)throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e},i.prototype.swapChildren=function(e,r){if(e!==r){var o=this.getChildIndex(e),d=this.getChildIndex(r);this.children[o]=r,this.children[d]=e,this.onChildrenChange(o<d?o:d)}},i.prototype.getChildIndex=function(e){var r=this.children.indexOf(e);if(-1===r)throw new Error("The supplied DisplayObject must be a child of the caller");return r},i.prototype.setChildIndex=function(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(e);Bt(this.children,o,1),this.children.splice(r,0,e),this.onChildrenChange(r)},i.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},i.prototype.removeChild=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];if(r.length>1)for(var d=0;d<r.length;d++)this.removeChild(r[d]);else{var p=r[0],m=this.children.indexOf(p);if(-1===m)return null;p.parent=null,p.transform._parentID=-1,Bt(this.children,m,1),this._boundsID++,this.onChildrenChange(m),p.emit("removed",this),this.emit("childRemoved",p,this,m)}return r[0]},i.prototype.removeChildAt=function(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Bt(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r},i.prototype.removeChildren=function(e,r){void 0===e&&(e=0),void 0===r&&(r=this.children.length);var m,p=r-e;if(p>0&&p<=r){m=this.children.splice(e,p);for(var w=0;w<m.length;++w)m[w].parent=null,m[w].transform&&(m[w].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),w=0;w<m.length;++w)m[w].emit("removed",this),this.emit("childRemoved",m[w],this,w);return m}if(0===p&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.sortChildren=function(){for(var e=!1,r=0,o=this.children.length;r<o;++r){var d=this.children[r];d._lastSortedIndex=r,!e&&0!==d.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Vs),this.sortDirty=!1},i.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var o=this.children[e];o.visible&&o.updateTransform()}},i.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];if(r.visible&&r.renderable)if(r.calculateBounds(),r._mask){var o=r._mask.maskObject||r._mask;o.calculateBounds(),this._bounds.addBoundsMask(r._bounds,o._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},i.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var o=a.prototype.getLocalBounds.call(this,e);if(!r)for(var d=0,p=this.children.length;d<p;++d){var m=this.children[d];m.visible&&m.updateTransform()}return o},i.prototype._calculateBounds=function(){},i.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var r=0,o=this.children.length;r<o;++r)this.children[r].render(e)}},i.prototype.renderAdvanced=function(e){e.batch.flush();var r=this.filters,o=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var d=0;d<r.length;d++)r[d].enabled&&this._enabledFilters.push(r[d]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}o&&e.mask.push(this,this._mask),this._render(e),d=0;for(var p=this.children.length;d<p;d++)this.children[d].render(e);e.batch.flush(),o&&e.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},i.prototype._render=function(e){},i.prototype.destroy=function(e){a.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,o=this.removeChildren(0,this.children.length);if(r)for(var d=0;d<o.length;++d)o[d].destroy(e)},Object.defineProperty(i.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var r=this.getLocalBounds().width;this.scale.x=0!==r?e/r:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var r=this.getLocalBounds().height;this.scale.y=0!==r?e/r:1,this._height=e},enumerable:!1,configurable:!0}),i}(Yt);bn.prototype.containerUpdateTransform=bn.prototype.updateTransform,Yt.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var gr=function(){function a(i){this._hookDiv=null,(de.tablet||de.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=i,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(a.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),a.prototype.createTouchHook=function(){var i=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){i._isMobileAccessibility=!0,i.activate(),i.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},a.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},a.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},a.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},a.prototype.updateAccessibleObjects=function(i){if(i.visible&&i.accessibleChildren){i.accessible&&i.interactive&&(i._accessibleActive||this.addChild(i),i.renderId=this.renderId);for(var e=i.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},a.prototype.update=function(){var i=performance.now();if(!(de.android.device&&i<this.androidUpdateCount)&&(this.androidUpdateCount=i+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,o=e.width/this.renderer.width*r,d=e.height/this.renderer.height*r,p=this.div;p.style.left=e.left+"px",p.style.top=e.top+"px",p.style.width=this.renderer.width+"px",p.style.height=this.renderer.height+"px";for(var m=0;m<this.children.length;m++){var w=this.children[m];if(w.renderId!==this.renderId)w._accessibleActive=!1,Bt(this.children,m,1),this.div.removeChild(w._accessibleDiv),this.pool.push(w._accessibleDiv),w._accessibleDiv=null,m--;else{p=w._accessibleDiv;var x=w.hitArea,A=w.worldTransform;w.hitArea?(p.style.left=(A.tx+x.x*A.a)*o+"px",p.style.top=(A.ty+x.y*A.d)*d+"px",p.style.width=x.width*A.a*o+"px",p.style.height=x.height*A.d*d+"px"):(x=w.getBounds(),this.capHitArea(x),p.style.left=x.x*o+"px",p.style.top=x.y*d+"px",p.style.width=x.width*o+"px",p.style.height=x.height*d+"px",p.title!==w.accessibleTitle&&null!==w.accessibleTitle&&(p.title=w.accessibleTitle),p.getAttribute("aria-label")!==w.accessibleHint&&null!==w.accessibleHint&&p.setAttribute("aria-label",w.accessibleHint)),(w.accessibleTitle!==p.title||w.tabIndex!==p.tabIndex)&&(p.title=w.accessibleTitle,p.tabIndex=w.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},a.prototype.updateDebugHTML=function(i){i.innerHTML="type: "+i.type+"</br> title : "+i.title+"</br> tabIndex: "+i.tabIndex},a.prototype.capHitArea=function(i){i.x<0&&(i.width+=i.x,i.x=0),i.y<0&&(i.height+=i.y,i.y=0),i.x+i.width>this.renderer.width&&(i.width=this.renderer.width-i.x),i.y+i.height>this.renderer.height&&(i.height=this.renderer.height-i.y)},a.prototype.addChild=function(i){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=i.accessiblePointerEvents,e.type=i.accessibleType,i.accessibleTitle&&null!==i.accessibleTitle?e.title=i.accessibleTitle:(!i.accessibleHint||null===i.accessibleHint)&&(e.title="displayObject "+i.tabIndex),i.accessibleHint&&null!==i.accessibleHint&&e.setAttribute("aria-label",i.accessibleHint),this.debug&&this.updateDebugHTML(e),i._accessibleActive=!0,i._accessibleDiv=e,e.displayObject=i,this.children.push(i),this.div.appendChild(i._accessibleDiv),i._accessibleDiv.tabIndex=i.tabIndex},a.prototype._onClick=function(i){var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"click",e.eventData),e.dispatchEvent(i.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(i.target.displayObject,"tap",e.eventData)},a.prototype._onFocus=function(i){i.target.getAttribute("aria-live")||i.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"mouseover",e.eventData)},a.prototype._onFocusOut=function(i){i.target.getAttribute("aria-live")||i.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(i.target.displayObject,"mouseout",e.eventData)},a.prototype._onKeyDown=function(i){9===i.keyCode&&this.activate()},a.prototype._onMouseMove=function(i){0===i.movementX&&0===i.movementY||this.deactivate()},a.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},a}();O.TARGET_FPMS=.06;var ir=(()=>{return(a=ir||(ir={}))[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",ir;var a})(),as=function(){function a(i,e,r,o){void 0===e&&(e=null),void 0===r&&(r=0),void 0===o&&(o=!1),this.fn=i,this.context=e,this.priority=r,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return a.prototype.match=function(i,e){return void 0===e&&(e=null),this.fn===i&&this.context===e},a.prototype.emit=function(i){this.fn&&(this.context?this.fn.call(this.context,i):this.fn(i));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},a.prototype.connect=function(i){this.previous=i,i.next&&(i.next.previous=this),this.next=i.next,i.next=this},a.prototype.destroy=function(i){void 0===i&&(i=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=i?null:e,this.previous=null,e},a}(),on=function(){function a(){var i=this;this._head=new as(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/O.TARGET_FPMS,this.elapsedMS=1/O.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){i._requestId=null,i.started&&(i.update(e),i.started&&null===i._requestId&&i._head.next&&(i._requestId=requestAnimationFrame(i._tick)))}}return a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},a.prototype.add=function(i,e,r){return void 0===r&&(r=ir.NORMAL),this._addListener(new as(i,e,r))},a.prototype.addOnce=function(i,e,r){return void 0===r&&(r=ir.NORMAL),this._addListener(new as(i,e,r,!0))},a.prototype._addListener=function(i){var e=this._head.next,r=this._head;if(e){for(;e;){if(i.priority>e.priority){i.connect(r);break}r=e,e=e.next}i.previous||i.connect(r)}else i.connect(r);return this._startIfPossible(),this},a.prototype.remove=function(i,e){for(var r=this._head.next;r;)r=r.match(i,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(a.prototype,"count",{get:function(){if(!this._head)return 0;for(var i=0,e=this._head;e=e.next;)i++;return i},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},a.prototype.destroy=function(){if(!this._protected){this.stop();for(var i=this._head.next;i;)i=i.destroy(!0);this._head.destroy(),this._head=null}},a.prototype.update=function(i){var e;if(void 0===i&&(i=performance.now()),i>this.lastTime){if((e=this.elapsedMS=i-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=i-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=i-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*O.TARGET_FPMS;for(var o=this._head,d=o.next;d;)d=d.emit(this.deltaTime);o.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=i},Object.defineProperty(a.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(i){var e=Math.min(this.maxFPS,i),r=Math.min(Math.max(0,e)/1e3,O.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(i){if(0===i)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,i);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(a,"shared",{get:function(){if(!a._shared){var i=a._shared=new a;i.autoStart=!0,i._protected=!0}return a._shared},enumerable:!1,configurable:!0}),Object.defineProperty(a,"system",{get:function(){if(!a._system){var i=a._system=new a;i.autoStart=!0,i._protected=!0}return a._system},enumerable:!1,configurable:!0}),a}(),vr=function(){function a(){}return a.init=function(i){var e=this;i=Object.assign({autoStart:!0,sharedTicker:!1},i),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ir.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=i.sharedTicker?on.shared:new on,i.autoStart&&this.start()},a.destroy=function(){if(this._ticker){var i=this._ticker;this.ticker=null,i.destroy()}},a}(),el=function(){function a(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new tn,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(a.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),a.prototype.getLocalPosition=function(i,e,r){return i.worldTransform.applyInverse(r||this.global,e)},a.prototype.copyEvent=function(i){"isPrimary"in i&&i.isPrimary&&(this.isPrimary=!0),this.button="button"in i&&i.button;var e="buttons"in i&&i.buttons;this.buttons=Number.isInteger(e)?e:"which"in i&&i.which,this.width="width"in i&&i.width,this.height="height"in i&&i.height,this.tiltX="tiltX"in i&&i.tiltX,this.tiltY="tiltY"in i&&i.tiltY,this.pointerType="pointerType"in i&&i.pointerType,this.pressure="pressure"in i&&i.pressure,this.rotationAngle="rotationAngle"in i&&i.rotationAngle,this.twist="twist"in i&&i.twist||0,this.tangentialPressure="tangentialPressure"in i&&i.tangentialPressure||0},a.prototype.reset=function(){this.isPrimary=!1},a}(),tl=function(a,i){return(tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},gc=function(){function a(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return a.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},a.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},a}(),nl=function(){function a(i){this._pointerId=i,this._flags=a.FLAGS.NONE}return a.prototype._doSet=function(i,e){this._flags=e?this._flags|i:this._flags&~i},Object.defineProperty(a.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"flags",{get:function(){return this._flags},set:function(i){this._flags=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"none",{get:function(){return this._flags===a.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"over",{get:function(){return 0!=(this._flags&a.FLAGS.OVER)},set:function(i){this._doSet(a.FLAGS.OVER,i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rightDown",{get:function(){return 0!=(this._flags&a.FLAGS.RIGHT_DOWN)},set:function(i){this._doSet(a.FLAGS.RIGHT_DOWN,i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leftDown",{get:function(){return 0!=(this._flags&a.FLAGS.LEFT_DOWN)},set:function(i){this._doSet(a.FLAGS.LEFT_DOWN,i)},enumerable:!1,configurable:!0}),a.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),a}(),vc=function(){function a(){this._tempPoint=new tn}return a.prototype.recursiveFindHit=function(i,e,r,o,d){if(!e||!e.visible)return!1;var p=i.data.global,m=!1,w=d=e.interactive||d,x=!0;if(e.hitArea?(o&&(e.worldTransform.applyInverse(p,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?m=!0:(o=!1,x=!1)),w=!1):e._mask&&o&&(e._mask.containsPoint&&e._mask.containsPoint(p)||(o=!1)),x&&e.interactiveChildren&&e.children)for(var A=e.children,I=A.length-1;I>=0;I--){var S=A[I],R=this.recursiveFindHit(i,S,r,o,w);if(R){if(!S.parent)continue;w=!1,R&&(i.target&&(o=!1),m=!0)}}return d&&(o&&!i.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(p)&&(m=!0),e.interactive&&(m&&!i.target&&(i.target=e),r&&r(i,e,!!m))),m},a.prototype.findHit=function(i,e,r,o){this.recursiveFindHit(i,e,r,o,!1)},a}();Yt.mixin({interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(a){a?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0});var Ha={target:null,data:{global:null}},Eh=function(a){function i(e,r){var o=a.call(this)||this;return r=r||{},o.renderer=e,o.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,o.interactionFrequency=r.interactionFrequency||10,o.mouse=new el,o.mouse.identifier=1,o.mouse.global.set(-999999),o.activeInteractionData={},o.activeInteractionData[1]=o.mouse,o.interactionDataPool=[],o.eventData=new gc,o.interactionDOMElement=null,o.moveWhenInside=!1,o.eventsAdded=!1,o.tickerAdded=!1,o.mouseOverRenderer=!1,o.supportsTouchEvents="ontouchstart"in window,o.supportsPointerEvents=!!window.PointerEvent,o.onPointerUp=o.onPointerUp.bind(o),o.processPointerUp=o.processPointerUp.bind(o),o.onPointerCancel=o.onPointerCancel.bind(o),o.processPointerCancel=o.processPointerCancel.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.processPointerDown=o.processPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.processPointerMove=o.processPointerMove.bind(o),o.onPointerOut=o.onPointerOut.bind(o),o.processPointerOverOut=o.processPointerOverOut.bind(o),o.onPointerOver=o.onPointerOver.bind(o),o.cursorStyles={default:"inherit",pointer:"pointer"},o.currentCursorMode=null,o.cursor=null,o.resolution=1,o.delayedEvents=[],o.search=new vc,o._tempDisplayObject=new pt,o._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,o.setTargetElement(o.renderer.view,o.renderer.resolution),o}return function(a,i){function e(){this.constructor=a}tl(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),Object.defineProperty(i.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),i.prototype.hitTest=function(e,r){return Ha.target=null,Ha.data.global=e,r||(r=this.lastObjectRendered),this.processInteractive(Ha,r,null,!0),Ha.target},i.prototype.setTargetElement=function(e,r){void 0===r&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=r,this.addEvents(),this.addTickerListener()},i.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(on.system.add(this.tickerUpdate,this,ir.INTERACTION),this.tickerAdded=!0)},i.prototype.removeTickerListener=function(){!this.tickerAdded||(on.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},i.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},i.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},i.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},i.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var o=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(e){if(this.currentCursorMode!==(e=e||"default")){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(e);break;case"object":Object.assign(this.interactionDOMElement.style,r)}else"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},i.prototype.dispatchEvent=function(e,r,o){(!o.stopPropagationHint||e===o.stopsPropagatingAt)&&(o.currentTarget=e,o.type=r,e.emit(r,o),e[r]&&e[r](o))},i.prototype.delayDispatchEvent=function(e,r,o){this.delayedEvents.push({displayObject:e,eventString:r,eventData:o})},i.prototype.mapPositionToPoint=function(e,r,o){var d;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var p=1/this.resolution;e.x=this.interactionDOMElement.width/d.width*(r-d.left)*p,e.y=this.interactionDOMElement.height/d.height*(o-d.top)*p},i.prototype.processInteractive=function(e,r,o,d){var p=this.search.findHit(e,r,o,d),m=this.delayedEvents;if(!m.length)return p;e.stopPropagationHint=!1;var w=m.length;this.delayedEvents=[];for(var x=0;x<w;x++){var A=m[x],I=A.displayObject,S=A.eventString,R=A.eventData;R.stopsPropagatingAt===I&&(R.stopPropagationHint=!0),this.dispatchEvent(I,S,R)}return p},i.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var d=r.length,p=0;p<d;p++){var m=r[p],w=this.getInteractionDataForPointerId(m),x=this.configureInteractionEventForDOMEvent(this.eventData,m,w);x.data.originalEvent=e,this.processInteractive(x,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",x),"touch"===m.pointerType?this.emit("touchstart",x):"mouse"!==m.pointerType&&"pen"!==m.pointerType||this.emit(2===m.button?"rightdown":"mousedown",this.eventData)}}},i.prototype.processPointerDown=function(e,r,o){var d=e.data,p=e.data.identifier;if(o)if(r.trackedPointers[p]||(r.trackedPointers[p]=new nl(p)),this.dispatchEvent(r,"pointerdown",e),"touch"===d.pointerType)this.dispatchEvent(r,"touchstart",e);else if("mouse"===d.pointerType||"pen"===d.pointerType){var m=2===d.button;m?r.trackedPointers[p].rightDown=!0:r.trackedPointers[p].leftDown=!0,this.dispatchEvent(r,m?"rightdown":"mousedown",e)}},i.prototype.onPointerComplete=function(e,r,o){for(var d=this.normalizeToPointerData(e),p=d.length,m=e.target!==this.interactionDOMElement?"outside":"",w=0;w<p;w++){var x=d[w],A=this.getInteractionDataForPointerId(x),I=this.configureInteractionEventForDOMEvent(this.eventData,x,A);I.data.originalEvent=e,this.processInteractive(I,this.lastObjectRendered,o,r||!m),this.emit(r?"pointercancel":"pointerup"+m,I),"mouse"===x.pointerType||"pen"===x.pointerType?this.emit(2===x.button?"rightup"+m:"mouseup"+m,I):"touch"===x.pointerType&&(this.emit(r?"touchcancel":"touchend"+m,I),this.releaseInteractionDataForPointerId(x.pointerId))}},i.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(e,r){var o=e.data,d=e.data.identifier;void 0!==r.trackedPointers[d]&&(delete r.trackedPointers[d],this.dispatchEvent(r,"pointercancel",e),"touch"===o.pointerType&&this.dispatchEvent(r,"touchcancel",e))},i.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},i.prototype.processPointerUp=function(e,r,o){var d=e.data,p=e.data.identifier,m=r.trackedPointers[p],w="touch"===d.pointerType,x="mouse"===d.pointerType||"pen"===d.pointerType,A=!1;if(x){var I=2===d.button,S=nl.FLAGS,L=void 0!==m&&m.flags&(I?S.RIGHT_DOWN:S.LEFT_DOWN);o?(this.dispatchEvent(r,I?"rightup":"mouseup",e),L&&(this.dispatchEvent(r,I?"rightclick":"click",e),A=!0)):L&&this.dispatchEvent(r,I?"rightupoutside":"mouseupoutside",e),m&&(I?m.rightDown=!1:m.leftDown=!1)}o?(this.dispatchEvent(r,"pointerup",e),w&&this.dispatchEvent(r,"touchend",e),m&&((!x||A)&&this.dispatchEvent(r,"pointertap",e),w&&(this.dispatchEvent(r,"tap",e),m.over=!1))):m&&(this.dispatchEvent(r,"pointerupoutside",e),w&&this.dispatchEvent(r,"touchendoutside",e)),m&&m.none&&delete r.trackedPointers[p]},i.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);("mouse"===r[0].pointerType||"pen"===r[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var o=r.length,d=0;d<o;d++){var p=r[d],m=this.getInteractionDataForPointerId(p),w=this.configureInteractionEventForDOMEvent(this.eventData,p,m);w.data.originalEvent=e,this.processInteractive(w,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",w),"touch"===p.pointerType&&this.emit("touchmove",w),("mouse"===p.pointerType||"pen"===p.pointerType)&&this.emit("mousemove",w)}"mouse"===r[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(e,r,o){var d=e.data,p="touch"===d.pointerType,m="mouse"===d.pointerType||"pen"===d.pointerType;m&&this.processPointerOverOut(e,r,o),(!this.moveWhenInside||o)&&(this.dispatchEvent(r,"pointermove",e),p&&this.dispatchEvent(r,"touchmove",e),m&&this.dispatchEvent(r,"mousemove",e))},i.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var o=this.normalizeToPointerData(e)[0];"mouse"===o.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var d=this.getInteractionDataForPointerId(o),p=this.configureInteractionEventForDOMEvent(this.eventData,o,d);p.data.originalEvent=o,this.processInteractive(p,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",p),"mouse"===o.pointerType||"pen"===o.pointerType?this.emit("mouseout",p):this.releaseInteractionDataForPointerId(d.identifier)}},i.prototype.processPointerOverOut=function(e,r,o){var d=e.data,p=e.data.identifier,m="mouse"===d.pointerType||"pen"===d.pointerType,w=r.trackedPointers[p];o&&!w&&(w=r.trackedPointers[p]=new nl(p)),void 0!==w&&(o&&this.mouseOverRenderer?(w.over||(w.over=!0,this.delayDispatchEvent(r,"pointerover",e),m&&this.delayDispatchEvent(r,"mouseover",e)),m&&null===this.cursor&&(this.cursor=r.cursor)):w.over&&(w.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),m&&this.dispatchEvent(r,"mouseout",e),w.none&&delete r.trackedPointers[p]))},i.prototype.onPointerOver=function(e){var o=this.normalizeToPointerData(e)[0],d=this.getInteractionDataForPointerId(o),p=this.configureInteractionEventForDOMEvent(this.eventData,o,d);p.data.originalEvent=o,"mouse"===o.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",p),("mouse"===o.pointerType||"pen"===o.pointerType)&&this.emit("mouseover",p)},i.prototype.getInteractionDataForPointerId=function(e){var o,r=e.pointerId;return 1===r||"mouse"===e.pointerType?o=this.mouse:this.activeInteractionData[r]?o=this.activeInteractionData[r]:((o=this.interactionDataPool.pop()||new el).identifier=r,this.activeInteractionData[r]=o),o.copyEvent(e),o},i.prototype.releaseInteractionDataForPointerId=function(e){var r=this.activeInteractionData[e];r&&(delete this.activeInteractionData[e],r.reset(),this.interactionDataPool.push(r))},i.prototype.configureInteractionEventForDOMEvent=function(e,r,o){return e.data=o,this.mapPositionToPoint(o.global,r.clientX,r.clientY),"touch"===r.pointerType&&(r.globalX=o.global.x,r.globalY=o.global.y),o.originalEvent=r,e.reset(),e},i.prototype.normalizeToPointerData=function(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var o=0,d=e.changedTouches.length;o<d;o++){var p=e.changedTouches[o];void 0===p.button&&(p.button=e.touches.length?1:0),void 0===p.buttons&&(p.buttons=e.touches.length?1:0),void 0===p.isPrimary&&(p.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===p.width&&(p.width=p.radiusX||1),void 0===p.height&&(p.height=p.radiusY||1),void 0===p.tiltX&&(p.tiltX=0),void 0===p.tiltY&&(p.tiltY=0),void 0===p.pointerType&&(p.pointerType="touch"),void 0===p.pointerId&&(p.pointerId=p.identifier||0),void 0===p.pressure&&(p.pressure=p.force||.5),void 0===p.twist&&(p.twist=0),void 0===p.tangentialPressure&&(p.tangentialPressure=0),void 0===p.layerX&&(p.layerX=p.offsetX=p.clientX),void 0===p.layerY&&(p.layerY=p.offsetY=p.clientY),p.isNormalized=!0,r.push(p)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)r.push(e);else{var m=e;void 0===m.isPrimary&&(m.isPrimary=!0),void 0===m.width&&(m.width=1),void 0===m.height&&(m.height=1),void 0===m.tiltX&&(m.tiltX=0),void 0===m.tiltY&&(m.tiltY=0),void 0===m.pointerType&&(m.pointerType="mouse"),void 0===m.pointerId&&(m.pointerId=1),void 0===m.pressure&&(m.pressure=.5),void 0===m.twist&&(m.twist=0),void 0===m.tangentialPressure&&(m.tangentialPressure=0),m.isNormalized=!0,r.push(m)}return r},i.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},i}(H()),An=function(){function a(i){this.items=[],this._name=i,this._aliasCount=0}return a.prototype.emit=function(i,e,r,o,d,p,m,w){if(arguments.length>8)throw new Error("max arguments reached");var x=this,A=x.name,I=x.items;this._aliasCount++;for(var S=0,R=I.length;S<R;S++)I[S][A](i,e,r,o,d,p,m,w);return I===this.items&&this._aliasCount--,this},a.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},a.prototype.add=function(i){return i[this._name]&&(this.ensureNonAliasedItems(),this.remove(i),this.items.push(i)),this},a.prototype.remove=function(i){var e=this.items.indexOf(i);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},a.prototype.contains=function(i){return-1!==this.items.indexOf(i)},a.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},a.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(a.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),a}();Object.defineProperties(An.prototype,{dispatch:{value:An.prototype.emit},run:{value:An.prototype.emit}}),O.PREFER_ENV=de.any?K.WEBGL:K.WEBGL2,O.STRICT_TEXTURE_CACHE=!1;var Va=[];function Ga(a,i){if(!a)return null;var e="";if("string"==typeof a){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(a);r&&(e=r[1].toLowerCase())}for(var o=Va.length-1;o>=0;--o){var d=Va[o];if(d.test&&d.test(a,e))return new d(a,i)}throw new Error("Unrecognized source type to auto-detect Resource")}var rl=function(a,i){return(rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function bt(a,i){function e(){this.constructor=a}rl(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var zs=function(){function a(i,e){void 0===i&&(i=0),void 0===e&&(e=0),this._width=i,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new An("setRealSize"),this.onUpdate=new An("update"),this.onError=new An("onError")}return a.prototype.bind=function(i){this.onResize.add(i),this.onUpdate.add(i),this.onError.add(i),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},a.prototype.unbind=function(i){this.onResize.remove(i),this.onUpdate.remove(i),this.onError.remove(i)},a.prototype.resize=function(i,e){(i!==this._width||e!==this._height)&&(this._width=i,this._height=e,this.onResize.emit(i,e))},Object.defineProperty(a.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),a.prototype.update=function(){this.destroyed||this.onUpdate.emit()},a.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(a.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),a.prototype.style=function(i,e,r){return!1},a.prototype.dispose=function(){},a.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},a.test=function(i,e){return!1},a}(),Xs=function(a){function i(e,r){var o=this,d=r||{},p=d.width,m=d.height;if(!p||!m)throw new Error("BufferResource width or height invalid");return(o=a.call(this,p,m)||this).data=e,o}return bt(i,a),i.prototype.upload=function(e,r,o){var d=e.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===St.UNPACK),o.width===r.width&&o.height===r.height?d.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(o.width=r.width,o.height=r.height,d.texImage2D(r.target,0,o.internalFormat,r.width,r.height,0,r.format,o.type,this.data)),!0},i.prototype.dispose=function(){this.data=null},i.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},i}(zs),il={scaleMode:Re.NEAREST,format:ze.RGBA,alphaMode:St.NPM},zt=function(a){function i(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var o=a.call(this)||this,d=(r=r||{}).alphaMode,p=r.mipmap,m=r.anisotropicLevel,w=r.scaleMode,x=r.width,A=r.height,I=r.wrapMode,S=r.format,R=r.type,L=r.target,U=r.resolution;return e&&!(e instanceof zs)&&((e=Ga(e,r.resourceOptions)).internal=!0),o.width=x||0,o.height=A||0,o.resolution=U||O.RESOLUTION,o.mipmap=void 0!==p?p:O.MIPMAP_TEXTURES,o.anisotropicLevel=void 0!==m?m:O.ANISOTROPIC_LEVEL,o.wrapMode=I||O.WRAP_MODE,o.scaleMode=void 0!==w?w:O.SCALE_MODE,o.format=S||ze.RGBA,o.type=R||Ae.UNSIGNED_BYTE,o.target=L||Ze.TEXTURE_2D,o.alphaMode=void 0!==d?d:St.UNPACK,void 0!==r.premultiplyAlpha&&(o.premultiplyAlpha=r.premultiplyAlpha),o.uid=nr(),o.touched=0,o.isPowerOfTwo=!1,o._refreshPOT(),o._glTextures={},o.dirtyId=0,o.dirtyStyleId=0,o.cacheId=null,o.valid=x>0&&A>0,o.textureCacheIds=[],o.destroyed=!1,o.resource=null,o._batchEnabled=0,o._batchLocation=0,o.parentTextureArray=null,o.setResource(e),o}return bt(i,a),Object.defineProperty(i.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),i.prototype.setStyle=function(e,r){var o;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,o=!0),void 0!==r&&r!==this.mipmap&&(this.mipmap=r,o=!0),o&&this.dirtyStyleId++,this},i.prototype.setSize=function(e,r,o){return this.resolution=o||this.resolution,this.width=e,this.height=r,this._refreshPOT(),this.update(),this},i.prototype.setRealSize=function(e,r,o){return this.resolution=o||this.resolution,this.width=e/this.resolution,this.height=r/this.resolution,this._refreshPOT(),this.update(),this},i.prototype._refreshPOT=function(){this.isPowerOfTwo=Ku(this.realWidth)&&Ku(this.realHeight)},i.prototype.setResolution=function(e){var r=this.resolution;return r===e||(this.resolution=e,this.valid&&(this.width=this.width*r/e,this.height=this.height*r/e,this.emit("update",this)),this._refreshPOT()),this},i.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},i.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},i.prototype.onError=function(e){this.emit("error",this,e)},i.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Yn[this.cacheId],delete In[this.cacheId],this.cacheId=null),this.dispose(),i.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},i.prototype.dispose=function(){this.emit("dispose",this)},i.prototype.castToBaseTexture=function(){return this},i.from=function(e,r,o){void 0===o&&(o=O.STRICT_TEXTURE_CACHE);var d="string"==typeof e,p=null;d?p=e:(e._pixiId||(e._pixiId="pixiid_"+nr()),p=e._pixiId);var m=Yn[p];if(d&&o&&!m)throw new Error('The cacheId "'+p+'" does not exist in BaseTextureCache.');return m||((m=new i(e,r)).cacheId=p,i.addToCache(m,p)),m},i.fromBuffer=function(e,r,o,d){e=e||new Float32Array(r*o*4);var p=new Xs(e,{width:r,height:o}),m=e instanceof Float32Array?Ae.FLOAT:Ae.UNSIGNED_BYTE;return new i(p,Object.assign(il,d||{width:r,height:o,type:m}))},i.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Yn[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Yn[r]=e)},i.removeFromCache=function(e){if("string"==typeof e){var r=Yn[e];if(r){var o=r.textureCacheIds.indexOf(e);return o>-1&&r.textureCacheIds.splice(o,1),delete Yn[e],r}}else if(e&&e.textureCacheIds){for(var d=0;d<e.textureCacheIds.length;++d)delete Yn[e.textureCacheIds[d]];return e.textureCacheIds.length=0,e}return null},i._globalBatch=0,i}(H()),Ao=function(a){function i(e,r){var o=this,d=r||{};(o=a.call(this,d.width,d.height)||this).items=[],o.itemDirtyIds=[];for(var w=0;w<e;w++){var x=new zt;o.items.push(x),o.itemDirtyIds.push(-2)}return o.length=e,o._load=null,o.baseTexture=null,o}return bt(i,a),i.prototype.initFromArray=function(e,r){for(var o=0;o<this.length;o++)!e[o]||(e[o].castToBaseTexture?this.addBaseTextureAt(e[o].castToBaseTexture(),o):this.addResourceAt(e[o]instanceof zs?e[o]:Ga(e[o],r),o))},i.prototype.dispose=function(){for(var e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},i.prototype.addResourceAt=function(e,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this},i.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");a.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},i.prototype.unbind=function(e){a.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},i.prototype.load=function(){var e=this;if(this._load)return this._load;var o=this.items.map(function(d){return d.resource}).filter(function(d){return d}).map(function(d){return d.load()});return this._load=Promise.all(o).then(function(){var d=e.items[0];return e.resize(d.realWidth,d.realHeight),Promise.resolve(e)}),this._load},i}(zs),mc=function(a){function i(e,r){var w,x,o=this,d=r||{},p=d.width,m=d.height;return Array.isArray(e)?(w=e,x=e.length):x=e,o=a.call(this,x,{width:p,height:m})||this,w&&o.initFromArray(w,r),o}return bt(i,a),i.prototype.addBaseTextureAt=function(e,r){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,r),this},i.prototype.bind=function(e){a.prototype.bind.call(this,e),e.target=Ze.TEXTURE_2D_ARRAY},i.prototype.upload=function(e,r,o){var d=this,p=d.length,m=d.itemDirtyIds,w=d.items,x=e.gl;o.dirtyId<0&&x.texImage3D(x.TEXTURE_2D_ARRAY,0,r.format,this._width,this._height,p,0,r.format,r.type,null);for(var A=0;A<p;A++){var I=w[A];m[A]<I.dirtyId&&(m[A]=I.dirtyId,I.valid&&x.texSubImage3D(x.TEXTURE_2D_ARRAY,0,0,0,A,I.resource.width,I.resource.height,1,r.format,r.type,I.resource.source))}return!0},i}(Ao),Xr=function(a){function i(e){var r=this;return(r=a.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,r.noSubImage=!1,r}return bt(i,a),i.crossOrigin=function(e,r,o){void 0===o&&0!==r.indexOf("data:")?e.crossOrigin=function(a,i){if(void 0===i&&(i=window.location),0===a.indexOf("data:"))return"";i=i||window.location,is||(is=document.createElement("a")),is.href=a;var e=(0,z.parse)(is.href);return e.hostname!==i.hostname||(e.port||""!==i.port)&&e.port!==i.port||e.protocol!==i.protocol?"anonymous":""}(r):!1!==o&&(e.crossOrigin="string"==typeof o?o:"anonymous")},i.prototype.upload=function(e,r,o,d){var p=e.gl,m=r.realWidth,w=r.realHeight;return d=d||this.source,p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===St.UNPACK),this.noSubImage||r.target!==p.TEXTURE_2D||o.width!==m||o.height!==w?(o.width=m,o.height=w,p.texImage2D(r.target,0,r.format,r.format,r.type,d)):p.texSubImage2D(p.TEXTURE_2D,0,0,0,r.format,r.type,d),!0},i.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),a.prototype.update.call(this)}},i.prototype.dispose=function(){this.source=null},i}(zs),sl=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return bt(i,a),i.test=function(e){var r=window.OffscreenCanvas;return!!(r&&e instanceof r)||e instanceof HTMLCanvasElement},i}(Xr),fi=function(a){function i(e,r){var o=this,d=r||{},p=d.width,m=d.height,w=d.autoLoad,x=d.linkBaseTexture;if(e&&e.length!==i.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");o=a.call(this,6,{width:p,height:m})||this;for(var A=0;A<i.SIDES;A++)o.items[A].target=Ze.TEXTURE_CUBE_MAP_POSITIVE_X+A;return o.linkBaseTexture=!1!==x,e&&o.initFromArray(e,r),!1!==w&&o.load(),o}return bt(i,a),i.prototype.bind=function(e){a.prototype.bind.call(this,e),e.target=Ze.TEXTURE_CUBE_MAP},i.prototype.addBaseTextureAt=function(e,r,o){if(void 0===o&&(o=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=Ze.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},i.prototype.upload=function(e,r,o){for(var d=this.itemDirtyIds,p=0;p<i.SIDES;p++){var m=this.items[p];d[p]<m.dirtyId&&(m.valid&&m.resource?(m.resource.upload(e,m,o),d[p]=m.dirtyId):d[p]<-1&&(e.gl.texImage2D(m.target,0,o.internalFormat,r.realWidth,r.realHeight,0,r.format,o.type,null),d[p]=-1))}return!0},i.test=function(e){return Array.isArray(e)&&e.length===i.SIDES},i.SIDES=6,i}(Ao),za=function(a){function i(e,r){var o=this;if(r=r||{},!(e instanceof HTMLImageElement)){var d=new Image;Xr.crossOrigin(d,e,r.crossorigin),d.src=e,e=d}return o=a.call(this,e)||this,!e.complete&&!!o._width&&!!o._height&&(o._width=0,o._height=0),o.url=e.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(void 0!==r.createBitmap?r.createBitmap:O.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,o.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(o.premultiplyAlpha=r.premultiplyAlpha),o.bitmap=null,o._load=null,!1!==r.autoLoad&&o.load(),o}return bt(i,a),i.prototype.load=function(e){var r=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(o,d){var p=r.source;r.url=p.src;var m=function(){r.destroyed||(p.onload=null,p.onerror=null,r.resize(p.width,p.height),r._load=null,o(r.createBitmap?r.process():r))};p.complete&&p.src?m():(p.onload=m,p.onerror=function(w){d(w),r.onError.emit(w)})})),this._load},i.prototype.process=function(){var e=this,r=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===St.UNPACK?"premultiply":"none"}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},i.prototype.upload=function(e,r,o){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return a.prototype.upload.call(this,e,r,o);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(a.prototype.upload.call(this,e,r,o,this.bitmap),!this.preserveBitmap){var d=!0,p=r._glTextures;for(var m in p){var w=p[m];if(w!==o&&w.dirtyId!==r.dirtyId){d=!1;break}}d&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},i.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,a.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},i.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},i}(Xr),Xa=function(a){function i(e,r){var o=this;return r=r||{},(o=a.call(this,document.createElement("canvas"))||this)._width=0,o._height=0,o.svg=e,o.scale=r.scale||1,o._overrideWidth=r.width,o._overrideHeight=r.height,o._resolve=null,o._crossorigin=r.crossorigin,o._load=null,!1!==r.autoLoad&&o.load(),o}return bt(i,a),i.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},i.prototype._loadSvg=function(){var e=this,r=new Image;Xr.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(o){!e._resolve||(r.onerror=null,e.onError.emit(o))},r.onload=function(){if(e._resolve){var o=r.width,d=r.height;if(!o||!d)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var p=o*e.scale,m=d*e.scale;(e._overrideWidth||e._overrideHeight)&&(p=e._overrideWidth||e._overrideHeight/d*o,m=e._overrideHeight||e._overrideWidth/o*d),p=Math.round(p),m=Math.round(m);var w=e.source;w.width=p,w.height=m,w._pixiId="canvas_"+nr(),w.getContext("2d").drawImage(r,0,0,o,d,0,0,p,m),e._resolve(),e._resolve=null}}},i.getSize=function(e){var r=i.SVG_SIZE.exec(e),o={};return r&&(o[r[1]]=Math.round(parseFloat(r[3])),o[r[5]]=Math.round(parseFloat(r[7]))),o},i.prototype.dispose=function(){a.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},i.test=function(e,r){return"svg"===r||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i}(Xr),ol=function(a){function i(e,r){var o=this;if(r=r||{},!(e instanceof HTMLVideoElement)){var d=document.createElement("video");d.setAttribute("preload","auto"),d.setAttribute("webkit-playsinline",""),d.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Xr.crossOrigin(d,e[0].src||e[0],r.crossorigin);for(var m=0;m<e.length;++m){var w=document.createElement("source"),x=e[m],A=x.src,I=x.mime,S=(A=A||e[m]).split("?").shift().toLowerCase(),R=S.substr(S.lastIndexOf(".")+1);I=I||i.MIME_TYPES[R]||"video/"+R,w.src=A,w.type=I,d.appendChild(w)}e=d}return(o=a.call(this,e)||this).noSubImage=!0,o._autoUpdate=!0,o._isConnectedToTicker=!1,o._updateFPS=r.updateFPS||0,o._msToNextUpdate=0,o.autoPlay=!1!==r.autoPlay,o._load=null,o._resolve=null,o._onCanPlay=o._onCanPlay.bind(o),o._onError=o._onError.bind(o),!1!==r.autoLoad&&o.load(),o}return bt(i,a),i.prototype.update=function(e){void 0===e&&(e=0),this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-on.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(a.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},i.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){e.valid?o(e):(e._resolve=o,r.load())}),this._load},i.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},i.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},i.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},i.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(on.shared.add(this.update,this),this._isConnectedToTicker=!0)},i.prototype._onPlayStop=function(){this._isConnectedToTicker&&(on.shared.remove(this.update,this),this._isConnectedToTicker=!1)},i.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(e.videoWidth,e.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},i.prototype.dispose=function(){this._isConnectedToTicker&&on.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),a.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(on.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(on.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),i.test=function(e,r){return e instanceof HTMLVideoElement||i.TYPES.indexOf(r)>-1},i.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],i.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},i}(Xr),yc=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return bt(i,a),i.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},i}(Xr);Va.push(za,yc,sl,ol,Xa,Xs,fi,mc);var Kn=function(){function a(i){this.renderer=i}return a.prototype.destroy=function(){this.renderer=null},a}(),al=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return bt(i,a),i.prototype.upload=function(e,r,o){var d=e.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===St.UNPACK),o.width===r.width&&o.height===r.height?d.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(o.width=r.width,o.height=r.height,d.texImage2D(r.target,0,1===e.context.webGLVersion?d.DEPTH_COMPONENT:d.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},i}(Xs),$a=function(){function a(i,e){this.width=Math.ceil(i||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new An("disposeFramebuffer"),this.multisample=Wn.NONE}return Object.defineProperty(a.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),a.prototype.addColorTexture=function(i,e){return void 0===i&&(i=0),this.colorTextures[i]=e||new zt(null,{scaleMode:Re.NEAREST,resolution:1,mipmap:Pt.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},a.prototype.addDepthTexture=function(i){return this.depthTexture=i||new zt(new al(null,{width:this.width,height:this.height}),{scaleMode:Re.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Pt.OFF,format:ze.DEPTH_COMPONENT,type:Ae.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},a.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},a.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},a.prototype.resize=function(i,e){if(i=Math.ceil(i),e=Math.ceil(e),i!==this.width||e!==this.height){this.width=i,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var o=this.colorTextures[r];o.setSize(i/(d=o.resolution),e/d)}var d;this.depthTexture&&this.depthTexture.setSize(i/(d=this.depthTexture.resolution),e/d)}},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},a}(),Ri=function(a){function i(e){var r=this;if("number"==typeof e){var o=arguments[0],d=arguments[1],p=arguments[2],m=arguments[3];e={width:o,height:d,scaleMode:p,resolution:m}}r=a.call(this,null,e)||this;var w=e||{},x=w.width,A=w.height;return r.mipmap=0,r.width=Math.ceil(x)||100,r.height=Math.ceil(A)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new $a(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return bt(i,a),i.prototype.resize=function(e,r){e=Math.ceil(e),r=Math.ceil(r),this.framebuffer.resize(e*this.resolution,r*this.resolution)},i.prototype.dispose=function(){this.framebuffer.dispose(),a.prototype.dispose.call(this)},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},i}(zt),ul=function(){function a(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return a.prototype.set=function(i,e,r){var o=e.width,d=e.height;if(r){var p=i.width/2/o,m=i.height/2/d,w=i.x/o+p,x=i.y/d+m;r=Ft.add(r,Ft.NW),this.x0=w+p*Ft.uX(r),this.y0=x+m*Ft.uY(r),r=Ft.add(r,2),this.x1=w+p*Ft.uX(r),this.y1=x+m*Ft.uY(r),r=Ft.add(r,2),this.x2=w+p*Ft.uX(r),this.y2=x+m*Ft.uY(r),r=Ft.add(r,2),this.x3=w+p*Ft.uX(r),this.y3=x+m*Ft.uY(r)}else this.x0=i.x/o,this.y0=i.y/d,this.x1=(i.x+i.width)/o,this.y1=i.y/d,this.x2=(i.x+i.width)/o,this.y2=(i.y+i.height)/d,this.x3=i.x/o,this.y3=(i.y+i.height)/d;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},a}(),sr=new ul,ct=function(a){function i(e,r,o,d,p,m){var w=a.call(this)||this;if(w.noFrame=!1,r||(w.noFrame=!0,r=new ut(0,0,1,1)),e instanceof i&&(e=e.baseTexture),w.baseTexture=e,w._frame=r,w.trim=d,w.valid=!1,w._uvs=sr,w.uvMatrix=null,w.orig=o||r,w._rotate=Number(p||0),!0===p)w._rotate=2;else if(w._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return w.defaultAnchor=m?new tn(m.x,m.y):new tn(0,0),w._updateID=0,w.textureCacheIds=[],e.valid?w.noFrame?e.valid&&w.onBaseTextureUpdated(e):w.frame=r:e.once("loaded",w.onBaseTextureUpdated,w),w.noFrame&&e.on("update",w.onBaseTextureUpdated,w),w}return bt(i,a),i.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},i.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},i.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture;r&&r.url&&In[r.url]&&i.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,i.removeFromCache(this),this.textureCacheIds=null},i.prototype.clone=function(){return new i(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},i.prototype.updateUvs=function(){this._uvs===sr&&(this._uvs=new ul),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},i.from=function(e,r,o){void 0===r&&(r={}),void 0===o&&(o=O.STRICT_TEXTURE_CACHE);var d="string"==typeof e,p=null;d?p=e:(e._pixiId||(e._pixiId="pixiid_"+nr()),p=e._pixiId);var m=In[p];if(d&&o&&!m)throw new Error('The cacheId "'+p+'" does not exist in TextureCache.');return m||(r.resolution||(r.resolution=Ir(e)),(m=new i(new zt(e,r))).baseTexture.cacheId=p,zt.addToCache(m.baseTexture,p),i.addToCache(m,p)),m},i.fromURL=function(e,r){var o=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),d=i.from(e,Object.assign({resourceOptions:o},r),!1),p=d.baseTexture.resource;return d.baseTexture.valid?Promise.resolve(d):p.load().then(function(){return Promise.resolve(d)})},i.fromBuffer=function(e,r,o,d){return new i(zt.fromBuffer(e,r,o,d))},i.fromLoader=function(e,r,o){var d=new za(e);d.url=r;var m=new i(new zt(d,{scaleMode:O.SCALE_MODE,resolution:Ir(r)}));return o||(o=r),zt.addToCache(m.baseTexture,o),i.addToCache(m,o),o!==r&&(zt.addToCache(m.baseTexture,r),i.addToCache(m,r)),m},i.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),In[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),In[r]=e)},i.removeFromCache=function(e){if("string"==typeof e){var r=In[e];if(r){var o=r.textureCacheIds.indexOf(e);return o>-1&&r.textureCacheIds.splice(o,1),delete In[e],r}}else if(e&&e.textureCacheIds){for(var d=0;d<e.textureCacheIds.length;++d)In[e.textureCacheIds[d]]===e&&delete In[e.textureCacheIds[d]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(i.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var r=e.x,o=e.y,d=e.width,p=e.height,m=r+d>this.baseTexture.width,w=o+p>this.baseTexture.height;if(m||w)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+r+" + "+d+" = "+(r+d)+" > "+this.baseTexture.width+" "+(m&&w?"and":"or")+" Y: "+o+" + "+p+" = "+(o+p)+" > "+this.baseTexture.height);this.valid=d&&p&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),i.prototype.castToBaseTexture=function(){return this.baseTexture},i}(H());function di(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}ct.EMPTY=new ct(new zt),di(ct.EMPTY),di(ct.EMPTY.baseTexture),ct.WHITE=function(){var a=document.createElement("canvas");a.width=16,a.height=16;var i=a.getContext("2d");return i.fillStyle="white",i.fillRect(0,0,16,16),new ct(new zt(new sl(a)))}(),di(ct.WHITE),di(ct.WHITE.baseTexture);var Rr=function(a){function i(e,r){var o=this,d=null;if(!(e instanceof Ri)){var p=arguments[1],m=arguments[2],w=arguments[3],x=arguments[4];console.warn("Please use RenderTexture.create("+p+", "+m+") instead of the ctor directly."),d=arguments[0],r=null,e=new Ri({width:p,height:m,scaleMode:w,resolution:x})}return(o=a.call(this,e,r)||this).legacyRenderer=d,o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}return bt(i,a),Object.defineProperty(i.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),i.prototype.resize=function(e,r,o){void 0===o&&(o=!0),e=Math.ceil(e),r=Math.ceil(r),this.valid=e>0&&r>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=r,o&&this.baseTexture.resize(e,r),this.updateUvs()},i.prototype.setResolution=function(e){var r=this.baseTexture;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))},i.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new i(new Ri(e))},i}(ct),Wa=function(){function a(i){this.texturePool={},this.textureOptions=i||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return a.prototype.createTexture=function(i,e){var r=new Ri(Object.assign({width:i,height:e,resolution:1},this.textureOptions));return new Rr(r)},a.prototype.getOptimalTexture=function(i,e,r){void 0===r&&(r=1);var o=a.SCREEN_KEY;i*=r,e*=r,(!this.enableFullScreen||i!==this._pixelsWidth||e!==this._pixelsHeight)&&(o=(65535&(i=Rt(i)))<<16|65535&(e=Rt(e))),this.texturePool[o]||(this.texturePool[o]=[]);var d=this.texturePool[o].pop();return d||(d=this.createTexture(i,e)),d.filterPoolKey=o,d.setResolution(r),d},a.prototype.getFilterTexture=function(i,e){var r=this.getOptimalTexture(i.width,i.height,e||i.resolution);return r.filterFrame=i.filterFrame,r},a.prototype.returnTexture=function(i){var e=i.filterPoolKey;i.filterFrame=null,this.texturePool[e].push(i)},a.prototype.returnFilterTexture=function(i){this.returnTexture(i)},a.prototype.clear=function(i){if(i=!1!==i)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var o=0;o<r.length;o++)r[o].destroy(!0)}this.texturePool={}},a.prototype.setScreenSize=function(i){if(i.width!==this._pixelsWidth||i.height!==this._pixelsHeight){var e=a.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=i.width>0&&i.height>0,r)for(var o=0;o<r.length;o++)r[o].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=i.width,this._pixelsHeight=i.height}},a.SCREEN_KEY="screen",a}(),Po=function(){function a(i,e,r,o,d,p,m){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===o&&(o=5126),this.buffer=i,this.size=e,this.normalized=r,this.type=o,this.stride=d,this.start=p,this.instance=m}return a.prototype.destroy=function(){this.buffer=null},a.from=function(i,e,r,o,d){return new a(i,e,r,o,d)},a}(),Qt=0,gn=function(){function a(i,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=i||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Qt++,this.disposeRunner=new An("disposeBuffer")}return a.prototype.update=function(i){this.data=i||this.data,this._updateID++},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroy=function(){this.dispose(),this.data=null},a.from=function(i){return i instanceof Array&&(i=new Float32Array(i)),new a(i)},a}();function cl(a){if(4===a.BYTES_PER_ELEMENT)return a instanceof Float32Array?"Float32Array":a instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===a.BYTES_PER_ELEMENT){if(a instanceof Uint16Array)return"Uint16Array"}else if(1===a.BYTES_PER_ELEMENT&&a instanceof Uint8Array)return"Uint8Array";return null}var an={Float32Array,Uint32Array,Int32Array,Uint8Array},_c={5126:4,5123:2,5121:1},Fi=0,Pn={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},us=function(){function a(i,e){void 0===i&&(i=[]),void 0===e&&(e={}),this.buffers=i,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Fi++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new An("disposeGeometry"),this.refCount=0}return a.prototype.addAttribute=function(i,e,r,o,d,p,m,w){if(void 0===r&&(r=0),void 0===o&&(o=!1),void 0===w&&(w=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof gn||(e instanceof Array&&(e=new Float32Array(e)),e=new gn(e));var x=i.split("|");if(x.length>1){for(var A=0;A<x.length;A++)this.addAttribute(x[A],e,r,o,d);return this}var I=this.buffers.indexOf(e);return-1===I&&(this.buffers.push(e),I=this.buffers.length-1),this.attributes[i]=new Po(I,r,o,d,p,m,w),this.instanced=this.instanced||w,this},a.prototype.getAttribute=function(i){return this.attributes[i]},a.prototype.getBuffer=function(i){return this.buffers[this.getAttribute(i).buffer]},a.prototype.addIndex=function(i){return i instanceof gn||(i instanceof Array&&(i=new Uint16Array(i)),i=new gn(i)),i.index=!0,this.indexBuffer=i,-1===this.buffers.indexOf(i)&&this.buffers.push(i),this},a.prototype.getIndex=function(){return this.indexBuffer},a.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var o,i=[],e=[],r=new gn;for(o in this.attributes){var d=this.attributes[o];i.push(this.buffers[d.buffer].data),e.push(d.size*_c[d.type]/4),d.buffer=0}for(r.data=function(a,i){for(var e=0,r=0,o={},d=0;d<a.length;d++)r+=i[d],e+=a[d].length;var p=new ArrayBuffer(4*e),m=null,w=0;for(d=0;d<a.length;d++){var x=i[d],A=a[d],I=cl(A);o[I]||(o[I]=new an[I](p)),m=o[I];for(var S=0;S<A.length;S++)m[(S/x|0)*r+w+S%x]=A[S];w+=x}return new Float32Array(p)}(i,e),o=0;o<this.buffers.length;o++)this.buffers[o]!==this.indexBuffer&&this.buffers[o].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},a.prototype.getSize=function(){for(var i in this.attributes){var e=this.attributes[i];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},a.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},a.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},a.prototype.clone=function(){for(var i=new a,e=0;e<this.buffers.length;e++)i.buffers[e]=new gn(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];i.attributes[e]=new Po(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(i.indexBuffer=i.buffers[this.buffers.indexOf(this.indexBuffer)],i.indexBuffer.index=!0),i},a.merge=function(i){for(var p,e=new a,r=[],o=[],d=[],m=0;m<i.length;m++){p=i[m];for(var w=0;w<p.buffers.length;w++)o[w]=o[w]||0,o[w]+=p.buffers[w].data.length,d[w]=0}for(m=0;m<p.buffers.length;m++)r[m]=new(Pn[cl(p.buffers[m].data)])(o[m]),e.buffers[m]=new gn(r[m]);for(m=0;m<i.length;m++)for(p=i[m],w=0;w<p.buffers.length;w++)r[w].set(p.buffers[w].data,d[w]),d[w]+=p.buffers[w].data.length;if(e.attributes=p.attributes,p.indexBuffer){e.indexBuffer=e.buffers[p.buffers.indexOf(p.indexBuffer)],e.indexBuffer.index=!0;var x=0,A=0,I=0,S=0;for(m=0;m<p.buffers.length;m++)if(p.buffers[m]!==p.indexBuffer){S=m;break}for(var m in p.attributes){var R=p.attributes[m];(0|R.buffer)===S&&(A+=R.size*_c[R.type]/4)}for(m=0;m<i.length;m++){var L=i[m].indexBuffer.data;for(w=0;w<L.length;w++)e.indexBuffer.data[w+I]+=x;x+=p.buffers[S].data.length/A,I+=L.length}}return e},a}(),Mo=function(a){function i(){var e=a.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return bt(i,a),i}(us),mr=function(a){function i(){var e=a.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new gn(e.vertices),e.uvBuffer=new gn(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return bt(i,a),i.prototype.map=function(e,r){var o=0,d=0;return this.uvs[0]=o,this.uvs[1]=d,this.uvs[2]=o+r.width/e.width,this.uvs[3]=d,this.uvs[4]=o+r.width/e.width,this.uvs[5]=d+r.height/e.height,this.uvs[6]=o,this.uvs[7]=d+r.height/e.height,d=r.y,this.vertices[0]=o=r.x,this.vertices[1]=d,this.vertices[2]=o+r.width,this.vertices[3]=d,this.vertices[4]=o+r.width,this.vertices[5]=d+r.height,this.vertices[6]=o,this.vertices[7]=d+r.height,this.invalidate(),this},i.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},i}(us),Un=0,Fr=function(){function a(i,e){this.uniforms=i,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Un++,this.static=!!e}return a.prototype.update=function(){this.dirtyId++},a.prototype.add=function(i,e,r){this.uniforms[i]=new a(e,r)},a.from=function(i,e){return new a(i,e)},a}(),$s=function(){function a(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new ut,this.destinationFrame=new ut,this.filters=[]}return a.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},a}(),qa=function(a){function i(e){var r=a.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new Wa,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Mo,r.quadUv=new mr,r.tempRect=new ut,r.activeState={},r.globalUniforms=new Fr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return bt(i,a),i.prototype.push=function(e,r){for(var o=this.renderer,d=this.defaultFilterStack,p=this.statePool.pop()||new $s,m=r[0].resolution,w=r[0].padding,x=r[0].autoFit,A=r[0].legacy,I=1;I<r.length;I++){var S=r[I];m=Math.min(m,S.resolution),w=this.useMaxPadding?Math.max(w,S.padding):w+S.padding,x=x&&S.autoFit,A=A||S.legacy}1===d.length&&(this.defaultFilterStack[0].renderTexture=o.renderTexture.current),d.push(p),p.resolution=m,p.legacy=A,p.target=e,p.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),p.sourceFrame.pad(w),x&&p.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),p.sourceFrame.ceil(m),p.renderTexture=this.getOptimalFilterTexture(p.sourceFrame.width,p.sourceFrame.height,m),p.filters=r,p.destinationFrame.width=p.renderTexture.width,p.destinationFrame.height=p.renderTexture.height;var R=this.tempRect;R.width=p.sourceFrame.width,R.height=p.sourceFrame.height,p.renderTexture.filterFrame=p.sourceFrame,o.renderTexture.bind(p.renderTexture,p.sourceFrame,R),o.renderTexture.clear()},i.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),o=r.filters;this.activeState=r;var d=this.globalUniforms.uniforms;d.outputFrame=r.sourceFrame,d.resolution=r.resolution;var p=d.inputSize,m=d.inputPixel,w=d.inputClamp;if(p[0]=r.destinationFrame.width,p[1]=r.destinationFrame.height,p[2]=1/p[0],p[3]=1/p[1],m[0]=p[0]*r.resolution,m[1]=p[1]*r.resolution,m[2]=1/m[0],m[3]=1/m[1],w[0]=.5*m[2],w[1]=.5*m[3],w[2]=r.sourceFrame.width*p[2]-.5*m[2],w[3]=r.sourceFrame.height*p[3]-.5*m[3],r.legacy){var x=d.filterArea;x[0]=r.destinationFrame.width,x[1]=r.destinationFrame.height,x[2]=r.sourceFrame.x,x[3]=r.sourceFrame.y,d.filterClamp=d.inputClamp}this.globalUniforms.update();var A=e[e.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===o.length)o[0].apply(this,r.renderTexture,A.renderTexture,Ot.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var I=r.renderTexture,S=this.getOptimalFilterTexture(I.width,I.height,r.resolution);S.filterFrame=I.filterFrame;var R=0;for(R=0;R<o.length-1;++R){o[R].apply(this,I,S,Ot.CLEAR,r);var L=I;I=S,S=L}o[R].apply(this,I,A.renderTexture,Ot.BLEND,r),this.returnFilterTexture(I),this.returnFilterTexture(S)}r.clear(),this.statePool.push(r)},i.prototype.bindAndClear=function(e,r){if(void 0===r&&(r=Ot.CLEAR),e&&e.filterFrame){var o=this.tempRect;o.width=e.filterFrame.width,o.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,o)}else this.renderer.renderTexture.bind(e);"boolean"==typeof r&&(r=r?Ot.CLEAR:Ot.BLEND,Bn("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(r===Ot.CLEAR||r===Ot.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},i.prototype.applyFilter=function(e,r,o,d){var p=this.renderer;this.bindAndClear(o,d),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,p.state.set(e.state),p.shader.bind(e),e.legacy?(this.quadUv.map(r._frame,r.filterFrame),p.geometry.bind(this.quadUv),p.geometry.draw(Pe.TRIANGLES)):(p.geometry.bind(this.quad),p.geometry.draw(Pe.TRIANGLE_STRIP))},i.prototype.calculateSpriteMatrix=function(e,r){var o=this.activeState,d=o.sourceFrame,p=o.destinationFrame,m=r._texture.orig,w=e.set(p.width,0,0,p.height,d.x,d.y),x=r.worldTransform.copyTo(Kt.TEMP_MATRIX);return x.invert(),w.prepend(x),w.scale(1/m.width,1/m.height),w.translate(r.anchor.x,r.anchor.y),w},i.prototype.destroy=function(){this.texturePool.clear(!1)},i.prototype.getOptimalFilterTexture=function(e,r,o){return void 0===o&&(o=1),this.texturePool.getOptimalTexture(e,r,o)},i.prototype.getFilterTexture=function(e,r){if("number"==typeof e){var o=e;e=r,r=o}var d=this.texturePool.getOptimalTexture((e=e||this.activeState.renderTexture).width,e.height,r||e.resolution);return d.filterFrame=e.filterFrame,d},i.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},i.prototype.emptyPool=function(){this.texturePool.clear(!0)},i.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},i}(Kn),or=function(){function a(i){this.renderer=i}return a.prototype.flush=function(){},a.prototype.destroy=function(){this.renderer=null},a.prototype.start=function(){},a.prototype.stop=function(){this.flush()},a.prototype.render=function(i){},a}(),Za=function(a){function i(e){var r=a.call(this,e)||this;return r.emptyRenderer=new or(e),r.currentRenderer=r.emptyRenderer,r}return bt(i,a),i.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},i.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.copyBoundTextures=function(e,r){for(var o=this.renderer.texture.boundTextures,d=r-1;d>=0;--d)e[d]=o[d]||null,e[d]&&(e[d]._batchLocation=d)},i.prototype.boundArray=function(e,r,o,d){for(var p=e.elements,m=e.ids,w=e.count,x=0,A=0;A<w;A++){var I=p[A],S=I._batchLocation;if(S>=0&&S<d&&r[S]===I)m[A]=S;else for(;x<d;){var R=r[x];if(!R||R._batchEnabled!==o||R._batchLocation!==x){m[A]=x,I._batchLocation=x,r[x]=I;break}x++}}},i}(Kn),Oo=0,ot=function(a){function i(e){var r=a.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return bt(i,a),Object.defineProperty(i.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),i.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Oo++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},i.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Oo++,this.renderer.runners.contextChange.emit(e)},i.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},i.prototype.createContext=function(e,r){var o;if(O.PREFER_ENV>=K.WEBGL2&&(o=e.getContext("webgl2",r)),o)this.webGLVersion=2;else if(this.webGLVersion=1,!(o=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=o,this.getExtensions(),this.gl},i.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},i.prototype.handleContextLost=function(e){e.preventDefault()},i.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},i.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},i.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},i.prototype.validateContext=function(e){var r=e.getContextAttributes(),o="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;o&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var d=o||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=d,d||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},i}(Kn),wh=function(i){this.framebuffer=i,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=Wn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},Ro=new ut,Ka=function(a){function i(e){var r=a.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new $a(10,10),r.msaaSamples=null,r}return bt(i,a),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ut,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var r=this.renderer.context.extensions.drawBuffers,o=this.renderer.context.extensions.depthTexture;O.PREFER_ENV===K.WEBGL_LEGACY&&(r=null,o=null),r?e.drawBuffers=function(d){return r.drawBuffersWEBGL(d)}:(this.hasMRT=!1,e.drawBuffers=function(){}),o||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},i.prototype.bind=function(e,r){var o=this.gl;if(e){var d=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,o.bindFramebuffer(o.FRAMEBUFFER,d.framebuffer)),d.dirtyId!==e.dirtyId&&(d.dirtyId=e.dirtyId,d.dirtyFormat!==e.dirtyFormat?(d.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):d.dirtySize!==e.dirtySize&&(d.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var p=0;p<e.colorTextures.length;p++){var m=e.colorTextures[p];this.renderer.texture.unbind(m.parentTextureArray||m)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,o.bindFramebuffer(o.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},i.prototype.setViewport=function(e,r,o,d){var p=this.viewport;(p.width!==o||p.height!==d||p.x!==e||p.y!==r)&&(p.x=e,p.y=r,p.width=o,p.height=d,this.gl.viewport(e,r,o,d))},Object.defineProperty(i.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),i.prototype.clear=function(e,r,o,d,p){void 0===p&&(p=Be.COLOR|Be.DEPTH);var m=this.gl;m.clearColor(e,r,o,d),m.clear(p)},i.prototype.initFramebuffer=function(e){var o=new wh(this.gl.createFramebuffer());return o.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=o,this.managedFramebuffers.push(e),e.disposeRunner.add(this),o},i.prototype.resizeFramebuffer=function(e){var r=this.gl,o=e.glFramebuffers[this.CONTEXT_UID];o.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));for(var d=e.colorTextures,p=0;p<d.length;p++)this.renderer.texture.bind(d[p],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},i.prototype.updateFramebuffer=function(e){var r=this.gl,o=e.glFramebuffers[this.CONTEXT_UID],p=e.colorTextures.length;r.drawBuffers||(p=Math.min(p,1)),o.multisample>1&&(o.msaaBuffer=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,o.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,o.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,o.msaaBuffer));for(var m=[],w=0;w<p;w++)if(!(0===w&&o.multisample>1)){var x=e.colorTextures[w],A=x.parentTextureArray||x;this.renderer.texture.bind(A,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+w,x.target,A._glTextures[this.CONTEXT_UID].texture,0),m.push(r.COLOR_ATTACHMENT0+w)}if(m.length>1&&r.drawBuffers(m),e.depthTexture&&this.writeDepthTexture){var S=e.depthTexture;this.renderer.texture.bind(S,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,S._glTextures[this.CONTEXT_UID].texture,0)}!o.stencil&&(e.stencil||e.depth)&&(o.stencil=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),e.depthTexture||r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o.stencil))},i.prototype.detectSamples=function(e){var r=this.msaaSamples,o=Wn.NONE;if(e<=1||null===r)return o;for(var d=0;d<r.length;d++)if(r[d]<=e){o=r[d];break}return 1===o&&(o=Wn.NONE),o},i.prototype.blit=function(e,r,o){var d=this,p=d.current,w=d.gl;if(2===d.renderer.context.webGLVersion&&p){var A=p.glFramebuffers[d.CONTEXT_UID];if(A){if(!e){if(A.multisample<=1)return;A.blitFramebuffer||(A.blitFramebuffer=new $a(p.width,p.height),A.blitFramebuffer.addColorTexture(0,p.colorTextures[0])),(e=A.blitFramebuffer).width=p.width,e.height=p.height}r||((r=Ro).width=p.width,r.height=p.height),o||(o=r);var I=r.width===o.width&&r.height===o.height;this.bind(e),w.bindFramebuffer(w.READ_FRAMEBUFFER,A.framebuffer),w.blitFramebuffer(r.x,r.y,r.width,r.height,o.x,o.y,o.width,o.height,w.COLOR_BUFFER_BIT,I?w.NEAREST:w.LINEAR)}}},i.prototype.disposeFramebuffer=function(e,r){var o=e.glFramebuffers[this.CONTEXT_UID],d=this.gl;if(o){delete e.glFramebuffers[this.CONTEXT_UID];var p=this.managedFramebuffers.indexOf(e);p>=0&&this.managedFramebuffers.splice(p,1),e.disposeRunner.remove(this),r||(d.deleteFramebuffer(o.framebuffer),o.stencil&&d.deleteRenderbuffer(o.stencil))}},i.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var o=0;o<r.length;o++)this.disposeFramebuffer(r[o],e)},i.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(r&&!r.stencil){e.enableStencil();var o=e.width,d=e.height,p=this.gl,m=p.createRenderbuffer();p.bindRenderbuffer(p.RENDERBUFFER,m),p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,o,d),r.stencil=m,p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,m)}}},i.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ut},i}(Kn),Dh=function(i){this.buffer=i||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ls={5126:4,5123:2,5121:1},Fo=function(a){function i(e){var r=a.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return bt(i,a),i.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion){var o=this.renderer.context.extensions.vertexArrayObject;O.PREFER_ENV===K.WEBGL_LEGACY&&(o=null),o?(e.createVertexArray=function(){return o.createVertexArrayOES()},e.bindVertexArray=function(p){return o.bindVertexArrayOES(p)},e.deleteVertexArray=function(p){return o.deleteVertexArrayOES(p)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==r.webGLVersion){var d=e.getExtension("ANGLE_instanced_arrays");d?(e.vertexAttribDivisor=function(p,m){return d.vertexAttribDivisorANGLE(p,m)},e.drawElementsInstanced=function(p,m,w,x,A){return d.drawElementsInstancedANGLE(p,m,w,x,A)},e.drawArraysInstanced=function(p,m,w,x){return d.drawArraysInstancedANGLE(p,m,w,x)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},i.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var o=this.gl,d=e.glVertexArrayObjects[this.CONTEXT_UID],p=!1;d||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=d={},p=!0);var m=d[r.program.id]||this.initGeometryVao(e,r.program,p);this._activeGeometry=e,this._activeVao!==m&&(this._activeVao=m,this.hasVao?o.bindVertexArray(m):this.activateVao(e,r.program)),this.updateBuffers()},i.prototype.reset=function(){this.unbind()},i.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.gl,o=0;o<e.buffers.length;o++){var d=e.buffers[o],p=d._glBuffers[this.CONTEXT_UID];if(d._updateID!==p.updateID){p.updateID=d._updateID;var m=d.index?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER;if(r.bindBuffer(m,p.buffer),this._boundBuffer=p,p.byteLength>=d.data.byteLength)r.bufferSubData(m,0,d.data);else{var w=d.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;p.byteLength=d.data.byteLength,r.bufferData(m,d.data,w)}}}},i.prototype.checkCompatibility=function(e,r){var o=e.attributes,d=r.attributeData;for(var p in d)if(!o[p])throw new Error('shader and geometry incompatible, geometry missing the "'+p+'" attribute')},i.prototype.getSignature=function(e,r){var o=e.attributes,d=r.attributeData,p=["g",e.id];for(var m in o)d[m]&&p.push(m);return p.join("-")},i.prototype.initGeometryVao=function(e,r,o){void 0===o&&(o=!0),this.checkCompatibility(e,r);var d=this.gl,p=this.CONTEXT_UID,m=this.getSignature(e,r),w=e.glVertexArrayObjects[this.CONTEXT_UID],x=w[m];if(x)return w[r.id]=x,x;var A=e.buffers,I=e.attributes,S={},R={};for(var L in A)S[L]=0,R[L]=0;for(var L in I)!I[L].size&&r.attributeData[L]?I[L].size=r.attributeData[L].size:I[L].size||console.warn("PIXI Geometry attribute '"+L+"' size cannot be determined (likely the bound shader does not have the attribute)"),S[I[L].buffer]+=I[L].size*ls[I[L].type];for(var L in I){var U=I[L],W=U.size;void 0===U.stride&&(U.stride=S[U.buffer]===W*ls[U.type]?0:S[U.buffer]),void 0===U.start&&(U.start=R[U.buffer],R[U.buffer]+=W*ls[U.type])}x=d.createVertexArray(),d.bindVertexArray(x);for(var fe=0;fe<A.length;fe++){var Ne=A[fe];Ne._glBuffers[p]||(Ne._glBuffers[p]=new Dh(d.createBuffer()),this.managedBuffers[Ne.id]=Ne,Ne.disposeRunner.add(this)),o&&Ne._glBuffers[p].refCount++}return this.activateVao(e,r),this._activeVao=x,w[r.id]=x,w[m]=x,x},i.prototype.disposeBuffer=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var o=e._glBuffers[this.CONTEXT_UID],d=this.gl;e.disposeRunner.remove(this),o&&(r||d.deleteBuffer(o.buffer),delete e._glBuffers[this.CONTEXT_UID])}},i.prototype.disposeGeometry=function(e,r){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var o=e.glVertexArrayObjects[this.CONTEXT_UID],d=this.gl,p=e.buffers;if(e.disposeRunner.remove(this),o){for(var m=0;m<p.length;m++){var w=p[m]._glBuffers[this.CONTEXT_UID];w.refCount--,0===w.refCount&&!r&&this.disposeBuffer(p[m],r)}if(!r)for(var x in o)if("g"===x[0]){var A=o[x];this._activeVao===A&&this.unbind(),d.deleteVertexArray(A)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},i.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),o=0;o<r.length;o++)this.disposeGeometry(this.managedGeometries[r[o]],e);for(r=Object.keys(this.managedBuffers),o=0;o<r.length;o++)this.disposeBuffer(this.managedBuffers[r[o]],e)},i.prototype.activateVao=function(e,r){var o=this.gl,d=this.CONTEXT_UID,p=e.buffers,m=e.attributes;e.indexBuffer&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[d].buffer);var w=null;for(var x in m){var A=m[x],S=p[A.buffer]._glBuffers[d];if(r.attributeData[x]){w!==S&&(o.bindBuffer(o.ARRAY_BUFFER,S.buffer),w=S);var R=r.attributeData[x].location;if(o.enableVertexAttribArray(R),o.vertexAttribPointer(R,A.size,A.type||o.FLOAT,A.normalized,A.stride,A.start),A.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");o.vertexAttribDivisor(R,1)}}}},i.prototype.draw=function(e,r,o,d){var p=this.gl,m=this._activeGeometry;if(m.indexBuffer){var w=m.indexBuffer.data.BYTES_PER_ELEMENT,x=2===w?p.UNSIGNED_SHORT:p.UNSIGNED_INT;2===w||4===w&&this.canUseUInt32ElementIndex?m.instanced?p.drawElementsInstanced(e,r||m.indexBuffer.data.length,x,(o||0)*w,d||1):p.drawElements(e,r||m.indexBuffer.data.length,x,(o||0)*w):console.warn("unsupported index buffer type: uint32")}else m.instanced?p.drawArraysInstanced(e,o,r||m.getSize(),d||1):p.drawArrays(e,o,r||m.getSize());return this},i.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},i}(Kn),bc=function(){function a(i){void 0===i&&(i=null),this.type=kt.NONE,this.autoDetect=!0,this.maskObject=i||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return a.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=kt.NONE,this.autoDetect=!0),this._target=null},a.prototype.copyCountersOrReset=function(i){i?(this._stencilCounter=i._stencilCounter,this._scissorCounter=i._scissorCounter,this._scissorRect=i._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},a}();function De(a,i,e){var r=a.createShader(i);return a.shaderSource(r,e),a.compileShader(r),r}function wt(a,i,e,r){var o=De(a,a.VERTEX_SHADER,i),d=De(a,a.FRAGMENT_SHADER,e),p=a.createProgram();if(a.attachShader(p,o),a.attachShader(p,d),r)for(var m in r)a.bindAttribLocation(p,r[m],m);return a.linkProgram(p),a.getProgramParameter(p,a.LINK_STATUS)||(a.getShaderParameter(o,a.COMPILE_STATUS)||(console.warn(i),console.error(a.getShaderInfoLog(o))),a.getShaderParameter(d,a.COMPILE_STATUS)||(console.warn(e),console.error(a.getShaderInfoLog(d))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(p,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(p)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(p)),a.deleteProgram(p),p=null),a.deleteShader(o),a.deleteShader(d),p}function No(a){for(var i=new Array(a),e=0;e<i.length;e++)i[e]=!1;return i}function un(a,i){switch(a){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*i);case"vec3":return new Float32Array(3*i);case"vec4":return new Float32Array(4*i);case"ivec2":return new Int32Array(2*i);case"ivec3":return new Int32Array(3*i);case"ivec4":return new Int32Array(4*i);case"bool":return!1;case"bvec2":return No(2*i);case"bvec3":return No(3*i);case"bvec4":return No(4*i);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ni,Lo={},$r=Lo;function yr(){if($r===Lo||$r&&$r.isContextLost()){var a=document.createElement("canvas"),i=void 0;O.PREFER_ENV>=K.WEBGL2&&(i=a.getContext("webgl2",{})),i||((i=a.getContext("webgl",{})||a.getContext("experimental-webgl",{}))?i.getExtension("WEBGL_draw_buffers"):i=null),$r=i}return $r}function Ec(a,i,e){if("precision"!==a.substring(0,9)){var r=i;return i===en.HIGH&&e!==en.HIGH&&(r=en.MEDIUM),"precision "+r+" float;\n"+a}return e!==en.HIGH&&"precision highp"===a.substring(0,15)?a.replace("precision highp","precision mediump"):a}var wc={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ko(a){return wc[a]}var Li=null,xn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Nr(a,i){if(!Li){var e=Object.keys(xn);Li={};for(var r=0;r<e.length;++r){var o=e[r];Li[a[o]]=xn[o]}}return Li[i]}var ki,Bo=[{test:function(a){return"float"===a.type&&1===a.size},code:function(a){return'\n            if(uv["'+a+'"] !== ud["'+a+'"].value)\n            {\n                ud["'+a+'"].value = uv["'+a+'"]\n                gl.uniform1f(ud["'+a+'"].location, uv["'+a+'"])\n            }\n            '}},{test:function(a){return("sampler2D"===a.type||"samplerCube"===a.type||"sampler2DArray"===a.type)&&1===a.size&&!a.isArray},code:function(a){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+a+'"], t);\n\n            if(ud["'+a+'"].value !== t)\n            {\n                ud["'+a+'"].value = t;\n                gl.uniform1i(ud["'+a+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(a,i){return"mat3"===a.type&&1===a.size&&void 0!==i.a},code:function(a){return'\n            gl.uniformMatrix3fv(ud["'+a+'"].location, false, uv["'+a+'"].toArray(true));\n            '}},{test:function(a,i){return"vec2"===a.type&&1===a.size&&void 0!==i.x},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+a+'"].location, v.x, v.y);\n                }'}},{test:function(a){return"vec2"===a.type&&1===a.size},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+a+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(a,i){return"vec4"===a.type&&1===a.size&&void 0!==i.width},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+a+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(a){return"vec4"===a.type&&1===a.size},code:function(a){return'\n                cv = ud["'+a+'"].value;\n                v = uv["'+a+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+a+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],cs={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Wr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},hl=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function xh(a){for(var i="",e=0;e<a;++e)e>0&&(i+="\nelse "),e<a-1&&(i+="if(test == "+e+".0){}");return i}var Sh=0,hs={},jn=function(){function a(i,e,r){void 0===r&&(r="pixi-shader"),this.id=Sh++,this.vertexSrc=i||a.defaultVertexSrc,this.fragmentSrc=e||a.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),hs[r]?(hs[r]++,r+="-"+hs[r]):hs[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=Ec(this.vertexSrc,O.PRECISION_VERTEX,en.HIGH),this.fragmentSrc=Ec(this.fragmentSrc,O.PRECISION_FRAGMENT,function(){if(!Ni){Ni=en.MEDIUM;var a=yr();if(a&&a.getShaderPrecisionFormat){var i=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT);Ni=i.precision?en.HIGH:en.MEDIUM}}return Ni}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return a.prototype.extractData=function(i,e){var r=yr();if(r){var o=wt(r,i,e);this.attributeData=this.getAttributeData(o,r),this.uniformData=this.getUniformData(o,r),r.deleteProgram(o)}else this.uniformData={},this.attributeData={}},a.prototype.getAttributeData=function(i,e){for(var r={},o=[],d=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES),p=0;p<d;p++){var m=e.getActiveAttrib(i,p),w=Nr(e,m.type),x={type:w,name:m.name,size:ko(w),location:0};r[m.name]=x,o.push(x)}for(o.sort(function(A,I){return A.name>I.name?1:-1}),p=0;p<o.length;p++)o[p].location=p;return r},a.prototype.getUniformData=function(i,e){for(var r={},o=e.getProgramParameter(i,e.ACTIVE_UNIFORMS),d=0;d<o;d++){var p=e.getActiveUniform(i,d),m=p.name.replace(/\[.*?\]$/,""),w=p.name.match(/\[.*?\]$/),x=Nr(e,p.type);r[m]={type:x,size:p.size,isArray:w,value:un(x,p.size)}}return r},Object.defineProperty(a,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(a,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),a.from=function(i,e,r){var o=i+e,d=rs[o];return d||(rs[o]=d=new a(i,e,r)),d},a}(),pi=function(){function a(i,e){for(var r in this.program=i,this.uniformGroup=e?e instanceof Fr?e:new Fr(e):new Fr({}),i.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return a.prototype.checkUniformExists=function(i,e){if(e.uniforms[i])return!0;for(var r in e.uniforms){var o=e.uniforms[r];if(o.group&&this.checkUniformExists(i,o))return!0}return!1},a.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(a.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),a.from=function(i,e,r){return new a(jn.from(i,e),r)},a}(),ds=function(){function a(){this.data=0,this.blendMode=we.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(a.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(i){!!(1&this.data)!==i&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(i){!!(2&this.data)!==i&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(i){!!(4&this.data)!==i&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(i){!!(8&this.data)!==i&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(i){!!(16&this.data)!==i&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"blendMode",{get:function(){return this._blendMode},set:function(i){this.blend=i!==we.NONE,this._blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(i){this.offsets=!!i,this._polygonOffset=i},enumerable:!1,configurable:!0}),a.for2d=function(){var i=new a;return i.depthTest=!1,i.blend=!0,i},a}(),Nt=function(a){function i(e,r,o){var d=this,p=jn.from(e||i.defaultVertexSrc,r||i.defaultFragmentSrc);return(d=a.call(this,p,o)||this).padding=0,d.resolution=O.FILTER_RESOLUTION,d.enabled=!0,d.autoFit=!0,d.legacy=!!d.program.attributeData.aTextureCoord,d.state=new ds,d}return bt(i,a),i.prototype.apply=function(e,r,o,d,p){e.applyFilter(this,r,o,d)},Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),i}(pi),gl=new Kt,eu=function(){function a(i,e){this._texture=i,this.mapCoord=new Kt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(a.prototype,"texture",{get:function(){return this._texture},set:function(i){this._texture=i,this._textureID=-1},enumerable:!1,configurable:!0}),a.prototype.multiplyUvs=function(i,e){void 0===e&&(e=i);for(var r=this.mapCoord,o=0;o<i.length;o+=2){var d=i[o],p=i[o+1];e[o]=d*r.a+p*r.c+r.tx,e[o+1]=d*r.b+p*r.d+r.ty}return e},a.prototype.update=function(i){var e=this._texture;if(!e||!e.valid||!i&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var o=e.orig,d=e.trim;d&&(gl.set(o.width/d.width,0,0,o.height/d.height,-d.x/d.width,-d.y/d.height),this.mapCoord.append(gl));var p=e.baseTexture,m=this.uClampFrame,w=this.clampMargin/p.resolution,x=this.clampOffset;return m[0]=(e._frame.x+w+x)/p.width,m[1]=(e._frame.y+w+x)/p.height,m[2]=(e._frame.x+e._frame.width-w+x)/p.width,m[3]=(e._frame.y+e._frame.height-w+x)/p.height,this.uClampOffset[0]=x/p.realWidth,this.uClampOffset[1]=x/p.realHeight,this.isSimple=e._frame.width===p.width&&e._frame.height===p.height&&0===e.rotate,!0},a}(),Ah=function(a){function i(e){var r=this,o=new Kt;return r=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=o,r}return bt(i,a),i.prototype.apply=function(e,r,o,d){var p=this.maskSprite,m=p._texture;!m.valid||(m.uvMatrix||(m.uvMatrix=new eu(m,0)),m.uvMatrix.update(),this.uniforms.npmAlpha=m.baseTexture.alphaMode?0:1,this.uniforms.mask=m,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,p).prepend(m.uvMatrix.mapCoord),this.uniforms.alpha=p.worldAlpha,this.uniforms.maskClamp=m.uvMatrix.uClampFrame,e.applyFilter(this,r,o,d))},i}(Nt),Tc=function(a){function i(e){var r=a.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return bt(i,a),i.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},i.prototype.push=function(e,r){var o=r;if(!o.isMaskData){var d=this.maskDataPool.pop()||new bc;d.pooled=!0,d.maskObject=r,o=d}switch(o.autoDetect&&this.detect(o),o.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),o._target=e,o.type){case kt.SCISSOR:this.maskStack.push(o),this.renderer.scissor.push(o);break;case kt.STENCIL:this.maskStack.push(o),this.renderer.stencil.push(o);break;case kt.SPRITE:o.copyCountersOrReset(null),this.pushSpriteMask(o),this.maskStack.push(o)}},i.prototype.pop=function(e){var r=this.maskStack.pop();if(r&&r._target===e){switch(r.type){case kt.SCISSOR:this.renderer.scissor.pop();break;case kt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case kt.SPRITE:this.popSpriteMask()}r.reset(),r.pooled&&this.maskDataPool.push(r)}},i.prototype.detect=function(e){var r=e.maskObject;if(r.isSprite)e.type=kt.SPRITE;else if(e.type=kt.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var o=r.worldTransform,d=Math.atan2(o.b,o.a),p=Math.atan2(o.d,o.c);d=Math.round(d*(180/Math.PI)*100),p=((p=Math.round(p*(180/Math.PI)*100)-d)%18e3+18e3)%18e3,0==(d=(d%9e3+9e3)%9e3)&&9e3===p&&(e.type=kt.SCISSOR)}},i.prototype.pushSpriteMask=function(e){var r=e.maskObject,o=e._target,d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new Ah(r)]),d[0].resolution=this.renderer.resolution,d[0].maskSprite=r;var p=o.filterArea;o.filterArea=r.getBounds(!0),this.renderer.filter.push(o,d),o.filterArea=p,this.alphaMaskIndex++},i.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},i}(Kn),jo=function(a){function i(e){var r=a.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return bt(i,a),i.prototype.getStackLength=function(){return this.maskStack.length},i.prototype.setMaskStack=function(e){var r=this.renderer.gl,o=this.getStackLength();this.maskStack=e;var d=this.getStackLength();d!==o&&(0===d?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},i.prototype._useCurrent=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.maskStack=null},i}(Kn),Ho=function(a){function i(e){var r=a.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return bt(i,a),i.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},i.prototype.push=function(e){var r=e.maskObject;r.renderable=!0;var o=e._scissorRect,d=r.getBounds(!0),p=this.renderer.gl;r.renderable=!1,o?d.fit(o):p.enable(p.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=d,this._useCurrent()},i.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},i.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,r=this.renderer.renderTexture.current,o=this.renderer.projection,d=o.transform,p=o.sourceFrame,m=o.destinationFrame,w=r?r.resolution:this.renderer.resolution,x=(e.x-p.x)*w+m.x,A=(e.y-p.y)*w+m.y,S=e.height*w;d&&(x+=d.tx*w,A+=d.ty*w),r||(A=this.renderer.height-S-A),this.renderer.gl.scissor(x,A,e.width*w,S)},i}(jo),Vo=function(a){function i(e){var r=a.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return bt(i,a),i.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},i.prototype.push=function(e){var r=e.maskObject,o=this.renderer.gl,d=e._stencilCounter;0===d&&(this.renderer.framebuffer.forceStencil(),o.enable(o.STENCIL_TEST)),e._stencilCounter++,o.colorMask(!1,!1,!1,!1),o.stencilFunc(o.EQUAL,d,this._getBitwiseMask()),o.stencilOp(o.KEEP,o.KEEP,o.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},i.prototype.pop=function(e){var r=this.renderer.gl;0===this.getStackLength()?(r.disable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.clearStencil(0)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},i.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},i.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},i}(jo),tu=function(a){function i(e){var r=a.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Kt,r.transform=null,r}return bt(i,a),i.prototype.update=function(e,r,o,d){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,o,d),this.transform&&this.projectionMatrix.append(this.transform);var p=this.renderer;p.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,p.globalUniforms.update(),p.shader.shader&&p.shader.syncUniformGroup(p.shader.shader.uniforms.globals)},i.prototype.calculateProjection=function(e,r,o,d){var p=this.projectionMatrix,m=d?-1:1;p.identity(),p.a=1/r.width*2,p.d=m*(1/r.height*2),p.tx=-1-r.x*p.a,p.ty=-m-r.y*p.d},i.prototype.setTransform=function(e){},i}(Kn),Ui=new ut,Go=new ut,ar=new ut,qs=function(a){function i(e){var r=a.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new ut,r.destinationFrame=new ut,r}return bt(i,a),i.prototype.bind=function(e,r,o){void 0===e&&(e=null);var p,m,w,d=this.renderer;this.current=e,e?(w=(p=e.baseTexture).resolution,r||(Ui.width=e.frame.width,Ui.height=e.frame.height,r=Ui),o||(Go.x=e.frame.x,Go.y=e.frame.y,Go.width=r.width,Go.height=r.height,o=Go),m=p.framebuffer):(w=d.resolution,r||(Ui.width=d.screen.width,Ui.height=d.screen.height,r=Ui),o||((o=Ui).width=r.width,o.height=r.height)),ar.x=o.x*w,ar.y=o.y*w,ar.width=o.width*w,ar.height=o.height*w,this.renderer.framebuffer.bind(m,ar),this.renderer.projection.update(o,r,w,!m),this.renderer.mask.setMaskStack(e?p.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(o)},i.prototype.clear=function(e,r){this.renderer.framebuffer.clear((e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor)[0],e[1],e[2],e[3],r)},i.prototype.resize=function(){this.bind(null)},i.prototype.reset=function(){this.bind(null)},i}(Kn),nu=function(){function a(i,e){this.program=i,this.uniformData=e,this.uniformGroups={}}return a.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},a}(),ps=0,zo={textureCount:0},ft=function(a){function i(e){var r=a.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=ps++,r}return bt(i,a),i.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof ki)return ki;try{var a=new Function("param1","param2","param3","return param1[param2] === param3;");ki=!0===a({a:"b"},"a","b")}catch(i){ki=!1}return ki}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},i.prototype.contextChange=function(e){this.gl=e,this.reset()},i.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var o=e.program,d=o.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==o&&(this.program=o,this.gl.useProgram(d.program)),r||(zo.textureCount=0,this.syncUniformGroup(e.uniformGroup,zo)),d},i.prototype.setUniforms=function(e){var r=this.shader.program;r.syncUniforms(r.glPrograms[this.renderer.CONTEXT_UID].uniformData,e,this.renderer)},i.prototype.syncUniformGroup=function(e,r){var o=this.getglProgram();(!e.static||e.dirtyId!==o.uniformGroups[e.id])&&(o.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,o,r))},i.prototype.syncUniforms=function(e,r,o){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,o)},i.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData);return this.cache[r]||(this.cache[r]=function(a,i){var e=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in a.uniforms){var o=i[r];if(o){for(var d=a.uniforms[r],p=!1,m=0;m<Bo.length;m++)if(Bo[m].test(o,d)){e.push(Bo[m].code(r,d)),p=!0;break}if(!p){var x=(1===o.size?cs:Wr)[o.type].replace("location",'ud["'+r+'"].location');e.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+x+";")}}else a.uniforms[r].group&&e.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",e.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},i.prototype.getSignature=function(e,r){var o=e.uniforms,d=[];for(var p in o)d.push(p),r[p]&&d.push(r[p].type);return d.join("-")},i.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},i.prototype.generateShader=function(e){var r=this.gl,o=e.program,d={};for(var p in o.attributeData)d[p]=o.attributeData[p].location;var m=wt(r,o.vertexSrc,o.fragmentSrc,d),w={};for(var p in o.uniformData){var x=o.uniformData[p];w[p]={location:r.getUniformLocation(m,p),value:un(x.type,x.size)}}var A=new nu(m,w);return o.glPrograms[this.renderer.CONTEXT_UID]=A,A},i.prototype.reset=function(){this.program=null,this.shader=null},i.prototype.destroy=function(){this.destroyed=!0},i}(Kn),vs=function(a){function i(e){var r=a.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=we.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new ds,r.defaultState.blend=!0,r}return bt(i,a),i.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(a,i){return void 0===i&&(i=[]),i[we.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.ADD]=[a.ONE,a.ONE],i[we.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.NONE]=[0,0],i[we.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.ADD_NPM]=[a.SRC_ALPHA,a.ONE,a.ONE,a.ONE],i[we.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],i[we.SRC_IN]=[a.DST_ALPHA,a.ZERO],i[we.SRC_OUT]=[a.ONE_MINUS_DST_ALPHA,a.ZERO],i[we.SRC_ATOP]=[a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],i[we.DST_OVER]=[a.ONE_MINUS_DST_ALPHA,a.ONE],i[we.DST_IN]=[a.ZERO,a.SRC_ALPHA],i[we.DST_OUT]=[a.ZERO,a.ONE_MINUS_SRC_ALPHA],i[we.DST_ATOP]=[a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA],i[we.XOR]=[a.ONE_MINUS_DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],i[we.SUBTRACT]=[a.ONE,a.ONE,a.ONE,a.ONE,a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD],i}(e),this.set(this.defaultState),this.reset()},i.prototype.set=function(e){if(this.stateId!==(e=e||this.defaultState).data){for(var r=this.stateId^e.data,o=0;r;)1&r&&this.map[o].call(this,!!(e.data&1<<o)),r>>=1,o++;this.stateId=e.data}for(o=0;o<this.checks.length;o++)this.checks[o](this,e)},i.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},i.prototype.setBlend=function(e){this.updateCheck(i.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},i.prototype.setOffset=function(e){this.updateCheck(i.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},i.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},i.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},i.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},i.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],o=this.gl;2===r.length?o.blendFunc(r[0],r[1]):o.blendFuncSeparate(r[0],r[1],r[2],r[3]),6===r.length?(this._blendEq=!0,o.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD))}},i.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},i.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},i.prototype.updateCheck=function(e,r){var o=this.checks.indexOf(e);r&&-1===o?this.checks.push(e):!r&&-1!==o&&this.checks.splice(o,1)},i.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},i.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},i}(Kn),ru=function(a){function i(e){var r=a.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=O.GC_MAX_IDLE,r.checkCountMax=O.GC_MAX_CHECK_COUNT,r.mode=O.GC_MODE,r}return bt(i,a),i.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==It.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},i.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,o=!1,d=0;d<r.length;d++){var p=r[d];!p.framebuffer&&this.count-p.touched>this.maxIdle&&(e.destroyTexture(p,!0),r[d]=null,o=!0)}if(o){var m=0;for(d=0;d<r.length;d++)null!==r[d]&&(r[m++]=r[d]);r.length=m}},i.prototype.unload=function(e){var o=e._texture;o&&!o.framebuffer&&this.renderer.texture.destroyTexture(o);for(var d=e.children.length-1;d>=0;d--)this.unload(e.children[d])},i}(Kn),Wo=function(i){this.texture=i,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},ji=function(a){function i(e){var r=a.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new zt,r}return bt(i,a),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var o=0;o<r;o++)this.boundTextures[o]=null;this.emptyTextures={};var d=new Wo(e.createTexture());for(e.bindTexture(e.TEXTURE_2D,d.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=d,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Wo(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture),o=0;o<6;o++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);for(e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),o=0;o<this.boundTextures.length;o++)this.bind(null,o)},i.prototype.bind=function(e,r){void 0===r&&(r=0);var o=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var d=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(e.target,d.texture)),d.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}}else this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[o.TEXTURE_2D].texture),this.boundTextures[r]=null},i.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},i.prototype.unbind=function(e){var o=this.gl,d=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var p=0;p<d.length;p++)d[p]===this.unknownTexture&&this.bind(null,p)}for(p=0;p<d.length;p++)d[p]===e&&(this.currentLocation!==p&&(o.activeTexture(o.TEXTURE0+p),this.currentLocation=p),o.bindTexture(e.target,this.emptyTextures[e.target].texture),d[p]=null)},i.prototype.initTexture=function(e){var r=new Wo(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},i.prototype.initTextureType=function(e,r){if(r.internalFormat=e.format,r.type=e.type,2===this.webGLVersion){var o=this.renderer.gl;e.type===o.FLOAT&&e.format===o.RGBA&&(r.internalFormat=o.RGBA32F),e.type===Ae.HALF_FLOAT&&(r.type=o.HALF_FLOAT),r.type===o.HALF_FLOAT&&e.format===o.RGBA&&(r.internalFormat=o.RGBA16F)}},i.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var o=this.renderer;if(this.initTextureType(e,r),!e.resource||!e.resource.upload(o,e,r)){var d=e.realWidth,p=e.realHeight,m=o.gl;(r.width!==d||r.height!==p||r.dirtyId<0)&&(r.width=d,r.height=p,m.texImage2D(e.target,0,r.internalFormat,d,p,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},i.prototype.destroyTexture=function(e,r){var o=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),o.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var d=this.managedTextures.indexOf(e);-1!==d&&Bt(this.managedTextures,d,1)}},i.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];!r||(r.mipmap=!!(e.mipmap!==Pt.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&e.mipmap>=1,r.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:at.CLAMP,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},i.prototype.setStyle=function(e,r){var o=this.gl;if(r.mipmap&&o.generateMipmap(e.target),o.texParameteri(e.target,o.TEXTURE_WRAP_S,r.wrapMode),o.texParameteri(e.target,o.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Re.LINEAR?o.LINEAR_MIPMAP_LINEAR:o.NEAREST_MIPMAP_NEAREST);var d=this.renderer.context.extensions.anisotropicFiltering;if(d&&e.anisotropicLevel>0&&e.scaleMode===Re.LINEAR){var p=Math.min(e.anisotropicLevel,o.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT));o.texParameterf(e.target,d.TEXTURE_MAX_ANISOTROPY_EXT,p)}}else o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Re.LINEAR?o.LINEAR:o.NEAREST);o.texParameteri(e.target,o.TEXTURE_MAG_FILTER,e.scaleMode===Re.LINEAR?o.LINEAR:o.NEAREST)},i}(Kn),Vi=new Kt,Hn=function(a){function i(e){var r=a.call(this,xe.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new An("destroy"),contextChange:new An("contextChange"),reset:new An("reset"),update:new An("update"),postrender:new An("postrender"),prerender:new An("prerender"),resize:new An("resize")},r.globalUniforms=new Fr({projectionMatrix:new Kt},!0),r.addSystem(Tc,"mask").addSystem(ot,"context").addSystem(vs,"state").addSystem(ft,"shader").addSystem(ji,"texture").addSystem(Fo,"geometry").addSystem(Ka,"framebuffer").addSystem(Ho,"scissor").addSystem(Vo,"stencil").addSystem(tu,"projection").addSystem(ru,"textureGC").addSystem(qa,"filter").addSystem(qs,"renderTexture").addSystem(Za,"batch"),r.initPlugins(i.__plugins),e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:e.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(a){var i;Ai||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(i=window.console).log.apply(i,["\n %c %c %c PixiJS 5.3.11 - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS 5.3.11 - "+a+" - http://www.pixijs.com/"),Ai=!0)}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return bt(i,a),i.create=function(e){if(void 0===ts&&(ts=function(){var i={stencil:!0,failIfMajorPerformanceCaveat:O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",i)||e.getContext("experimental-webgl",i),o=!(!r||!r.getContextAttributes().stencil);if(r){var d=r.getExtension("WEBGL_lose_context");d&&d.loseContext()}return r=null,o}catch(p){return!1}}()),ts)return new i(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},i.prototype.addSystem=function(e,r){r||(r=e.name);var o=new e(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var d in this[r]=o,this.runners)this.runners[d].add(o);return this},i.prototype.render=function(e,r,o,d,p){if(this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=d,!this.context.isLost){if(r||(this._lastObjectRendered=e),!p){var m=e.enableTempParent();e.updateTransform(),e.disableTempParent(m)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},i.prototype.resize=function(e,r){a.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},i.prototype.reset=function(){return this.runners.reset.emit(),this},i.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},i.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();a.prototype.destroy.call(this,e),this.gl=null},i.registerPlugin=function(e,r){(i.__plugins=i.__plugins||{})[e]=r},i}(function(a){function i(e,r){void 0===e&&(e=xe.UNKNOWN);var o=a.call(this)||this;return(r=Object.assign({},O.RENDER_OPTIONS,r)).roundPixels&&(O.ROUND_PIXELS=r.roundPixels,Bn("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),o.options=r,o.type=e,o.screen=new ut(0,0,r.width,r.height),o.view=r.view||document.createElement("canvas"),o.resolution=r.resolution||O.RESOLUTION,o.transparent=r.transparent,o.autoDensity=r.autoDensity||r.autoResize||!1,o.preserveDrawingBuffer=r.preserveDrawingBuffer,o.clearBeforeRender=r.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,0],o._backgroundColorString="#000000",o.backgroundColor=r.backgroundColor||o._backgroundColor,o._lastObjectRendered=null,o.plugins={},o}return bt(i,a),i.prototype.initPlugins=function(e){for(var r in e)this.plugins[r]=new e[r](this)},Object.defineProperty(i.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),i.prototype.resize=function(e,r){this.screen.width=e,this.screen.height=r,this.view.width=e*this.resolution,this.view.height=r*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=r+"px"),this.emit("resize",e,r)},i.prototype.generateTexture=function(e,r,o,d){0===(d=d||e.getLocalBounds(null,!0)).width&&(d.width=1),0===d.height&&(d.height=1);var p=Rr.create({width:0|d.width,height:0|d.height,scaleMode:r,resolution:o});return Vi.tx=-d.x,Vi.ty=-d.y,this.render(e,p,!1,Vi,!!e.parent),p},i.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var o=this;o.plugins=null,o.type=xe.UNKNOWN,o.view=null,o.screen=null,o._tempDisplayObjectParent=null,o.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=ns(e),Pi(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),i}(H())),gi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Ks=function(){this.texArray=null,this.blend=0,this.type=Pe.TRIANGLES,this.start=0,this.size=0,this.data=null},iu=function(){function a(){this.elements=[],this.ids=[],this.count=0}return a.prototype.clear=function(){for(var i=0;i<this.count;i++)this.elements[i]=null;this.count=0},a}(),ys=function(){function a(i){this.rawBinaryData=new ArrayBuffer(i),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(a.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),a.prototype.view=function(i){return this[i+"View"]},a.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},a.sizeOf=function(i){switch(i){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(i+" isn't a valid view type")}},a}(),su=function(a){function i(e){var r=a.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=ds.for2d(),r.size=4*O.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return bt(i,a),i.prototype.contextChange=function(){var e=this.renderer.gl;O.PREFER_ENV===K.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),O.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(a,i){if(0===a)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=i.createShader(i.FRAGMENT_SHADER);;){var r=hl.replace(/%forloop%/gi,xh(a));if(i.shaderSource(e,r),i.compileShader(e),i.getShaderParameter(e,i.COMPILE_STATUS))break;a=a/2|0}return a}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},i.prototype.initFlushBuffers=function(){for(var e=i._drawCallPool,r=i._textureArrayPool,o=this.size/4,d=Math.floor(o/this.MAX_TEXTURES)+1;e.length<o;)e.push(new Ks);for(;r.length<d;)r.push(new iu);for(var p=0;p<this.MAX_TEXTURES;p++)this._tempBoundTextures[p]=null},i.prototype.onPrerender=function(){this._flushId=0},i.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},i.prototype.buildTexturesAndDrawCalls=function(){var r=this._bufferedTextures,o=this.MAX_TEXTURES,d=i._textureArrayPool,p=this.renderer.batch,m=this._tempBoundTextures,w=this.renderer.textureGC.count,x=++zt._globalBatch,A=0,I=d[0],S=0;p.copyBoundTextures(m,o);for(var R=0;R<this._bufferSize;++R){var L=r[R];r[R]=null,L._batchEnabled!==x&&(I.count>=o&&(p.boundArray(I,m,x,o),this.buildDrawCalls(I,S,R),S=R,I=d[++A],++x),L._batchEnabled=x,L.touched=w,I.elements[I.count++]=L)}for(I.count>0&&(p.boundArray(I,m,x,o),this.buildDrawCalls(I,S,this._bufferSize),++A,++x),R=0;R<m.length;R++)m[R]=null;zt._globalBatch=x},i.prototype.buildDrawCalls=function(e,r,o){var d=this,p=d._bufferedElements,m=d._attributeBuffer,w=d._indexBuffer,x=d.vertexSize,A=i._drawCallPool,I=this._dcIndex,S=this._aIndex,R=this._iIndex,L=A[I];L.start=this._iIndex,L.texArray=e;for(var U=r;U<o;++U){var W=p[U],Ne=et[W._texture.baseTexture.alphaMode?1:0][W.blendMode];p[U]=null,r<U&&L.blend!==Ne&&(L.size=R-L.start,r=U,(L=A[++I]).texArray=e,L.start=R),this.packInterleavedGeometry(W,m,w,S,R),S+=W.vertexData.length/2*x,R+=W.indices.length,L.blend=Ne}r<o&&(L.size=R-L.start,++I),this._dcIndex=I,this._aIndex=S,this._iIndex=R},i.prototype.bindAndClearTexArray=function(e){for(var r=this.renderer.texture,o=0;o<e.count;o++)r.bind(e.elements[o],e.ids[o]),e.elements[o]=null;e.count=0},i.prototype.updateGeometry=function(){var e=this,r=e._packedGeometries,o=e._attributeBuffer,d=e._indexBuffer;O.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(o.rawBinaryData),r[this._flushId]._indexBuffer.update(d),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(o.rawBinaryData),r[this._flushId]._indexBuffer.update(d),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},i.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,o=r.gl,d=r.state,p=i._drawCallPool,m=null,w=0;w<e;w++){var x=p[w],A=x.texArray,I=x.type,S=x.size,R=x.start,L=x.blend;m!==A&&(m=A,this.bindAndClearTexArray(A)),this.state.blendMode=L,d.set(this.state),o.drawElements(I,S,o.UNSIGNED_SHORT,2*R)}},i.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},i.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),O.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},i.prototype.stop=function(){this.flush()},i.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),a.prototype.destroy.call(this)},i.prototype.getAttributeBuffer=function(e){var r=Rt(Math.ceil(e/8)),o=xo(r),d=8*r;this._aBuffers.length<=o&&(this._iBuffers.length=o+1);var p=this._aBuffers[d];return p||(this._aBuffers[d]=p=new ys(d*this.vertexSize*4)),p},i.prototype.getIndexBuffer=function(e){var r=Rt(Math.ceil(e/12)),o=xo(r),d=12*r;this._iBuffers.length<=o&&(this._iBuffers.length=o+1);var p=this._iBuffers[o];return p||(this._iBuffers[o]=p=new Uint16Array(d)),p},i.prototype.packInterleavedGeometry=function(e,r,o,d,p){for(var m=r.uint32View,w=r.float32View,x=d/this.vertexSize,A=e.uvs,I=e.indices,S=e.vertexData,R=e._texture.baseTexture._batchLocation,L=Math.min(e.worldAlpha,1),U=L<1&&e._texture.baseTexture.alphaMode?yn(e._tintRGB,L):e._tintRGB+(255*L<<24),W=0;W<S.length;W+=2)w[d++]=S[W],w[d++]=S[W+1],w[d++]=A[W],w[d++]=A[W+1],m[d++]=U,w[d++]=R;for(W=0;W<I.length;W++)o[p++]=x+I[W]},i._drawCallPool=[],i._textureArrayPool=[],i}(or),Ht=function(){function a(i,e){if(this.vertexSrc=i,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return a.prototype.generateShader=function(i){if(!this.programCache[i]){for(var e=new Int32Array(i),r=0;r<i;r++)e[r]=r;this.defaultGroupCache[i]=Fr.from({uSamplers:e},!0);var o=this.fragTemplate;o=(o=o.replace(/%count%/gi,""+i)).replace(/%forloop%/gi,this.generateSampleSrc(i)),this.programCache[i]=new jn(this.vertexSrc,o)}var d={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:this.defaultGroupCache[i]};return new pi(this.programCache[i],d)},a.prototype.generateSampleSrc=function(i){var e="";e+="\n",e+="\n";for(var r=0;r<i;r++)r>0&&(e+="\nelse "),r<i-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},a}(),_s=function(a){function i(e){void 0===e&&(e=!1);var r=a.call(this)||this;return r._buffer=new gn(null,e,!1),r._indexBuffer=new gn(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,Ae.FLOAT).addAttribute("aColor",r._buffer,4,!0,Ae.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,Ae.FLOAT).addIndex(r._indexBuffer),r}return bt(i,a),i}(us),lr="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",vl="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Yr=function(){function a(){}return a.create=function(i){var e=Object.assign({vertex:lr,fragment:vl,geometryClass:_s,vertexSize:6},i),r=e.vertex,o=e.fragment,d=e.vertexSize,p=e.geometryClass;return function(m){function w(x){var A=m.call(this,x)||this;return A.shaderGenerator=new Ht(r,o),A.geometryClass=p,A.vertexSize=d,A}return bt(w,m),w}(su)},Object.defineProperty(a,"defaultVertexSrc",{get:function(){return lr},enumerable:!1,configurable:!0}),Object.defineProperty(a,"defaultFragmentTemplate",{get:function(){return vl},enumerable:!1,configurable:!0}),a}().create(),qo=function(){function a(i){var e=this;i=Object.assign({forceCanvas:!1},i),this.renderer=function(a){return Hn.create(a)}(i),this.stage=new bn,a._plugins.forEach(function(r){r.init.call(e,i)})}return a.registerPlugin=function(i){a._plugins.push(i)},a.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(a.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),a.prototype.destroy=function(i,e){var r=this,o=a._plugins.slice(0);o.reverse(),o.forEach(function(d){d.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(i),this.renderer=null},a}();qo._plugins=[];var ou=function(){function a(){}return a.init=function(i){var e=this;Object.defineProperty(this,"resizeTo",{set:function(r){window.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var r,o;if(e.cancelResize(),e._resizeTo===window)r=window.innerWidth,o=window.innerHeight;else{var d=e._resizeTo;r=d.clientWidth,o=d.clientHeight}e.renderer.resize(r,o)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=i.resizeTo||null},a.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},a}();qo.registerPlugin(ou);var Zo=new ut,Ko=function(){function a(i){this.renderer=i,i.extract=this}return a.prototype.image=function(i,e,r){var o=new Image;return o.src=this.base64(i,e,r),o},a.prototype.base64=function(i,e,r){return this.canvas(i).toDataURL(e,r)},a.prototype.canvas=function(i){var r,o,p,e=this.renderer,d=!1,m=!1;i&&(i instanceof Rr?p=i:(p=this.renderer.generateTexture(i),m=!0)),p?(r=p.baseTexture.resolution,o=p.frame,d=!1,e.renderTexture.bind(p)):(r=this.renderer.resolution,d=!0,(o=Zo).width=this.renderer.width,o.height=this.renderer.height,e.renderTexture.bind(null));var w=Math.floor(o.width*r+1e-4),x=Math.floor(o.height*r+1e-4),A=new Qu(w,x,1),I=new Uint8Array(4*w*x),S=e.gl;S.readPixels(o.x*r,o.y*r,w,x,S.RGBA,S.UNSIGNED_BYTE,I);var R=A.context.getImageData(0,0,w,x);if(a.arrayPostDivide(I,R.data),A.context.putImageData(R,0,0),d){var L=new Qu(A.width,A.height,1);L.context.scale(1,-1),L.context.drawImage(A.canvas,0,-x),A.destroy(),A=L}return m&&p.destroy(!0),A.canvas},a.prototype.pixels=function(i){var r,o,d,e=this.renderer,p=!1;i&&(i instanceof Rr?d=i:(d=this.renderer.generateTexture(i),p=!0)),d?(r=d.baseTexture.resolution,o=d.frame,e.renderTexture.bind(d)):(r=e.resolution,(o=Zo).width=e.width,o.height=e.height,e.renderTexture.bind(null));var m=o.width*r,w=o.height*r,x=new Uint8Array(4*m*w),A=e.gl;return A.readPixels(o.x*r,o.y*r,m,w,A.RGBA,A.UNSIGNED_BYTE,x),p&&d.destroy(!0),a.arrayPostDivide(x,x),x},a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},a.arrayPostDivide=function(i,e){for(var r=0;r<i.length;r+=4){var o=e[r+3]=i[r+3];0!==o?(e[r]=Math.round(Math.min(255*i[r]/o,255)),e[r+1]=Math.round(Math.min(255*i[r+1]/o,255)),e[r+2]=Math.round(Math.min(255*i[r+2]/o,255))):(e[r]=i[r],e[r+1]=i[r+1],e[r+2]=i[r+2])}},a}(),Qs=B(9750),au=B.n(Qs),_l=B(936),kr=B.n(_l);function wn(){}function uu(a,i,e,r){var o=0,d=a.length;!function p(m){m||o===d?e&&e(m):r?setTimeout(function(){i(a[o++],p)},1):i(a[o++],p)}()}function lu(a){return function(){if(null===a)throw new Error("Callback was already called.");var e=a;a=null,e.apply(this,arguments)}}var vi={};function Gi(a,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function bs(a,i,e){return i&&Gi(a.prototype,i),e&&Gi(a,e),a}var Es=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),cu=null;function Rh(){}var tt=function(){function a(e,r,o){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");o=o||{},this._flags=0,this._setFlag(a.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===o.crossOrigin?"anonymous":o.crossOrigin,this.timeout=o.timeout||0,this.loadType=o.loadType||this._determineLoadType(),this.xhrType=o.xhrType,this.metadata=o.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=a.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Rh,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(kr()),this.onProgress=new(kr()),this.onComplete=new(kr()),this.onAfterMiddleware=new(kr())}a.setExtensionLoadType=function(r,o){El(a._loadTypeMap,r,o)},a.setExtensionXhrType=function(r,o){El(a._xhrTypeMap,r,o)};var i=a.prototype;return i.complete=function(){this._clearEvents(),this._finish()},i.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},i.load=function(r){var o=this;if(!this.isLoading){if(this.isComplete)return void(r&&setTimeout(function(){return r(o)},1));switch(r&&this.onComplete.once(r),this._setFlag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE,this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO,this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO,this._loadSourceElement("video");break;default:Es&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},i._hasFlag=function(r){return 0!=(this._flags&r)},i._setFlag=function(r,o){this._flags=o?this._flags|r:this._flags&~r},i._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},i._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0),this._setFlag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},i._loadElement=function(r){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===r&&void 0!==window.Image?new Image:document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},i._loadSourceElement=function(r){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===r&&void 0!==window.Audio?new Audio:document.createElement(r),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var o=this.metadata.mimeType,d=0;d<this.url.length;++d)this.data.appendChild(this._createSource(r,this.url[d],Array.isArray(o)?o[d]:o));else{var p=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(p)?p[0]:p))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+r)},i._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,r.responseType=this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?a.XHR_RESPONSE_TYPE.TEXT:this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},i._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},i._createSource=function(r,o,d){d||(d=r+"/"+this._getExtension(o));var p=document.createElement("source");return p.src=o,p.type=d,p},i._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},i._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},i._onTimeout=function(){this.abort("Load timed out.")},i._xhrOnError=function(){var r=this.xhr;this.abort(wl(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},i._xhrOnTimeout=function(){this.abort(wl(this.xhr)+" Request timed out.")},i._xhrOnAbort=function(){this.abort(wl(this.xhr)+" Request was aborted by the user.")},i._xhrOnLoad=function(){var r=this.xhr,o="",d=void 0===r.status?200:r.status;if((""===r.responseType||"text"===r.responseType||void 0===r.responseType)&&(o=r.responseText),0===d&&(o.length>0||r.responseType===a.XHR_RESPONSE_TYPE.BUFFER)?d=200:1223===d&&(d=204),2==(d/100|0)){if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=o,this.type=a.TYPE.TEXT;else if(this.xhrType===a.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(o),this.type=a.TYPE.JSON}catch(x){return void this.abort("Error trying to parse loaded json: "+x)}else if(this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var m=new DOMParser;this.data=m.parseFromString(o,"text/xml")}else{var w=document.createElement("div");w.innerHTML=o,this.data=w}this.type=a.TYPE.XML}catch(x){return void this.abort("Error trying to parse loaded xml: "+x)}else this.data=r.response||o;this.complete()}else this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL)},i._determineCrossOrigin=function(r,o){return 0===r.indexOf("data:")?"":window.origin!==window.location.origin?"anonymous":(o=o||window.location,cu||(cu=document.createElement("a")),cu.href=r,(r=au()(cu.href,{strictMode:!0})).host!==o.hostname||(r.port||""!==o.port)&&r.port!==o.port||(r.protocol?r.protocol+":":"")!==o.protocol?"anonymous":"")},i._determineXhrType=function(){return a._xhrTypeMap[this.extension]||a.XHR_RESPONSE_TYPE.TEXT},i._determineLoadType=function(){return a._loadTypeMap[this.extension]||a.LOAD_TYPE.XHR},i._getExtension=function(){var r=this.url,o="";if(this.isDataUrl){var d=r.indexOf("/");o=r.substring(d+1,r.indexOf(";",d))}else{var p=r.indexOf("?"),m=r.indexOf("#"),w=Math.min(p>-1?p:r.length,m>-1?m:r.length);o=(r=r.substring(0,w)).substring(r.lastIndexOf(".")+1)}return o.toLowerCase()},i._getMimeFromXhrType=function(r){switch(r){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},bs(a,[{key:"isDataUrl",get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]),a}();function El(a,i,e){i&&0===i.indexOf(".")&&(i=i.substring(1)),i&&(a[i]=e)}function wl(a){return a.toString().replace("object ","")}tt.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},tt.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},tt.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},tt.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},tt._loadTypeMap={gif:tt.LOAD_TYPE.IMAGE,png:tt.LOAD_TYPE.IMAGE,bmp:tt.LOAD_TYPE.IMAGE,jpg:tt.LOAD_TYPE.IMAGE,jpeg:tt.LOAD_TYPE.IMAGE,tif:tt.LOAD_TYPE.IMAGE,tiff:tt.LOAD_TYPE.IMAGE,webp:tt.LOAD_TYPE.IMAGE,tga:tt.LOAD_TYPE.IMAGE,svg:tt.LOAD_TYPE.IMAGE,"svg+xml":tt.LOAD_TYPE.IMAGE,mp3:tt.LOAD_TYPE.AUDIO,ogg:tt.LOAD_TYPE.AUDIO,wav:tt.LOAD_TYPE.AUDIO,mp4:tt.LOAD_TYPE.VIDEO,webm:tt.LOAD_TYPE.VIDEO},tt._xhrTypeMap={xhtml:tt.XHR_RESPONSE_TYPE.DOCUMENT,html:tt.XHR_RESPONSE_TYPE.DOCUMENT,htm:tt.XHR_RESPONSE_TYPE.DOCUMENT,xml:tt.XHR_RESPONSE_TYPE.DOCUMENT,tmx:tt.XHR_RESPONSE_TYPE.DOCUMENT,svg:tt.XHR_RESPONSE_TYPE.DOCUMENT,tsx:tt.XHR_RESPONSE_TYPE.DOCUMENT,gif:tt.XHR_RESPONSE_TYPE.BLOB,png:tt.XHR_RESPONSE_TYPE.BLOB,bmp:tt.XHR_RESPONSE_TYPE.BLOB,jpg:tt.XHR_RESPONSE_TYPE.BLOB,jpeg:tt.XHR_RESPONSE_TYPE.BLOB,tif:tt.XHR_RESPONSE_TYPE.BLOB,tiff:tt.XHR_RESPONSE_TYPE.BLOB,webp:tt.XHR_RESPONSE_TYPE.BLOB,tga:tt.XHR_RESPONSE_TYPE.BLOB,json:tt.XHR_RESPONSE_TYPE.JSON,text:tt.XHR_RESPONSE_TYPE.TEXT,txt:tt.XHR_RESPONSE_TYPE.TEXT,ttf:tt.XHR_RESPONSE_TYPE.BUFFER,otf:tt.XHR_RESPONSE_TYPE.BUFFER},tt.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var cn=window.URL||window.webkitURL,eo={caching:function(a,i){var e=this;vi[a.url]?(a.data=vi[a.url],a.complete()):a.onComplete.once(function(){return vi[e.url]=e.data}),i()},parsing:function(a,i){if(a.data){if(a.xhr&&a.xhrType===tt.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof a.data){if(0===a.data.type.indexOf("image")){var r=cn.createObjectURL(a.data);return a.blob=a.data,a.data=new Image,a.data.src=r,a.type=tt.TYPE.IMAGE,void(a.data.onload=function(){cn.revokeObjectURL(r),a.data.onload=null,i()})}}else{var e=a.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return a.data=new Image,a.data.src="data:"+e+";base64,"+function(a){for(var i="",e=0;e<a.length;){for(var r=[0,0,0],o=[0,0,0,0],d=0;d<r.length;++d)r[d]=e<a.length?255&a.charCodeAt(e++):0;switch(o[0]=r[0]>>2,o[1]=(3&r[0])<<4|r[1]>>4,o[2]=(15&r[1])<<2|r[2]>>6,o[3]=63&r[2],e-(a.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var m=0;m<o.length;++m)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o[m])}return i}(a.xhr.responseText),a.type=tt.TYPE.IMAGE,void(a.data.onload=function(){a.data.onload=null,i()})}i()}else i()}},Sc=/(#[\w-]+)?$/,hn=function(){function a(e,r){var o=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(m,w){return o._loadResource(m,w)},this._queue=function(a,i){if(null==i)i=1;else if(0===i)throw new Error("Concurrency must not be zero");var e=0,r={_tasks:[],concurrency:i,saturated:wn,unsaturated:wn,buffer:i/4,empty:wn,drain:wn,error:wn,started:!1,paused:!1,push:function(m,w){o(m,!1,w)},kill:function(){e=0,r.drain=wn,r.started=!1,r._tasks=[]},unshift:function(m,w){o(m,!0,w)},process:function(){for(;!r.paused&&e<r.concurrency&&r._tasks.length;){var m=r._tasks.shift();0===r._tasks.length&&r.empty(),(e+=1)===r.concurrency&&r.saturated(),a(m.data,lu(d(m)))}},length:function(){return r._tasks.length},running:function(){return e},idle:function(){return r._tasks.length+e===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var m=1;m<=r.concurrency;m++)r.process()}}};function o(p,m,w){if(null!=w&&"function"!=typeof w)throw new Error("task callback must be a function");if(r.started=!0,null==p&&r.idle())setTimeout(function(){return r.drain()},1);else{var x={data:p,callback:"function"==typeof w?w:wn};m?r._tasks.unshift(x):r._tasks.push(x),setTimeout(function(){return r.process()},1)}}function d(p){return function(){e-=1,p.callback.apply(p,arguments),null!=arguments[0]&&r.error(arguments[0],p.data),e<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(kr()),this.onError=new(kr()),this.onLoad=new(kr()),this.onStart=new(kr()),this.onComplete=new(kr());for(var d=0;d<a._defaultBeforeMiddleware.length;++d)this.pre(a._defaultBeforeMiddleware[d]);for(var p=0;p<a._defaultAfterMiddleware.length;++p)this.use(a._defaultAfterMiddleware[p])}var i=a.prototype;return i.add=function(r,o,d,p){if(Array.isArray(r)){for(var m=0;m<r.length;++m)this.add(r[m]);return this}if("object"==typeof r&&(p=o||r.callback||r.onComplete,d=r,o=r.url,r=r.name||r.key||r.url),"string"!=typeof o&&(p=d,d=o,o=r),"string"!=typeof o)throw new Error("No url passed to add resource to loader.");if("function"==typeof d&&(p=d,d=null),this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(o=this._prepareUrl(o),this.resources[r]=new tt(r,o,d),"function"==typeof p&&this.resources[r].onAfterMiddleware.once(p),this.loading){for(var w=d.parentResource,x=[],A=0;A<w.children.length;++A)w.children[A].isComplete||x.push(w.children[A]);var S=w.progressChunk*(x.length+1)/(x.length+2);w.children.push(this.resources[r]),w.progressChunk=S;for(var R=0;R<x.length;++R)x[R].progressChunk=S;this.resources[r].progressChunk=S}return this._queue.push(this.resources[r]),this},i.pre=function(r){return this._beforeMiddleware.push(r),this},i.use=function(r){return this._afterMiddleware.push(r),this},i.reset=function(){for(var r in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var o=this.resources[r];o._onLoadBinding&&o._onLoadBinding.detach(),o.isLoading&&o.abort()}return this.resources={},this},i.load=function(r){if("function"==typeof r&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var d=100/this._queue._tasks.length,p=0;p<this._queue._tasks.length;++p)this._queue._tasks[p].data.progressChunk=d;this._onStart(),this._queue.resume()}return this},i._prepareUrl=function(r){var d,o=au()(r,{strictMode:!0});if(d=o.protocol||!o.path||0===r.indexOf("//")?r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==r.charAt(0)?this.baseUrl+"/"+r:this.baseUrl+r,this.defaultQueryString){var p=Sc.exec(d)[0];-1!==(d=d.substr(0,d.length-p.length)).indexOf("?")?d+="&"+this.defaultQueryString:d+="?"+this.defaultQueryString,d+=p}return d},i._loadResource=function(r,o){var d=this;r._dequeue=o,uu(this._beforeMiddleware,function(p,m){p.call(d,r,function(){m(r.isComplete?{}:null)})},function(){r.isComplete?d._onLoad(r):(r._onLoadBinding=r.onComplete.once(d._onLoad,d),r.load())},!0)},i._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},i._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},i._onLoad=function(r){var o=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),uu(this._afterMiddleware,function(d,p){d.call(o,r,p)},function(){r.onAfterMiddleware.dispatch(r),o.progress=Math.min(100,o.progress+r.progressChunk),o.onProgress.dispatch(o,r),r.error?o.onError.dispatch(r.error,o,r):o.onLoad.dispatch(o,r),o._resourcesParsing.splice(o._resourcesParsing.indexOf(r),1),o._queue.idle()&&0===o._resourcesParsing.length&&o._onComplete()},!0)},bs(a,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r}}]),a}();hn._defaultBeforeMiddleware=[],hn._defaultAfterMiddleware=[],hn.pre=function(i){return hn._defaultBeforeMiddleware.push(i),hn},hn.use=function(i){return hn._defaultAfterMiddleware.push(i),hn};var Qn=tt,Qo=function(a,i){return(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Jn=function(){function a(){}return a.use=function(i,e){i.data&&i.type===tt.TYPE.IMAGE&&(i.texture=ct.fromLoader(i.data,i.url,i.name)),e()},a}(),qr=function(a){function i(e,r){for(var o=a.call(this,e,r)||this,d=0;d<i._plugins.length;++d){var p=i._plugins[d],m=p.pre,w=p.use;m&&o.pre(m),w&&o.use(w)}return o._protected=!1,o}return function(a,i){function e(){this.constructor=a}Qo(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(i,"shared",{get:function(){var e=i._shared;return e||((e=new i)._protected=!0,i._shared=e),e},enumerable:!1,configurable:!0}),i.registerPlugin=function(e){return i._plugins.push(e),e.add&&e.add(),i},i._plugins=[],i}(hn);qr.registerPlugin({use:eo.parsing}),qr.registerPlugin(Jn);var to=function(){function a(){}return a.init=function(i){i=Object.assign({sharedLoader:!1},i),this.loader=i.sharedLoader?qr.shared:new qr},a.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},a}(),ea=function(a,i){return(ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Ic(a,i){function e(){this.constructor=a}ea(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}!function(a){function i(e,r,o,d){void 0===e&&(e=1500),void 0===o&&(o=16384),void 0===d&&(d=!1);var p=a.call(this)||this;return o>16384&&(o=16384),p._properties=[!1,!0,!1,!1,!1],p._maxSize=e,p._batchSize=o,p._buffers=null,p._bufferUpdateIDs=[],p._updateID=0,p.interactiveChildren=!1,p.blendMode=we.NORMAL,p.autoResize=d,p.roundPixels=!0,p.baseTexture=null,p.setProperties(r),p._tint=0,p.tintRgb=new Float32Array(4),p.tint=16777215,p}Ic(i,a),i.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Pi(e,this.tintRgb)},enumerable:!1,configurable:!0}),i.prototype.render=function(e){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},i.prototype.onChildrenChange=function(e){for(var r=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},i.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(bn);var hu=function(){function a(i,e,r){this.geometry=new us,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<i.length;++o){var d=i[o];d={attributeName:d.attributeName,size:d.size,uploadFunction:d.uploadFunction,type:d.type||Ae.FLOAT,offset:d.offset},e[o]?this.dynamicProperties.push(d):this.staticProperties.push(d)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return a.prototype.initBuffers=function(){var i=this.geometry,e=0;this.indexBuffer=new gn(function(a,i){void 0===i&&(i=null);var e=6*a;if((i=i||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+i.length+" and expected "+e);for(var r=0,o=0;r<e;r+=6,o+=4)i[r+0]=o+0,i[r+1]=o+1,i[r+2]=o+2,i[r+3]=o+0,i[r+4]=o+2,i[r+5]=o+3;return i}(this.size),!0,!0),i.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(o=this.dynamicProperties[r]).offset=e,e+=o.size,this.dynamicStride+=o.size;var d=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(d),this.dynamicDataUint32=new Uint32Array(d),this.dynamicBuffer=new gn(this.dynamicData,!1,!1);var p=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(o=this.staticProperties[r]).offset=p,p+=o.size,this.staticStride+=o.size;var m=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(m),this.staticDataUint32=new Uint32Array(m),this.staticBuffer=new gn(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r)i.addAttribute((o=this.dynamicProperties[r]).attributeName,this.dynamicBuffer,0,o.type===Ae.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset);for(r=0;r<this.staticProperties.length;++r){var o;i.addAttribute((o=this.staticProperties[r]).attributeName,this.staticBuffer,0,o.type===Ae.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},a.prototype.uploadDynamic=function(i,e,r){for(var o=0;o<this.dynamicProperties.length;o++){var d=this.dynamicProperties[o];d.uploadFunction(i,e,r,d.type===Ae.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,d.offset)}this.dynamicBuffer._updateID++},a.prototype.uploadStatic=function(i,e,r){for(var o=0;o<this.staticProperties.length;o++){var d=this.staticProperties[o];d.uploadFunction(i,e,r,d.type===Ae.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,d.offset)}this.staticBuffer._updateID++},a.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},a}(),ws=function(a){function i(e){var r=a.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Kt,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ae.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=pi.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=ds.for2d(),r}return Ic(i,a),i.prototype.render=function(e){var r=e.children,o=e._maxSize,d=e._batchSize,p=this.renderer,m=r.length;if(0!==m){m>o&&!e.autoResize&&(m=o);var w=e._buffers;w||(w=e._buffers=this.generateBuffers(e));var x=r[0]._texture.baseTexture;this.state.blendMode=To(e.blendMode,x.alphaMode),p.state.set(this.state);var A=p.gl,I=e.worldTransform.copyTo(this.tempMatrix);I.prepend(p.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=I.toArray(!0),this.shader.uniforms.uColor=function(a,i,e,r){return e=e||new Float32Array(4),r||void 0===r?(e[0]=a[0]*i,e[1]=a[1]*i,e[2]=a[2]*i):(e[0]=a[0],e[1]=a[1],e[2]=a[2]),e[3]=i,e}(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,x.alphaMode),this.shader.uniforms.uSampler=x,this.renderer.shader.bind(this.shader);for(var S=!1,R=0,L=0;R<m;R+=d,L+=1){var U=m-R;U>d&&(U=d),L>=w.length&&w.push(this._generateOneMoreBuffer(e));var W=w[L];W.uploadDynamic(r,R,U),(S=S||W._updateID<(e._bufferUpdateIDs[L]||0))&&(W._updateID=e._updateID,W.uploadStatic(r,R,U)),p.geometry.bind(W.geometry),A.drawElements(A.TRIANGLES,6*U,A.UNSIGNED_SHORT,0)}}},i.prototype.generateBuffers=function(e){for(var r=[],o=e._maxSize,d=e._batchSize,p=e._properties,m=0;m<o;m+=d)r.push(new hu(this.properties,p,d));return r},i.prototype._generateOneMoreBuffer=function(e){return new hu(this.properties,e._properties,e._batchSize)},i.prototype.uploadVertices=function(e,r,o,d,p,m){for(var w=0,x=0,A=0,I=0,S=0;S<o;++S){var R=e[r+S],L=R._texture,U=R.scale.x,W=R.scale.y,fe=L.trim,Ne=L.orig;fe?(w=(x=fe.x-R.anchor.x*Ne.width)+fe.width,A=(I=fe.y-R.anchor.y*Ne.height)+fe.height):(w=Ne.width*(1-R.anchor.x),x=Ne.width*-R.anchor.x,A=Ne.height*(1-R.anchor.y),I=Ne.height*-R.anchor.y),d[m]=x*U,d[m+1]=I*W,d[m+p]=w*U,d[m+p+1]=I*W,d[m+2*p]=w*U,d[m+2*p+1]=A*W,d[m+3*p]=x*U,d[m+3*p+1]=A*W,m+=4*p}},i.prototype.uploadPosition=function(e,r,o,d,p,m){for(var w=0;w<o;w++){var x=e[r+w].position;d[m]=x.x,d[m+1]=x.y,d[m+p]=x.x,d[m+p+1]=x.y,d[m+2*p]=x.x,d[m+2*p+1]=x.y,d[m+3*p]=x.x,d[m+3*p+1]=x.y,m+=4*p}},i.prototype.uploadRotation=function(e,r,o,d,p,m){for(var w=0;w<o;w++){var x=e[r+w].rotation;d[m]=x,d[m+p]=x,d[m+2*p]=x,d[m+3*p]=x,m+=4*p}},i.prototype.uploadUvs=function(e,r,o,d,p,m){for(var w=0;w<o;++w){var x=e[r+w]._texture._uvs;x?(d[m]=x.x0,d[m+1]=x.y0,d[m+p]=x.x1,d[m+p+1]=x.y1,d[m+2*p]=x.x2,d[m+2*p+1]=x.y2,d[m+3*p]=x.x3,d[m+3*p+1]=x.y3,m+=4*p):(d[m]=0,d[m+1]=0,d[m+p]=0,d[m+p+1]=0,d[m+2*p]=0,d[m+2*p+1]=0,d[m+3*p]=0,d[m+3*p+1]=0,m+=4*p)}},i.prototype.uploadTint=function(e,r,o,d,p,m){for(var w=0;w<o;++w){var x=e[r+w],I=x.alpha,S=I<1&&x._texture.baseTexture.alphaMode>0?yn(x._tintRGB,I):x._tintRGB+(255*I<<24);d[m]=S,d[m+p]=S,d[m+2*p]=S,d[m+3*p]=S,m+=4*p}},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},i}(or),Zr=(()=>{return(a=Zr||(Zr={})).MITER="miter",a.BEVEL="bevel",a.ROUND="round",Zr;var a})(),_r=(()=>{return(a=_r||(_r={})).BUTT="butt",a.ROUND="round",a.SQUARE="square",_r;var a})(),no={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(a,i){if(void 0===i&&(i=20),!this.adaptive||!a||isNaN(a))return i;var e=Math.ceil(a/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},Tl=function(){function a(){this.color=16777215,this.alpha=1,this.texture=ct.WHITE,this.matrix=null,this.visible=!1,this.reset()}return a.prototype.clone=function(){var i=new a;return i.color=this.color,i.alpha=this.alpha,i.texture=this.texture,i.matrix=this.matrix,i.visible=this.visible,i},a.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ct.WHITE,this.matrix=null,this.visible=!1},a.prototype.destroy=function(){this.texture=null,this.matrix=null},a}(),du=function(a,i){return(du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function ta(a,i){function e(){this.constructor=a}du(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var na={build:function(a){a.points=a.shape.points.slice()},triangulate:function(a,i){var e=a.points,r=a.holes,o=i.points,d=i.indices;if(e.length>=6){for(var p=[],m=0;m<r.length;m++){var w=r[m];p.push(e.length/2),e=e.concat(w.points)}var x=se()(e,p,2);if(!x)return;var A=o.length/2;for(m=0;m<x.length;m+=3)d.push(x[m]+A),d.push(x[m+1]+A),d.push(x[m+2]+A);for(m=0;m<e.length;m++)o.push(e[m])}}},vt={build:function(a){var d,p,i=a.shape,e=a.points,r=i.x,o=i.y;if(e.length=0,a.type===Xt.CIRC)d=i.radius,p=i.radius;else{var m=a.shape;d=m.width,p=m.height}if(0!==d&&0!==p){var w=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(d+p));w/=2.3;for(var x=2*Math.PI/w,A=0;A<w-.5;A++)e.push(r+Math.sin(-x*A)*d,o+Math.cos(-x*A)*p);e.push(e[0],e[1])}},triangulate:function(a,i){var e=a.points,r=i.points,o=i.indices,d=r.length/2,p=d,m=a.shape,w=a.matrix,x=m.x,A=m.y;r.push(a.matrix?w.a*x+w.c*A+w.tx:x,a.matrix?w.b*x+w.d*A+w.ty:A);for(var I=0;I<e.length;I+=2)r.push(e[I],e[I+1]),o.push(d++,p,d)}};function Vn(a,i,e){return a+(i-a)*e}function ia(a,i,e,r,o,d,p){void 0===p&&(p=[]);for(var w=p,x=0,A=0,I=0,S=0,R=0,L=0,U=0,W=0;U<=20;++U)x=Vn(a,e,W=U/20),A=Vn(i,r,W),I=Vn(e,o,W),S=Vn(r,d,W),R=Vn(x,I,W),L=Vn(A,S,W),w.push(R,L);return w}var mi={build:function(a){var i=a.shape,e=a.points,r=i.x,o=i.y,d=i.width,p=i.height,m=Math.max(0,Math.min(i.radius,Math.min(d,p)/2));e.length=0,m?(ia(r,o+m,r,o,r+m,o,e),ia(r+d-m,o,r+d,o,r+d,o+m,e),ia(r+d,o+p-m,r+d,o+p,r+d-m,o+p,e),ia(r+m,o+p,r,o+p,r,o+p-m,e)):e.push(r,o,r+d,o,r+d,o+p,r,o+p)},triangulate:function(a,i){for(var e=a.points,r=i.points,o=i.indices,d=r.length/2,p=se()(e,null,2),m=0,w=p.length;m<w;m+=3)o.push(p[m]+d),o.push(p[m+1]+d),o.push(p[m+2]+d);for(m=0,w=e.length;m<w;m++)r.push(e[m],e[++m])}};function sa(a,i,e,r,o,d,p,m){var S,R;p?(S=r,R=-e):(S=-r,R=e);var W=a+e*d+S,fe=i+r*d+R;return m.push(a-e*o+S,i-r*o+R),m.push(W,fe),2}function Kr(a,i,e,r,o,d,p,m){var w=e-a,x=r-i,A=Math.atan2(w,x),I=Math.atan2(o-a,d-i);m&&A<I?A+=2*Math.PI:!m&&A>I&&(I+=2*Math.PI);var S=A,R=I-A,L=Math.abs(R),U=Math.sqrt(w*w+x*x),W=1+(15*L*Math.sqrt(U)/Math.PI>>0),fe=R/W;if(S+=fe,m){p.push(a,i),p.push(e,r);for(var Ne=1,_e=S;Ne<W;Ne++,_e+=fe)p.push(a,i),p.push(a+Math.sin(_e)*U,i+Math.cos(_e)*U);p.push(a,i),p.push(o,d)}else{for(p.push(e,r),p.push(a,i),Ne=1,_e=S;Ne<W;Ne++,_e+=fe)p.push(a+Math.sin(_e)*U,i+Math.cos(_e)*U),p.push(a,i);p.push(o,d),p.push(a,i)}return 2*W}function oa(a,i){a.lineStyle.native?function(a,i){var e=0,r=a.shape,o=a.points||r.points,d=r.type!==Xt.POLY||r.closeStroke;if(0!==o.length){var p=i.points,m=i.indices,w=o.length/2,x=p.length/2,A=x;for(p.push(o[0],o[1]),e=1;e<w;e++)p.push(o[2*e],o[2*e+1]),m.push(A,A+1),A++;d&&m.push(A,x)}}(a,i):function(a,i){var e=a.shape,r=a.points||e.points.slice(),o=i.closePointEps;if(0!==r.length){var d=a.lineStyle,p=new tn(r[0],r[1]),m=new tn(r[r.length-2],r[r.length-1]),w=e.type!==Xt.POLY||e.closeStroke,x=Math.abs(p.x-m.x)<o&&Math.abs(p.y-m.y)<o;if(w){r=r.slice(),x&&(r.pop(),r.pop(),m.set(r[r.length-2],r[r.length-1]));var A=.5*(p.x+m.x),I=.5*(m.y+p.y);r.unshift(A,I),r.push(A,I)}var S=i.points,R=r.length/2,L=r.length,U=S.length/2,W=d.width/2,fe=W*W,Ne=d.miterLimit*d.miterLimit,_e=r[0],Ge=r[1],Ce=r[2],ye=r[3],yt=0,At=0,Xe=-(Ge-ye),We=_e-Ce,xt=0,Ct=0,nn=Math.sqrt(Xe*Xe+We*We);Xe/=nn,We/=nn,Xe*=W,We*=W;var wi=d.alignment,Ke=2*(1-wi),rt=2*wi;w||(d.cap===_r.ROUND?L+=Kr(_e-Xe*(Ke-rt)*.5,Ge-We*(Ke-rt)*.5,_e-Xe*Ke,Ge-We*Ke,_e+Xe*rt,Ge+We*rt,S,!0)+2:d.cap===_r.SQUARE&&(L+=sa(_e,Ge,Xe,We,Ke,rt,!0,S))),S.push(_e-Xe*Ke,Ge-We*Ke),S.push(_e+Xe*rt,Ge+We*rt);for(var Ye=1;Ye<R-1;++Ye){yt=r[2*(Ye+1)],At=r[2*(Ye+1)+1],Xe=-((Ge=r[2*(Ye-1)+1])-(ye=r[2*Ye+1])),We=(_e=r[2*(Ye-1)])-(Ce=r[2*Ye]),Xe/=nn=Math.sqrt(Xe*Xe+We*We),We/=nn,Xe*=W,We*=W,xt=-(ye-At),Ct=Ce-yt,xt/=nn=Math.sqrt(xt*xt+Ct*Ct),Ct/=nn,xt*=W,Ct*=W;var ri=Ce-_e,Di=Ge-ye,Ti=Ce-yt,ii=At-ye,fr=Di*Ti-ii*ri,dr=fr<0;if(Math.abs(fr)<.1)S.push(Ce-Xe*Ke,ye-We*Ke),S.push(Ce+Xe*rt,ye+We*rt);else{var Eo=(-Xe+_e)*(-We+ye)-(-Xe+Ce)*(-We+Ge),Zi=(-xt+yt)*(-Ct+ye)-(-xt+Ce)*(-Ct+At),xi=(ri*Zi-Ti*Eo)/fr,Dr=(ii*Eo-Di*Zi)/fr,si=(xi-Ce)*(xi-Ce)+(Dr-ye)*(Dr-ye),Dt=Ce+(xi-Ce)*Ke,Xn=ye+(Dr-ye)*Ke,Ln=Ce-(xi-Ce)*rt,Et=ye-(Dr-ye)*rt,Tr=dr?Ke:rt;si<=Math.min(ri*ri+Di*Di,Ti*Ti+ii*ii)+Tr*Tr*fe?d.join===Zr.BEVEL||si/fe>Ne?(dr?(S.push(Dt,Xn),S.push(Ce+Xe*rt,ye+We*rt),S.push(Dt,Xn),S.push(Ce+xt*rt,ye+Ct*rt)):(S.push(Ce-Xe*Ke,ye-We*Ke),S.push(Ln,Et),S.push(Ce-xt*Ke,ye-Ct*Ke),S.push(Ln,Et)),L+=2):d.join===Zr.ROUND?dr?(S.push(Dt,Xn),S.push(Ce+Xe*rt,ye+We*rt),L+=Kr(Ce,ye,Ce+Xe*rt,ye+We*rt,Ce+xt*rt,ye+Ct*rt,S,!0)+4,S.push(Dt,Xn),S.push(Ce+xt*rt,ye+Ct*rt)):(S.push(Ce-Xe*Ke,ye-We*Ke),S.push(Ln,Et),L+=Kr(Ce,ye,Ce-Xe*Ke,ye-We*Ke,Ce-xt*Ke,ye-Ct*Ke,S,!1)+4,S.push(Ce-xt*Ke,ye-Ct*Ke),S.push(Ln,Et)):(S.push(Dt,Xn),S.push(Ln,Et)):(S.push(Ce-Xe*Ke,ye-We*Ke),S.push(Ce+Xe*rt,ye+We*rt),d.join===Zr.BEVEL||si/fe>Ne||(d.join===Zr.ROUND?L+=dr?Kr(Ce,ye,Ce+Xe*rt,ye+We*rt,Ce+xt*rt,ye+Ct*rt,S,!0)+2:Kr(Ce,ye,Ce-Xe*Ke,ye-We*Ke,Ce-xt*Ke,ye-Ct*Ke,S,!1)+2:(dr?(S.push(Ln,Et),S.push(Ln,Et)):(S.push(Dt,Xn),S.push(Dt,Xn)),L+=2)),S.push(Ce-xt*Ke,ye-Ct*Ke),S.push(Ce+xt*rt,ye+Ct*rt),L+=2)}}Xe=-((Ge=r[2*(R-2)+1])-(ye=r[2*(R-1)+1])),We=(_e=r[2*(R-2)])-(Ce=r[2*(R-1)]),Xe/=nn=Math.sqrt(Xe*Xe+We*We),We/=nn,S.push(Ce-(Xe*=W)*Ke,ye-(We*=W)*Ke),S.push(Ce+Xe*rt,ye+We*rt),w||(d.cap===_r.ROUND?L+=Kr(Ce-Xe*(Ke-rt)*.5,ye-We*(Ke-rt)*.5,Ce-Xe*Ke,ye-We*Ke,Ce+Xe*rt,ye+We*rt,S,!1)+2:d.cap===_r.SQUARE&&(L+=sa(Ce,ye,Xe,We,Ke,rt,!1,S)));var $n=i.indices,Ra=no.epsilon*no.epsilon;for(Ye=U;Ye<L+U-2;++Ye)_e=S[2*Ye],Ge=S[2*Ye+1],Ce=S[2*(Ye+1)],ye=S[2*(Ye+1)+1],yt=S[2*(Ye+2)],At=S[2*(Ye+2)+1],!(Math.abs(_e*(ye-At)+Ce*(At-Ge)+yt*(Ge-ye))<Ra)&&$n.push(Ye,Ye+1,Ye+2)}}(a,i)}var Zt,aa=function(a){function i(e,r,o,d,p,m){void 0===m&&(m=0),p=p||d/2;for(var x=-1*Math.PI/2+m,A=2*o,I=js/A,S=[],R=0;R<A;R++){var L=R%2?p:d,U=R*I+x;S.push(e+L*Math.cos(U),r+L*Math.sin(U))}return a.call(this,S)||this}return ta(i,a),i}(Tn),ua=function(){function a(){}return a.curveTo=function(i,e,r,o,d,p){var x=p[p.length-1]-e,A=p[p.length-2]-i,I=o-e,S=r-i,R=Math.abs(x*S-A*I);if(R<1e-8||0===d)return(p[p.length-2]!==i||p[p.length-1]!==e)&&p.push(i,e),null;var L=x*x+A*A,U=I*I+S*S,W=x*I+A*S,fe=d*Math.sqrt(L)/R,Ne=d*Math.sqrt(U)/R,_e=fe*W/L,Ge=Ne*W/U,Ce=fe*S+Ne*A,ye=fe*I+Ne*x,Xe=S*(fe+Ge),We=I*(fe+Ge);return{cx:Ce+i,cy:ye+e,radius:d,startAngle:Math.atan2(x*(Ne+_e)-ye,A*(Ne+_e)-Ce),endAngle:Math.atan2(We-ye,Xe-Ce),anticlockwise:A*I>S*x}},a.arc=function(i,e,r,o,d,p,m,w,x){for(var A=m-p,I=no._segmentsCount(Math.abs(A)*d,40*Math.ceil(Math.abs(A)/js)),S=A/(2*I),R=2*S,L=Math.cos(S),U=Math.sin(S),W=I-1,fe=W%1/W,Ne=0;Ne<=W;++Ne){var Ge=S+p+R*(Ne+fe*Ne),Ce=Math.cos(Ge),ye=-Math.sin(Ge);x.push((L*Ce+U*ye)*d+r,(L*-ye+U*Ce)*d+o)}},a}(),ro=function(){function a(){}return a.curveLength=function(i,e,r,o,d,p,m,w){for(var A=0,I=0,S=0,R=0,L=0,U=0,W=0,fe=0,Ne=0,_e=0,Ge=0,Ce=i,ye=e,yt=1;yt<=10;++yt)_e=Ce-(fe=(W=(U=(L=1-(I=yt/10))*L)*L)*i+3*U*I*r+3*L*(S=I*I)*d+(R=S*I)*m),Ge=ye-(Ne=W*e+3*U*I*o+3*L*S*p+R*w),Ce=fe,ye=Ne,A+=Math.sqrt(_e*_e+Ge*Ge);return A},a.curveTo=function(i,e,r,o,d,p,m){var w=m[m.length-2],x=m[m.length-1];m.length-=2;var A=no._segmentsCount(a.curveLength(w,x,i,e,r,o,d,p)),I=0,S=0,R=0,L=0,U=0;m.push(w,x);for(var W=1,fe=0;W<=A;++W)m.push((R=(S=(I=1-(fe=W/A))*I)*I)*w+3*S*fe*i+3*I*(L=fe*fe)*r+(U=L*fe)*d,R*x+3*S*fe*e+3*I*L*o+U*p)},a}(),vn=function(){function a(){}return a.curveLength=function(i,e,r,o,d,p){var m=i-2*r+d,w=e-2*o+p,x=2*r-2*i,A=2*o-2*e,I=4*(m*m+w*w),S=4*(m*x+w*A),R=x*x+A*A,L=2*Math.sqrt(I+S+R),U=Math.sqrt(I),W=2*I*U,fe=2*Math.sqrt(R),Ne=S/U;return(W*L+U*S*(L-fe)+(4*R*I-S*S)*Math.log((2*U+Ne+L)/(Ne+fe)))/(4*W)},a.curveTo=function(i,e,r,o,d){for(var p=d[d.length-2],m=d[d.length-1],w=no._segmentsCount(a.curveLength(p,m,i,e,r,o)),x=0,A=0,I=1;I<=w;++I){var S=I/w;d.push((x=p+(i-p)*S)+(i+(r-i)*S-x)*S,(A=m+(e-m)*S)+(e+(o-e)*S-A)*S)}},a}(),br=function(){function a(){this.reset()}return a.prototype.begin=function(i,e,r){this.reset(),this.style=i,this.start=e,this.attribStart=r},a.prototype.end=function(i,e){this.attribSize=e-this.attribStart,this.size=i-this.start},a.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},a}(),io=((Zt={})[Xt.POLY]=na,Zt[Xt.CIRC]=vt,Zt[Xt.ELIP]=vt,Zt[Xt.RECT]={build:function(a){var i=a.shape,e=i.x,r=i.y,o=i.width,d=i.height,p=a.points;p.length=0,p.push(e,r,e+o,r,e+o,r+d,e,r+d)},triangulate:function(a,i){var e=a.points,r=i.points,o=r.length/2;r.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),i.indices.push(o,o+1,o+2,o+1,o+2,o+3)}},Zt[Xt.RREC]=mi,Zt),pu=[],yi=[],gu=function(){function a(i,e,r,o){void 0===e&&(e=null),void 0===r&&(r=null),void 0===o&&(o=null),this.shape=i,this.lineStyle=r,this.fillStyle=e,this.matrix=o,this.type=i.type,this.points=[],this.holes=[]}return a.prototype.clone=function(){return new a(this.shape,this.fillStyle,this.lineStyle,this.matrix)},a.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},a}(),Ds=new tn,xl=new Or,Ts=function(a){function i(){var e=a.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Or,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return ta(i,a),Object.defineProperty(i.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),i.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),yi.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var r=this.batches[e];r.reset(),pu.push(r)}this.batches.length=0},i.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},i.prototype.drawShape=function(e,r,o,d){void 0===r&&(r=null),void 0===o&&(o=null),void 0===d&&(d=null);var p=new gu(e,r,o,d);return this.graphicsData.push(p),this.dirty++,this},i.prototype.drawHole=function(e,r){if(void 0===r&&(r=null),!this.graphicsData.length)return null;var o=new gu(e,null,null,r),d=this.graphicsData[this.graphicsData.length-1];return o.lineStyle=d.lineStyle,d.holes.push(o),this.dirty++,this},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},i.prototype.containsPoint=function(e){for(var r=this.graphicsData,o=0;o<r.length;++o){var d=r[o];if(d.fillStyle.visible&&d.shape&&(d.matrix?d.matrix.applyInverse(e,Ds):Ds.copyFrom(e),d.shape.contains(Ds.x,Ds.y))){var p=!1;if(d.holes)for(var m=0;m<d.holes.length;m++)if(d.holes[m].shape.contains(Ds.x,Ds.y)){p=!0;break}if(!p)return!0}}return!1},i.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,o=this.graphicsData,d=null,p=null;this.batches.length>0&&(p=(d=this.batches[this.batches.length-1]).style);for(var m=this.shapeIndex;m<o.length;m++){this.shapeIndex++;var w=o[m],x=w.fillStyle,A=w.lineStyle;io[w.type].build(w),w.matrix&&this.transformPoints(w.points,w.matrix);for(var S=0;S<2;S++){var R=0===S?x:A;if(R.visible){var U=this.indices.length,W=this.points.length/2;R.texture.baseTexture.wrapMode=at.REPEAT,0===S?this.processFill(w):this.processLine(w);var fe=this.points.length/2-W;0!==fe&&(d&&!this._compareStyles(p,R)&&(d.end(U,W),d=null),d||((d=pu.pop()||new br).begin(R,U,W),this.batches.push(d),p=R),this.addUvs(this.points,r,R.texture,W,fe,R.matrix))}}}var _e=this.points.length/2;if(d&&d.end(this.indices.length,_e),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=_e>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},i.prototype._compareStyles=function(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)},i.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,r=this.graphicsData.length;e<r;e++){var o=this.graphicsData[e],d=o.fillStyle,p=o.lineStyle;if(d&&!d.texture.baseTexture.valid||p&&!p.texture.baseTexture.valid)return!1}return!0},i.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,r=0,o=e.length;r<o;r++)for(var d=e[r],p=0;p<d.size;p++){var m=d.start+p;this.indicesUint16[m]=this.indicesUint16[m]-d.attribStart}},i.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*i.BATCHABLE_SIZE},i.prototype.buildDrawCalls=function(){for(var e=++zt._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),yi.push(this.drawCalls[r]);this.drawCalls.length=0;var o=this.colors,d=this.textureIds,p=yi.pop();p||((p=new Ks).texArray=new iu),p.texArray.count=0,p.start=0,p.size=0,p.type=Pe.TRIANGLES;var m=0,w=null,x=0,A=!1,I=Pe.TRIANGLES,S=0;for(this.drawCalls.push(p),r=0;r<this.batches.length;r++){var R=this.batches[r],U=R.style,W=U.texture.baseTexture;A!==!!U.native&&(I=(A=!!U.native)?Pe.LINES:Pe.TRIANGLES,w=null,m=8,e++),w!==W&&(w=W,W._batchEnabled!==e&&(8===m&&(e++,m=0,p.size>0&&((p=yi.pop())||((p=new Ks).texArray=new iu),this.drawCalls.push(p)),p.start=S,p.size=0,p.texArray.count=0,p.type=I),W.touched=1,W._batchEnabled=e,W._batchLocation=m,W.wrapMode=10497,p.texArray.elements[p.texArray.count++]=W,m++)),p.size+=R.size,S+=R.size,x=W._batchLocation,this.addColors(o,U.color,U.alpha,R.attribSize,R.attribStart),this.addTextureIds(d,x,R.attribSize,R.attribStart)}zt._globalBatch=e,this.packAttributes()},i.prototype.packAttributes=function(){for(var e=this.points,r=this.uvs,o=this.colors,d=this.textureIds,p=new ArrayBuffer(3*e.length*4),m=new Float32Array(p),w=new Uint32Array(p),x=0,A=0;A<e.length/2;A++)m[x++]=e[2*A],m[x++]=e[2*A+1],m[x++]=r[2*A],m[x++]=r[2*A+1],w[x++]=o[A],m[x++]=d[A];this._buffer.update(p),this._indexBuffer.update(this.indicesUint16)},i.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),na.triangulate(e,this)):io[e.type].triangulate(e,this)},i.prototype.processLine=function(e){oa(e,this);for(var r=0;r<e.holes.length;r++)oa(e.holes[r],this)},i.prototype.processHoles=function(e){for(var r=0;r<e.length;r++){var o=e[r];io[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix)}},i.prototype.calculateBounds=function(){var e=this._bounds,r=xl,o=Kt.IDENTITY;this._bounds.clear(),r.clear();for(var d=0;d<this.graphicsData.length;d++){var p=this.graphicsData[d],m=p.shape,w=p.type,x=p.lineStyle,A=p.matrix||Kt.IDENTITY,I=0;if(x&&x.visible){var S=x.alignment;I=x.width,I*=w===Xt.POLY?.5+Math.abs(.5-S):Math.max(0,S)}o!==A&&(r.isEmpty()||(e.addBoundsMatrix(r,o),r.clear()),o=A),w===Xt.RECT||w===Xt.RREC?r.addFramePad(m.x,m.y,m.x+m.width,m.y+m.height,I,I):w===Xt.CIRC?r.addFramePad(m.x,m.y,m.x,m.y,m.radius+I,m.radius+I):w===Xt.ELIP?r.addFramePad(m.x,m.y,m.x,m.y,m.width+I,m.height+I):e.addVerticesMatrix(o,m.points,0,m.points.length,I,I)}r.isEmpty()||e.addBoundsMatrix(r,o),e.pad(this.boundsPadding,this.boundsPadding)},i.prototype.transformPoints=function(e,r){for(var o=0;o<e.length/2;o++){var d=e[2*o],p=e[2*o+1];e[2*o]=r.a*d+r.c*p+r.tx,e[2*o+1]=r.b*d+r.d*p+r.ty}},i.prototype.addColors=function(e,r,o,d,p){void 0===p&&(p=0);var w=yn((r>>16)+(65280&r)+((255&r)<<16),o);e.length=Math.max(e.length,p+d);for(var x=0;x<d;x++)e[p+x]=w},i.prototype.addTextureIds=function(e,r,o,d){void 0===d&&(d=0),e.length=Math.max(e.length,d+o);for(var p=0;p<o;p++)e[d+p]=r},i.prototype.addUvs=function(e,r,o,d,p,m){void 0===m&&(m=null);for(var w=0,x=r.length,A=o.frame;w<p;){var I=e[2*(d+w)],S=e[2*(d+w)+1];if(m){var R=m.a*I+m.c*S+m.tx;S=m.b*I+m.d*S+m.ty,I=R}w++,r.push(I/A.width,S/A.height)}var L=o.baseTexture;(A.width<L.width||A.height<L.height)&&this.adjustUvs(r,o,x,p)},i.prototype.adjustUvs=function(e,r,o,d){for(var p=r.baseTexture,m=1e-6,w=o+2*d,x=r.frame,A=x.width/p.width,I=x.height/p.height,S=x.x/x.width,R=x.y/x.height,L=Math.floor(e[o]+m),U=Math.floor(e[o+1]+m),W=o+2;W<w;W+=2)L=Math.min(L,Math.floor(e[W]+m)),U=Math.min(U,Math.floor(e[W+1]+m));for(S-=L,R-=U,W=o;W<w;W+=2)e[W]=(e[W]+S)*A,e[W+1]=(e[W+1]+R)*I},i.BATCHABLE_SIZE=100,i}(_s),Hr=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=_r.BUTT,e.join=Zr.MITER,e.miterLimit=10,e}return ta(i,a),i.prototype.clone=function(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},i.prototype.reset=function(){a.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},i}(Tl),_i=new Float32Array(3),dt={},Xi=function(a){function i(e){void 0===e&&(e=null);var r=a.call(this)||this;return r._geometry=e||new Ts,r._geometry.refCount++,r.shader=null,r.state=ds.for2d(),r._fillStyle=new Tl,r._lineStyle=new Hr,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=we.NORMAL,r}return ta(i,a),Object.defineProperty(i.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),i.prototype.clone=function(){return this.finishPoly(),new i(this._geometry)},Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),i.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var r=arguments;e={width:r[0]||0,color:r[1]||0,alpha:void 0!==r[2]?r[2]:1,alignment:void 0!==r[3]?r[3]:.5,native:!!r[4]}}return this.lineTextureStyle(e)},i.prototype.lineTextureStyle=function(e){if("number"==typeof e){Bn("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var r=arguments,o=r[0],d=r[1],p=r[2],m=r[3],w=r[4],x=r[5],A=r[6];e={width:o,texture:d,color:p,alpha:m,matrix:w,alignment:x,native:A},Object.keys(e).forEach(function(S){return void 0===e[S]&&delete e[S]})}e=Object.assign({width:0,texture:ct.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:_r.BUTT,join:Zr.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var I=e.width>0&&e.alpha>0;return I?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:I},e)):this._lineStyle.reset(),this},i.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Tn,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Tn,this.currentPath.closeStroke=!1},i.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},i.prototype.moveTo=function(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this},i.prototype.lineTo=function(e,r){this.currentPath||this.moveTo(0,0);var o=this.currentPath.points;return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),this},i.prototype._initCurve=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,r]):this.moveTo(e,r)},i.prototype.quadraticCurveTo=function(e,r,o,d){this._initCurve();var p=this.currentPath.points;return 0===p.length&&this.moveTo(0,0),vn.curveTo(e,r,o,d,p),this},i.prototype.bezierCurveTo=function(e,r,o,d,p,m){return this._initCurve(),ro.curveTo(e,r,o,d,p,m,this.currentPath.points),this},i.prototype.arcTo=function(e,r,o,d,p){this._initCurve(e,r);var w=ua.curveTo(e,r,o,d,p,this.currentPath.points);return w&&this.arc(w.cx,w.cy,w.radius,w.startAngle,w.endAngle,w.anticlockwise),this},i.prototype.arc=function(e,r,o,d,p,m){if(void 0===m&&(m=!1),d===p)return this;if(!m&&p<=d?p+=js:m&&d<=p&&(d+=js),0==p-d)return this;var x=e+Math.cos(d)*o,A=r+Math.sin(d)*o,I=this._geometry.closePointEps,S=this.currentPath?this.currentPath.points:null;if(S){var R=Math.abs(S[S.length-2]-x),L=Math.abs(S[S.length-1]-A);R<I&&L<I||S.push(x,A)}else this.moveTo(x,A),S=this.currentPath.points;return ua.arc(x,A,e,r,o,d,p,m,S),this},i.prototype.beginFill=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=1),this.beginTextureFill({texture:ct.WHITE,color:e,alpha:r})},i.prototype.beginTextureFill=function(e){if(e instanceof ct){Bn("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var r=arguments,o=r[0],d=r[1],p=r[2],m=r[3];e={texture:o,color:d,alpha:p,matrix:m},Object.keys(e).forEach(function(x){return void 0===e[x]&&delete e[x]})}e=Object.assign({texture:ct.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var w=e.alpha>0;return w?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:w},e)):this._fillStyle.reset(),this},i.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},i.prototype.drawRect=function(e,r,o,d){return this.drawShape(new ut(e,r,o,d))},i.prototype.drawRoundedRect=function(e,r,o,d,p){return this.drawShape(new So(e,r,o,d,p))},i.prototype.drawCircle=function(e,r,o){return this.drawShape(new Ar(e,r,o))},i.prototype.drawEllipse=function(e,r,o,d){return this.drawShape(new Mi(e,r,o,d))},i.prototype.drawPolygon=function(){for(var e=arguments,r=[],o=0;o<arguments.length;o++)r[o]=e[o];var d,p=!0,m=r[0];m.points?(p=m.closeStroke,d=m.points):d=Array.isArray(r[0])?r[0]:r;var w=new Tn(d);return w.closeStroke=p,this.drawShape(w),this},i.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},i.prototype.drawStar=function(e,r,o,d,p,m){return void 0===m&&(m=0),this.drawPolygon(new aa(e,r,o,d,p,m))},i.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},i.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Xt.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},i.prototype._render=function(e){this.finishPoly();var r=this._geometry;r.updateBatches(e.context.supports.uint32Indices),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},i.prototype._populateBatches=function(){var e=this._geometry,r=this.blendMode,o=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=o,this.vertexData=new Float32Array(e.points);for(var d=0;d<o;d++){var p=e.batches[d],m=p.style.color,w=new Float32Array(this.vertexData.buffer,4*p.attribStart*2,2*p.attribSize),x=new Float32Array(e.uvsFloat32.buffer,4*p.attribStart*2,2*p.attribSize),I={vertexData:w,blendMode:r,indices:new Uint16Array(e.indicesUint16.buffer,2*p.start,p.size),uvs:x,_batchRGB:Pi(m),_tintRGB:m,_texture:p.style.texture,alpha:p.style.alpha,worldAlpha:1};this.batches[d]=I}},i.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,o=this.batches.length;r<o;r++){var d=this.batches[r];d.worldAlpha=this.worldAlpha*d.alpha,e.plugins[this.pluginName].render(d)}}},i.prototype._renderDirect=function(e){var r=this._resolveDirectShader(e),o=this._geometry,d=this.tint,p=this.worldAlpha,m=r.uniforms,w=o.drawCalls;m.translationMatrix=this.transform.worldTransform,m.tint[0]=(d>>16&255)/255*p,m.tint[1]=(d>>8&255)/255*p,m.tint[2]=(255&d)/255*p,m.tint[3]=p,e.shader.bind(r),e.geometry.bind(o,r),e.state.set(this.state);for(var x=0,A=w.length;x<A;x++)this._renderDrawCallDirect(e,o.drawCalls[x])},i.prototype._renderDrawCallDirect=function(e,r){for(var o=r.texArray,d=r.type,p=r.size,m=r.start,w=o.count,x=0;x<w;x++)e.texture.bind(o.elements[x],x);e.geometry.draw(d,p,m)},i.prototype._resolveDirectShader=function(e){var r=this.shader,o=this.pluginName;if(!r){if(!dt[o]){for(var d=e.plugins.batch.MAX_TEXTURES,p=new Int32Array(d),m=0;m<d;m++)p[m]=m;var w={tint:new Float32Array([1,1,1,1]),translationMatrix:new Kt,default:Fr.from({uSamplers:p},!0)};dt[o]=new pi(e.plugins[o]._shader.program,w)}r=dt[o]}return r},i.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var r=e.bounds;this._bounds.addFrame(this.transform,r.minX,r.minY,r.maxX,r.maxY)}},i.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,i._TEMP_POINT),this._geometry.containsPoint(i._TEMP_POINT)},i.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Pi(this.tint,_i),r=0;r<this.batches.length;r++){var o=this.batches[r],d=o._batchRGB,x=(e[0]*d[0]*255<<16)+(e[1]*d[1]*255<<8)+(0|e[2]*d[2]*255);o._tintRGB=(x>>16)+(65280&x)+((255&x)<<16)}}},i.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var r=this.transform.worldTransform,o=r.a,d=r.b,p=r.c,m=r.d,w=r.tx,x=r.ty,A=this._geometry.points,I=this.vertexData,S=0,R=0;R<A.length;R+=2){var L=A[R],U=A[R+1];I[S++]=o*L+p*U+w,I[S++]=m*U+d*L+x}}},i.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},i.prototype.setMatrix=function(e){return this._matrix=e,this},i.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},i.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},i.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,a.prototype.destroy.call(this,e)},i._TEMP_POINT=new tn,i}(bn),ca=function(a,i){return(ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},bi=new tn,vu=new Uint16Array([0,1,2,0,2,3]),xs=function(a){function i(e){var r=a.call(this)||this;return r._anchor=new Pr(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=we.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||ct.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=vu,r.pluginName="batch",r.isSprite=!0,r._roundPixels=O.ROUND_PIXELS,r}return function(a,i){function e(){this.constructor=a}ca(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ci(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ci(this.scale.y)*this._height/this._texture.orig.height)},i.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},i.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var r=this.transform.worldTransform,o=r.a,d=r.b,p=r.c,m=r.d,w=r.tx,x=r.ty,A=this.vertexData,I=e.trim,S=e.orig,R=this._anchor,L=0,U=0,W=0,fe=0;if(I?(L=(U=I.x-R._x*S.width)+I.width,W=(fe=I.y-R._y*S.height)+I.height):(L=(U=-R._x*S.width)+S.width,W=(fe=-R._y*S.height)+S.height),A[0]=o*U+p*fe+w,A[1]=m*fe+d*U+x,A[2]=o*L+p*fe+w,A[3]=m*fe+d*L+x,A[4]=o*L+p*W+w,A[5]=m*W+d*L+x,A[6]=o*U+p*W+w,A[7]=m*W+d*U+x,this._roundPixels)for(var Ne=O.RESOLUTION,_e=0;_e<A.length;++_e)A[_e]=Math.round((A[_e]*Ne|0)/Ne)}},i.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this.vertexTrimmedData,o=this._texture.orig,d=this._anchor,p=this.transform.worldTransform,m=p.a,w=p.b,x=p.c,A=p.d,I=p.tx,S=p.ty,R=-d._x*o.width,L=R+o.width,U=-d._y*o.height,W=U+o.height;r[0]=m*R+x*U+I,r[1]=A*U+w*R+S,r[2]=m*L+x*U+I,r[3]=A*U+w*L+S,r[4]=m*L+x*W+I,r[5]=A*W+w*L+S,r[6]=m*R+x*W+I,r[7]=A*W+w*R+S},i.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},i.prototype._calculateBounds=function(){var e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},i.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ut),e=this._localBoundsRect),this._bounds.getRectangle(e)):a.prototype.getLocalBounds.call(this,e)},i.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,bi);var r=this._texture.orig.width,o=this._texture.orig.height,d=-r*this.anchor.x,p=0;return!!(bi.x>=d&&bi.x<d+r&&(p=-o*this.anchor.y,bi.y>=p&&bi.y<p+o))},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},i.from=function(e,r){return new i(e instanceof ct?e:ct.from(e,r))},Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var r=ci(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var r=ci(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ct.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),i}(bn),mu=function(a,i){return(mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Gn=(()=>{return(a=Gn||(Gn={}))[a.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",a[a.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",Gn;var a})(),ha={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Gn.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},yu=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],$i=function(){function a(i){this.styleID=0,this.reset(),da(this,i,i)}return a.prototype.clone=function(){var i={};return da(i,this,ha),new a(i)},a.prototype.reset=function(){da(this,ha,ha)},Object.defineProperty(a.prototype,"align",{get:function(){return this._align},set:function(i){this._align!==i&&(this._align=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"breakWords",{get:function(){return this._breakWords},set:function(i){this._breakWords!==i&&(this._breakWords=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(i){this._dropShadow!==i&&(this._dropShadow=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(i){this._dropShadowAlpha!==i&&(this._dropShadowAlpha=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(i){this._dropShadowAngle!==i&&(this._dropShadowAngle=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(i){this._dropShadowBlur!==i&&(this._dropShadowBlur=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(i){var e=so(i);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(i){this._dropShadowDistance!==i&&(this._dropShadowDistance=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fill",{get:function(){return this._fill},set:function(i){var e=so(i);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(i){this._fillGradientType!==i&&(this._fillGradientType=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(i){(function(a,i){if(!Array.isArray(a)||!Array.isArray(i)||a.length!==i.length)return!1;for(var e=0;e<a.length;++e)if(a[e]!==i[e])return!1;return!0})(this._fillGradientStops,i)||(this._fillGradientStops=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(i){this.fontFamily!==i&&(this._fontFamily=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontSize",{get:function(){return this._fontSize},set:function(i){this._fontSize!==i&&(this._fontSize=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(i){this._fontStyle!==i&&(this._fontStyle=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(i){this._fontVariant!==i&&(this._fontVariant=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(i){this._fontWeight!==i&&(this._fontWeight=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(i){this._letterSpacing!==i&&(this._letterSpacing=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(i){this._lineHeight!==i&&(this._lineHeight=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leading",{get:function(){return this._leading},set:function(i){this._leading!==i&&(this._leading=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(i){this._lineJoin!==i&&(this._lineJoin=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(i){this._miterLimit!==i&&(this._miterLimit=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"padding",{get:function(){return this._padding},set:function(i){this._padding!==i&&(this._padding=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stroke",{get:function(){return this._stroke},set:function(i){var e=so(i);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(i){this._strokeThickness!==i&&(this._strokeThickness=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(i){this._textBaseline!==i&&(this._textBaseline=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"trim",{get:function(){return this._trim},set:function(i){this._trim!==i&&(this._trim=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(i){this._whiteSpace!==i&&(this._whiteSpace=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(i){this._wordWrap!==i&&(this._wordWrap=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(i){this._wordWrapWidth!==i&&(this._wordWrapWidth=i,this.styleID++)},enumerable:!1,configurable:!0}),a.prototype.toFontString=function(){var i="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var o=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&yu.indexOf(o)<0&&(o='"'+o+'"'),e[r]=o}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+i+" "+e.join(",")},a}();function fa(a){return"number"==typeof a?ns(a):("string"==typeof a&&0===a.indexOf("0x")&&(a=a.replace("0x","#")),a)}function so(a){if(Array.isArray(a)){for(var i=0;i<a.length;++i)a[i]=fa(a[i]);return a}return fa(a)}function da(a,i,e){for(var r in e)a[r]=Array.isArray(i[r])?i[r].slice():i[r]}var Er=function(){function a(i,e,r,o,d,p,m,w,x){this.text=i,this.style=e,this.width=r,this.height=o,this.lines=d,this.lineWidths=p,this.lineHeight=m,this.maxLineWidth=w,this.fontProperties=x}return a.measureText=function(i,e,r,o){void 0===o&&(o=a._canvas),r=null==r?e.wordWrap:r;var d=e.toFontString(),p=a.measureFont(d);0===p.fontSize&&(p.fontSize=e.fontSize,p.ascent=e.fontSize);var m=o.getContext("2d");m.font=d;for(var x=(r?a.wordWrap(i,e,o):i).split(/(?:\r\n|\r|\n)/),A=new Array(x.length),I=0,S=0;S<x.length;S++){var R=m.measureText(x[S]).width+(x[S].length-1)*e.letterSpacing;A[S]=R,I=Math.max(I,R)}var L=I+e.strokeThickness;e.dropShadow&&(L+=e.dropShadowDistance);var U=e.lineHeight||p.fontSize+e.strokeThickness,W=Math.max(U,p.fontSize+e.strokeThickness)+(x.length-1)*(U+e.leading);return e.dropShadow&&(W+=e.dropShadowDistance),new a(i,e,L,W,x,A,U+e.leading,I,p)},a.wordWrap=function(i,e,r){void 0===r&&(r=a._canvas);for(var o=r.getContext("2d"),d=0,p="",m="",w=Object.create(null),x=e.letterSpacing,A=e.whiteSpace,I=a.collapseSpaces(A),S=a.collapseNewlines(A),R=!I,L=e.wordWrapWidth+x,U=a.tokenize(i),W=0;W<U.length;W++){var fe=U[W];if(a.isNewline(fe)){if(!S){m+=a.addLine(p),R=!I,p="",d=0;continue}fe=" "}if(I){var Ne=a.isBreakingSpace(fe),_e=a.isBreakingSpace(p[p.length-1]);if(Ne&&_e)continue}var Ge=a.getFromCache(fe,x,w,o);if(Ge>L)if(""!==p&&(m+=a.addLine(p),p="",d=0),a.canBreakWords(fe,e.breakWords))for(var Ce=a.wordWrapSplit(fe),ye=0;ye<Ce.length;ye++){for(var yt=Ce[ye],At=1;Ce[ye+At];){var Xe=Ce[ye+At];if(a.canBreakChars(yt[yt.length-1],Xe,fe,ye,e.breakWords))break;yt+=Xe,At++}ye+=yt.length-1;var xt=a.getFromCache(yt,x,w,o);xt+d>L&&(m+=a.addLine(p),R=!1,p="",d=0),p+=yt,d+=xt}else p.length>0&&(m+=a.addLine(p),p="",d=0),m+=a.addLine(fe,!(W===U.length-1)),R=!1,p="",d=0;else Ge+d>L&&(R=!1,m+=a.addLine(p),p="",d=0),(p.length>0||!a.isBreakingSpace(fe)||R)&&(p+=fe,d+=Ge)}return m+a.addLine(p,!1)},a.addLine=function(i,e){return void 0===e&&(e=!0),i=a.trimRight(i),e?i+"\n":i},a.getFromCache=function(i,e,r,o){var d=r[i];if("number"!=typeof d){var p=i.length*e;d=o.measureText(i).width+p,r[i]=d}return d},a.collapseSpaces=function(i){return"normal"===i||"pre-line"===i},a.collapseNewlines=function(i){return"normal"===i},a.trimRight=function(i){if("string"!=typeof i)return"";for(var e=i.length-1;e>=0&&a.isBreakingSpace(i[e]);e--)i=i.slice(0,-1);return i},a.isNewline=function(i){return"string"==typeof i&&a._newlines.indexOf(i.charCodeAt(0))>=0},a.isBreakingSpace=function(i){return"string"==typeof i&&a._breakingSpaces.indexOf(i.charCodeAt(0))>=0},a.tokenize=function(i){var e=[],r="";if("string"!=typeof i)return e;for(var o=0;o<i.length;o++){var d=i[o];a.isBreakingSpace(d)||a.isNewline(d)?(""!==r&&(e.push(r),r=""),e.push(d)):r+=d}return""!==r&&e.push(r),e},a.canBreakWords=function(i,e){return e},a.canBreakChars=function(i,e,r,o,d){return!0},a.wordWrapSplit=function(i){return i.split("")},a.measureFont=function(i){if(a._fonts[i])return a._fonts[i];var e={ascent:0,descent:0,fontSize:0},r=a._canvas,o=a._context;o.font=i;var d=a.METRICS_STRING+a.BASELINE_SYMBOL,p=Math.ceil(o.measureText(d).width),m=Math.ceil(o.measureText(a.BASELINE_SYMBOL).width),w=2*m;m=m*a.BASELINE_MULTIPLIER|0,r.width=p,r.height=w,o.fillStyle="#f00",o.fillRect(0,0,p,w),o.font=i,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(d,0,m);var x=o.getImageData(0,0,p,w).data,A=x.length,I=4*p,S=0,R=0,L=!1;for(S=0;S<m;++S){for(var U=0;U<I;U+=4)if(255!==x[R+U]){L=!0;break}if(L)break;R+=I}for(e.ascent=m-S,R=A-I,L=!1,S=w;S>m;--S){for(U=0;U<I;U+=4)if(255!==x[R+U]){L=!0;break}if(L)break;R-=I}return e.descent=S-m,e.fontSize=e.ascent+e.descent,a._fonts[i]=e,e},a.clearMetrics=function(i){void 0===i&&(i=""),i?delete a._fonts[i]:a._fonts={}},a}(),Wi=function(){try{var a=new OffscreenCanvas(0,0),i=a.getContext("2d");return i&&i.measureText?a:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();Wi.width=Wi.height=10,Er._canvas=Wi,Er._context=Wi.getContext("2d"),Er._fonts={},Er.METRICS_STRING="|\xc9q\xc5",Er.BASELINE_SYMBOL="M",Er.BASELINE_MULTIPLIER=1.4,Er._newlines=[10,13],Er._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _u={texture:!0,children:!1,baseTexture:!0},Vr=function(a){function i(e,r,o){var d=this,p=!1;o||(o=document.createElement("canvas"),p=!0),o.width=3,o.height=3;var m=ct.from(o);return m.orig=new ut,m.trim=new ut,(d=a.call(this,m)||this)._ownCanvas=p,d.canvas=o,d.context=d.canvas.getContext("2d"),d._resolution=O.RESOLUTION,d._autoResolution=!0,d._text=null,d._style=null,d._styleListener=null,d._font="",d.text=e,d.style=r,d.localStyleID=-1,d}return function(a,i){function e(){this.constructor=a}mu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype.updateText=function(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var o=this.context,d=Er.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),m=d.height,w=d.lines,x=d.lineHeight,A=d.lineWidths,I=d.maxLineWidth,S=d.fontProperties;this.canvas.width=Math.ceil((Math.max(1,d.width)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,m)+2*r.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=r.strokeThickness,o.textBaseline=r.textBaseline,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit;for(var R,L,U=r.dropShadow?2:1,W=0;W<U;++W){var fe=r.dropShadow&&0===W,Ne=fe?Math.ceil(Math.max(1,m)+2*r.padding):0,_e=Ne*this._resolution;if(fe){o.fillStyle="black",o.strokeStyle="black";var Ge=r.dropShadowColor,Ce=Pi("number"==typeof Ge?Ge:ht(Ge));o.shadowColor="rgba("+255*Ce[0]+","+255*Ce[1]+","+255*Ce[2]+","+r.dropShadowAlpha+")",o.shadowBlur=r.dropShadowBlur,o.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,o.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance+_e}else o.fillStyle=this._generateFillStyle(r,w,d),o.strokeStyle=r.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;for(var ye=0;ye<w.length;ye++)R=r.strokeThickness/2,L=r.strokeThickness/2+ye*x+S.ascent,"right"===r.align?R+=I-A[ye]:"center"===r.align&&(R+=(I-A[ye])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(w[ye],R+r.padding,L+r.padding-Ne,!0),r.fill&&this.drawLetterSpacing(w[ye],R+r.padding,L+r.padding-Ne)}this.updateTexture()}},i.prototype.drawLetterSpacing=function(e,r,o,d){void 0===d&&(d=!1);var m=this._style.letterSpacing;if(0!==m)for(var w=r,x=Array.from?Array.from(e):e.split(""),A=this.context.measureText(e).width,I=0,S=0;S<x.length;++S){var R=x[S];d?this.context.strokeText(R,w,o):this.context.fillText(R,w,o),w+=A-(I=this.context.measureText(e.substring(S+1)).width)+m,A=I}else d?this.context.strokeText(e,r,o):this.context.fillText(e,r,o)},i.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var r=function(a){var x,A,I,i=a.width,e=a.height,r=a.getContext("2d"),d=r.getImageData(0,0,i,e).data,p=d.length,m={top:null,left:null,right:null,bottom:null},w=null;for(x=0;x<p;x+=4)0!==d[x+3]&&(A=x/4%i,I=~~(x/4/i),null===m.top&&(m.top=I),(null===m.left||A<m.left)&&(m.left=A),(null===m.right||m.right<A)&&(m.right=A+1),(null===m.bottom||m.bottom<I)&&(m.bottom=I));return null!==m.top&&(w=r.getImageData(m.left,m.top,i=m.right-m.left,e=m.bottom-m.top+1)),{height:e,width:i,data:w}}(e);r.data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0))}var o=this._texture,d=this._style,p=d.trim?0:d.padding,m=o.baseTexture;o.trim.width=o._frame.width=Math.ceil(e.width/this._resolution),o.trim.height=o._frame.height=Math.ceil(e.height/this._resolution),o.trim.x=-p,o.trim.y=-p,o.orig.width=o._frame.width-2*p,o.orig.height=o._frame.height-2*p,this._onTextureUpdate(),m.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},i.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),a.prototype._render.call(this,e)},i.prototype.getLocalBounds=function(e){return this.updateText(!0),a.prototype.getLocalBounds.call(this,e)},i.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},i.prototype._generateFillStyle=function(e,r,o){var d=e.fill;if(!Array.isArray(d))return d;if(1===d.length)return d[0];var p,m=e.dropShadow?e.dropShadowDistance:0,w=e.padding||0,x=Math.ceil(this.canvas.width/this._resolution)-m-2*w,A=Math.ceil(this.canvas.height/this._resolution)-m-2*w,I=d.slice(),S=e.fillGradientStops.slice();if(!S.length)for(var R=I.length+1,L=1;L<R;++L)S.push(L/R);if(I.unshift(d[0]),S.unshift(0),I.push(d[d.length-1]),S.push(1),e.fillGradientType===Gn.LINEAR_VERTICAL){p=this.context.createLinearGradient(x/2,w,x/2,A+w);var U=0,fe=(o.fontProperties.fontSize+e.strokeThickness)/A;for(L=0;L<r.length;L++)for(var Ne=o.lineHeight*L,_e=0;_e<I.length;_e++){var ye=Math.max(U,Ne/A+("number"==typeof S[_e]?S[_e]:_e/I.length)*fe);ye=Math.min(ye,1),p.addColorStop(ye,I[_e]),U=ye}}else{p=this.context.createLinearGradient(w,A/2,x+w,A/2);var yt=I.length+1,At=1;for(L=0;L<I.length;L++)p.addColorStop("number"==typeof S[L]?S[L]:At/yt,I[L]),At++}return p},i.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},_u,e),a.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(i.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var r=ci(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var r=ci(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof $i?e:new $i(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),i}(xs);O.UPLOADS_PER_FRAME=4;var bu=function(a,i){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Fh=function(){function a(i){this.maxItemsPerFrame=i,this.itemsLeft=0}return a.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},a.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},a}();function pa(a,i){var e=!1;if(a&&a._textures&&a._textures.length)for(var r=0;r<a._textures.length;r++)if(a._textures[r]instanceof ct){var o=a._textures[r].baseTexture;-1===i.indexOf(o)&&(i.push(o),e=!0)}return e}function Eu(a,i){if(a.baseTexture instanceof zt){var e=a.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function wu(a,i){if(a._texture&&a._texture instanceof ct){var e=a._texture.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function ga(a,i){return i instanceof Vr&&(i.updateText(!0),!0)}function va(a,i){if(i instanceof $i){var e=i.toFontString();return Er.measureFont(e),!0}return!1}function Gr(a,i){if(a instanceof Vr){-1===i.indexOf(a.style)&&i.push(a.style),-1===i.indexOf(a)&&i.push(a);var e=a._texture.baseTexture;return-1===i.indexOf(e)&&i.push(e),!0}return!1}function Cs(a,i){return a instanceof $i&&(-1===i.indexOf(a)&&i.push(a),!0)}function Du(a,i){return i instanceof zt&&(i._glTextures[a.CONTEXT_UID]||a.texture.bind(i),!0)}function Mc(a,i){if(!(i instanceof Xi))return!1;var e=i.geometry;i.finishPoly(),e.updateBatches();for(var r=e.batches,o=0;o<r.length;o++){var d=r[o].style.texture;d&&Du(a,d.baseTexture)}return e.batchable||a.geometry.bind(e,i._resolveDirectShader(a)),!0}function Ss(a,i){return a instanceof Xi&&(i.push(a),!0)}var ei=function(a){function i(e){var r=a.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Ss),r.registerUploadHook(Du),r.registerUploadHook(Mc),r}return function(a,i){function e(){this.constructor=a}bu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i}(function(){function a(i){var e=this;this.limiter=new Fh(O.UPLOADS_PER_FRAME),this.renderer=i,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(Gr),this.registerFindHook(Cs),this.registerFindHook(pa),this.registerFindHook(Eu),this.registerFindHook(wu),this.registerUploadHook(ga),this.registerUploadHook(va)}return a.prototype.upload=function(i,e){"function"==typeof i&&(e=i,i=null),i&&this.add(i),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,on.system.addOnce(this.tick,this,ir.UTILITY))):e&&e()},a.prototype.tick=function(){setTimeout(this.delayedTick,0)},a.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var i=this.queue[0],e=!1;if(i&&!i._destroyed)for(var r=0,o=this.uploadHooks.length;r<o;r++)if(this.uploadHooks[r](this.uploadHookHelper,i)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)on.system.addOnce(this.tick,this,ir.UTILITY);else{this.ticking=!1;var d=this.completes.slice(0);for(this.completes.length=0,r=0,o=d.length;r<o;r++)d[r]()}},a.prototype.registerFindHook=function(i){return i&&this.addHooks.push(i),this},a.prototype.registerUploadHook=function(i){return i&&this.uploadHooks.push(i),this},a.prototype.add=function(i){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](i,this.queue);e++);if(i instanceof bn)for(e=i.children.length-1;e>=0;e--)this.add(i.children[e]);return this},a.prototype.destroy=function(){this.ticking&&on.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},a}()),ya=(function(){function a(i){this.maxMilliseconds=i,this.frameStart=0}a.prototype.beginFrame=function(){this.frameStart=Date.now()},a.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function a(i,e,r){void 0===r&&(r=null),this._texture=i instanceof ct?i:null,this.baseTexture=i instanceof zt?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var o=this.baseTexture.resource;this.resolution=this._updateResolution(r||(o?o.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return a.prototype._updateResolution=function(i){void 0===i&&(i=null);var e=this.data.meta.scale,r=Ir(i,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},a.prototype.parse=function(i){this._batchIndex=0,this._callback=i,this._frameKeys.length<=a.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},a.prototype._processFrames=function(i){for(var e=i,r=a.BATCH_SIZE;e-i<r&&e<this._frameKeys.length;){var o=this._frameKeys[e],d=this._frames[o],p=d.frame;if(p){var m,w=null,x=!1!==d.trimmed&&d.sourceSize?d.sourceSize:d.frame,A=new ut(0,0,Math.floor(x.w)/this.resolution,Math.floor(x.h)/this.resolution);m=d.rotated?new ut(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.h)/this.resolution,Math.floor(p.w)/this.resolution):new ut(Math.floor(p.x)/this.resolution,Math.floor(p.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution),!1!==d.trimmed&&d.spriteSourceSize&&(w=new ut(Math.floor(d.spriteSourceSize.x)/this.resolution,Math.floor(d.spriteSourceSize.y)/this.resolution,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution)),this.textures[o]=new ct(this.baseTexture,m,A,w,d.rotated?2:0,d.anchor),ct.addToCache(this.textures[o],o)}e++}},a.prototype._processAnimations=function(){var i=this.data.animations||{};for(var e in i){this.animations[e]=[];for(var r=0;r<i[e].length;r++)this.animations[e].push(this.textures[i[e][r]])}},a.prototype._parseComplete=function(){var i=this._callback;this._callback=null,this._batchIndex=0,i.call(this,this.textures)},a.prototype._nextBatch=function(){var i=this;this._processFrames(this._batchIndex*a.BATCH_SIZE),this._batchIndex++,setTimeout(function(){i._batchIndex*a.BATCH_SIZE<i._frameKeys.length?i._nextBatch():(i._processAnimations(),i._parseComplete())},0)},a.prototype.destroy=function(i){var e;for(var r in void 0===i&&(i=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,i&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},a.BATCH_SIZE=1e3,a}()),Oc=function(){function a(){}return a.use=function(i,e){var r=this,o=i.name+"_image";if(i.data&&i.type===Qn.TYPE.JSON&&i.data.frames&&!r.resources[o]){var d={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},p=a.getResourcePath(i,r.baseUrl);r.add(o,p,d,function(w){if(w.error)e(w.error);else{var x=new ya(w.texture,i.data,i.url);x.parse(function(){i.spritesheet=x,i.textures=x.textures,e()})}})}else e()},a.getResourcePath=function(i,e){return i.isDataUrl?i.data.meta.image:z.resolve(i.url.replace(e,""),i.data.meta.image)},a}(),_a=function(a,i){return(_a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Il(a,i){function e(){this.constructor=a}_a(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Is=new tn,Tu=(function(a){function i(e,r,o){void 0===r&&(r=100),void 0===o&&(o=100);var d=a.call(this,e)||this;return d.tileTransform=new pn,d._width=r,d._height=o,d.uvMatrix=d.texture.uvMatrix||new eu(e),d.pluginName="tilingSprite",d.uvRespectAnchor=!1,d}Il(i,a),Object.defineProperty(i.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),i.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},i.prototype._render=function(e){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},i.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},i.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ut),e=this._localBoundsRect),this._bounds.getRectangle(e)):a.prototype.getLocalBounds.call(this,e)},i.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Is);var r=this._width,o=this._height,d=-r*this.anchor._x;if(Is.x>=d&&Is.x<d+r){var p=-o*this.anchor._y;if(Is.y>=p&&Is.y<p+o)return!0}return!1},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},i.from=function(e,r){return"number"==typeof r&&(Bn("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new i(ct.from(e,r),r.width,r.height)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(xs),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),ba=new Kt,Nc=function(a){function i(e){var r=a.call(this,e)||this,o={globals:r.renderer.globalUniforms};return r.shader=pi.from(Tu,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",o),r.simpleShader=pi.from(Tu,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",o),r.quad=new mr,r.state=ds.for2d(),r}return Il(i,a),i.prototype.render=function(e){var r=this.renderer,o=this.quad,d=o.vertices;d[0]=d[6]=e._width*-e.anchor.x,d[1]=d[3]=e._height*-e.anchor.y,d[2]=d[4]=e._width*(1-e.anchor.x),d[5]=d[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((d=o.uvs)[0]=d[6]=-e.anchor.x,d[1]=d[3]=-e.anchor.y,d[2]=d[4]=1-e.anchor.x,d[5]=d[7]=1-e.anchor.y),o.invalidate();var p=e._texture,m=p.baseTexture,w=e.tileTransform.localTransform,x=e.uvMatrix,A=m.isPowerOfTwo&&p.frame.width===m.width&&p.frame.height===m.height;A&&(m._glTextures[r.CONTEXT_UID]?A=m.wrapMode!==at.CLAMP:m.wrapMode===at.CLAMP&&(m.wrapMode=at.REPEAT));var I=A?this.simpleShader:this.shader,S=p.width,R=p.height,L=e._width,U=e._height;ba.set(w.a*S/L,w.b*S/U,w.c*R/L,w.d*R/U,w.tx/L,w.ty/U),ba.invert(),A?ba.prepend(x.mapCoord):(I.uniforms.uMapCoord=x.mapCoord.toArray(!0),I.uniforms.uClampFrame=x.uClampFrame,I.uniforms.uClampOffset=x.uClampOffset),I.uniforms.uTransform=ba.toArray(!0),I.uniforms.uColor=Sn(e.tint,e.worldAlpha,I.uniforms.uColor,m.alphaMode),I.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),I.uniforms.uSampler=p,r.shader.bind(I),r.geometry.bind(o),this.state.blendMode=To(e.blendMode,m.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},i}(or),ao=function(a,i){return(ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Yi(a,i){function e(){this.constructor=a}ao(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var As=function(){function a(i,e){this.uvBuffer=i,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return a.prototype.update=function(i){if(i||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},a}(),uo=new tn,cr=new Tn,ti=function(a){function i(e,r,o,d){void 0===d&&(d=Pe.TRIANGLES);var p=a.call(this)||this;return p.geometry=e,e.refCount++,p.shader=r,p.state=o||ds.for2d(),p.drawMode=d,p.start=0,p.size=0,p.uvs=null,p.indices=null,p.vertexData=new Float32Array(1),p.vertexDirty=0,p._transformID=-1,p._roundPixels=O.ROUND_PIXELS,p.batchUvs=null,p}return Yi(i,a),Object.defineProperty(i.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this.shader.batchable&&this.drawMode===Pe.TRIANGLES&&this.geometry.buffers[0].data.length<2*i.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},i.prototype._renderDefault=function(e){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.program.uniformData.translationMatrix&&(r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},i.prototype._renderToBatch=function(e){var r=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},i.prototype.calculateVertices=function(){var e=this.geometry,r=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var o=this.transform.worldTransform,d=o.a,p=o.b,m=o.c,w=o.d,x=o.tx,A=o.ty,I=this.vertexData,S=0;S<I.length/2;S++){var R=r[2*S],L=r[2*S+1];I[2*S]=d*R+m*L+x,I[2*S+1]=p*R+w*L+A}if(this._roundPixels){var U=O.RESOLUTION;for(S=0;S<I.length;++S)I[S]=Math.round((I[S]*U|0)/U)}this.vertexDirty=e.vertexDirtyId}},i.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new As(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},i.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},i.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,uo);for(var r=this.geometry.getBuffer("aVertexPosition").data,o=cr.points,d=this.geometry.getIndex().data,p=d.length,m=4===this.drawMode?3:1,w=0;w+2<p;w+=m){var x=2*d[w],A=2*d[w+1],I=2*d[w+2];if(o[0]=r[x],o[1]=r[x+1],o[2]=r[A],o[3]=r[A+1],o[4]=r[I],o[5]=r[I+1],cr.contains(uo.x,uo.y))return!0}return!1},i.prototype.destroy=function(e){a.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},i.BATCHABLE_SIZE=100,i}(bn),lo=function(a){function i(e,r){var o=this,d={uSampler:e,alpha:1,uTextureMatrix:Kt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(d,r.uniforms),(o=a.call(this,r.program||jn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),d)||this)._colorDirty=!1,o.uvMatrix=new eu(e),o.batchable=void 0===r.program,o.pluginName=r.pluginName,o.tint=r.tint,o.alpha=r.alpha,o}return Yi(i,a),Object.defineProperty(i.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),i.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,Sn(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},i}(pi),xu=function(a){function i(e,r,o){var d=a.call(this)||this,p=new gn(e),m=new gn(r,!0),w=new gn(o,!0,!0);return d.addAttribute("aVertexPosition",p,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",m,2,!1,Ae.FLOAT).addIndex(w),d._updateId=-1,d}return Yi(i,a),Object.defineProperty(i.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),i}(us),Cu=function(a,i){return(Cu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)},Ps=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},co=function(){function a(){}return a.test=function(i){return"string"==typeof i&&0===i.indexOf("info face=")},a.parse=function(i){var e=i.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var o in e){var d=e[o].match(/^[a-z]+/gm)[0],p=e[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(var w in p){var x=p[w].split("="),A=x[0],I=x[1].replace(/"/gm,""),S=parseFloat(I),R=isNaN(S)?I:S;m[A]=R}r[d].push(m)}var L=new Ps;return r.info.forEach(function(U){return L.info.push({face:U.face,size:parseInt(U.size,10)})}),r.common.forEach(function(U){return L.common.push({lineHeight:parseInt(U.lineHeight,10)})}),r.page.forEach(function(U){return L.page.push({id:parseInt(U.id,10),file:U.file})}),r.char.forEach(function(U){return L.char.push({id:parseInt(U.id,10),page:parseInt(U.page,10),x:parseInt(U.x,10),y:parseInt(U.y,10),width:parseInt(U.width,10),height:parseInt(U.height,10),xoffset:parseInt(U.xoffset,10),yoffset:parseInt(U.yoffset,10),xadvance:parseInt(U.xadvance,10)})}),r.kerning.forEach(function(U){return L.kerning.push({first:parseInt(U.first,10),second:parseInt(U.second,10),amount:parseInt(U.amount,10)})}),L},a}(),ho=function(){function a(){}return a.test=function(i){return i instanceof XMLDocument&&i.getElementsByTagName("page").length&&null!==i.getElementsByTagName("info")[0].getAttribute("face")},a.parse=function(i){for(var e=new Ps,r=i.getElementsByTagName("info"),o=i.getElementsByTagName("common"),d=i.getElementsByTagName("page"),p=i.getElementsByTagName("char"),m=i.getElementsByTagName("kerning"),w=0;w<r.length;w++)e.info.push({face:r[w].getAttribute("face"),size:parseInt(r[w].getAttribute("size"),10)});for(w=0;w<o.length;w++)e.common.push({lineHeight:parseInt(o[w].getAttribute("lineHeight"),10)});for(w=0;w<d.length;w++)e.page.push({id:parseInt(d[w].getAttribute("id"),10)||0,file:d[w].getAttribute("file")});for(w=0;w<p.length;w++){var x=p[w];e.char.push({id:parseInt(x.getAttribute("id"),10),page:parseInt(x.getAttribute("page"),10)||0,x:parseInt(x.getAttribute("x"),10),y:parseInt(x.getAttribute("y"),10),width:parseInt(x.getAttribute("width"),10),height:parseInt(x.getAttribute("height"),10),xoffset:parseInt(x.getAttribute("xoffset"),10),yoffset:parseInt(x.getAttribute("yoffset"),10),xadvance:parseInt(x.getAttribute("xadvance"),10)})}for(w=0;w<m.length;w++)e.kerning.push({first:parseInt(m[w].getAttribute("first"),10),second:parseInt(m[w].getAttribute("second"),10),amount:parseInt(m[w].getAttribute("amount"),10)});return e},a}(),Lc=function(){function a(){}return a.test=function(i){if("string"==typeof i&&i.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(i,"text/xml");return ho.test(e)}return!1},a.parse=function(i){var e=(new window.DOMParser).parseFromString(i,"text/xml");return ho.parse(e)},a}(),Iu=[co,ho,Lc];function Au(a){for(var i=0;i<Iu.length;i++)if(Iu[i].test(a))return Iu[i];return null}function Pl(a,i,e,r,o,d){var p=e.fill;if(!Array.isArray(p))return p;if(1===p.length)return p[0];var m,w=e.dropShadow?e.dropShadowDistance:0,x=e.padding||0,A=Math.ceil(a.width/r)-w-2*x,I=Math.ceil(a.height/r)-w-2*x,S=p.slice(),R=e.fillGradientStops.slice();if(!R.length)for(var L=S.length+1,U=1;U<L;++U)R.push(U/L);if(S.unshift(p[0]),R.unshift(0),S.push(p[p.length-1]),R.push(1),e.fillGradientType===Gn.LINEAR_VERTICAL){m=i.createLinearGradient(A/2,x,A/2,I+x);var W=0,Ne=(d.fontProperties.fontSize+e.strokeThickness)/I;for(U=0;U<o.length;U++)for(var _e=d.lineHeight*U,Ge=0;Ge<S.length;Ge++){var yt=Math.max(W,_e/I+("number"==typeof R[Ge]?R[Ge]:Ge/S.length)*Ne);yt=Math.min(yt,1),m.addColorStop(yt,S[Ge]),W=yt}}else{m=i.createLinearGradient(x,I/2,A+x,I/2);var At=S.length+1,Xe=1;for(U=0;U<S.length;U++)m.addColorStop("number"==typeof R[U]?R[U]:Xe/At,S[U]),Xe++}return m}function kc(a,i,e,r,o,d,p){var m=e.text,w=e.fontProperties;i.translate(r,o),i.scale(d,d);var x=p.strokeThickness/2,A=-p.strokeThickness/2;i.font=p.toFontString(),i.lineWidth=p.strokeThickness,i.textBaseline=p.textBaseline,i.lineJoin=p.lineJoin,i.miterLimit=p.miterLimit,i.fillStyle=Pl(a,i,p,d,[m],e),i.strokeStyle=p.stroke,i.font=p.toFontString(),i.lineWidth=p.strokeThickness,i.textBaseline=p.textBaseline,i.lineJoin=p.lineJoin,i.miterLimit=p.miterLimit,i.fillStyle=Pl(a,i,p,d,[m],e),i.strokeStyle=p.stroke;var I=p.dropShadowColor,S=Pi("number"==typeof I?I:ht(I));p.dropShadow?(i.shadowColor="rgba("+255*S[0]+","+255*S[1]+","+255*S[2]+","+p.dropShadowAlpha+")",i.shadowBlur=p.dropShadowBlur,i.shadowOffsetX=Math.cos(p.dropShadowAngle)*p.dropShadowDistance,i.shadowOffsetY=Math.sin(p.dropShadowAngle)*p.dropShadowDistance):(i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),p.stroke&&p.strokeThickness&&i.strokeText(m,x,A+e.lineHeight-w.descent),p.fill&&i.fillText(m,x,A+e.lineHeight-w.descent),i.setTransform(1,0,0,1,0,0),i.fillStyle="rgba(0, 0, 0, 0)"}var zn=function(){function a(i,e,r){var o=i.info[0],d=i.common[0],m=Ir(i.page[0].file),w={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=d.lineHeight/m,this.chars={},this.pageTextures=w;for(var x=0;x<i.page.length;x++){var A=i.page[x];w[I=A.id]=e instanceof Array?e[x]:e[A.file]}for(x=0;x<i.char.length;x++){var R=i.char[x],I=R.id,L=R.page,U=i.char[x],W=U.x,fe=U.y,Ne=U.width,_e=U.height,Ge=U.xoffset,Ce=U.yoffset,ye=U.xadvance;Ge/=m,Ce/=m,ye/=m;var yt=new ut((W/=m)+w[L].frame.x/m,(fe/=m)+w[L].frame.y/m,Ne/=m,_e/=m);this.chars[I]={xOffset:Ge,yOffset:Ce,xAdvance:ye,kerning:{},texture:new ct(w[L].baseTexture,yt),page:L}}for(x=0;x<i.kerning.length;x++){var At=i.kerning[x],Xe=At.first,We=At.second,xt=At.amount;Xe/=m,xt/=m,this.chars[We/=m]&&(this.chars[We].kerning[Xe]=xt)}}return a.prototype.destroy=function(){for(var i in this.chars)this.chars[i].texture.destroy(),this.chars[i].texture=null;for(var i in this.pageTextures)this._ownsTextures&&this.pageTextures[i].destroy(!0),this.pageTextures[i]=null;this.chars=null,this.pageTextures=null},a.install=function(i,e,r){var o;if(i instanceof Ps)o=i;else{var d=Au(i);if(!d)throw new Error("Unrecognized data format for font.");o=d.parse(i)}e instanceof ct&&(e=[e]);var p=new a(o,e,r);return a.available[p.font]=p,p},a.uninstall=function(i){var e=a.available[i];if(!e)throw new Error("No font found named '"+i+"'");e.destroy(),delete a.available[i]},a.from=function(i,e,r){if(!i)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},a.defaultOptions,r),p=o.padding,m=o.resolution,w=o.textureWidth,x=o.textureHeight,A=function(a){"string"==typeof a&&(a=[a]);for(var i=[],e=0,r=a.length;e<r;e++){var o=a[e];if(Array.isArray(o)){if(2!==o.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+o.length+".");var d=o[0].charCodeAt(0),p=o[1].charCodeAt(0);if(p<d)throw new Error("[BitmapFont]: Invalid character range.");for(var m=d,w=p;m<=w;m++)i.push(String.fromCharCode(m))}else i.push.apply(i,o.split(""))}if(0===i.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return i}(o.chars),I=e instanceof $i?e:new $i(e),S=w,R=new Ps;R.info[0]={face:I.fontFamily,size:I.fontSize},R.common[0]={lineHeight:I.fontSize};for(var W,fe,Ne,L=0,U=0,_e=0,Ge=[],Ce=0;Ce<A.length;Ce++){W||((W=document.createElement("canvas")).width=w,W.height=x,fe=W.getContext("2d"),Ne=new zt(W,{resolution:m}),Ge.push(new ct(Ne)),R.page.push({id:Ge.length-1,file:""}));var ye=Er.measureText(A[Ce],I,!1,W),yt=ye.width,At=Math.ceil(ye.height),Xe=Math.ceil(("italic"===I.fontStyle?2:1)*yt);if(U>=x-At*m){if(0===U)throw new Error("[BitmapFont] textureHeight "+x+"px is too small for "+I.fontSize+"px fonts");--Ce,W=null,fe=null,Ne=null,U=0,L=0,_e=0}else if(_e=Math.max(At+ye.fontProperties.descent,_e),Xe*m+L>=S)--Ce,U+=_e*m,U=Math.ceil(U),L=0,_e=0;else{kc(W,fe,ye,L,U,m,I);var We=ye.text.charCodeAt(0);R.char.push({id:We,page:Ge.length-1,x:L/m,y:U/m,width:Xe,height:At,xoffset:0,yoffset:0,xadvance:Math.ceil(yt-(I.dropShadow?I.dropShadowDistance:0)-(I.stroke?I.strokeThickness:0))}),L+=(Xe+2*p)*m,L=Math.ceil(L)}}var xt=new a(R,Ge,!0);return void 0!==a.available[i]&&a.uninstall(i),a.available[i]=xt,xt},a.ALPHA=[["a","z"],["A","Z"]," "],a.NUMERIC=[["0","9"]],a.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],a.ASCII=[[" ","~"]],a.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:a.ALPHANUMERIC},a.available={},a}(),Mu=[],wr=[],Ou=(function(a){function i(e,r){void 0===r&&(r={});var o=a.call(this)||this;o._tint=16777215,r.font&&(Bn("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),o._upgradeStyle(r));var d=Object.assign({},i.styleDefaults,r),p=d.align,m=d.tint,w=d.maxWidth,x=d.letterSpacing,A=d.fontName,I=d.fontSize;if(!zn.available[A])throw new Error('Missing BitmapFont "'+A+'"');return o._activePagesMeshData=[],o._textWidth=0,o._textHeight=0,o._align=p,o._tint=m,o._fontName=A,o._fontSize=I||zn.available[A].size,o._text=e,o._maxWidth=w,o._maxLineHeight=0,o._letterSpacing=x,o._anchor=new Pr(function(){o.dirty=!0},o,0,0),o._roundPixels=O.ROUND_PIXELS,o.dirty=!0,o._textureCache={},o}(function(a,i){function e(){this.constructor=a}Cu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.updateText=function(){for(var e,r=zn.available[this._fontName],o=this._fontSize/r.size,d=new tn,p=[],m=[],w=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",x=w.length,A=this._maxWidth*r.size/this._fontSize,I=null,S=0,R=0,L=0,U=-1,W=0,fe=0,Ne=0,_e=0;_e<x;_e++){var Ge=w.charCodeAt(_e),Ce=w.charAt(_e);if(/(?:\s)/.test(Ce)&&(U=_e,W=S),"\r"!==Ce&&"\n"!==Ce){var ye=r.chars[Ge];if(ye){I&&ye.kerning[I]&&(d.x+=ye.kerning[I]);var yt=wr.pop()||{texture:ct.EMPTY,line:0,charCode:0,position:new tn};yt.texture=ye.texture,yt.line=L,yt.charCode=Ge,yt.position.x=d.x+ye.xOffset+this._letterSpacing/2,yt.position.y=d.y+ye.yOffset,p.push(yt),d.x+=ye.xAdvance+this._letterSpacing,S=d.x,Ne=Math.max(Ne,ye.yOffset+ye.texture.height),I=Ge,-1!==U&&A>0&&d.x>A&&(Bt(p,1+U-++fe,1+_e-U),_e=U,U=-1,m.push(W),R=Math.max(R,W),L++,d.x=0,d.y+=r.lineHeight,I=null)}}else m.push(S),R=Math.max(R,S),++L,++fe,d.x=0,d.y+=r.lineHeight,I=null}var At=w.charAt(w.length-1);"\r"!==At&&"\n"!==At&&(/(?:\s)/.test(At)&&(S=W),m.push(S),R=Math.max(R,S));var Xe=[];for(_e=0;_e<=L;_e++){var We=0;"right"===this._align?We=R-m[_e]:"center"===this._align&&(We=(R-m[_e])/2),Xe.push(We)}var xt=p.length,Ct={},nn=[],wi=this._activePagesMeshData;for(_e=0;_e<wi.length;_e++)Mu.push(wi[_e]);for(_e=0;_e<xt;_e++){var rt=(Ke=p[_e].texture).baseTexture.uid;if(!Ct[rt]){if(!(Ye=Mu.pop())){var ri=new xu,Di=new lo(ct.EMPTY);Ye={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new ti(ri,Di),vertices:null,uvs:null,indices:null}}Ye.index=0,Ye.indexCount=0,Ye.vertexCount=0,Ye.uvsCount=0,Ye.total=0;var ii=this._textureCache;ii[rt]=ii[rt]||new ct(Ke.baseTexture),Ye.mesh.texture=ii[rt],Ye.mesh.tint=this._tint,nn.push(Ye),Ct[rt]=Ye}Ct[rt].total++}for(_e=0;_e<wi.length;_e++)-1===nn.indexOf(wi[_e])&&this.removeChild(wi[_e].mesh);for(_e=0;_e<nn.length;_e++)nn[_e].mesh.parent!==this&&this.addChild(nn[_e].mesh);for(var _e in this._activePagesMeshData=nn,Ct){var fr=(Ye=Ct[_e]).total;if(!((null===(e=Ye.indices)||void 0===e?void 0:e.length)>6*fr)||Ye.vertices.length<2*ti.BATCHABLE_SIZE)Ye.vertices=new Float32Array(8*fr),Ye.uvs=new Float32Array(8*fr),Ye.indices=new Uint16Array(6*fr);else for(var Eo=Ye.vertices,Zi=4*Ye.total*2;Zi<Eo.length;Zi++)Eo[Zi]=0;Ye.mesh.size=6*fr}for(_e=0;_e<xt;_e++){var xi=(Ce=p[_e]).position.x+Xe[Ce.line];this._roundPixels&&(xi=Math.round(xi));var Ke,Dr=xi*o,si=Ce.position.y*o,Dt=Ct[(Ke=Ce.texture).baseTexture.uid],Xn=Ke.frame,Ln=Ke._uvs,Et=Dt.index++;Dt.indices[6*Et+0]=0+4*Et,Dt.indices[6*Et+1]=1+4*Et,Dt.indices[6*Et+2]=2+4*Et,Dt.indices[6*Et+3]=0+4*Et,Dt.indices[6*Et+4]=2+4*Et,Dt.indices[6*Et+5]=3+4*Et,Dt.vertices[8*Et+0]=Dr,Dt.vertices[8*Et+1]=si,Dt.vertices[8*Et+2]=Dr+Xn.width*o,Dt.vertices[8*Et+3]=si,Dt.vertices[8*Et+4]=Dr+Xn.width*o,Dt.vertices[8*Et+5]=si+Xn.height*o,Dt.vertices[8*Et+6]=Dr,Dt.vertices[8*Et+7]=si+Xn.height*o,Dt.uvs[8*Et+0]=Ln.x0,Dt.uvs[8*Et+1]=Ln.y0,Dt.uvs[8*Et+2]=Ln.x1,Dt.uvs[8*Et+3]=Ln.y1,Dt.uvs[8*Et+4]=Ln.x2,Dt.uvs[8*Et+5]=Ln.y2,Dt.uvs[8*Et+6]=Ln.x3,Dt.uvs[8*Et+7]=Ln.y3}for(var _e in this._textWidth=R*o,this._textHeight=(d.y+r.lineHeight)*o,Ct){var Ye=Ct[_e];if(0!==this.anchor.x||0!==this.anchor.y)for(var zr=0,Tr=this._textWidth*this.anchor.x,Rs=this._textHeight*this.anchor.y,Oa=0;Oa<Ye.total;Oa++)Ye.vertices[zr++]-=Tr,Ye.vertices[zr++]-=Rs,Ye.vertices[zr++]-=Tr,Ye.vertices[zr++]-=Rs,Ye.vertices[zr++]-=Tr,Ye.vertices[zr++]-=Rs,Ye.vertices[zr++]-=Tr,Ye.vertices[zr++]-=Rs;this._maxLineHeight=Ne*o;var $n=Ye.mesh.geometry.getBuffer("aVertexPosition"),Ra=Ye.mesh.geometry.getBuffer("aTextureCoord"),Xu=Ye.mesh.geometry.getIndex();$n.data=Ye.vertices,Ra.data=Ye.uvs,Xu.data=Ye.indices,$n.update(),Ra.update(),Xu.update()}for(_e=0;_e<p.length;_e++)wr.push(p[_e])},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),a.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!zn.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),i.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var r=e.font.split(" ");e.fontName=1===r.length?r[0]:r.slice(1).join(" "),r.length>=2&&(e.fontSize=parseInt(r[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},i.prototype.destroy=function(e){var r=this._textureCache;for(var o in r)r[o].destroy(),delete r[o];this._textureCache=null,a.prototype.destroy.call(this,e)},i.registerFont=function(e,r){return Bn("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),zn.install(e,r)},Object.defineProperty(i,"fonts",{get:function(){return Bn("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),zn.available},enumerable:!1,configurable:!0}),i.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(bn),function(){function a(){}return a.add=function(){Qn.setExtensionXhrType("fnt",Qn.XHR_RESPONSE_TYPE.TEXT)},a.use=function(i,e){var r=Au(i.data);if(r)for(var o=a.getBaseUrl(this,i),d=r.parse(i.data),p={},m=function(U){p[U.metadata.pageFile]=U.texture,Object.keys(p).length===d.page.length&&(i.bitmapFont=zn.install(d,p,!0),e())},w=0;w<d.page.length;++w){var x=d.page[w].file,A=o+x,I=!1;for(var S in this.resources){var R=this.resources[S];if(R.url===A){R.metadata.pageFile=x,R.texture?m(R):R.onAfterMiddleware.add(m),I=!0;break}}if(!I){var L={crossOrigin:i.crossOrigin,loadType:Qn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:x},i.metadata.imageMetadata),parentResource:i};this.add(A,L,m)}}else e()},a.getBaseUrl=function(i,e){var r=e.isDataUrl?"":a.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),i.baseUrl&&r&&"/"===i.baseUrl.charAt(i.baseUrl.length-1)&&(r+="/")),(r=r.replace(i.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},a.dirname=function(i){var e=i.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===i?".":""===e?"/":e},a}()),Ru=function(a,i){return(Ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e){void 0===e&&(e=1);var r=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(a,i){function e(){this.constructor=a}Ru(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0})}(Nt);var go=function(a,i){return(go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function qi(a,i){function e(){this.constructor=a}go(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Ml={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ol=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),Ei=(()=>{return(a=Ei||(Ei={}))[a.NO=0]="NO",a[a.YES=1]="YES",a[a.AUTO=2]="AUTO",a[a.BLEND=0]="BLEND",a[a.CLEAR=1]="CLEAR",a[a.BLIT=2]="BLIT",Ei;var a})(),Ca=function(a){function i(e,r,o,d,p){void 0===r&&(r=8),void 0===o&&(o=4),void 0===d&&(d=O.FILTER_RESOLUTION),void 0===p&&(p=5);var m=this,w=function(a,i){var d,e=Math.ceil(a/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";d=i?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var p=0;p<a;p++){var m=d.replace("%index%",p.toString());o+=m=m.replace("%sampleIndex%",p-(e-1)+".0"),o+="\n"}return(r=r.replace("%blur%",o)).replace("%size%",a.toString())}(p,e),x=function(a){for(var p,i=Ml[a],e=i.length,r=Ol,o="",m=0;m<a;m++){var w="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",m.toString());p=m,m>=e&&(p=a-m-1),o+=w=w.replace("%value%",i[p].toString()),o+="\n"}return(r=r.replace("%blur%",o)).replace("%size%",a.toString())}(p);return(m=a.call(this,w,x)||this).horizontal=e,m.resolution=d,m._quality=0,m.quality=o,m.blur=r,m}return qi(i,a),i.prototype.apply=function(e,r,o,d){if(this.uniforms.strength=o?this.horizontal?1/o.width*(o.width/r.width):1/o.height*(o.height/r.height):this.horizontal?1/e.renderer.width*(e.renderer.width/r.width):1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,o,d);else{var p=e.getFilterTexture(),m=e.renderer,w=r,x=p;this.state.blend=!1,e.applyFilter(this,w,x,Ei.CLEAR);for(var A=1;A<this.passes-1;A++){e.bindAndClear(w,Ei.BLIT),this.uniforms.uSampler=x;var I=x;x=w,w=I,m.shader.bind(this),m.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,x,o,d),e.returnFilterTexture(p)}},Object.defineProperty(i.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),i}(Nt),ku=(function(a){function i(e,r,o,d){void 0===e&&(e=8),void 0===r&&(r=4),void 0===o&&(o=O.FILTER_RESOLUTION),void 0===d&&(d=5);var p=a.call(this)||this;return p.blurXFilter=new Ca(!0,e,r,o,d),p.blurYFilter=new Ca(!1,e,r,o,d),p.resolution=o,p.quality=r,p.blur=e,p.repeatEdgePixels=!1,p}qi(i,a),i.prototype.apply=function(e,r,o,d){var p=Math.abs(this.blurXFilter.strength),m=Math.abs(this.blurYFilter.strength);if(p&&m){var w=e.getFilterTexture();this.blurXFilter.apply(e,r,w,Ei.CLEAR),this.blurYFilter.apply(e,w,o,d),e.returnFilterTexture(w)}else m?this.blurYFilter.apply(e,r,o,d):this.blurXFilter.apply(e,r,o,d)},i.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(i.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0})}(Nt),function(a,i){return(ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)}),Uu=function(a){function i(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=a.call(this,gi,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(a,i){function e(){this.constructor=a}ku(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,a),i.prototype._loadMatrix=function(e,r){void 0===r&&(r=!1);var o=e;r&&(this._multiply(o,this.uniforms.m,e),o=this._colorMatrix(o)),this.uniforms.m=o},i.prototype._multiply=function(e,r,o){return e[0]=r[0]*o[0]+r[1]*o[5]+r[2]*o[10]+r[3]*o[15],e[1]=r[0]*o[1]+r[1]*o[6]+r[2]*o[11]+r[3]*o[16],e[2]=r[0]*o[2]+r[1]*o[7]+r[2]*o[12]+r[3]*o[17],e[3]=r[0]*o[3]+r[1]*o[8]+r[2]*o[13]+r[3]*o[18],e[4]=r[0]*o[4]+r[1]*o[9]+r[2]*o[14]+r[3]*o[19]+r[4],e[5]=r[5]*o[0]+r[6]*o[5]+r[7]*o[10]+r[8]*o[15],e[6]=r[5]*o[1]+r[6]*o[6]+r[7]*o[11]+r[8]*o[16],e[7]=r[5]*o[2]+r[6]*o[7]+r[7]*o[12]+r[8]*o[17],e[8]=r[5]*o[3]+r[6]*o[8]+r[7]*o[13]+r[8]*o[18],e[9]=r[5]*o[4]+r[6]*o[9]+r[7]*o[14]+r[8]*o[19]+r[9],e[10]=r[10]*o[0]+r[11]*o[5]+r[12]*o[10]+r[13]*o[15],e[11]=r[10]*o[1]+r[11]*o[6]+r[12]*o[11]+r[13]*o[16],e[12]=r[10]*o[2]+r[11]*o[7]+r[12]*o[12]+r[13]*o[17],e[13]=r[10]*o[3]+r[11]*o[8]+r[12]*o[13]+r[13]*o[18],e[14]=r[10]*o[4]+r[11]*o[9]+r[12]*o[14]+r[13]*o[19]+r[14],e[15]=r[15]*o[0]+r[16]*o[5]+r[17]*o[10]+r[18]*o[15],e[16]=r[15]*o[1]+r[16]*o[6]+r[17]*o[11]+r[18]*o[16],e[17]=r[15]*o[2]+r[16]*o[7]+r[17]*o[12]+r[18]*o[17],e[18]=r[15]*o[3]+r[16]*o[8]+r[17]*o[13]+r[18]*o[18],e[19]=r[15]*o[4]+r[16]*o[9]+r[17]*o[14]+r[18]*o[19]+r[19],e},i.prototype._colorMatrix=function(e){var r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},i.prototype.brightness=function(e,r){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},i.prototype.greyscale=function(e,r){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],r)},i.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},i.prototype.hue=function(e,r){e=(e||0)/180*Math.PI;var o=Math.cos(e),d=Math.sin(e),m=1/3,w=(0,Math.sqrt)(m);this._loadMatrix([o+(1-o)*m,m*(1-o)-w*d,m*(1-o)+w*d,0,0,m*(1-o)+w*d,o+m*(1-o),m*(1-o)-w*d,0,0,m*(1-o)-w*d,m*(1-o)+w*d,o+m*(1-o),0,0,0,0,0,1,0],r)},i.prototype.contrast=function(e,r){var o=(e||0)+1,d=-.5*(o-1);this._loadMatrix([o,0,0,0,d,0,o,0,0,d,0,0,o,0,d,0,0,0,1,0],r)},i.prototype.saturate=function(e,r){void 0===e&&(e=0);var o=2*e/3+1,d=-.5*(o-1);this._loadMatrix([o,d,d,0,0,d,o,d,0,0,d,d,o,0,0,0,0,0,1,0],r)},i.prototype.desaturate=function(){this.saturate(-1)},i.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},i.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},i.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},i.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},i.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},i.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},i.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},i.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},i.prototype.colorTone=function(e,r,o,d,p){var m=((o=o||16770432)>>16&255)/255,w=(o>>8&255)/255,x=(255&o)/255,A=((d=d||3375104)>>16&255)/255,I=(d>>8&255)/255,S=(255&d)/255;this._loadMatrix([.3,.59,.11,0,0,m,w,x,e=e||.2,0,A,I,S,r=r||.15,0,m-A,w-I,x-S,0,0],p)},i.prototype.night=function(e,r){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],r)},i.prototype.predator=function(e,r){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],r)},i.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},i.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(i.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),i}(Nt);Uu.prototype.grayscale=Uu.prototype.greyscale;var Sa=function(a,i){return(Sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e,r){var o=this,d=new Kt;return e.renderable=!1,(o=a.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:d,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,o.maskMatrix=d,null==r&&(r=20),o.scale=new tn(r,r),o}(function(a,i){function e(){this.constructor=a}Sa(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.apply=function(e,r,o,d){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var p=this.maskSprite.worldTransform,m=Math.sqrt(p.a*p.a+p.b*p.b),w=Math.sqrt(p.c*p.c+p.d*p.d);0!==m&&0!==w&&(this.uniforms.rotation[0]=p.a/m,this.uniforms.rotation[1]=p.b/m,this.uniforms.rotation[2]=p.c/w,this.uniforms.rotation[3]=p.d/w),e.applyFilter(this,r,o,d)},Object.defineProperty(i.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0})}(Nt);var a,Hu=function(a,i){return(Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};(function(a,i){function e(){this.constructor=a}Hu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(function(){return a.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this},a=Nt);var Pa=function(a,i){return(Pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};!function(a){function i(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var o=a.call(this,gi,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return o.noise=e,o.seed=r,o}(function(a,i){function e(){this.constructor=a}Pa(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),Object.defineProperty(i.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0})}(Nt);var Nl=new Kt;Yt.prototype._cacheAsBitmap=!1,Yt.prototype._cacheData=null;var Ll=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Yt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){var i;this._cacheAsBitmap!==a&&(this._cacheAsBitmap=a,a?(this._cacheData||(this._cacheData=new Ll),(i=this._cacheData).originalRender=this.render,i.originalRenderCanvas=this.renderCanvas,i.originalUpdateTransform=this.updateTransform,i.originalCalculateBounds=this.calculateBounds,i.originalGetLocalBounds=this.getLocalBounds,i.originalDestroy=this.destroy,i.originalContainsPoint=this.containsPoint,i.originalMask=this._mask,i.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((i=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=i.originalRender,this.renderCanvas=i.originalRenderCanvas,this.calculateBounds=i.originalCalculateBounds,this.getLocalBounds=i.originalGetLocalBounds,this.destroy=i.originalDestroy,this.updateTransform=i.originalUpdateTransform,this.containsPoint=i.originalContainsPoint,this._mask=i.originalMask,this.filterArea=i.originalFilterArea))}}}),Yt.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))},Yt.prototype._initCachedDisplayObject=function(i){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,i.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&r.pad(this.filters[0].padding),r.ceil(O.RESOLUTION);var d=i.renderTexture.current,p=i.renderTexture.sourceFrame.clone(),m=i.renderTexture.destinationFrame.clone(),w=i.projection.transform,x=Rr.create({width:r.width,height:r.height}),A="cacheAsBitmap_"+nr();this._cacheData.textureCacheId=A,zt.addToCache(x.baseTexture,A),ct.addToCache(x,A);var I=this.transform.localTransform.copyTo(Nl).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,i.render(this,x,!0,I,!1),i.projection.transform=w,i.renderTexture.bind(d,p,m),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var S=new xs(x);S.transform.worldTransform=this.transform.worldTransform,S.anchor.x=-r.x/r.width,S.anchor.y=-r.y/r.height,S.alpha=e,S._bounds=this._bounds,this._cacheData.sprite=S,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=S.containsPoint.bind(S)}},Yt.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))},Yt.prototype._initCachedDisplayObjectCanvas=function(i){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var o=i.context,d=i._projTransform;e.ceil(O.RESOLUTION);var p=Rr.create({width:e.width,height:e.height}),m="cacheAsBitmap_"+nr();this._cacheData.textureCacheId=m,zt.addToCache(p.baseTexture,m),ct.addToCache(p,m);var w=Nl;this.transform.localTransform.copyTo(w),w.invert(),w.tx-=e.x,w.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,p,!0,w,!1),i.context=o,i._projTransform=d,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var x=new xs(p);x.transform.worldTransform=this.transform.worldTransform,x.anchor.x=-e.x/e.width,x.anchor.y=-e.y/e.height,x.alpha=r,x._bounds=this._bounds,this._cacheData.sprite=x,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=x.containsPoint.bind(x)}},Yt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Yt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Yt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,zt.removeFromCache(this._cacheData.textureCacheId),ct.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Yt.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)},Yt.prototype.name=null,bn.prototype.getChildByName=function(i,e){for(var r=0,o=this.children.length;r<o;r++)if(this.children[r].name===i)return this.children[r];if(e)for(r=0,o=this.children.length;r<o;r++)if(this.children[r].getChildByName){var p=this.children[r].getChildByName(i,!0);if(p)return p}return null},Yt.prototype.getGlobalPosition=function(i,e){return void 0===i&&(i=new tn),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var Vu=function(a,i){return(Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)};function Ms(a,i){function e(){this.constructor=a}Vu(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var qc=function(a){function i(e,r,o,d){void 0===e&&(e=100),void 0===r&&(r=100),void 0===o&&(o=10),void 0===d&&(d=10);var p=a.call(this)||this;return p.segWidth=o,p.segHeight=d,p.width=e,p.height=r,p.build(),p}return Ms(i,a),i.prototype.build=function(){for(var e=this.segWidth*this.segHeight,r=[],o=[],d=[],p=this.segWidth-1,m=this.segHeight-1,w=this.width/p,x=this.height/m,A=0;A<e;A++){var I=A%this.segWidth,S=A/this.segWidth|0;r.push(I*w,S*x),o.push(I/p,S/m)}var R=p*m;for(A=0;A<R;A++){var L=A%p,U=A/p|0,fe=U*this.segWidth+L+1,Ne=(U+1)*this.segWidth+L;d.push(U*this.segWidth+L,fe,Ne,fe,(U+1)*this.segWidth+L+1,Ne)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(o),this.indexBuffer.data=new Uint16Array(d),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},i}(xu),Os=function(a){function i(e,r,o){void 0===e&&(e=200),void 0===o&&(o=0);var d=a.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return d.points=r,d._width=e,d.textureScale=o,d.build(),d}return Ms(i,a),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),i.prototype.build=function(){var e=this.points;if(e){var r=this.getBuffer("aVertexPosition"),o=this.getBuffer("aTextureCoord"),d=this.getIndex();if(!(e.length<1)){r.data.length/4!==e.length&&(r.data=new Float32Array(4*e.length),o.data=new Float32Array(4*e.length),d.data=new Uint16Array(6*(e.length-1)));var p=o.data,m=d.data;p[0]=0,p[1]=0,p[2]=0,p[3]=1;for(var w=0,x=e[0],A=this._width*this.textureScale,I=e.length,S=0;S<I;S++){var R=4*S;if(this.textureScale>0){var L=x.x-e[S].x,U=x.y-e[S].y,W=Math.sqrt(L*L+U*U);x=e[S],w+=W/A}else w=S/(I-1);p[R]=w,p[R+1]=0,p[R+2]=w,p[R+3]=1}var fe=0;for(S=0;S<I-1;S++)m[fe++]=R=2*S,m[fe++]=R+1,m[fe++]=R+2,m[fe++]=R+2,m[fe++]=R+1,m[fe++]=R+3;o.update(),d.update(),this.updateVertices()}}},i.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var o,r=e[0],d=0,p=0,m=this.buffers[0].data,w=e.length,x=0;x<w;x++){var A=e[x],I=4*x;p=-((o=x<e.length-1?e[x+1]:A).x-r.x),d=o.y-r.y;var S=Math.sqrt(d*d+p*p),R=this.textureScale>0?this.textureScale*this._width/2:this._width/2;d/=S,p/=S,p*=R,m[I]=A.x+(d*=R),m[I+1]=A.y+p,m[I+2]=A.x-d,m[I+3]=A.y-p,r=A}this.buffers[0].update()}},i.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},i}(xu),Zc=(function(a){function i(e,r,o){void 0===o&&(o=0);var d=this,p=new Os(e.height,r,o),m=new lo(e);return o>0&&(e.baseTexture.wrapMode=at.REPEAT),(d=a.call(this,p,m)||this).autoUpdate=!0,d}Ms(i,a),i.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),a.prototype._render.call(this,e)}}(ti),function(a){function i(e,r,o){var d=this,p=new qc(e.width,e.height,r,o),m=new lo(ct.WHITE);return(d=a.call(this,p,m)||this).texture=e,d}return Ms(i,a),i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),a.prototype._render.call(this,e)},i.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),a.prototype.destroy.call(this,e)},i}(ti)),hr=(function(a){function i(e,r,o,d,p){void 0===e&&(e=ct.EMPTY);var m=this,w=new xu(r,o,d);w.getBuffer("aVertexPosition").static=!1;var x=new lo(e);return(m=a.call(this,w,x,null,p)||this).autoUpdate=!0,m}Ms(i,a),Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),i.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),a.prototype._render.call(this,e)}}(ti),function(a){function i(e,r,o,d,p){void 0===r&&(r=10),void 0===o&&(o=10),void 0===d&&(d=10),void 0===p&&(p=10);var m=a.call(this,ct.WHITE,4,4)||this;return m._origWidth=e.orig.width,m._origHeight=e.orig.height,m._width=m._origWidth,m._height=m._origHeight,m._leftWidth=r,m._rightWidth=d,m._topHeight=o,m._bottomHeight=p,m.texture=e,m}Ms(i,a),i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),i.prototype.updateHorizontalVertices=function(){var e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height},i.prototype.updateVerticalVertices=function(){var e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width},i.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,o=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>o?1:this._height/o)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),i.prototype._refresh=function(){var e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var o=1/this._origWidth,d=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=o*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-o*this._rightWidth,r[9]=r[11]=r[13]=r[15]=d*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-d*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(Zc),function(a,i){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])})(a,i)});!function(a){function i(e,r){void 0===r&&(r=!0);var o=a.call(this,e[0]instanceof ct?e[0]:e[0].texture)||this;return o._textures=null,o._durations=null,o._autoUpdate=r,o._isConnectedToTicker=!1,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o._playing=!1,o._previousFrame=null,o.textures=e,o}(function(a,i){function e(){this.constructor=a}hr(a,i),a.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)})(i,a),i.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(on.shared.remove(this.update,this),this._isConnectedToTicker=!1))},i.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(on.shared.add(this.update,this,ir.HIGH),this._isConnectedToTicker=!0))},i.prototype.gotoAndStop=function(e){this.stop();var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(e){var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(e){if(this._playing){var r=this.animationSpeed*e,o=this.currentFrame;if(null!==this._durations){var d=this._currentTime%1*this._durations[this.currentFrame];for(d+=r/60*1e3;d<0;)this._currentTime--,d+=this._durations[this.currentFrame];var p=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*p,this._currentTime+=p;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o||this.animationSpeed<0&&this.currentFrame>o)&&this.onLoop(),this.updateTexture())}},i.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},i.prototype.destroy=function(e){this.stop(),a.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},i.fromFrames=function(e){for(var r=[],o=0;o<e.length;++o)r.push(ct.from(e[o]));return new i(r)},i.fromImages=function(e){for(var r=[],o=0;o<e.length;++o)r.push(ct.from(e[o]));return new i(r)},Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof ct)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(on.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(on.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(xs),Hn.registerPlugin("accessibility",gr),Hn.registerPlugin("extract",Ko),Hn.registerPlugin("interaction",Eh),Hn.registerPlugin("particle",ws),Hn.registerPlugin("prepare",ei),Hn.registerPlugin("batch",Yr),Hn.registerPlugin("tilingSprite",Nc),qr.registerPlugin(Ou),qr.registerPlugin(Oc),qo.registerPlugin(vr),qo.registerPlugin(to)},516:He=>{"use strict";function pe(B,E){return Object.prototype.hasOwnProperty.call(B,E)}He.exports=function(B,E,he,me){he=he||"=";var ee={};if("string"!=typeof B||0===B.length)return ee;var ae=/\+/g;B=B.split(E=E||"&");var Q=1e3;me&&"number"==typeof me.maxKeys&&(Q=me.maxKeys);var $=B.length;Q>0&&$>Q&&($=Q);for(var te=0;te<$;++te){var X,J,Z,le,ue=B[te].replace(ae,"%20"),q=ue.indexOf(he);q>=0?(X=ue.substr(0,q),J=ue.substr(q+1)):(X=ue,J=""),Z=decodeURIComponent(X),le=decodeURIComponent(J),pe(ee,Z)?Array.isArray(ee[Z])?ee[Z].push(le):ee[Z]=[ee[Z],le]:ee[Z]=le}return ee}},5776:He=>{"use strict";var pe=function(B){switch(typeof B){case"string":return B;case"boolean":return B?"true":"false";case"number":return isFinite(B)?B:"";default:return""}};He.exports=function(B,E,he,me){return E=E||"&",he=he||"=",null===B&&(B=void 0),"object"==typeof B?Object.keys(B).map(function(ee){var ae=encodeURIComponent(pe(ee))+he;return Array.isArray(B[ee])?B[ee].map(function(Q){return ae+encodeURIComponent(pe(Q))}).join(E):ae+encodeURIComponent(pe(B[ee]))}).join(E):me?encodeURIComponent(pe(me))+he+encodeURIComponent(pe(B)):""}},7137:(He,pe,B)=>{"use strict";pe.decode=pe.parse=B(516),pe.encode=pe.stringify=B(5776)},1869:(He,pe,B)=>{"use strict";B.d(pe,{d:()=>he});var E=B(3489);class he extends E.L{constructor(ee,ae,Q){super(),this.parent=ee,this.outerValue=ae,this.outerIndex=Q,this.index=0}_next(ee){this.parent.notifyNext(this.outerValue,ee,this.outerIndex,this.index++,this)}_error(ee){this.parent.notifyError(ee,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},2916:(He,pe,B)=>{"use strict";B.d(pe,{y:()=>X});var E=B(3489),me=B(7668),ee=B(3292),Q=B(3821),$=B(5379);var q=B(2830);let X=(()=>{class Z{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const ce=new Z;return ce.source=this,ce.operator=Te,ce}subscribe(Te,ce,Oe){const{operator:Ve}=this,je=function(Z,le,Te){if(Z){if(Z instanceof E.L)return Z;if(Z[me.b])return Z[me.b]()}return Z||le||Te?new E.L(Z,le,Te):new E.L(ee.c)}(Te,ce,Oe);if(je.add(Ve?Ve.call(je,this.source):this.source||q.v.useDeprecatedSynchronousErrorHandling&&!je.syncErrorThrowable?this._subscribe(je):this._trySubscribe(je)),q.v.useDeprecatedSynchronousErrorHandling&&je.syncErrorThrowable&&(je.syncErrorThrowable=!1,je.syncErrorThrown))throw je.syncErrorValue;return je}_trySubscribe(Te){try{return this._subscribe(Te)}catch(ce){q.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=ce),function(Z){for(;Z;){const{closed:le,destination:Te,isStopped:ce}=Z;if(le||ce)return!1;Z=Te&&Te instanceof E.L?Te:null}return!0}(Te)?Te.error(ce):console.warn(ce)}}forEach(Te,ce){return new(ce=J(ce))((Oe,Ve)=>{let je;je=this.subscribe(Le=>{try{Te(Le)}catch(mt){Ve(mt),je&&je.unsubscribe()}},Ve,Oe)})}_subscribe(Te){const{source:ce}=this;return ce&&ce.subscribe(Te)}[Q.L](){return this}pipe(...Te){return 0===Te.length?this:function(Z){return 0===Z.length?$.y:1===Z.length?Z[0]:function(Te){return Z.reduce((ce,Oe)=>Oe(ce),Te)}}(Te)(this)}toPromise(Te){return new(Te=J(Te))((ce,Oe)=>{let Ve;this.subscribe(je=>Ve=je,je=>Oe(je),()=>ce(Ve))})}}return Z.create=le=>new Z(le),Z})();function J(Z){if(Z||(Z=q.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},3292:(He,pe,B)=>{"use strict";B.d(pe,{c:()=>me});var E=B(2830),he=B(2782);const me={closed:!0,next(ee){},error(ee){if(E.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,he.z)(ee)},complete(){}}},826:(He,pe,B)=>{"use strict";B.d(pe,{L:()=>he});var E=B(3489);class he extends E.L{notifyNext(ee,ae,Q,$,te){this.destination.next(ae)}notifyError(ee,ae){this.destination.error(ee)}notifyComplete(ee){this.destination.complete()}}},5529:(He,pe,B)=>{"use strict";B.d(pe,{xQ:()=>te,Yc:()=>$});var E=B(2916),he=B(3489),me=B(2654),ee=B(5279);class ae extends me.w{constructor(X,J){super(),this.subject=X,this.subscriber=J,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const X=this.subject,J=X.observers;if(this.subject=null,!J||0===J.length||X.isStopped||X.closed)return;const Z=J.indexOf(this.subscriber);-1!==Z&&J.splice(Z,1)}}var Q=B(7668);class $ extends he.L{constructor(X){super(X),this.destination=X}}let te=(()=>{class q extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new $(this)}lift(J){const Z=new ue(this,this);return Z.operator=J,Z}next(J){if(this.closed)throw new ee.N;if(!this.isStopped){const{observers:Z}=this,le=Z.length,Te=Z.slice();for(let ce=0;ce<le;ce++)Te[ce].next(J)}}error(J){if(this.closed)throw new ee.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:Z}=this,le=Z.length,Te=Z.slice();for(let ce=0;ce<le;ce++)Te[ce].error(J);this.observers.length=0}complete(){if(this.closed)throw new ee.N;this.isStopped=!0;const{observers:J}=this,Z=J.length,le=J.slice();for(let Te=0;Te<Z;Te++)le[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new ee.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new ee.N;return this.hasError?(J.error(this.thrownError),me.w.EMPTY):this.isStopped?(J.complete(),me.w.EMPTY):(this.observers.push(J),new ae(this,J))}asObservable(){const J=new E.y;return J.source=this,J}}return q.create=(X,J)=>new ue(X,J),q})();class ue extends te{constructor(X,J){super(),this.destination=X,this.source=J}next(X){const{destination:J}=this;J&&J.next&&J.next(X)}error(X){const{destination:J}=this;J&&J.error&&this.destination.error(X)}complete(){const{destination:X}=this;X&&X.complete&&this.destination.complete()}_subscribe(X){const{source:J}=this;return J?this.source.subscribe(X):me.w.EMPTY}}},3489:(He,pe,B)=>{"use strict";B.d(pe,{L:()=>$});var E=B(7043),he=B(3292),me=B(2654),ee=B(7668),ae=B(2830),Q=B(2782);class $ extends me.w{constructor(q,X,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=he.c;break;case 1:if(!q){this.destination=he.c;break}if("object"==typeof q){q instanceof $?(this.syncErrorThrowable=q.syncErrorThrowable,this.destination=q,q.add(this)):(this.syncErrorThrowable=!0,this.destination=new te(this,q));break}default:this.syncErrorThrowable=!0,this.destination=new te(this,q,X,J)}}[ee.b](){return this}static create(q,X,J){const Z=new $(q,X,J);return Z.syncErrorThrowable=!1,Z}next(q){this.isStopped||this._next(q)}error(q){this.isStopped||(this.isStopped=!0,this._error(q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(q){this.destination.next(q)}_error(q){this.destination.error(q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=q,this}}class te extends ${constructor(q,X,J,Z){super(),this._parentSubscriber=q;let le,Te=this;(0,E.m)(X)?le=X:X&&(le=X.next,J=X.error,Z=X.complete,X!==he.c&&(Te=Object.create(X),(0,E.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=le,this._error=J,this._complete=Z}next(q){if(!this.isStopped&&this._next){const{_parentSubscriber:X}=this;ae.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?this.__tryOrSetError(X,this._next,q)&&this.unsubscribe():this.__tryOrUnsub(this._next,q)}}error(q){if(!this.isStopped){const{_parentSubscriber:X}=this,{useDeprecatedSynchronousErrorHandling:J}=ae.v;if(this._error)J&&X.syncErrorThrowable?(this.__tryOrSetError(X,this._error,q),this.unsubscribe()):(this.__tryOrUnsub(this._error,q),this.unsubscribe());else if(X.syncErrorThrowable)J?(X.syncErrorValue=q,X.syncErrorThrown=!0):(0,Q.z)(q),this.unsubscribe();else{if(this.unsubscribe(),J)throw q;(0,Q.z)(q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:q}=this;if(this._complete){const X=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?(this.__tryOrSetError(q,X),this.unsubscribe()):(this.__tryOrUnsub(X),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(q,X){try{q.call(this._context,X)}catch(J){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw J;(0,Q.z)(J)}}__tryOrSetError(q,X,J){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{X.call(this._context,J)}catch(Z){return ae.v.useDeprecatedSynchronousErrorHandling?(q.syncErrorValue=Z,q.syncErrorThrown=!0,!0):((0,Q.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:q}=this;this._context=null,this._parentSubscriber=null,q.unsubscribe()}}},2654:(He,pe,B)=>{"use strict";B.d(pe,{w:()=>Q});var E=B(6688),he=B(7830),me=B(7043);const ae=(()=>{function te(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((q,X)=>`${X+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return te.prototype=Object.create(Error.prototype),te})();class Q{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:q,_unsubscribe:X,_subscriptions:J}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,q instanceof Q)q.remove(this);else if(null!==q)for(let Z=0;Z<q.length;++Z)q[Z].remove(this);if((0,me.m)(X))try{X.call(this)}catch(Z){ue=Z instanceof ae?$(Z.errors):[Z]}if((0,E.k)(J)){let Z=-1,le=J.length;for(;++Z<le;){const Te=J[Z];if((0,he.K)(Te))try{Te.unsubscribe()}catch(ce){ue=ue||[],ce instanceof ae?ue=ue.concat($(ce.errors)):ue.push(ce)}}}if(ue)throw new ae(ue)}add(ue){let q=ue;if(!ue)return Q.EMPTY;switch(typeof ue){case"function":q=new Q(ue);case"object":if(q===this||q.closed||"function"!=typeof q.unsubscribe)return q;if(this.closed)return q.unsubscribe(),q;if(!(q instanceof Q)){const Z=q;q=new Q,q._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:X}=q;if(null===X)q._parentOrParents=this;else if(X instanceof Q){if(X===this)return q;q._parentOrParents=[X,this]}else{if(-1!==X.indexOf(this))return q;X.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[q]:J.push(q),q}remove(ue){const q=this._subscriptions;if(q){const X=q.indexOf(ue);-1!==X&&q.splice(X,1)}}}var te;function $(te){return te.reduce((ue,q)=>ue.concat(q instanceof ae?q.errors:q),[])}Q.EMPTY=((te=new Q).closed=!0,te)},2830:(He,pe,B)=>{"use strict";B.d(pe,{v:()=>he});let E=!1;const he={Promise:void 0,set useDeprecatedSynchronousErrorHandling(me){if(me){const ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ee.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=me},get useDeprecatedSynchronousErrorHandling(){return E}}},1762:(He,pe,B)=>{"use strict";B.d(pe,{c:()=>ae,N:()=>Q});var E=B(5529),he=B(2916),me=B(2654),ee=B(4327);class ae extends he.y{constructor(X,J){super(),this.source=X,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(X){return this.getSubject().subscribe(X)}getSubject(){const X=this._subject;return(!X||X.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let X=this._connection;return X||(this._isComplete=!1,X=this._connection=new me.w,X.add(this.source.subscribe(new $(this.getSubject(),this))),X.closed&&(this._connection=null,X=me.w.EMPTY)),X}refCount(){return(0,ee.x)()(this)}}const Q=(()=>{const q=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:q._subscribe},_isComplete:{value:q._isComplete,writable:!0},getSubject:{value:q.getSubject},connect:{value:q.connect},refCount:{value:q.refCount}}})();class $ extends E.Yc{constructor(X,J){super(X),this.connectable=J}_error(X){this._unsubscribe(),super._error(X)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const X=this.connectable;if(X){this.connectable=null;const J=X._connection;X._refCount=0,X._subject=null,X._connection=null,J&&J.unsubscribe()}}}},5254:(He,pe,B)=>{"use strict";B.d(pe,{D:()=>Te});var E=B(2916),he=B(9249),me=B(2654),ee=B(3821),$=B(6454),te=B(5430),X=B(8955),J=B(8515);function Te(ce,Oe){return Oe?function(ce,Oe){if(null!=ce){if(function(ce){return ce&&"function"==typeof ce[ee.L]}(ce))return function(ce,Oe){return new E.y(Ve=>{const je=new me.w;return je.add(Oe.schedule(()=>{const Le=ce[ee.L]();je.add(Le.subscribe({next(mt){je.add(Oe.schedule(()=>Ve.next(mt)))},error(mt){je.add(Oe.schedule(()=>Ve.error(mt)))},complete(){je.add(Oe.schedule(()=>Ve.complete()))}}))})),je})}(ce,Oe);if((0,X.t)(ce))return function(ce,Oe){return new E.y(Ve=>{const je=new me.w;return je.add(Oe.schedule(()=>ce.then(Le=>{je.add(Oe.schedule(()=>{Ve.next(Le),je.add(Oe.schedule(()=>Ve.complete()))}))},Le=>{je.add(Oe.schedule(()=>Ve.error(Le)))}))),je})}(ce,Oe);if((0,J.z)(ce))return(0,$.r)(ce,Oe);if(function(ce){return ce&&"function"==typeof ce[te.hZ]}(ce)||"string"==typeof ce)return function(ce,Oe){if(!ce)throw new Error("Iterable cannot be null");return new E.y(Ve=>{const je=new me.w;let Le;return je.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),je.add(Oe.schedule(()=>{Le=ce[te.hZ](),je.add(Oe.schedule(function(){if(Ve.closed)return;let mt,Gt;try{const ge=Le.next();mt=ge.value,Gt=ge.done}catch(ge){return void Ve.error(ge)}Gt?Ve.complete():(Ve.next(mt),this.schedule())}))})),je})}(ce,Oe)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,Oe):ce instanceof E.y?ce:new E.y((0,he.s)(ce))}},3009:(He,pe,B)=>{"use strict";B.d(pe,{n:()=>ee});var E=B(2916),he=B(3650),me=B(6454);function ee(ae,Q){return Q?(0,me.r)(ae,Q):new E.y((0,he.V)(ae))}},4850:(He,pe,B)=>{"use strict";B.d(pe,{U:()=>he});var E=B(3489);function he(ae,Q){return function(te){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return te.lift(new me(ae,Q))}}class me{constructor(Q,$){this.project=Q,this.thisArg=$}call(Q,$){return $.subscribe(new ee(Q,this.project,this.thisArg))}}class ee extends E.L{constructor(Q,$,te){super(Q),this.project=$,this.count=0,this.thisArg=te||this}_next(Q){let $;try{$=this.project.call(this.thisArg,Q,this.count++)}catch(te){return void this.destination.error(te)}this.destination.next($)}}},9146:(He,pe,B)=>{"use strict";B.d(pe,{J:()=>me});var E=B(1709),he=B(5379);function me(ee=Number.POSITIVE_INFINITY){return(0,E.zg)(he.y,ee)}},1709:(He,pe,B)=>{"use strict";B.d(pe,{zg:()=>Q});var E=B(9054),he=B(826),me=B(1869),ee=B(4850),ae=B(5254);function Q(ue,q,X=Number.POSITIVE_INFINITY){return"function"==typeof q?J=>J.pipe(Q((Z,le)=>(0,ae.D)(ue(Z,le)).pipe((0,ee.U)((Te,ce)=>q(Z,Te,le,ce))),X)):("number"==typeof q&&(X=q),J=>J.lift(new $(ue,X)))}class ${constructor(q,X=Number.POSITIVE_INFINITY){this.project=q,this.concurrent=X}call(q,X){return X.subscribe(new te(q,this.project,this.concurrent))}}class te extends he.L{constructor(q,X,J=Number.POSITIVE_INFINITY){super(q),this.project=X,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(q){this.active<this.concurrent?this._tryNext(q):this.buffer.push(q)}_tryNext(q){let X;const J=this.index++;try{X=this.project(q,J)}catch(Z){return void this.destination.error(Z)}this.active++,this._innerSub(X,q,J)}_innerSub(q,X,J){const Z=new me.d(this,X,J),le=this.destination;le.add(Z);const Te=(0,E.D)(this,q,void 0,void 0,Z);Te!==Z&&le.add(Te)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(q,X,J,Z,le){this.destination.next(X)}notifyComplete(q){const X=this.buffer;this.remove(q),this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4327:(He,pe,B)=>{"use strict";B.d(pe,{x:()=>he});var E=B(3489);function he(){return function(Q){return Q.lift(new me(Q))}}class me{constructor(Q){this.connectable=Q}call(Q,$){const{connectable:te}=this;te._refCount++;const ue=new ee(Q,te),q=$.subscribe(ue);return ue.closed||(ue.connection=te.connect()),q}}class ee extends E.L{constructor(Q,$){super(Q),this.connectable=$}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const $=Q._refCount;if($<=0)return void(this.connection=null);if(Q._refCount=$-1,$>1)return void(this.connection=null);const{connection:te}=this,ue=Q._connection;this.connection=null,ue&&(!te||ue===te)&&ue.unsubscribe()}}},6454:(He,pe,B)=>{"use strict";B.d(pe,{r:()=>me});var E=B(2916),he=B(2654);function me(ee,ae){return new E.y(Q=>{const $=new he.w;let te=0;return $.add(ae.schedule(function(){te!==ee.length?(Q.next(ee[te++]),Q.closed||$.add(this.schedule())):Q.complete()})),$})}},5430:(He,pe,B)=>{"use strict";B.d(pe,{hZ:()=>he});const he="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},3821:(He,pe,B)=>{"use strict";B.d(pe,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(He,pe,B)=>{"use strict";B.d(pe,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(He,pe,B)=>{"use strict";B.d(pe,{N:()=>he});const he=(()=>{function me(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return me.prototype=Object.create(Error.prototype),me})()},2782:(He,pe,B)=>{"use strict";function E(he){setTimeout(()=>{throw he},0)}B.d(pe,{z:()=>E})},5379:(He,pe,B)=>{"use strict";function E(he){return he}B.d(pe,{y:()=>E})},6688:(He,pe,B)=>{"use strict";B.d(pe,{k:()=>E});const E=Array.isArray||(he=>he&&"number"==typeof he.length)},8515:(He,pe,B)=>{"use strict";B.d(pe,{z:()=>E});const E=he=>he&&"number"==typeof he.length&&"function"!=typeof he},7043:(He,pe,B)=>{"use strict";function E(he){return"function"==typeof he}B.d(pe,{m:()=>E})},7830:(He,pe,B)=>{"use strict";function E(he){return null!==he&&"object"==typeof he}B.d(pe,{K:()=>E})},8955:(He,pe,B)=>{"use strict";function E(he){return!!he&&"function"!=typeof he.subscribe&&"function"==typeof he.then}B.d(pe,{t:()=>E})},2866:(He,pe,B)=>{"use strict";function E(he){return he&&"function"==typeof he.schedule}B.d(pe,{K:()=>E})},9249:(He,pe,B)=>{"use strict";B.d(pe,{s:()=>X});var E=B(3650),he=B(2782),ee=B(5430),Q=B(3821),te=B(8515),ue=B(8955),q=B(7830);const X=J=>{if(J&&"function"==typeof J[Q.L])return(J=>Z=>{const le=J[Q.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(Z)})(J);if((0,te.z)(J))return(0,E.V)(J);if((0,ue.t)(J))return(J=>Z=>(J.then(le=>{Z.closed||(Z.next(le),Z.complete())},le=>Z.error(le)).then(null,he.z),Z))(J);if(J&&"function"==typeof J[ee.hZ])return(J=>Z=>{const le=J[ee.hZ]();for(;;){const Te=le.next();if(Te.done){Z.complete();break}if(Z.next(Te.value),Z.closed)break}return"function"==typeof le.return&&Z.add(()=>{le.return&&le.return()}),Z})(J);{const le=`You provided ${(0,q.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},3650:(He,pe,B)=>{"use strict";B.d(pe,{V:()=>E});const E=he=>me=>{for(let ee=0,ae=he.length;ee<ae&&!me.closed;ee++)me.next(he[ee]);me.complete()}},9054:(He,pe,B)=>{"use strict";B.d(pe,{D:()=>ee});var E=B(1869),he=B(9249),me=B(2916);function ee(ae,Q,$,te,ue=new E.d(ae,$,te)){if(!ue.closed)return Q instanceof me.y?Q.subscribe(ue):(0,he.s)(Q)(ue)}},1308:function(He,pe,B){var E;He=B.nmd(He),function(he){"object"==typeof global&&global;var Q,$=2147483647,ce=/^xn--/,Oe=/[^\x20-\x7E]/,Ve=/[\x2E\u3002\uFF0E\uFF61]/g,je={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},mt=Math.floor,Gt=String.fromCharCode;function st(z){throw RangeError(je[z])}function j(z,K){for(var xe=z.length,Be=[];xe--;)Be[xe]=K(z[xe]);return Be}function G(z,K){var xe=z.split("@"),Be="";return xe.length>1&&(Be=xe[0]+"@",z=xe[1]),Be+j((z=z.replace(Ve,".")).split("."),K).join(".")}function ne(z){for(var we,Pe,K=[],xe=0,Be=z.length;xe<Be;)(we=z.charCodeAt(xe++))>=55296&&we<=56319&&xe<Be?56320==(64512&(Pe=z.charCodeAt(xe++)))?K.push(((1023&we)<<10)+(1023&Pe)+65536):(K.push(we),xe--):K.push(we);return K}function de(z){return j(z,function(K){var xe="";return K>65535&&(xe+=Gt((K-=65536)>>>10&1023|55296),K=56320|1023&K),xe+Gt(K)}).join("")}function be(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:36}function Y(z,K){return z+22+75*(z<26)-((0!=K)<<5)}function O(z,K,xe){var Be=0;for(z=xe?mt(z/700):z>>1,z+=mt(z/K);z>455;Be+=36)z=mt(z/35);return mt(Be+36*z/(z+38))}function k(z){var Be,Ze,Ae,Re,at,Pt,St,Ot,It,en,K=[],xe=z.length,we=0,Pe=128,ze=72;for((Ze=z.lastIndexOf("-"))<0&&(Ze=0),Ae=0;Ae<Ze;++Ae)z.charCodeAt(Ae)>=128&&st("not-basic"),K.push(z.charCodeAt(Ae));for(Re=Ze>0?Ze+1:0;Re<xe;){for(at=we,Pt=1,St=36;Re>=xe&&st("invalid-input"),((Ot=be(z.charCodeAt(Re++)))>=36||Ot>mt(($-we)/Pt))&&st("overflow"),we+=Ot*Pt,!(Ot<(It=St<=ze?1:St>=ze+26?26:St-ze));St+=36)Pt>mt($/(en=36-It))&&st("overflow"),Pt*=en;ze=O(we-at,Be=K.length+1,0==at),mt(we/Be)>$-Pe&&st("overflow"),Pe+=mt(we/Be),we%=Be,K.splice(we++,0,Pe)}return de(K)}function H(z){var K,xe,Be,we,Pe,ze,Ze,Ae,Re,at,Pt,Ot,It,en,kt,St=[];for(Ot=(z=ne(z)).length,K=128,xe=0,Pe=72,ze=0;ze<Ot;++ze)(Pt=z[ze])<128&&St.push(Gt(Pt));for(Be=we=St.length,we&&St.push("-");Be<Ot;){for(Ze=$,ze=0;ze<Ot;++ze)(Pt=z[ze])>=K&&Pt<Ze&&(Ze=Pt);for(Ze-K>mt(($-xe)/(It=Be+1))&&st("overflow"),xe+=(Ze-K)*It,K=Ze,ze=0;ze<Ot;++ze)if((Pt=z[ze])<K&&++xe>$&&st("overflow"),Pt==K){for(Ae=xe,Re=36;!(Ae<(at=Re<=Pe?1:Re>=Pe+26?26:Re-Pe));Re+=36)St.push(Gt(Y(at+(kt=Ae-at)%(en=36-at),0))),Ae=mt(kt/en);St.push(Gt(Y(Ae,0))),Pe=O(xe,It,Be==we),xe=0,++Be}++xe,++K}return St.join("")}Q={version:"1.3.2",ucs2:{decode:ne,encode:de},decode:k,encode:H,toASCII:function(z){return G(z,function(K){return Oe.test(K)?"xn--"+H(K):K})},toUnicode:function(z){return G(z,function(K){return ce.test(K)?k(K.slice(4).toLowerCase()):K})}},void 0!==(E=function(){return Q}.call(pe,B,pe,He))&&(He.exports=E)}()},8762:(He,pe,B)=>{"use strict";var E=B(1308),he=B(796);function me(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}pe.parse=je,pe.resolve=function(ge,st){return je(ge,!1,!0).resolve(st)},pe.resolveObject=function(ge,st){return ge?je(ge,!1,!0).resolveObject(st):st},pe.format=function(ge){return he.isString(ge)&&(ge=je(ge)),ge instanceof me?ge.format():me.prototype.format.call(ge)},pe.Url=me;var ee=/^([a-z0-9.+-]+:)/i,ae=/:[0-9]*$/,Q=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,te=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),ue=["'"].concat(te),q=["%","/","?",";","#"].concat(ue),X=["/","?","#"],Z=/^[+a-z0-9A-Z_-]{0,63}$/,le=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Te={javascript:!0,"javascript:":!0},ce={javascript:!0,"javascript:":!0},Oe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ve=B(7137);function je(ge,st,j){if(ge&&he.isObject(ge)&&ge instanceof me)return ge;var G=new me;return G.parse(ge,st,j),G}me.prototype.parse=function(ge,st,j){if(!he.isString(ge))throw new TypeError("Parameter 'url' must be a string, not "+typeof ge);var G=ge.indexOf("?"),ne=-1!==G&&G<ge.indexOf("#")?"?":"#",de=ge.split(ne);de[0]=de[0].replace(/\\/g,"/");var Y=ge=de.join(ne);if(Y=Y.trim(),!j&&1===ge.split("#").length){var O=Q.exec(Y);if(O)return this.path=Y,this.href=Y,this.pathname=O[1],O[2]?(this.search=O[2],this.query=st?Ve.parse(this.search.substr(1)):this.search.substr(1)):st&&(this.search="",this.query={}),this}var k=ee.exec(Y);if(k){var H=(k=k[0]).toLowerCase();this.protocol=H,Y=Y.substr(k.length)}if(j||k||Y.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe="//"===Y.substr(0,2);oe&&(!k||!ce[k])&&(Y=Y.substr(2),this.slashes=!0)}if(!ce[k]&&(oe||k&&!Oe[k])){for(var se=-1,z=0;z<X.length;z++)-1!==(K=Y.indexOf(X[z]))&&(-1===se||K<se)&&(se=K);var xe,Be;for(-1!==(Be=-1===se?Y.lastIndexOf("@"):Y.lastIndexOf("@",se))&&(xe=Y.slice(0,Be),Y=Y.slice(Be+1),this.auth=decodeURIComponent(xe)),se=-1,z=0;z<q.length;z++){var K;-1!==(K=Y.indexOf(q[z]))&&(-1===se||K<se)&&(se=K)}-1===se&&(se=Y.length),this.host=Y.slice(0,se),Y=Y.slice(se),this.parseHost(),this.hostname=this.hostname||"";var we="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!we)for(var Pe=this.hostname.split(/\./),ze=(z=0,Pe.length);z<ze;z++){var Ze=Pe[z];if(Ze&&!Ze.match(Z)){for(var Ae="",Re=0,at=Ze.length;Re<at;Re++)Ze.charCodeAt(Re)>127?Ae+="x":Ae+=Ze[Re];if(!Ae.match(Z)){var Pt=Pe.slice(0,z),St=Pe.slice(z+1),Ot=Ze.match(le);Ot&&(Pt.push(Ot[1]),St.unshift(Ot[2])),St.length&&(Y="/"+St.join(".")+Y),this.hostname=Pt.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),we||(this.hostname=E.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,we&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Y[0]&&(Y="/"+Y))}if(!Te[H])for(z=0,ze=ue.length;z<ze;z++){var kt=ue[z];if(-1!==Y.indexOf(kt)){var Wn=encodeURIComponent(kt);Wn===kt&&(Wn=escape(kt)),Y=Y.split(kt).join(Wn)}}var Ai=Y.indexOf("#");-1!==Ai&&(this.hash=Y.substr(Ai),Y=Y.slice(0,Ai));var mn=Y.indexOf("?");return-1!==mn?(this.search=Y.substr(mn),this.query=Y.substr(mn+1),st&&(this.query=Ve.parse(this.query)),Y=Y.slice(0,mn)):st&&(this.search="",this.query={}),Y&&(this.pathname=Y),Oe[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},me.prototype.format=function(){var ge=this.auth||"";ge&&(ge=(ge=encodeURIComponent(ge)).replace(/%3A/i,":"),ge+="@");var st=this.protocol||"",j=this.pathname||"",G=this.hash||"",ne=!1,de="";this.host?ne=ge+this.host:this.hostname&&(ne=ge+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(ne+=":"+this.port)),this.query&&he.isObject(this.query)&&Object.keys(this.query).length&&(de=Ve.stringify(this.query));var be=this.search||de&&"?"+de||"";return st&&":"!==st.substr(-1)&&(st+=":"),this.slashes||(!st||Oe[st])&&!1!==ne?(ne="//"+(ne||""),j&&"/"!==j.charAt(0)&&(j="/"+j)):ne||(ne=""),G&&"#"!==G.charAt(0)&&(G="#"+G),be&&"?"!==be.charAt(0)&&(be="?"+be),st+ne+(j=j.replace(/[?#]/g,function(Y){return encodeURIComponent(Y)}))+(be=be.replace("#","%23"))+G},me.prototype.resolve=function(ge){return this.resolveObject(je(ge,!1,!0)).format()},me.prototype.resolveObject=function(ge){if(he.isString(ge)){var st=new me;st.parse(ge,!1,!0),ge=st}for(var j=new me,G=Object.keys(this),ne=0;ne<G.length;ne++){var de=G[ne];j[de]=this[de]}if(j.hash=ge.hash,""===ge.href)return j.href=j.format(),j;if(ge.slashes&&!ge.protocol){for(var be=Object.keys(ge),Y=0;Y<be.length;Y++){var O=be[Y];"protocol"!==O&&(j[O]=ge[O])}return Oe[j.protocol]&&j.hostname&&!j.pathname&&(j.path=j.pathname="/"),j.href=j.format(),j}if(ge.protocol&&ge.protocol!==j.protocol){if(!Oe[ge.protocol]){for(var k=Object.keys(ge),H=0;H<k.length;H++){var oe=k[H];j[oe]=ge[oe]}return j.href=j.format(),j}if(j.protocol=ge.protocol,ge.host||ce[ge.protocol])j.pathname=ge.pathname;else{for(var ze=(ge.pathname||"").split("/");ze.length&&!(ge.host=ze.shift()););ge.host||(ge.host=""),ge.hostname||(ge.hostname=""),""!==ze[0]&&ze.unshift(""),ze.length<2&&ze.unshift(""),j.pathname=ze.join("/")}return j.search=ge.search,j.query=ge.query,j.host=ge.host||"",j.auth=ge.auth,j.hostname=ge.hostname||ge.host,j.port=ge.port,(j.pathname||j.search)&&(j.path=(j.pathname||"")+(j.search||"")),j.slashes=j.slashes||ge.slashes,j.href=j.format(),j}var K=j.pathname&&"/"===j.pathname.charAt(0),xe=ge.host||ge.pathname&&"/"===ge.pathname.charAt(0),Be=xe||K||j.host&&ge.pathname,we=Be,Pe=j.pathname&&j.pathname.split("/")||[],Ze=(ze=ge.pathname&&ge.pathname.split("/")||[],j.protocol&&!Oe[j.protocol]);if(Ze&&(j.hostname="",j.port=null,j.host&&(""===Pe[0]?Pe[0]=j.host:Pe.unshift(j.host)),j.host="",ge.protocol&&(ge.hostname=null,ge.port=null,ge.host&&(""===ze[0]?ze[0]=ge.host:ze.unshift(ge.host)),ge.host=null),Be=Be&&(""===ze[0]||""===Pe[0])),xe)j.host=ge.host||""===ge.host?ge.host:j.host,j.hostname=ge.hostname||""===ge.hostname?ge.hostname:j.hostname,j.search=ge.search,j.query=ge.query,Pe=ze;else if(ze.length)Pe||(Pe=[]),Pe.pop(),Pe=Pe.concat(ze),j.search=ge.search,j.query=ge.query;else if(!he.isNullOrUndefined(ge.search))return Ze&&(j.hostname=j.host=Pe.shift(),(Ae=!!(j.host&&j.host.indexOf("@")>0)&&j.host.split("@"))&&(j.auth=Ae.shift(),j.host=j.hostname=Ae.shift())),j.search=ge.search,j.query=ge.query,(!he.isNull(j.pathname)||!he.isNull(j.search))&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.href=j.format(),j;if(!Pe.length)return j.pathname=null,j.path=j.search?"/"+j.search:null,j.href=j.format(),j;for(var Re=Pe.slice(-1)[0],at=(j.host||ge.host||Pe.length>1)&&("."===Re||".."===Re)||""===Re,Pt=0,St=Pe.length;St>=0;St--)"."===(Re=Pe[St])?Pe.splice(St,1):".."===Re?(Pe.splice(St,1),Pt++):Pt&&(Pe.splice(St,1),Pt--);if(!Be&&!we)for(;Pt--;Pt)Pe.unshift("..");Be&&""!==Pe[0]&&(!Pe[0]||"/"!==Pe[0].charAt(0))&&Pe.unshift(""),at&&"/"!==Pe.join("/").substr(-1)&&Pe.push("");var Ae,Ot=""===Pe[0]||Pe[0]&&"/"===Pe[0].charAt(0);return Ze&&(j.hostname=j.host=Ot?"":Pe.length?Pe.shift():"",(Ae=!!(j.host&&j.host.indexOf("@")>0)&&j.host.split("@"))&&(j.auth=Ae.shift(),j.host=j.hostname=Ae.shift())),(Be=Be||j.host&&Pe.length)&&!Ot&&Pe.unshift(""),Pe.length?j.pathname=Pe.join("/"):(j.pathname=null,j.path=null),(!he.isNull(j.pathname)||!he.isNull(j.search))&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.auth=ge.auth||j.auth,j.slashes=j.slashes||ge.slashes,j.href=j.format(),j},me.prototype.parseHost=function(){var ge=this.host,st=ae.exec(ge);st&&(":"!==(st=st[0])&&(this.port=st.substr(1)),ge=ge.substr(0,ge.length-st.length)),ge&&(this.hostname=ge)}},796:He=>{"use strict";He.exports={isString:function(pe){return"string"==typeof pe},isObject:function(pe){return"object"==typeof pe&&null!==pe},isNull:function(pe){return null===pe},isNullOrUndefined:function(pe){return null==pe}}},655:(He,pe,B)=>{"use strict";function te(j,G,ne,de){return new(ne||(ne=Promise))(function(Y,O){function k(se){try{oe(de.next(se))}catch(z){O(z)}}function H(se){try{oe(de.throw(se))}catch(z){O(z)}}function oe(se){se.done?Y(se.value):function(Y){return Y instanceof ne?Y:new ne(function(O){O(Y)})}(se.value).then(k,H)}oe((de=de.apply(j,G||[])).next())})}B.d(pe,{mG:()=>te})},2096:(He,pe,B)=>{"use strict";B.d(pe,{deG:()=>xc,tb:()=>Mm,AFp:()=>Im,ip1:()=>xd,CZH:()=>hc,hGG:()=>Mw,z2F:()=>gh,sBO:()=>ow,Sil:()=>Sd,_Vd:()=>uh,EJc:()=>Rm,SBq:()=>lh,qLn:()=>mo,vpe:()=>Bs,tBr:()=>Ts,XFs:()=>ht,OlP:()=>qt,zs3:()=>Si,ZZ4:()=>of,aQg:()=>af,soG:()=>rf,YKP:()=>Vv,h0i:()=>uc,PXZ:()=>JE,R0b:()=>ui,FiY:()=>Hr,Lbi:()=>Pm,g9A:()=>Am,Qsj:()=>Rb,FYo:()=>Bv,JOm:()=>hr,tp0:()=>dt,Rgc:()=>dh,dDg:()=>Lm,GfV:()=>Uv,s_b:()=>Jh,ifc:()=>Lt,eFA:()=>Um,G48:()=>sw,_c5:()=>Tw,VLi:()=>qE,c2e:()=>Om,zSh:()=>Lf,wAp:()=>it,vHH:()=>ge,cg1:()=>nd,kL8:()=>uv,dqk:()=>Bt,sIi:()=>eh,CqO:()=>dg,QGY:()=>Kf,F4k:()=>fg,RDi:()=>Rr,AaK:()=>ce,TTD:()=>Xa,_Bn:()=>Nv,xp6:()=>_f,uIk:()=>Gf,Suo:()=>om,Xpm:()=>Ba,lG2:()=>Hs,Yz7:()=>It,cJS:()=>kt,oAB:()=>Ir,Yjl:()=>Xt,Y36:()=>nh,_UZ:()=>ug,qZA:()=>Zf,TgZ:()=>qf,EpF:()=>hg,LFG:()=>Zt,$8M:()=>Br,$Z:()=>og,NdJ:()=>Qf,CRH:()=>am,kcU:()=>gl,O4$:()=>Dc,ALo:()=>Kv,xi3:()=>Qv,iGM:()=>im,MAs:()=>qp,CHM:()=>No,LSH:()=>go,YNc:()=>Yp,W1O:()=>hm,_uU:()=>Hg,hij:()=>Xh,Gf:()=>sm});var E=B(2916),he=B(2866),me=B(9146),ee=B(3009),Q=B(5529),$=B(2654),te=B(1762);var X=B(4327);function J(){return new Q.xQ}function le(t){for(let n in t)if(t[n]===le)return n;throw Error("Could not find renamed property on target object.")}function ce(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ce).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Oe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ve=le({__forward_ref__:le});function je(t){return t.__forward_ref__=je,t.toString=function(){return ce(this())},t}function Le(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(Ve)&&t.__forward_ref__===je}(t)?t():t}class ge extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function O(t,n){const s=n?` in ${n}`:"";throw new ge("201",`No provider for ${ne(t)} found${s}`)}function Re(t,n){null==t&&function(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function It(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wn(t){return Ai(t,ts)||Ai(t,Pi)}function Ai(t,n){return t.hasOwnProperty(n)?t[n]:null}function Zu(t){return t&&(t.hasOwnProperty(La)||t.hasOwnProperty(ns))?t[La]:null}const ts=le({\u0275prov:le}),La=le({\u0275inj:le}),Pi=le({ngInjectableDef:le}),ns=le({ngInjectorDef:le});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let rn;function et(t){const n=rn;return rn=t,n}function To(t,n,s){const u=Wn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&ht.Optional?null:void 0!==n?n:void O(ce(t),"Injector")}function yn(t){return{toString:t}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),Lt=(()=>{return(t=Lt||(Lt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Lt;var t})();const mh="undefined"!=typeof globalThis&&globalThis,Rt="undefined"!=typeof window&&window,Ku="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=mh||"undefined"!=typeof global&&global||Rt||Ku,nr={},Mt=[],Bn=le({\u0275cmp:le}),rs=le({\u0275dir:le}),In=le({\u0275pipe:le}),Yn=le({\u0275mod:le}),hi=le({\u0275fac:le}),Co=le({__NG_ELEMENT_ID__:le});let Qu=0;function Ba(t){return yn(()=>{const s={},u={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,id:"c",styles:t.styles||Mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,g=t.features,y=t.pipes;return u.id+=Qu++,u.inputs=Ua(t.inputs,s),u.outputs=Ua(t.outputs),g&&g.forEach(b=>b(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(fc):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(is):null,u})}function fc(t){return ut(t)||function(t){return t[rs]||null}(t)}function is(t){return function(t){return t[In]||null}(t)}const Us={};function Ir(t){return yn(()=>{const n={type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Us[t.id]=t.type),n})}function Ua(t,n){if(null==t)return nr;const s={};for(const u in t)if(t.hasOwnProperty(u)){let c=t[u],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),s[c]=u,n&&(n[c]=g)}return s}const Hs=Ba;function Xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[Bn]||null}function Tn(t,n){const s=t[Yn]||null;if(!s&&!0===n)throw new Error(`Type ${ce(t)} does not have '\u0275mod' property.`);return s}function sn(t){return Array.isArray(t)&&"object"==typeof t[1]}function gr(t){return Array.isArray(t)&&!0===t[1]}function ir(t){return 0!=(8&t.flags)}function as(t){return 2==(2&t.flags)}function on(t){return 1==(1&t.flags)}function vr(t){return null!==t.template}function el(t){return 0!=(512&t[2])}function fi(t,n){return t.hasOwnProperty(hi)?t[hi]:null}class za{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Xa(){return ol}function ol(t){return t.type.prototype.ngOnChanges&&(t.setInput=uf),yc}function yc(){const t=al(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===nr)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function uf(t,n,s,u){const c=al(t)||function(t,n){return t[Kn]=n}(t,{previous:nr,current:null}),g=c.current||(c.current={}),y=c.previous,b=this.declaredInputs[s],D=y[b];g[b]=new za(D&&D.currentValue,n,y===nr),t[u]=n}Xa.ngInherit=!0;const Kn="__ngSimpleChanges__";function al(t){return t[Kn]||null}const ct="http://www.w3.org/2000/svg";let di;function Rr(t){di=t}function Qt(t){return!!t.listen}const gn={createRenderer:(t,n)=>void 0!==di?di:"undefined"!=typeof document?document:void 0};function an(t){for(;Array.isArray(t);)t=t[0];return t}function Pn(t,n){return an(n[t.index])}function Mo(t,n){return t.data[n]}function mr(t,n){return t[n]}function Un(t,n){const s=n[t];return sn(s)?s:s[0]}function Fr(t){return 4==(4&t[2])}function $s(t){return 128==(128&t[2])}function or(t,n){return null==n?null:t[n]}function Za(t){t[18]=0}function Oo(t,n){t[5]+=n;let s=t,u=t[3];for(;null!==u&&(1===n&&1===s[5]||-1===n&&0===s[5]);)u[5]+=n,s=u,u=u[3]}const ot={lFrame:Uo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ls(){return ot.bindingsEnabled}function De(){return ot.lFrame.lView}function wt(){return ot.lFrame.tView}function No(t){return ot.lFrame.contextLView=t,t[8]}function un(){let t=Lo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Lo(){return ot.lFrame.currentTNode}function yr(t,n){const s=ot.lFrame;s.currentTNode=t,s.isParent=n}function Ni(){return ot.lFrame.isParent}function ko(){return ot.isInCheckNoChangesMode}function Li(t){ot.isInCheckNoChangesMode=t}function cs(){return ot.lFrame.bindingIndex++}function xh(t,n){const s=ot.lFrame;s.bindingIndex=s.bindingRootIndex=t,ki(n)}function ki(t){ot.lFrame.currentDirectiveIndex=t}function fl(){return ot.lFrame.currentQueryIndex}function dl(t){ot.lFrame.currentQueryIndex=t}function Sh(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function hs(t,n,s){if(s&ht.SkipSelf){let c=n,g=t;for(;!(c=c.parent,null!==c||s&ht.Host||(c=Sh(g),null===c||(g=g[15],10&c.type))););if(null===c)return!1;n=c,t=g}const u=ot.lFrame=pi();return u.currentTNode=n,u.lView=t,!0}function jn(t){const n=pi(),s=t[1];ot.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function pi(){const t=ot.lFrame,n=null===t?null:t.child;return null===n?Uo(t):n}function Uo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function fs(){const t=ot.lFrame;return ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ws=fs;function Ys(){const t=fs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mn(){return ot.lFrame.selectedIndex}function Bi(t){ot.lFrame.selectedIndex=t}function Dc(){ot.lFrame.currentNamespace=ct}function gl(){ot.lFrame.currentNamespace=null}function jo(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:D,ngAfterViewChecked:C,ngOnDestroy:M}=g;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),b&&((t.contentHooks||(t.contentHooks=[])).push(s,b),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,b)),D&&(t.viewHooks||(t.viewHooks=[])).push(-s,D),C&&((t.viewHooks||(t.viewHooks=[])).push(s,C),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,C)),null!=M&&(t.destroyHooks||(t.destroyHooks=[])).push(s,M)}}function Ho(t,n,s){Ui(t,n,3,s)}function Vo(t,n,s,u){(3&t[2])===s&&Ui(t,n,s,u)}function tu(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Ui(t,n,s,u){const g=null!=u?u:-1,y=n.length-1;let b=0;for(let D=void 0!==u?65535&t[18]:0;D<y;D++)if("number"==typeof n[D+1]){if(b=n[D],null!=u&&b>=u)break}else n[D]<0&&(t[18]+=65536),(b<g||-1==g)&&(Go(t,s,n,D),t[18]=(4294901760&t[18])+D+2),D++}function Go(t,n,s,u){const c=s[u]<0,g=s[u+1],b=t[c?-s[u]:s[u]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class qs{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Xo(t,n,s){const u=Qt(t);let c=0;for(;c<s.length;){const g=s[c];if("number"==typeof g){if(0!==g)break;c++;const y=s[c++],b=s[c++],D=s[c++];u?t.setAttribute(n,b,D,y):n.setAttributeNS(y,b,D)}else{const y=g,b=s[++c];Zs(y)?u&&t.setProperty(n,y,b):u?t.setAttribute(n,y,b):n.setAttribute(y,b),c++}}return c}function $o(t){return 3===t||4===t||6===t}function Zs(t){return 64===t.charCodeAt(0)}function vs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const c=n[u];"number"==typeof c?s=c:0===s||ru(t,s,c,null,-1===s||2===s?n[++u]:null)}}return t}function ru(t,n,s,u,c){let g=0,y=t.length;if(-1===n)y=-1;else for(;g<t.length;){const b=t[g++];if("number"==typeof b){if(b===n){y=-1;break}if(b>n){y=g-1;break}}}for(;g<t.length;){const b=t[g];if("number"==typeof b)break;if(b===s){if(null===u)return void(null!==c&&(t[g+1]=c));if(u===t[g+1])return void(t[g+2]=c)}g++,null!==u&&g++,null!==c&&g++}-1!==y&&(t.splice(y,0,n),g=y+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==c&&t.splice(g++,0,c)}function Wo(t){return-1!==t}function ji(t){return 32767&t}function Vi(t,n){let s=function(t){return t>>16}(t),u=n;for(;s>0;)u=u[15],s--;return u}let ms=!0;function Hn(t){const n=ms;return ms=t,n}let Ks=0;function ys(t,n){const s=Ht(t,n);if(-1!==s)return s;const u=n[1];u.firstCreatePass&&(t.injectorIndex=n.length,su(u.data,t),su(n,null),su(u.blueprint,null));const c=_s(t,n),g=t.injectorIndex;if(Wo(c)){const y=ji(c),b=Vi(c,n),D=b[1].data;for(let C=0;C<8;C++)n[g+C]=b[y+C]|D[y+C]}return n[g+8]=c,g}function su(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ht(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function _s(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,c=n;for(;null!==c;){const g=c[1],y=g.type;if(u=2===y?g.declTNode:1===y?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function lr(t,n,s){!function(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Co)&&(u=s[Co]),null==u&&(u=s[Co]=Ks++);const c=255&u;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function ml(t,n,s){if(s&ht.Optional)return t;O(n,"NodeInjector")}function Yr(t,n,s,u){if(s&ht.Optional&&void 0===u&&(u=null),0==(s&(ht.Self|ht.Host))){const c=t[9],g=et(void 0);try{return c?c.get(n,u,s&ht.Optional):To(n,u,s&ht.Optional)}finally{et(g)}}return ml(u,n,s)}function qo(t,n,s,u=ht.Default,c){if(null!==t){const g=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Co)?t[Co]:void 0;return"number"==typeof n?n>=0?255&n:Zo:n}(s);if("function"==typeof g){if(!hs(n,t,u))return u&ht.Host?ml(c,s,u):Yr(n,s,u,c);try{const y=g(u);if(null!=y||u&ht.Optional)return y;O(s)}finally{Ws()}}else if("number"==typeof g){let y=null,b=Ht(t,n),D=-1,C=u&ht.Host?n[16][6]:null;for((-1===b||u&ht.SkipSelf)&&(D=-1===b?_s(t,n):n[b+8],-1!==D&&kr(u,!1)?(y=n[1],b=ji(D),n=Vi(D,n)):b=-1);-1!==b;){const M=n[1];if(_l(g,b,M.data)){const N=yl(b,n,s,y,u,C);if(N!==ou)return N}D=n[b+8],-1!==D&&kr(u,n[1].data[b+8]===C)&&_l(g,b,n)?(y=M,b=ji(D),n=Vi(D,n)):b=-1}}}return Yr(n,s,u,c)}const ou={};function Zo(){return new wn(un(),De())}function yl(t,n,s,u,c,g){const y=n[1],b=y.data[t+8],M=Ko(b,y,s,null==u?as(b)&&ms:u!=y&&0!=(3&b.type),c&ht.Host&&g===b);return null!==M?Qs(n,y,M,b):ou}function Ko(t,n,s,u,c){const g=t.providerIndexes,y=n.data,b=1048575&g,D=t.directiveStart,M=g>>20,V=c?b+M:t.directiveEnd;for(let re=u?b:b+M;re<V;re++){const ve=y[re];if(re<D&&s===ve||re>=D&&ve.type===s)return re}if(c){const re=y[D];if(re&&vr(re)&&re.type===s)return D}return null}function Qs(t,n,s,u){let c=t[s];const g=n.data;if(function(t){return t instanceof qs}(c)){const y=c;y.resolving&&function(t,n){throw new ge("200",`Circular dependency in DI detected for ${t}`)}(ne(g[s]));const b=Hn(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?et(y.injectImpl):null;hs(t,u,ht.Default);try{c=t[s]=y.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function(t,n,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:g}=n.type.prototype;if(u){const y=ol(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g))}(s,g[s],n)}finally{null!==D&&et(D),Hn(b),y.resolving=!1,Ws()}}return c}function _l(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function kr(t,n){return!(t&ht.Self||t&ht.Host&&n)}class wn{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return qo(this._tNode,this._lView,n,u,s)}}function Br(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const g=s[c];if($o(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(g===n)return s[c+1];c+=2}}}return null}(un(),t)}const vi="__parameters__";function Es(t,n,s){return yn(()=>{const u=function(t){return function(...s){if(t){const u=t(...s);for(const c in u)this[c]=u[c]}}}(n);function c(...g){if(this instanceof c)return u.apply(this,g),this;const y=new c(...g);return b.annotation=y,b;function b(D,C,M){const N=D.hasOwnProperty(vi)?D[vi]:Object.defineProperty(D,vi,{value:[]})[vi];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(y),D}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class qt{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=It({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xc=new qt("AnalyzeForEntryComponents");function hn(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let u=t[s];Array.isArray(u)?(n===t&&(n=t.slice(0,s)),hn(u,n)):n!==t&&n.push(u)}return n}function Qn(t,n){t.forEach(s=>Array.isArray(s)?Qn(s,n):n(s))}function Qo(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Jo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const mi={},sa="__NG_DI_FLAG__",Kr="ngTempTokenPath",jr=/\n/gm,aa="__source",ua=le({provide:String,useValue:le});let ro;function vn(t){const n=ro;return ro=t,n}function br(t,n=ht.Default){if(void 0===ro)throw new Error("inject() must be called from an injection context");return null===ro?To(t,void 0,n):ro.get(t,n&ht.Optional?null:void 0,n)}function Zt(t,n=ht.Default){return(rn||br)(Le(t),n)}function yi(t){const n=[];for(let s=0;s<t.length;s++){const u=Le(t[s]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,g=ht.Default;for(let y=0;y<u.length;y++){const b=u[y],D=gu(b);"number"==typeof D?-1===D?c=b.token:g|=D:c=b}n.push(Zt(c,g))}else n.push(Zt(u))}return n}function la(t,n){return t[sa]=n,t.prototype[sa]=n,t}function gu(t){return t[sa]}const Ts=la(Es("Inject",t=>({token:t})),-1),Hr=la(Es("Optional"),8),dt=la(Es("SkipSelf"),4);class Gr{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Nc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function go(t){const n=function(){const t=De();return t&&t[12]}();return n?n.sanitize(fn.URL,t)||"":function(t,n){const s=function(t){return t instanceof Gr&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?function(t){return t instanceof Gr?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(Nc)||t.match(Yi)?t:"unsafe:"+t}(G(t))}const Da="__ngContext__";function Nn(t,n){t[Da]=n}function Rl(t){const n=function(t){return t[Da]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function ju(t){return t.ngOriginalError}function Ia(t,...n){t.error(...n)}class mo{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),u=(t=n)&&t.ngErrorLogger||Ia;var t;u(this._console,"ERROR",n),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&ju(n);for(;s&&ju(s);)s=ju(s);return s||null}}const Ll=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function ni(t){return t instanceof Function?t():t}var hr=(()=>((hr=hr||{})[hr.Important=1]="Important",hr[hr.DashCase=2]="DashCase",hr))();function zu(t,n){return undefined(t,n)}function Fe(t){const n=t[3];return gr(n)?n[3]:n}function jl(t){return i(t[13])}function a(t){return i(t[4])}function i(t){for(;null!==t&&!gr(t);)t=t[4];return t}function r(t,n,s,u,c){if(null!=u){let g,y=!1;gr(u)?g=u:sn(u)&&(y=!0,u=u[0]);const b=an(u);0===t&&null!==s?null==c?yt(n,s,b):ye(n,s,b,c||null,!0):1===t&&null!==s?ye(n,s,b,c||null,!0):2===t?function(t,n,s){const u=We(t,n);u&&function(t,n,s,u){Qt(t)?t.removeChild(n,s,u):n.removeChild(s)}(t,u,n,s)}(n,b,y):3===t&&n.destroyNode(b),null!=g&&function(t,n,s,u,c){const g=s[7];g!==an(s)&&r(n,t,u,g,c);for(let b=10;b<s.length;b++){const D=s[b];dr(D[1],D,t,n,u,g)}}(n,t,g,s,c)}}function m(t,n,s){return Qt(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function L(t,n){const s=t[9],u=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,Oo(c,-1)),s.splice(u,1)}function U(t,n){if(t.length<=10)return;const s=10+n,u=t[s];if(u){const c=u[17];null!==c&&c!==t&&L(c,u),n>0&&(t[s-1][4]=u[4]);const g=Jo(t,10+n);!function(t,n){dr(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(u[1],u);const y=g[19];null!==y&&y.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function W(t,n){if(!(256&n[2])){const s=n[11];Qt(s)&&s.destroyNode&&dr(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return fe(t[1],t);for(;n;){let s=null;if(sn(n))s=n[13];else{const u=n[10];u&&(s=u)}if(!s){for(;n&&!n[4]&&n!==t;)sn(n)&&fe(n[1],n),n=n[3];null===n&&(n=t),sn(n)&&fe(n[1],n),s=n&&n[4]}n=s}}(n)}}function fe(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const c=n[s[u]];if(!(c instanceof qs)){const g=s[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const b=c[g[y]],D=g[y+1];try{D.call(b)}finally{}}else try{g.call(c)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,u=n[7];let c=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const y=s[g+1],b="function"==typeof y?y(n):an(n[y]),D=u[c=s[g+2]],C=s[g+3];"boolean"==typeof C?b.removeEventListener(s[g],D,C):C>=0?u[c=C]():u[c=-C].unsubscribe(),g+=2}else{const y=u[c=s[g+1]];s[g].call(y)}if(null!==u){for(let g=c+1;g<u.length;g++)u[g]();n[7]=null}}(t,n),1===n[1].type&&Qt(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&gr(n[3])){s!==n[3]&&L(s,n);const u=n[19];null!==u&&u.detachView(t)}}}function Ge(t,n,s){return function(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[0];if(2&u.flags){const c=t.data[u.directiveStart].encapsulation;if(c===Lt.None||c===Lt.Emulated)return null}return Pn(u,s)}(t,n.parent,s)}function ye(t,n,s,u,c){Qt(t)?t.insertBefore(n,s,u,c):n.insertBefore(s,u,c)}function yt(t,n,s){Qt(t)?t.appendChild(n,s):n.appendChild(s)}function At(t,n,s,u,c){null!==u?ye(t,n,s,u,c):yt(t,n,s)}function We(t,n){return Qt(t)?t.parentNode(n):n.parentNode}let wi=function(t,n,s){return 40&t.type?Pn(t,s):null};function Ye(t,n,s,u){const c=Ge(t,u,n),g=n[11],b=function(t,n,s){return wi(t,n,s)}(u.parent||n[6],u,n);if(null!=c)if(Array.isArray(s))for(let D=0;D<s.length;D++)At(g,c,s[D],b,!1);else At(g,c,s,b,!1)}function ri(t,n){if(null!==n){const s=n.type;if(3&s)return Pn(n,t);if(4&s)return Ti(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return ri(t,u);{const c=t[n.index];return gr(c)?Ti(-1,c):an(c)}}if(32&s)return zu(n,t)()||an(t[n.index]);{const u=Di(t,n);return null!==u?Array.isArray(u)?u[0]:ri(Fe(t[16]),u):ri(t,n.next)}}return null}function Di(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Ti(t,n){const s=10+t+1;if(s<n.length){const u=n[s],c=u[1].firstChild;if(null!==c)return ri(u,c)}return n[7]}function fr(t,n,s,u,c,g,y){for(;null!=s;){const b=u[s.index],D=s.type;if(y&&0===n&&(b&&Nn(an(b),u),s.flags|=4),64!=(64&s.flags))if(8&D)fr(t,n,s.child,u,c,g,!1),r(n,t,c,b,g);else if(32&D){const C=zu(s,u);let M;for(;M=C();)r(n,t,c,M,g);r(n,t,c,b,g)}else 16&D?Zi(t,n,u,s,c,g):r(n,t,c,b,g);s=y?s.projectionNext:s.next}}function dr(t,n,s,u,c,g){fr(s,u,t.firstChild,n,c,g,!1)}function Zi(t,n,s,u,c,g){const y=s[16],D=y[6].projection[u.projection];if(Array.isArray(D))for(let C=0;C<D.length;C++)r(n,t,c,D[C],g);else fr(t,n,D,y[3],c,g,!0)}function si(t,n,s){Qt(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Dt(t,n,s){Qt(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Xn(t,n,s){let u=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const g=n.length;if(c+g===u||t.charCodeAt(c+g)<=32)return c}s=c+1}}const Et="ng-template";function zr(t,n,s){let u=0;for(;u<t.length;){let c=t[u++];if(s&&"class"===c){if(c=t[u],-1!==Xn(c.toLowerCase(),n,0))return!0}else if(1===c){for(;u<t.length&&"string"==typeof(c=t[u++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function Tr(t){return 4===t.type&&t.value!==Et}function Rs(t,n,s){return n===(4!==t.type||s?t.value:Et)}function Oa(t,n,s){let u=4;const c=t.attrs||[],g=function(t){for(let n=0;n<t.length;n++)if($o(t[n]))return n;return t.length}(c);let y=!1;for(let b=0;b<n.length;b++){const D=n[b];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!Rs(t,D,s)||""===D&&1===n.length){if($n(u))return!1;y=!0}}else{const C=8&u?D:n[++b];if(8&u&&null!==t.attrs){if(!zr(t.attrs,C,s)){if($n(u))return!1;y=!0}continue}const N=Ra(8&u?"class":D,c,Tr(t),s);if(-1===N){if($n(u))return!1;y=!0;continue}if(""!==C){let V;V=N>g?"":c[N+1].toLowerCase();const re=8&u?V:null;if(re&&-1!==Xn(re,C,0)||2&u&&C!==V){if($n(u))return!1;y=!0}}}}else{if(!y&&!$n(u)&&!$n(D))return!1;if(y&&$n(D))continue;y=!1,u=D|1&u}}return $n(u)||y}function $n(t){return 0==(1&t)}function Ra(t,n,s,u){if(null===n)return-1;let c=0;if(u||!s){let g=!1;for(;c<n.length;){const y=n[c];if(y===t)return c;if(3===y||6===y)g=!0;else{if(1===y||2===y){let b=n[++c];for(;"string"==typeof b;)b=n[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=g?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function Xu(t,n,s=!1){for(let u=0;u<n.length;u++)if(Oa(t,n[u],s))return!0;return!1}function kh(t,n){return t?":not("+n.trim()+")":n}function vf(t){let n=t[0],s=1,u=2,c="",g=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&u){const b=t[++s];c+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!$n(y)&&(n+=kh(g,c),c=""),u=y,g=g||!$n(u);s++}return""!==c&&(n+=kh(g,c)),n}const gt={};function _f(t){f(wt(),De(),Mn()+t,ko())}function f(t,n,s,u){if(!u)if(3==(3&n[2])){const g=t.preOrderCheckHooks;null!==g&&Ho(n,g,s)}else{const g=t.preOrderHooks;null!==g&&Vo(n,g,0,s)}Bi(s)}function Jd(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],g=s[u+1];if(-1!==g){const y=t.data[g];dl(c),y.contentQueries(2,n[g],g)}}}function Kc(t,n,s,u,c,g,y,b,D,C){const M=n.blueprint.slice();return M[0]=c,M[2]=140|u,Za(M),M[3]=M[15]=t,M[8]=s,M[10]=y||t&&t[10],M[11]=b||t&&t[11],M[12]=D||t&&t[12]||null,M[9]=C||t&&t[9]||null,M[6]=g,M[16]=2==n.type?t[16]:M,M}function Vl(t,n,s,u,c){let g=t.data[n];if(null===g)g=function(t,n,s,u,c){const g=Lo(),y=Ni(),D=t.data[n]=function(t,n,s,u,c,g){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,s,n,u,c);return null===t.firstChild&&(t.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(t,n,s,u,c),ot.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=u,g.attrs=c;const y=function(){const t=ot.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return yr(g,!0),g}function Gl(t,n,s,u){if(0===s)return-1;const c=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return c}function Qc(t,n,s){jn(n);try{const u=t.viewQuery;null!==u&&Ff(1,u,s);const c=t.template;null!==c&&ep(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jd(t,n),t.staticViewQueries&&Ff(2,t.viewQuery,s);const g=t.components;null!==g&&function(t,n){for(let s=0;s<n.length;s++)Ry(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[2]&=-5,Ys()}}function zl(t,n,s,u){const c=n[2];if(256==(256&c))return;jn(n);const g=ko();try{Za(n),function(t){ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&ep(t,n,s,2,u);const y=3==(3&c);if(!g)if(y){const C=t.preOrderCheckHooks;null!==C&&Ho(n,C,null)}else{const C=t.preOrderHooks;null!==C&&Vo(n,C,0,null),tu(n,0)}if(function(t){for(let n=jl(t);null!==n;n=a(n)){if(!n[2])continue;const s=n[9];for(let u=0;u<s.length;u++){const c=s[u],g=c[3];0==(1024&c[2])&&Oo(g,1),c[2]|=1024}}}(n),function(t){for(let n=jl(t);null!==n;n=a(n))for(let s=10;s<n.length;s++){const u=n[s],c=u[1];$s(u)&&zl(c,u,c.template,u[8])}}(n),null!==t.contentQueries&&Jd(t,n),!g)if(y){const C=t.contentCheckHooks;null!==C&&Ho(n,C)}else{const C=t.contentHooks;null!==C&&Vo(n,C,1),tu(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)Bi(~c);else{const g=c,y=s[++u],b=s[++u];xh(y,g),b(2,n[g])}}}finally{Bi(-1)}}(t,n);const b=t.components;null!==b&&function(t,n){for(let s=0;s<n.length;s++)Oy(t,n[s])}(n,b);const D=t.viewQuery;if(null!==D&&Ff(2,D,u),!g)if(y){const C=t.viewCheckHooks;null!==C&&Ho(n,C)}else{const C=t.viewHooks;null!==C&&Vo(n,C,2),tu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),g||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Oo(n[3],-1))}finally{Ys()}}function dy(t,n,s,u){const c=n[10],g=!ko(),y=Fr(n);try{g&&!y&&c.begin&&c.begin(),y&&Qc(t,n,u),zl(t,n,s,u)}finally{g&&!y&&c.end&&c.end()}}function ep(t,n,s,u,c){const g=Mn(),y=2&u;try{Bi(-1),y&&n.length>20&&f(t,n,20,ko()),s(u,c)}finally{Bi(g)}}function Cf(t,n,s){!ls()||(function(t,n,s,u){const c=s.directiveStart,g=s.directiveEnd;t.firstCreatePass||ys(s,n),Nn(u,n);const y=s.initialInputs;for(let b=c;b<g;b++){const D=t.data[b],C=vr(D);C&&Sy(n,s,D);const M=Qs(n,t,b,s);Nn(M,n),null!==y&&Iy(0,b-c,M,D,0,y),C&&(Un(s.index,n)[8]=M)}}(t,n,s,Pn(s,n)),128==(128&s.flags)&&function(t,n,s){const u=s.directiveStart,c=s.directiveEnd,y=s.index,b=ot.lFrame.currentDirectiveIndex;try{Bi(y);for(let D=u;D<c;D++){const C=t.data[D],M=n[D];ki(D),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&lp(C,M)}}finally{Bi(-1),ki(b)}}(t,n,s))}function Sf(t,n,s=Pn){const u=n.localNames;if(null!==u){let c=n.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],b=-1===y?s(n,t):t[y];t[c++]=b}}}function np(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Bh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Bh(t,n,s,u,c,g,y,b,D,C){const M=20+u,N=M+c,V=function(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:gt);return s}(M,N),re="function"==typeof C?C():C;return V[1]={type:t,blueprint:V,template:s,queries:null,viewQuery:b,declTNode:n,data:V.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:re,incompleteFirstPass:!1}}function sp(t,n,s,u){const c=gp(n);null===s?c.push(u):(c.push(s),t.firstCreatePass&&vp(t).push(u,c.length-1))}function op(t,n,s){for(let u in t)if(t.hasOwnProperty(u)){const c=t[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(n,c):s[u]=[n,c]}return s}function If(t,n,s,u){let c=!1;if(ls()){const g=function(t,n,s){const u=t.directiveRegistry;let c=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];Xu(s,y.selectors,!1)&&(c||(c=[]),lr(ys(s,n),t,y.type),vr(y)?(cp(t,s),c.unshift(y)):c.push(y))}return c}(t,n,s),y=null===u?null:{"":-1};if(null!==g){c=!0,hp(s,t.data.length,g.length);for(let M=0;M<g.length;M++){const N=g[M];N.providersResolver&&N.providersResolver(N)}let b=!1,D=!1,C=Gl(t,n,g.length,null);for(let M=0;M<g.length;M++){const N=g[M];s.mergedAttrs=vs(s.mergedAttrs,N.hostAttrs),fp(t,s,n,C,N),Cy(C,N,y),null!==N.contentQueries&&(s.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=128);const V=N.type.prototype;!b&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),b=!0),!D&&(V.ngOnChanges||V.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),D=!0),C++}!function(t,n){const u=n.directiveEnd,c=t.data,g=n.attrs,y=[];let b=null,D=null;for(let C=n.directiveStart;C<u;C++){const M=c[C],N=M.inputs,V=null===g||Tr(n)?null:Ay(N,g);y.push(V),b=op(N,C,b),D=op(M.outputs,C,D)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=16),b.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=y,n.inputs=b,n.outputs=D}(t,s)}y&&function(t,n,s){if(n){const u=t.localNames=[];for(let c=0;c<n.length;c+=2){const g=s[n[c+1]];if(null==g)throw new ge("301",`Export of name '${n[c+1]}' not found!`);u.push(n[c],g)}}}(s,u,y)}return s.mergedAttrs=vs(s.mergedAttrs,s.attrs),c}function up(t,n,s,u,c,g){const y=g.hostBindings;if(y){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const D=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(b)!=D&&b.push(D),b.push(u,c,y)}}function lp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function cp(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Cy(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;vr(n)&&(s[""]=t)}}function hp(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function fp(t,n,s,u,c){t.data[u]=c;const g=c.factory||(c.factory=fi(c.type)),y=new qs(g,vr(c),null);t.blueprint[u]=y,s[u]=y,up(t,n,0,u,Gl(t,s,c.hostVars,gt),c)}function Sy(t,n,s){const u=Pn(n,t),c=np(s),g=t[10],y=Uh(t,Kc(t,c,null,s.onPush?64:16,u,n,g,g.createRenderer(u,s),null,null));t[n.index]=y}function Fs(t,n,s,u,c,g){const y=Pn(t,n);!function(t,n,s,u,c,g,y){if(null==g)Qt(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const b=null==y?G(g):y(g,u||"",c);Qt(t)?t.setAttribute(n,c,b,s):s?n.setAttributeNS(s,c,b):n.setAttribute(c,b)}}(n[11],y,g,t.value,s,u,c)}function Iy(t,n,s,u,c,g){const y=g[n];if(null!==y){const b=u.setInput;for(let D=0;D<y.length;){const C=y[D++],M=y[D++],N=y[D++];null!==b?u.setInput(s,N,C,M):s[M]=N}}}function Ay(t,n){let s=null,u=0;for(;u<n.length;){const c=n[u];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[u+1])),u+=2}else u+=2;else u+=4}return s}function dp(t,n,s,u){return new Array(t,!0,!1,n,null,0,u,s,null,null)}function Oy(t,n){const s=Un(n,t);if($s(s)){const u=s[1];80&s[2]?zl(u,s,u.template,s[8]):s[5]>0&&Pf(s)}}function Pf(t){for(let u=jl(t);null!==u;u=a(u))for(let c=10;c<u.length;c++){const g=u[c];if(1024&g[2]){const y=g[1];zl(y,g,y.template,g[8])}else g[5]>0&&Pf(g)}const s=t[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=Un(s[u],t);$s(c)&&c[5]>0&&Pf(c)}}function Ry(t,n){const s=Un(n,t),u=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(u,s),Qc(u,s,s[8])}function Uh(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Mf(t){for(;t;){t[2]|=64;const n=Fe(t);if(el(t)&&!n)return t;t=n}return null}function Rf(t,n,s){const u=n[10];u.begin&&u.begin();try{zl(t,n,t.template,s)}catch(c){throw yp(n,c),c}finally{u.end&&u.end()}}function pp(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],u=Rl(s),c=u[1];dy(c,u,c.template,s)}}(t[8])}function Ff(t,n,s){dl(0),n(t,s)}const By=(()=>Promise.resolve(null))();function gp(t){return t[7]||(t[7]=[])}function vp(t){return t.cleanup||(t.cleanup=[])}function yp(t,n){const s=t[9],u=s?s.get(mo,null):null;u&&u.handleError(n)}function wo(t,n,s){const u=function(t,n){return an(n[t])}(n,t);!function(t,n,s){Qt(t)?t.setValue(n,s):n.textContent=s}(t[11],u,s)}function jh(t,n,s){let u=s?t.styles:null,c=s?t.classes:null,g=0;if(null!==n)for(let y=0;y<n.length;y++){const b=n[y];"number"==typeof b?g=b:1==g?c=Oe(c,b):2==g&&(u=Oe(u,b+": "+n[++y]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=c:t.classesWithoutHost=c}const Nf=new qt("INJECTOR",-1);class bp{get(n,s=mi){if(s===mi){const u=new Error(`NullInjectorError: No provider for ${ce(n)}!`);throw u.name="NullInjectorError",u}return s}}const Lf=new qt("Set Injector scope."),Jc={},Hy={};let kf;function Ep(){return void 0===kf&&(kf=new bp),kf}function wp(t,n=null,s=null,u){const c=Dp(t,n,s,u);return c._resolveInjectorDefTypes(),c}function Dp(t,n=null,s=null,u){return new Vy(t,s,n||Ep(),u)}class Vy{constructor(n,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];s&&Qn(s,b=>this.processProvider(b,n,s)),Qn([n],b=>this.processInjectorType(b,[],g)),this.records.set(Nf,Xl(void 0,this));const y=this.records.get(Lf);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof n?null:ce(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=mi,u=ht.Default){this.assertNotDestroyed();const c=vn(this),g=et(void 0);try{if(!(u&ht.SkipSelf)){let b=this.records.get(n);if(void 0===b){const D=("function"==typeof(t=n)||"object"==typeof t&&t instanceof qt)&&Wn(n);b=D&&this.injectableDefInScope(D)?Xl(Bf(n),Jc):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(u&ht.Self?Ep():this.parent).get(n,s=u&ht.Optional&&s===mi?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Kr]=y[Kr]||[]).unshift(ce(n)),c)throw y;return function(t,n,s,u){const c=t[Kr];throw n[aa]&&c.unshift(n[aa]),t.message=function(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=ce(n);if(Array.isArray(n))c=n.map(ce).join(" -> ");else if("object"==typeof n){let g=[];for(let y in n)if(n.hasOwnProperty(y)){let b=n[y];g.push(y+":"+("string"==typeof b?JSON.stringify(b):ce(b)))}c=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${t.replace(jr,"\n  ")}`}("\n"+t.message,c,s,u),t.ngTokenPath=c,t[Kr]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{et(g),vn(c)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((u,c)=>n.push(ce(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,u){if(!(n=Le(n)))return!1;let c=Zu(n);const g=null==c&&n.ngModule||void 0,y=void 0===g?n:g,b=-1!==u.indexOf(y);if(void 0!==g&&(c=Zu(g)),null==c)return!1;if(null!=c.imports&&!b){let M;u.push(y);try{Qn(c.imports,N=>{this.processInjectorType(N,s,u)&&(void 0===M&&(M=[]),M.push(N))})}finally{}if(void 0!==M)for(let N=0;N<M.length;N++){const{ngModule:V,providers:re}=M[N];Qn(re,ve=>this.processProvider(ve,V,re||Mt))}}this.injectorDefTypes.add(y);const D=fi(y)||(()=>new y);this.records.set(y,Xl(D,Jc));const C=c.providers;if(null!=C&&!b){const M=n;Qn(C,N=>this.processProvider(N,M,C))}return void 0!==g&&void 0!==n.providers}processProvider(n,s,u){let c=$l(n=Le(n))?n:Le(n&&n.provide);const g=(t=n,xp(t)?Xl(void 0,t.useValue):Xl(Tp(t),Jc));var t;if($l(n)||!0!==n.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=Xl(void 0,Jc,!0),y.factory=()=>yi(y.multi),this.records.set(c,y)),c=n,y.multi.push(n)}this.records.set(c,g)}hydrate(n,s){return s.value===Jc&&(s.value=Hy,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Le(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Bf(t){const n=Wn(t),s=null!==n?n.factory:fi(t);if(null!==s)return s;if(t instanceof qt)throw new Error(`Token ${ce(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const u=function(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?");throw new Error(`Can't resolve all parameters for ${ce(t)}: (${u.join(", ")}).`)}const s=function(t){const n=t&&(t[ts]||t[Pi]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function Tp(t,n,s){let u;if($l(t)){const c=Le(t);return fi(c)||Bf(c)}if(xp(t))u=()=>Le(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...yi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))u=()=>Zt(Le(t.useExisting));else{const c=Le(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return fi(c)||Bf(c);u=()=>new c(...yi(t.deps))}return u}function Xl(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function xp(t){return null!==t&&"object"==typeof t&&ua in t}function $l(t){return"function"==typeof t}let Si=(()=>{class t{static create(s,u){var c;if(Array.isArray(s))return wp({name:""},u,s,"");{const g=null!==(c=s.name)&&void 0!==c?c:"";return wp({name:g},s.parent,s.providers,g)}}}return t.THROW_IF_NOT_FOUND=mi,t.NULL=new bp,t.\u0275prov=It({token:t,providedIn:"any",factory:()=>Zt(Nf)}),t.__NG_ELEMENT_ID__=-1,t})();function i_(t,n){jo(Rl(t)[1],un())}let Hh=null;function Wl(){if(!Hh){const t=Bt.Symbol;if(t&&t.iterator)Hh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const u=n[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Hh=u)}}}return Hh}function eh(t){return!!Vf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Wl()in t)}function Vf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function pr(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Gf(t,n,s,u){const c=De();return pr(c,cs(),n)&&(wt(),Fs(function(){const t=ot.lFrame;return Mo(t.tView,t.selectedIndex)}(),c,t,n,s,u)),Gf}function Yp(t,n,s,u,c,g,y,b){const D=De(),C=wt(),M=t+20,N=C.firstCreatePass?function(t,n,s,u,c,g,y,b,D){const C=n.consts,M=Vl(n,t,4,y||null,or(C,b));If(n,s,M,or(C,D)),jo(n,M);const N=M.tViews=Bh(2,M,u,c,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,C);return null!==n.queries&&(n.queries.template(n,M),N.queries=n.queries.embeddedTView(M)),M}(M,C,D,n,s,u,c,g,y):C.data[M];yr(N,!1);const V=D[11].createComment("");Ye(C,D,V,N),Nn(V,D),Uh(D,D[M]=dp(V,D,V,N)),on(N)&&Cf(C,D,N),null!=y&&Sf(D,N,b)}function qp(t){return mr(ot.lFrame.contextLView,20+t)}function nh(t,n=ht.Default){const s=De();return null===s?Zt(t,n):qo(un(),s,Le(t),n)}function og(){throw new Error("invalid")}function Yf(t,n,s,u,c){const y=c?"class":"style";!function(t,n,s,u,c){for(let g=0;g<s.length;){const y=s[g++],b=s[g++],D=n[y],C=t.data[y];null!==C.setInput?C.setInput(D,c,u,b):D[b]=c}}(t,s,n.inputs[y],y,u)}function qf(t,n,s,u){const c=De(),g=wt(),y=20+t,b=c[11],D=c[y]=m(b,n,ot.lFrame.currentNamespace),C=g.firstCreatePass?function(t,n,s,u,c,g,y){const b=n.consts,C=Vl(n,t,2,c,or(b,g));return If(n,s,C,or(b,y)),null!==C.attrs&&jh(C,C.attrs,!1),null!==C.mergedAttrs&&jh(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(y,g,c,0,n,s,u):g.data[y];yr(C,!0);const M=C.mergedAttrs;null!==M&&Xo(b,D,M);const N=C.classes;null!==N&&Dt(b,D,N);const V=C.styles;null!==V&&si(b,D,V),64!=(64&C.flags)&&Ye(g,c,D,C),0===ot.lFrame.elementDepthCount&&Nn(D,c),ot.lFrame.elementDepthCount++,on(C)&&(Cf(g,c,C),function(t,n,s){if(ir(n)){const c=n.directiveEnd;for(let g=n.directiveStart;g<c;g++){const y=t.data[g];y.contentQueries&&y.contentQueries(1,s[g],g)}}}(g,C,c)),null!==u&&Sf(c,C)}function Zf(){let t=un();Ni()?ot.lFrame.isParent=!1:(t=t.parent,yr(t,!1));const n=t;ot.lFrame.elementDepthCount--;const s=wt();s.firstCreatePass&&(jo(s,t),ir(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Yf(s,n,De(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Yf(s,n,De(),n.stylesWithoutHost,!1)}function ug(t,n,s,u){qf(t,n,s,u),Zf()}function hg(){return De()}function Kf(t){return!!t&&"function"==typeof t.then}function fg(t){return!!t&&"function"==typeof t.subscribe}const dg=fg;function Qf(t,n,s,u){const c=De(),g=wt(),y=un();return function(t,n,s,u,c,g,y,b){const D=on(u),M=t.firstCreatePass&&vp(t),N=n[8],V=gp(n);let re=!0;if(3&u.type||b){const ke=Pn(u,n),$e=b?b(ke):ke,Ee=V.length,Qe=b?Tt=>b(an(Tt[u.index])):u.index;if(Qt(s)){let Tt=null;if(!b&&D&&(Tt=function(t,n,s,u){const c=t.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const y=c[g];if(y===s&&c[g+1]===u){const b=n[7],D=c[g+2];return b.length>D?b[D]:null}"string"==typeof y&&(g+=2)}return null}(t,n,c,u.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=g,Tt.__ngLastListenerFn__=g,re=!1;else{g=Jf(u,n,N,g,!1);const Vt=s.listen($e,c,g);V.push(g,Vt),M&&M.push(c,Qe,Ee,Ee+1)}}else g=Jf(u,n,N,g,!0),$e.addEventListener(c,g,y),V.push(g),M&&M.push(c,Qe,Ee,y)}else g=Jf(u,n,N,g,!1);const ve=u.outputs;let Ie;if(re&&null!==ve&&(Ie=ve[c])){const ke=Ie.length;if(ke)for(let $e=0;$e<ke;$e+=2){const li=n[Ie[$e]][Ie[$e+1]].subscribe(g),qu=V.length;V.push(g,li),M&&M.push(c,u.index,qu,-(qu+1))}}}(g,c,c[11],y,t,n,!!s,u),Qf}function vg(t,n,s,u){try{return!1!==s(u)}catch(c){return yp(t,c),!1}}function Jf(t,n,s,u,c){return function g(y){if(y===Function)return u;const b=2&t.flags?Un(t.index,n):n;0==(32&n[2])&&Mf(b);let D=vg(n,0,u,y),C=g.__ngNextListenerFn__;for(;C;)D=vg(n,0,C,y)&&D,C=C.__ngNextListenerFn__;return c&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Hg(t,n=""){const s=De(),u=wt(),c=t+20,g=u.firstCreatePass?Vl(u,c,1,n,null):u.data[c],y=s[c]=function(t,n){return Qt(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Ye(u,s,y,g),yr(g,!1)}function Xh(t,n,s){const u=De(),c=function(t,n,s,u){return pr(t,cs(),s)?n+G(s)+u:gt}(u,t,n,s);return c!==gt&&wo(u,Mn(),c),Xh}const Wu=void 0;var I0=["en",[["a","p"],["AM","PM"],Wu],[["AM","PM"],Wu,Wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wu,"{1} 'at' {0}",Wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let sc={};function nd(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=lv(n);if(s)return s;const u=n.split("-")[0];if(s=lv(u),s)return s;if("en"===u)return I0;throw new Error(`Missing locale data for the locale "${t}".`)}function uv(t){return nd(t)[it.PluralCase]}function lv(t){return t in sc||(sc[t]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[t]),sc[t]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const $h="en-US";let cv=$h;function sd(t,n,s,u,c){if(t=Le(t),Array.isArray(t))for(let g=0;g<t.length;g++)sd(t[g],n,s,u,c);else{const g=wt(),y=De();let b=$l(t)?t:Le(t.provide),D=Tp(t);const C=un(),M=1048575&C.providerIndexes,N=C.directiveStart,V=C.providerIndexes>>20;if($l(t)||!t.multi){const re=new qs(D,c,nh),ve=ad(b,n,c?M:M+V,N);-1===ve?(lr(ys(C,y),g,b),od(g,t,n.length),n.push(b),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),s.push(re),y.push(re)):(s[ve]=re,y[ve]=re)}else{const re=ad(b,n,M+V,N),ve=ad(b,n,M,M+V),Ie=re>=0&&s[re],ke=ve>=0&&s[ve];if(c&&!ke||!c&&!Ie){lr(ys(C,y),g,b);const $e=function(t,n,s,u,c){const g=new qs(t,s,nh);return g.multi=[],g.index=n,g.componentProviders=0,Fv(g,c,u&&!s),g}(c?Cb:xb,s.length,c,u,D);!c&&ke&&(s[ve].providerFactory=$e),od(g,t,n.length,0),n.push(b),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),s.push($e),y.push($e)}else od(g,t,re>-1?re:ve,Fv(s[c?ve:re],D,!c&&u));!c&&u&&ke&&s[ve].componentProviders++}}}function od(t,n,s,u){const c=$l(n),g=function(t){return!!t.useClass}(n);if(c||g){const D=(g?Le(n.useClass):n).prototype.ngOnDestroy;if(D){const C=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const M=C.indexOf(s);-1===M?C.push(s,[u,D]):C[M+1].push(u,D)}else C.push(s,D)}}}function Fv(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function ad(t,n,s,u){for(let c=s;c<u;c++)if(n[c]===t)return c;return-1}function xb(t,n,s,u){return ud(this.multi,[])}function Cb(t,n,s,u){const c=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Qs(s,s[1],this.providerFactory.index,u);g=b.slice(0,y),ud(c,g);for(let D=y;D<b.length;D++)g.push(b[D])}else g=[],ud(c,g);return g}function ud(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Nv(t,n=[]){return s=>{s.providersResolver=(u,c)=>function(t,n,s){const u=wt();if(u.firstCreatePass){const c=vr(t);sd(s,u.data,u.blueprint,c,!0),sd(n,u.data,u.blueprint,c,!1)}}(u,c?c(t):t,n)}}class Lv{}class Pb{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${ce(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let uh=(()=>{class t{}return t.NULL=new Pb,t})();function Mb(){return ac(un(),De())}function ac(t,n){return new lh(Pn(t,n))}let lh=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Mb,t})();function Ob(t){return t instanceof lh?t.nativeElement:t}class Bv{}let Rb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=De(),s=Un(un().index,t);return function(t){return t[11]}(sn(s)?s:t)}(),t})(),Lb=(()=>{class t{}return t.\u0275prov=It({token:t,providedIn:"root",factory:()=>null}),t})();class Uv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const kb=new Uv("13.1.1"),ld={};function Kh(t,n,s,u,c=!1){for(;null!==s;){const g=n[s.index];if(null!==g&&u.push(an(g)),gr(g))for(let b=10;b<g.length;b++){const D=g[b],C=D[1].firstChild;null!==C&&Kh(D[1],D,C,u)}const y=s.type;if(8&y)Kh(t,n,s.child,u);else if(32&y){const b=zu(s,n);let D;for(;D=b();)u.push(D)}else if(16&y){const b=Di(n,s);if(Array.isArray(b))u.push(...b);else{const D=Fe(n[16]);Kh(D[1],D,b,u,!0)}}s=c?s.projectionNext:s.next}return u}class ch{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Kh(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(gr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(U(n,u),Jo(s,u))}this._attachedToViewContainer=!1}W(this._lView[1],this._lView)}onDestroy(n){sp(this._lView[1],this._lView,null,n)}markForCheck(){Mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){Li(!0);try{Rf(t,n,s)}finally{Li(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,dr(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Bb extends ch{constructor(n){super(n),this._view=n}detectChanges(){pp(this._view)}checkNoChanges(){!function(t){Li(!0);try{pp(t)}finally{Li(!1)}}(this._view)}get context(){return null}}class jv extends uh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=ut(n);return new cd(s,this.ngModule)}}function Hv(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const jb=new qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ll});class cd extends Lv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(vf).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Hv(this.componentDef.inputs)}get outputs(){return Hv(this.componentDef.outputs)}create(n,s,u,c){const g=(c=c||this.ngModule)?function(t,n){return{get:(s,u,c)=>{const g=t.get(s,ld,c);return g!==ld||u===ld?g:n.get(s,u,c)}}}(n,c.injector):n,y=g.get(Bv,gn),b=g.get(Lb,null),D=y.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=u?function(t,n,s){if(Qt(t))return t.selectRootElement(n,s===Lt.ShadowDom);let u="string"==typeof n?t.querySelector(n):n;return u.textContent="",u}(D,u,this.componentDef.encapsulation):m(y.createRenderer(null,this.componentDef),C,function(t){const n=t.toLowerCase();return"svg"===n?ct:"math"===n?"http://www.w3.org/1998/MathML/":null}(C)),N=this.componentDef.onPush?576:528,V=function(t,n){return{components:[],scheduler:t||Ll,clean:By,playerHandler:n||null,flags:0}}(),re=Bh(0,null,null,1,0,null,null,null,null,null),ve=Kc(null,re,V,N,null,null,y,D,b,g);let Ie,ke;jn(ve);try{const $e=function(t,n,s,u,c,g){const y=s[1];s[20]=t;const D=Vl(y,20,2,"#host",null),C=D.mergedAttrs=n.hostAttrs;null!==C&&(jh(D,C,!0),null!==t&&(Xo(c,t,C),null!==D.classes&&Dt(c,t,D.classes),null!==D.styles&&si(c,t,D.styles)));const M=u.createRenderer(t,n),N=Kc(s,np(n),null,n.onPush?64:16,s[20],D,u,M,g||null,null);return y.firstCreatePass&&(lr(ys(D,s),y,n.type),cp(y,D),hp(D,s.length,1)),Uh(s,N),s[20]=N}(M,this.componentDef,ve,y,D);if(M)if(u)Xo(D,M,["ng-version",kb.full]);else{const{attrs:Ee,classes:Qe}=function(t){const n=[],s=[];let u=1,c=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===c?""!==g&&n.push(g,t[++u]):8===c&&s.push(g);else{if(!$n(c))break;c=g}u++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);Ee&&Xo(D,M,Ee),Qe&&Qe.length>0&&Dt(D,M,Qe.join(" "))}if(ke=Mo(re,20),void 0!==s){const Ee=ke.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const Tt=s[Qe];Ee.push(null!=Tt?Array.from(Tt):null)}}Ie=function(t,n,s,u,c){const g=s[1],y=function(t,n,s){const u=un();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),fp(t,u,n,Gl(t,n,1,null),s));const c=Qs(n,t,u.directiveStart,u);Nn(c,n);const g=Pn(u,n);return g&&Nn(g,n),c}(g,s,n);if(u.components.push(y),t[8]=y,c&&c.forEach(D=>D(y,n)),n.contentQueries){const D=un();n.contentQueries(1,y,D.directiveStart)}const b=un();return!g.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Bi(b.index),up(s[1],b,0,b.directiveStart,b.directiveEnd,n),lp(n,y)),y}($e,this.componentDef,ve,V,[i_]),Qc(re,ve,null)}finally{Ys()}return new Gb(this.componentType,Ie,ac(ke,ve),ve,ke)}}class Gb extends class{}{constructor(n,s,u,c,g){super(),this.location=u,this._rootLView=c,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new Bb(c),this.componentType=n}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class uc{}class Vv{}const lc=new Map;class Xv extends uc{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jv(this);const u=Tn(n);this._bootstrapComponents=ni(u.bootstrap),this._r3Injector=Dp(n,s,[{provide:uc,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],ce(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Si.THROW_IF_NOT_FOUND,u=ht.Default){return n===Si||n===uc||n===Nf?this:this._r3Injector.get(n,s,u)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class hd extends Vv{constructor(n){super(),this.moduleType=n,null!==Tn(n)&&function(t){const n=new Set;!function s(u){const c=Tn(u,!0),g=c.id;null!==g&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${ce(n)} vs ${ce(n.name)}`)}(g,lc.get(g),u),lc.set(g,u));const y=ni(c.imports);for(const b of y)n.has(b)||(n.add(b),s(b))}(t)}(n)}create(n){return new Xv(this.moduleType,n)}}function Wv(t,n,s,u,c,g,y){const b=n+s;return function(t,n,s,u){const c=pr(t,n,s);return pr(t,n+1,u)||c}(t,b,c,g)?function(t,n,s){return t[n]=s}(t,b+2,y?u.call(y,c,g):u(c,g)):function(t,n){const s=t[n];return s===gt?void 0:s}(t,b+2)}function Kv(t,n){const s=wt();let u;const c=t+20;s.firstCreatePass?(u=function(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[c]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,u.onDestroy)):u=s.data[c];const g=u.factory||(u.factory=fi(u.type)),y=et(nh);try{const b=Hn(!1),D=g();return Hn(b),function(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,De(),c,D),D}finally{et(y)}}function Qv(t,n,s,u){const c=t+20,g=De(),y=mr(g,c);return function(t,n){return t[1].data[n].pure}(g,c)?Wv(g,function(){const t=ot.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,y.transform,s,u,y):y.transform(s,u)}function fd(t){return n=>{setTimeout(t,void 0,n)}}const Bs=class extends Q.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){var c,g,y;let b=n,D=s||(()=>null),C=u;if(n&&"object"==typeof n){const N=n;b=null===(c=N.next)||void 0===c?void 0:c.bind(N),D=null===(g=N.error)||void 0===g?void 0:g.bind(N),C=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(D=fd(D),b&&(b=fd(b)),C&&(C=fd(C)));const M=super.subscribe({next:b,error:D,complete:C});return n instanceof $.w&&n.add(M),M}};function uE(){return this._results[Wl()]()}class dd{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Wl(),u=dd.prototype;u[s]||(u[s]=uE)}get changes(){return this._changes||(this._changes=new Bs)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const c=hn(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let c=t[u],g=n[u];if(s&&(c=s(c),g=s(g)),g!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let dh=(()=>{class t{}return t.__NG_ELEMENT_ID__=hE,t})();const lE=dh,cE=class extends lE{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(n){const s=this._declarationTContainer.tViews,u=Kc(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(s)),Qc(s,u,n),new ch(u)}};function hE(){return Qh(un(),De())}function Qh(t,n){return 4&t.type?new cE(n,t,ac(t,n)):null}let Jh=(()=>{class t{}return t.__NG_ELEMENT_ID__=fE,t})();function fE(){return tm(un(),De())}const dE=Jh,Jv=class extends dE{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const n=_s(this._hostTNode,this._hostLView);if(Wo(n)){const s=Vi(n,this._hostLView),u=ji(n);return new wn(s[1].data[u+8],s)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=em(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,u){const c=n.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(n,s,u,c,g){const y=n&&!("function"==typeof n);let b;if(y)b=s;else{const N=s||{};b=N.index,u=N.injector,c=N.projectableNodes,g=N.ngModuleRef}const D=y?n:new cd(ut(n)),C=u||this.parentInjector;if(!g&&null==D.ngModule&&C){const N=C.get(uc,null);N&&(g=N)}const M=D.create(C,c,void 0,g);return this.insert(M.hostView,b),M}insert(n,s){const u=n._lView,c=u[1];if(gr(u[3])){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const N=u[3],V=new Jv(N,N[6],N[3]);V.detach(V.indexOf(n))}}const g=this._adjustIndex(s),y=this._lContainer;!function(t,n,s,u){const c=10+u,g=s.length;u>0&&(s[c-1][4]=n),u<g-10?(n[4]=s[c],Qo(s,10+u,n)):(s.push(n),n[4]=null),n[3]=s;const y=n[17];null!==y&&s!==y&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(y,n);const b=n[19];null!==b&&b.insertView(t),n[2]|=128}(c,u,y,g);const b=Ti(g,y),D=u[11],C=We(D,y[7]);return null!==C&&function(t,n,s,u,c,g){u[0]=c,u[6]=n,dr(t,u,s,1,c,g)}(c,y[6],D,u,C,b),n.attachToViewContainerRef(),Qo(pd(y),g,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=em(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=U(this._lContainer,s);u&&(Jo(pd(this._lContainer),s),W(u[1],u))}detach(n){const s=this._adjustIndex(n,-1),u=U(this._lContainer,s);return u&&null!=Jo(pd(this._lContainer),s)?new ch(u):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function em(t){return t[8]}function pd(t){return t[8]||(t[8]=[])}function tm(t,n){let s;const u=n[t.index];if(gr(u))s=u;else{let c;if(8&t.type)c=an(u);else{const g=n[11];c=g.createComment("");const y=Pn(t,n);ye(g,We(g,y),c,function(t,n){return Qt(t)?t.nextSibling(n):n.nextSibling}(g,y),!1)}n[t.index]=s=dp(u,n,c,t),Uh(n,s)}return new Jv(s,t,n)}class gd{constructor(n){this.queryList=n,this.matches=null}clone(){return new gd(this.queryList)}setDirty(){this.queryList.setDirty()}}class vd{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let g=0;g<u;g++){const y=s.getByIndex(g);c.push(this.queries[y.indexInDeclarationView].clone())}return new vd(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==cm(n,s).matches&&this.queries[s].setDirty()}}class nm{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class md{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,c);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new md(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class yd{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new yd(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const g=u[c];this.matchTNodeWithReadOption(n,s,vE(s,g)),this.matchTNodeWithReadOption(n,s,Ko(s,n,g,!1,!1))}else u===dh?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Ko(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===lh||c===Jh||c===dh&&4&s.type)this.addMatch(s.index,-2);else{const g=Ko(s,n,c,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function vE(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yE(t,n,s,u){return-1===s?function(t,n){return 11&t.type?ac(t,n):4&t.type?Qh(t,n):null}(n,t):-2===s?function(t,n,s){return s===lh?ac(n,t):s===dh?Qh(n,t):s===Jh?tm(n,t):void 0}(t,n,u):Qs(t,t[1],s,n)}function rm(t,n,s,u){const c=n[19].queries[u];if(null===c.matches){const g=t.data,y=s.matches,b=[];for(let D=0;D<y.length;D+=2){const C=y[D];b.push(C<0?null:yE(n,g[C],y[D+1],s.metadata.read))}c.matches=b}return c.matches}function _d(t,n,s,u){const c=t.queries.getByIndex(s),g=c.matches;if(null!==g){const y=rm(t,n,c,s);for(let b=0;b<g.length;b+=2){const D=g[b];if(D>0)u.push(y[b/2]);else{const C=g[b+1],M=n[-D];for(let N=10;N<M.length;N++){const V=M[N];V[17]===V[3]&&_d(V[1],V,C,u)}if(null!==M[9]){const N=M[9];for(let V=0;V<N.length;V++){const re=N[V];_d(re[1],re,C,u)}}}}}return u}function im(t){const n=De(),s=wt(),u=fl();dl(u+1);const c=cm(s,u);if(t.dirty&&Fr(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const g=c.crossesNgTemplate?_d(s,n,u,[]):rm(s,n,c,u);t.reset(g,Ob),t.notifyOnChanges()}return!0}return!1}function sm(t,n,s){const u=wt();u.firstCreatePass&&(lm(u,new nm(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),um(u,De(),n)}function om(t,n,s,u){const c=wt();if(c.firstCreatePass){const g=un();lm(c,new nm(n,s,u),g.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}um(c,De(),s)}function am(){return t=De(),n=fl(),t[19].queries[n].queryList;var t,n}function um(t,n,s){const u=new dd(4==(4&s));sp(t,n,u,u.destroy),null===n[19]&&(n[19]=new vd),n[19].queries.push(new gd(u))}function lm(t,n,s){null===t.queries&&(t.queries=new md),t.queries.track(new yd(n,s))}function cm(t,n){return t.queries.getByIndex(n)}function hm(t,n){return Qh(t,n)}function nf(...t){}const xd=new qt("Application Initializer");let hc=(()=>{class t{constructor(s){this.appInits=s,this.resolve=nf,this.reject=nf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(Kf(g))s.push(g);else if(dg(g)){const y=new Promise((b,D)=>{g.subscribe({complete:b,error:D})});s.push(y)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Zt(xd,8))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();const Im=new qt("AppId"),UE={provide:Im,useFactory:function(){return`${Cd()}${Cd()}${Cd()}`},deps:[]};function Cd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Am=new qt("Platform Initializer"),Pm=new qt("Platform ID"),Mm=new qt("appBootstrapListener");let Om=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();const rf=new qt("LocaleId"),Rm=new qt("DefaultCurrencyCode");class jE{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Sd=(()=>{class t{compileModuleSync(s){return new hd(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=ni(Tn(s).declarations).reduce((y,b)=>{const D=ut(b);return D&&y.push(new cd(D)),y},[]);return new jE(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();const VE=(()=>Promise.resolve(0))();function Id(t){"undefined"==typeof Zone?VE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ui{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let t=Bt.requestAnimationFrame,n=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pd(t),t.isCheckStableRunning=!0,Ad(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,g,y,b)=>{try{return Fm(t),s.invokeTask(c,g,y,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),Nm(t)}},onInvoke:(s,u,c,g,y,b,D)=>{try{return Fm(t),s.invoke(c,g,y,b,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Nm(t)}},onHasTask:(s,u,c,g)=>{s.hasTask(c,g),u===c&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,Pd(t),Ad(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,c,g)=>(s.handleError(c,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ui.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ui.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,c){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+c,n,zE,nf,nf);try{return g.runTask(y,s,u)}finally{g.cancelTask(y)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const zE={};function Ad(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Fm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nm(t){t._nesting--,Ad(t)}class WE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,c){return n.apply(s,u)}}let Lm=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ui.assertNotInAngularZone(),Id(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Id(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(Zt(ui))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})(),km=(()=>{class t{constructor(){this._applications=new Map,Md.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Md.findTestabilityInTree(this,s,u)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();class YE{addToWindow(n){}findTestabilityInTree(n,s,u){return null}}function qE(t){Md=t}let es,Md=new YE;const Bm=new qt("AllowMultipleToken");class JE{constructor(n,s){this.name=n,this.token=s}}function Um(t,n,s=[]){const u=`Platform: ${n}`,c=new qt(u);return(g=[])=>{let y=jm();if(!y||y.injector.get(Bm,!1))if(t)t(s.concat(g).concat({provide:c,useValue:!0}));else{const b=s.concat(g).concat({provide:c,useValue:!0},{provide:Lf,useValue:"platform"});!function(t){if(es&&!es.destroyed&&!es.injector.get(Bm,!1))throw new ge("400","");es=t.get(Hm);const n=t.get(Am,null);n&&n.forEach(s=>s())}(Si.create({providers:b,name:u}))}return function(t){const n=jm();if(!n)throw new ge("401","");return n}()}}function jm(){return es&&!es.destroyed?es:null}let Hm=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const b=function(t,n){let s;return s="noop"===t?new WE:("zone.js"===t?void 0:t)||new ui({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:ui,useValue:b}];return b.run(()=>{const C=Si.create({providers:D,parent:this.injector,name:s.moduleType.name}),M=s.create(C),N=M.injector.get(mo,null);if(!N)throw new ge("402","");return b.runOutsideAngular(()=>{const V=b.onError.subscribe({next:re=>{N.handleError(re)}});M.onDestroy(()=>{Od(this._modules,M),V.unsubscribe()})}),function(t,n,s){try{const u=s();return Kf(u)?u.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(N,b,()=>{const V=M.injector.get(hc);return V.runInitializers(),V.donePromise.then(()=>(function(t){Re(t,"Expected localeId to be defined"),"string"==typeof t&&(cv=t.toLowerCase().replace(/_/g,"-"))}(M.injector.get(rf,$h)||$h),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,u=[]){const c=Vm({},u);return function(t,n,s){const u=new hd(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(s){const u=s.injector.get(gh);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ge("403","");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Zt(Si))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();function Vm(t,n){return Array.isArray(n)?n.reduce(Vm,t):Object.assign(Object.assign({},t),n)}let gh=(()=>{class t{constructor(s,u,c,g,y){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new E.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),D=new E.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{ui.assertNotInAngularZone(),Id(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),N.unsubscribe()}});this.isStable=function(...t){let n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return(0,he.K)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof E.y?t[0]:(0,me.J)(n)((0,ee.n)(t,s))}(b,D.pipe(t=>(0,X.x)()(function(t,n){return function(u){let c;c="function"==typeof t?t:function(){return t};const g=Object.create(u,te.N);return g.source=u,g.subjectFactory=c,g}}(J)(t))))}bootstrap(s,u){if(!this._initStatus.done)throw new ge("405","");let c;c=s instanceof Lv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const g=function(t){return t.isBoundToModule}(c)?void 0:this._injector.get(uc),b=c.create(Si.NULL,[],u||c.selector,g),D=b.location.nativeElement,C=b.injector.get(Lm,null),M=C&&b.injector.get(km);return C&&M&&M.registerApplication(D,C),b.onDestroy(()=>{this.detachView(b.hostView),Od(this.components,b),M&&M.unregisterApplication(D)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ge("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;Od(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Mm,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Zt(ui),Zt(Si),Zt(mo),Zt(uh),Zt(hc))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();function Od(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let zm=!0;function sw(){zm=!1}let ow=(()=>{class t{}return t.__NG_ELEMENT_ID__=aw,t})();function aw(t){return function(t,n,s){if(as(t)&&!s){const u=Un(t.index,n);return new ch(u,u)}return 47&t.type?new ch(n[16],n):null}(un(),De(),16==(16&t))}class Km{constructor(){}supports(n){return eh(n)}create(n){return new pw(n)}}const dw=(t,n)=>n;class pw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||dw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,c=0,g=null;for(;s||u;){const y=!u||s&&s.currentIndex<Jm(u,c,g)?s:u,b=Jm(y,c,g),D=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{g||(g=[]);const C=b-c,M=D-c;if(C!=M){for(let V=0;V<C;V++){const re=V<g.length?g[V]:g[V]=0,ve=re+V;M<=ve&&ve<C&&(g[V]=re+1)}g[y.previousIndex]=M-C}}b!==D&&n(y,b,D)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!eh(n))throw new Error(`Error trying to diff '${ce(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,g,y,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)g=n[b],y=this._trackByFn(b,g),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,g,y,b)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,y,b),u=!0),s=s._next}else c=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Wl()]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,b=>{y=this._trackByFn(c,b),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,b,y,c)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,y,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,c){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,c)):n=this._addAfter(new gw(s,u),g,c),n}_verifyReinsertion(n,s,u,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,g=n._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new Qm),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qm),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class gw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class Qm{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new vw,this.map.set(s,u)),u.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jm(t,n,s){const u=t.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+n+c}class ey{constructor(){}supports(n){return n instanceof Map||Vf(n)}create(){return new mw}}class mw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Vf(n)))throw new Error(`Error trying to diff '${ce(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const g=c._prev,y=c._next;return g&&(g._next=y),y&&(y._prev=g),c._next=null,c._prev=null,c}const u=new yw(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class yw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ty(){return new of([new Km])}let of=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||ty()),deps:[[t,new dt,new Hr]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=It({token:t,providedIn:"root",factory:ty}),t})();function ny(){return new af([new ey])}let af=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||ny()),deps:[[t,new dt,new Hr]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(u)return u;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=It({token:t,providedIn:"root",factory:ny}),t})();const bw=[new ey],ww=new of([new Km]),Dw=new af(bw),Tw=Um(null,"core",[{provide:Pm,useValue:"unknown"},{provide:Hm,deps:[Si]},{provide:km,deps:[]},{provide:Om,deps:[]}]),Aw=[{provide:gh,useClass:gh,deps:[ui,Si,mo,uh,hc]},{provide:jb,deps:[ui],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:hc,useClass:hc,deps:[[new Hr,xd]]},{provide:Sd,useClass:Sd,deps:[]},UE,{provide:of,useFactory:function(){return ww},deps:[]},{provide:af,useFactory:function(){return Dw},deps:[]},{provide:rf,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||$h},deps:[[new Ts(rf),new Hr,new dt]]},{provide:Rm,useValue:"USD"}];let Mw=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Zt(gh))},t.\u0275mod=Ir({type:t}),t.\u0275inj=kt({providers:Aw}),t})()}},He=>{He(He.s=8359)}]);